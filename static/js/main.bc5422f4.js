/*! For license information please see main.bc5422f4.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),a=n(7067),i=n(8585);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},7154:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e,t,n){var r=n(8).default;function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var r=n(9713);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,a=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9591:function(e,t,n){var r=n(8).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}t.wrap=d;var p={};function h(){}function m(){}function g(){}var v={};c(v,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==n&&i.call(b,s)&&(v=b);var x=g.prototype=h.prototype=Object.create(v);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,s,u){var l=f(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=g,c(x,"constructor",g),c(g,"constructor",m),m.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},A(w.prototype),c(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new w(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(x),c(x,l,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),a=n(3884),i=n(379),o=n(521);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),a=n(6860),i=n(379),o=n(8206);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){var r=n(9591)();e.exports=r;try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},7819:function(e,t,n){"use strict";n.r(t),n.d(t,{blue:function(){return S},cyan:function(){return k},geekblue:function(){return C},generate:function(){return f},gold:function(){return y},green:function(){return w},grey:function(){return T},lime:function(){return A},magenta:function(){return E},orange:function(){return b},presetDarkPalettes:function(){return m},presetPalettes:function(){return h},presetPrimaryColors:function(){return p},purple:function(){return I},red:function(){return g},volcano:function(){return v},yellow:function(){return x}});var r=n(2144),a=n(6144),i=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function o(e){var t=e.r,n=e.g,a=e.b,i=(0,r.py)(t,n,a);return{h:360*i.h,s:i.s,v:i.v}}function s(e){var t=e.r,n=e.g,a=e.b;return"#".concat((0,r.vq)(t,n,a,!1))}function u(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function l(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function c(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function d(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=(0,a.uA)(e),f=5;f>0;f-=1){var p=o(r),h=s((0,a.uA)({h:l(p,f,!0),s:c(p,f,!0),v:d(p,f,!0)}));n.push(h)}n.push(s(r));for(var m=1;m<=4;m+=1){var g=o(r),v=s((0,a.uA)({h:l(g,m),s:c(g,m),v:d(g,m)}));n.push(v)}return"dark"===t.theme?i.map((function(e){var r=e.index,i=e.opacity;return s(u((0,a.uA)(t.backgroundColor||"#141414"),(0,a.uA)(n[r]),100*i))})):n}var p={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},h={},m={};Object.keys(p).forEach((function(e){h[e]=f(p[e]),h[e].primary=h[e][5],m[e]=f(p[e],{theme:"dark",backgroundColor:"#141414"}),m[e].primary=m[e][5]}));var g=h.red,v=h.volcano,y=h.gold,b=h.orange,x=h.yellow,A=h.lime,w=h.green,k=h.cyan,S=h.blue,C=h.geekblue,I=h.purple,E=h.magenta,T=h.grey},8263:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"}},2528:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"}},8913:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM695.5 365.7l-210.6 292a31.8 31.8 0 01-51.7 0L308.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H689c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-square",theme:"filled"}},1025:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},6548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"}},6232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"}},8729:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M354 671h58.9c4.7 0 9.2-2.1 12.3-5.7L512 561.8l86.8 103.5c3 3.6 7.5 5.7 12.3 5.7H670c6.8 0 10.5-7.9 6.1-13.1L553.8 512l122.4-145.9c4.4-5.2.7-13.1-6.1-13.1h-58.9c-4.7 0-9.2 2.1-12.3 5.7L512 462.2l-86.8-103.5c-3-3.6-7.5-5.7-12.3-5.7H354c-6.8 0-10.5 7.9-6.1 13.1L470.2 512 347.9 657.9A7.95 7.95 0 00354 671z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"close-square",theme:"outlined"}},8381:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}},9916:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"}},4302:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"}},2179:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"}},6701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"}},7214:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"}},9862:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},3291:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(5155))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},3020:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(5008))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},6207:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(1851))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},2554:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(3942))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},7667:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(334))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},3571:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(2405))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1527:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(349))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},8413:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(3986))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},9851:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(728))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1485:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(2829))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},3305:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(4191))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},1324:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(2242))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},8491:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(8454))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},8442:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=n(2460))&&r.__esModule?r:{default:r};t.default=a,e.exports=a},7830:function(e,t,n){"use strict";var r=n(5318),a=n(862);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1109)),o=r(n(3038)),s=r(n(9713)),u=r(n(6479)),l=a(n(7313)),c=r(n(6123)),d=r(n(4573)),f=r(n(9063)),p=n(1468),h=n(9018),m=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,p.setTwoToneColor)("#1890ff");var g=l.forwardRef((function(e,t){var n,r=e.className,a=e.icon,p=e.spin,g=e.rotate,v=e.tabIndex,y=e.onClick,b=e.twoToneColor,x=(0,u.default)(e,m),A=l.useContext(d.default).prefixCls,w=void 0===A?"anticon":A,k=(0,c.default)(w,(n={},(0,s.default)(n,"".concat(w,"-").concat(a.name),!!a.name),(0,s.default)(n,"".concat(w,"-spin"),!!p||"loading"===a.name),n),r),S=v;void 0===S&&y&&(S=-1);var C=g?{msTransform:"rotate(".concat(g,"deg)"),transform:"rotate(".concat(g,"deg)")}:void 0,I=(0,h.normalizeTwoToneColors)(b),E=(0,o.default)(I,2),T=E[0],N=E[1];return l.createElement("span",(0,i.default)((0,i.default)({role:"img","aria-label":a.name},x),{},{ref:t,tabIndex:S,onClick:y,className:k}),l.createElement(f.default,{icon:a,primaryColor:T,secondaryColor:N,style:C}))}));g.displayName="AntdIcon",g.getTwoToneColor=p.getTwoToneColor,g.setTwoToneColor=p.setTwoToneColor;var v=g;t.default=v},4573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(7313).createContext)({});t.default=r},9063:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(6479)),i=r(n(1109)),o=n(9018),s=["icon","className","onClick","style","primaryColor","secondaryColor"],u={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var l=function(e){var t=e.icon,n=e.className,r=e.onClick,l=e.style,c=e.primaryColor,d=e.secondaryColor,f=(0,a.default)(e,s),p=u;if(c&&(p={primaryColor:c,secondaryColor:d||(0,o.getSecondaryColor)(c)}),(0,o.useInsertStyles)(),(0,o.warning)((0,o.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,o.isIconDefinition)(t))return null;var h=t;return h&&"function"===typeof h.icon&&(h=(0,i.default)((0,i.default)({},h),{},{icon:h.icon(p.primaryColor,p.secondaryColor)})),(0,o.generate)(h.icon,"svg-".concat(h.name),(0,i.default)({className:n,onClick:r,style:l,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},f))};l.displayName="IconReact",l.getTwoToneColors=function(){return(0,i.default)({},u)},l.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;u.primaryColor=t,u.secondaryColor=n||(0,o.getSecondaryColor)(t),u.calculated=!!n};var c=l;t.default=c},1468:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.setTwoToneColor=function(e){var t=(0,o.normalizeTwoToneColors)(e),n=(0,a.default)(t,2),r=n[0],s=n[1];return i.default.setTwoToneColors({primaryColor:r,secondaryColor:s})},t.getTwoToneColor=function(){var e=i.default.getTwoToneColors();if(!e.calculated)return e.primaryColor;return[e.primaryColor,e.secondaryColor]};var a=r(n(3038)),i=r(n(9063)),o=n(9018)},5155:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(8263)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CheckCircleFilled";var c=o.forwardRef(l);t.default=c},5008:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(2528)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CheckCircleOutlined";var c=o.forwardRef(l);t.default=c},1851:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(8913)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CheckSquareFilled";var c=o.forwardRef(l);t.default=c},3942:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(1025)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CloseCircleFilled";var c=o.forwardRef(l);t.default=c},334:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(6548)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CloseCircleOutlined";var c=o.forwardRef(l);t.default=c},2405:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(6232)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CloseOutlined";var c=o.forwardRef(l);t.default=c},349:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(8729)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="CloseSquareOutlined";var c=o.forwardRef(l);t.default=c},3986:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(8381)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="EllipsisOutlined";var c=o.forwardRef(l);t.default=c},728:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(9916)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="ExclamationCircleFilled";var c=o.forwardRef(l);t.default=c},2829:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(4302)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="ExclamationCircleOutlined";var c=o.forwardRef(l);t.default=c},4191:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(2179)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="InfoCircleFilled";var c=o.forwardRef(l);t.default=c},2242:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(6701)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="InfoCircleOutlined";var c=o.forwardRef(l);t.default=c},8454:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(7214)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="LoadingOutlined";var c=o.forwardRef(l);t.default=c},2460:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1109)),o=r(n(7313)),s=a(n(9862)),u=a(n(7830)),l=function(e,t){return o.createElement(u.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:s.default}))};l.displayName="PlusOutlined";var c=o.forwardRef(l);t.default=c},9018:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.warning=function(e,t){(0,l.default)(e,"[@ant-design/icons] ".concat(t))},t.isIconDefinition=function(e){return"object"===(0,o.default)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,o.default)(e.icon)||"function"===typeof e.icon)},t.normalizeAttrs=f,t.generate=function e(t,n,r){if(!r)return u.default.createElement(t.tag,(0,i.default)({key:n},f(t.attrs)),(t.children||[]).map((function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))})));return u.default.createElement(t.tag,(0,i.default)((0,i.default)({key:n},f(t.attrs)),r),(t.children||[]).map((function(r,a){return e(r,"".concat(n,"-").concat(t.tag,"-").concat(a))})))},t.getSecondaryColor=function(e){return(0,s.generate)(e)[0]},t.normalizeTwoToneColors=function(e){if(!e)return[];return Array.isArray(e)?e:[e]},t.useInsertStyles=t.iconStyles=t.svgBaseProps=void 0;var i=a(n(1109)),o=a(n(8)),s=n(7819),u=r(n(7313)),l=a(n(4287)),c=n(5824),d=a(n(4573));function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var p="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t.iconStyles=p;t.useInsertStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=(0,u.useContext)(d.default),n=t.csp;(0,u.useEffect)((function(){(0,c.updateCSS)(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}},2144:function(e,t,n){"use strict";n.d(t,{GC:function(){return f},T6:function(){return h},VD:function(){return m},WE:function(){return l},Wl:function(){return p},Yt:function(){return g},lC:function(){return i},py:function(){return u},rW:function(){return a},s:function(){return d},ve:function(){return s},vq:function(){return c}});var r=n(3777);function a(e,t,n){return{r:255*(0,r.sh)(e,255),g:255*(0,r.sh)(t,255),b:255*(0,r.sh)(n,255)}}function i(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var a=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,u=(a+i)/2;if(a===i)s=0,o=0;else{var l=a-i;switch(s=u>.5?l/(2-a-i):l/(a+i),a){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:s,l:u}}function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s(e,t,n){var a,i,s;if(e=(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100),0===t)i=n,s=n,a=n;else{var u=n<.5?n*(1+t):n+t-n*t,l=2*n-u;a=o(l,u,e+1/3),i=o(l,u,e),s=o(l,u,e-1/3)}return{r:255*a,g:255*i,b:255*s}}function u(e,t,n){e=(0,r.sh)(e,255),t=(0,r.sh)(t,255),n=(0,r.sh)(n,255);var a=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=a,u=a-i,l=0===a?0:u/a;if(a===i)o=0;else{switch(a){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:l,v:s}}function l(e,t,n){e=6*(0,r.sh)(e,360),t=(0,r.sh)(t,100),n=(0,r.sh)(n,100);var a=Math.floor(e),i=e-a,o=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),l=a%6;return{r:255*[n,s,o,o,u,n][l],g:255*[u,n,n,s,o,o][l],b:255*[o,o,u,n,n,s][l]}}function c(e,t,n,a){var i=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(e,t,n,a,i){var o=[(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16)),(0,r.FZ)(p(a))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function f(e,t,n,a){return[(0,r.FZ)(p(a)),(0,r.FZ)(Math.round(e).toString(16)),(0,r.FZ)(Math.round(t).toString(16)),(0,r.FZ)(Math.round(n).toString(16))].join("")}function p(e){return Math.round(255*parseFloat(e)).toString(16)}function h(e){return m(e)/255}function m(e){return parseInt(e,16)}function g(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}},4929:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},6144:function(e,t,n){"use strict";n.d(t,{ky:function(){return f},uA:function(){return o},uz:function(){return d}});var r=n(2144),a=n(4929),i=n(3777);function o(e){var t={r:0,g:0,b:0},n=1,a=null,o=null,s=null,u=!1,l=!1;return"string"===typeof e&&(e=d(e)),"object"===typeof e&&(f(e.r)&&f(e.g)&&f(e.b)?(t=(0,r.rW)(e.r,e.g,e.b),u=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):f(e.h)&&f(e.s)&&f(e.v)?(a=(0,i.JX)(e.s),o=(0,i.JX)(e.v),t=(0,r.WE)(e.h,a,o),u=!0,l="hsv"):f(e.h)&&f(e.s)&&f(e.l)&&(a=(0,i.JX)(e.s),s=(0,i.JX)(e.l),t=(0,r.ve)(e.h,a,s),u=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=(0,i.Yq)(n),{ok:u,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var s="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),u="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),l="[\\s|\\(]+(".concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")[,|\\s]+(").concat(s,")\\s*\\)?"),c={CSS_UNIT:new RegExp(s),rgb:new RegExp("rgb"+u),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+u),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+u),hsva:new RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function d(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(a.R[e])e=a.R[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=c.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=c.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=c.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=c.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=c.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=c.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=c.hex8.exec(e))?{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),a:(0,r.T6)(n[4]),format:t?"name":"hex8"}:(n=c.hex6.exec(e))?{r:(0,r.VD)(n[1]),g:(0,r.VD)(n[2]),b:(0,r.VD)(n[3]),format:t?"name":"hex"}:(n=c.hex4.exec(e))?{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),a:(0,r.T6)(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=c.hex3.exec(e))&&{r:(0,r.VD)(n[1]+n[1]),g:(0,r.VD)(n[2]+n[2]),b:(0,r.VD)(n[3]+n[3]),format:t?"name":"hex"}}function f(e){return Boolean(c.CSS_UNIT.exec(String(e)))}},8900:function(e,t,n){"use strict";n.r(t),n.d(t,{TinyColor:function(){return s},bounds:function(){return b},convertDecimalToHex:function(){return r.Wl},convertHexToDecimal:function(){return r.T6},default:function(){return x},fromRatio:function(){return p},hslToRgb:function(){return r.ve},hsvToRgb:function(){return r.WE},inputToRGB:function(){return i.uA},isReadable:function(){return c},isValidCSSUnit:function(){return i.ky},legacyRandom:function(){return h},mostReadable:function(){return d},names:function(){return a.R},numberInputToObject:function(){return r.Yt},parseIntFromHex:function(){return r.VD},random:function(){return m},readability:function(){return l},rgbToHex:function(){return r.vq},rgbToHsl:function(){return r.lC},rgbToHsv:function(){return r.py},rgbToRgb:function(){return r.rW},rgbaToArgbHex:function(){return r.GC},rgbaToHex:function(){return r.s},stringInputToObject:function(){return i.uz},tinycolor:function(){return u},toMsFilter:function(){return f}});var r=n(2144),a=n(4929),i=n(6144),o=n(3777),s=function(){function e(t,n){var a;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=(0,r.Yt)(t)),this.originalInput=t;var o=(0,i.uA)(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(a=n.format)&&void 0!==a?a:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=(0,o.Yq)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=(0,r.py)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=(0,r.py)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=(0,r.lC)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=(0,r.lC)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),a=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),(0,r.vq)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),(0,r.s)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*(0,o.sh)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*(0,o.sh)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+(0,r.vq)(this.r,this.g,this.b,!1),t=0,n=Object.entries(a.R);t<n.length;t++){var i=n[t],o=i[0];if(e===i[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=(0,o.V2)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=(0,o.V2)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=(0,o.V2)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=(0,o.V2)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),i=n/100;return new e({r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:a,v:i})),i=(i+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(r+o*i)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function u(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),new s(e,t)}function l(e,t){var n=new s(e),r=new s(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)}function c(e,t,n){var r,a;void 0===n&&(n={level:"AA",size:"small"});var i=l(e,t);switch((null!==(r=n.level)&&void 0!==r?r:"AA")+(null!==(a=n.size)&&void 0!==a?a:"small")){case"AAsmall":case"AAAlarge":return i>=4.5;case"AAlarge":return i>=3;case"AAAsmall":return i>=7;default:return!1}}function d(e,t,n){void 0===n&&(n={includeFallbackColors:!1,level:"AA",size:"small"});for(var r=null,a=0,i=n.includeFallbackColors,o=n.level,u=n.size,f=0,p=t;f<p.length;f++){var h=p[f],m=l(e,h);m>a&&(a=m,r=new s(h))}return c(e,r,{level:o,size:u})||!i?r:(n.includeFallbackColors=!1,d(e,["#fff","#000"],n))}function f(e,t){var n=new s(e),a="#"+(0,r.GC)(n.r,n.g,n.b,n.a),i=a,o=n.gradientType?"GradientType = 1, ":"";if(t){var u=new s(t);i="#"+(0,r.GC)(u.r,u.g,u.b,u.a)}return"progid:DXImageTransform.Microsoft.gradient(".concat(o,"startColorstr=").concat(a,",endColorstr=").concat(i,")")}function p(e,t){var n={r:(0,o.JX)(e.r),g:(0,o.JX)(e.g),b:(0,o.JX)(e.b)};return void 0!==e.a&&(n.a=Number(e.a)),new s(n,t)}function h(){return new s({r:Math.random(),g:Math.random(),b:Math.random()})}function m(e){if(void 0===e&&(e={}),void 0!==e.count&&null!==e.count){var t=e.count,n=[];for(e.count=void 0;t>n.length;)e.count=null,e.seed&&(e.seed+=1),n.push(m(e));return e.count=t,n}var r=function(e,t){var n=v(function(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if("string"===typeof e){var n=b.find((function(t){return t.name===e}));if(n){var r=y(n);if(r.hueRange)return r.hueRange}var a=new s(e);if(a.isValid){var i=a.toHsv().h;return[i,i]}}return[0,360]}(e),t);n<0&&(n=360+n);return n}(e.hue,e.seed),a=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return v([0,100],t.seed);var n=g(e).saturationRange,r=n[0],a=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=a-10;break;case"light":a=55}return v([r,a],t.seed)}(r,e),i=function(e,t,n){var r=function(e,t){for(var n=g(e).lowerBounds,r=0;r<n.length-1;r++){var a=n[r][0],i=n[r][1],o=n[r+1][0],s=n[r+1][1];if(t>=a&&t<=o){var u=(s-i)/(o-a);return u*t+(i-u*a)}}return 0}(e,t),a=100;switch(n.luminosity){case"dark":a=r+20;break;case"light":r=(a+r)/2;break;case"random":r=0,a=100}return v([r,a],n.seed)}(r,a,e),o={h:r,s:a,v:i};return void 0!==e.alpha&&(o.a=e.alpha),new s(o)}function g(e){e>=334&&e<=360&&(e-=360);for(var t=0,n=b;t<n.length;t++){var r=y(n[t]);if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return r}throw Error("Color not found")}function v(e,t){if(void 0===t)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var n=e[1]||1,r=e[0]||0,a=(t=(9301*t+49297)%233280)/233280;return Math.floor(r+a*(n-r))}function y(e){var t=e.lowerBounds[0][0],n=e.lowerBounds[e.lowerBounds.length-1][0],r=e.lowerBounds[e.lowerBounds.length-1][1],a=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,n],brightnessRange:[r,a]}}var b=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}],x=u},3777:function(e,t,n){"use strict";function r(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function a(e){return Math.min(1,Math.max(0,e))}function i(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function o(e){return e<=1?"".concat(100*Number(e),"%"):e}function s(e){return 1===e.length?"0"+e:String(e)}n.d(t,{FZ:function(){return s},JX:function(){return o},V2:function(){return a},Yq:function(){return i},sh:function(){return r}})},4767:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./packages/mdc-dom/index.ts")}({"./packages/mdc-dom/events.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPassive=function(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch(a){t=!1}return t}(e)&&{passive:!0}}},"./packages/mdc-dom/focus-trap.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="mdc-dom-focus-sentinel",a=function(){function e(e,t){void 0===t&&(t={}),this.root=e,this.options=t,this.elFocusedBeforeTrapFocus=null}return e.prototype.trapFocus=function(){var e=this.getFocusableElements(this.root);if(0===e.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root,e),this.options.skipInitialFocus||this.focusInitialElement(e,this.options.initialFocusEl)},e.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+r)).forEach((function(e){e.parentElement.removeChild(e)})),this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},e.prototype.wrapTabFocus=function(e,t){var n=this.createSentinel(),r=this.createSentinel();n.addEventListener("focus",(function(){t.length>0&&t[t.length-1].focus()})),r.addEventListener("focus",(function(){t.length>0&&t[0].focus()})),e.insertBefore(n,e.children[0]),e.appendChild(r)},e.prototype.focusInitialElement=function(e,t){var n=0;t&&(n=Math.max(e.indexOf(t),0)),e[n].focus()},e.prototype.getFocusableElements=function(e){return[].slice.call(e.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter((function(e){var t="true"===e.getAttribute("aria-disabled")||null!=e.getAttribute("disabled")||null!=e.getAttribute("hidden")||"true"===e.getAttribute("aria-hidden"),n=e.tabIndex>=0&&e.getBoundingClientRect().width>0&&!e.classList.contains(r)&&!t,a=!1;if(n){var i=getComputedStyle(e);a="none"===i.display||"hidden"===i.visibility}return n&&!a}))},e.prototype.createSentinel=function(){var e=document.createElement("div");return e.setAttribute("tabindex","0"),e.setAttribute("aria-hidden","true"),e.classList.add(r),e},e}();t.FocusTrap=a},"./packages/mdc-dom/index.ts":function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("./packages/mdc-dom/events.ts"));t.events=a;var i=r(n("./packages/mdc-dom/focus-trap.ts"));t.focusTrap=i;var o=r(n("./packages/mdc-dom/keyboard.ts"));t.keyboard=o;var s=r(n("./packages/mdc-dom/ponyfill.ts"));t.ponyfill=s},"./packages/mdc-dom/keyboard.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape"};var r=new Set;r.add(t.KEY.BACKSPACE),r.add(t.KEY.ENTER),r.add(t.KEY.SPACEBAR),r.add(t.KEY.PAGE_UP),r.add(t.KEY.PAGE_DOWN),r.add(t.KEY.END),r.add(t.KEY.HOME),r.add(t.KEY.ARROW_LEFT),r.add(t.KEY.ARROW_UP),r.add(t.KEY.ARROW_RIGHT),r.add(t.KEY.ARROW_DOWN),r.add(t.KEY.DELETE),r.add(t.KEY.ESCAPE);var a=8,i=13,o=32,s=33,u=34,l=35,c=36,d=37,f=38,p=39,h=40,m=46,g=27,v=new Map;v.set(a,t.KEY.BACKSPACE),v.set(i,t.KEY.ENTER),v.set(o,t.KEY.SPACEBAR),v.set(s,t.KEY.PAGE_UP),v.set(u,t.KEY.PAGE_DOWN),v.set(l,t.KEY.END),v.set(c,t.KEY.HOME),v.set(d,t.KEY.ARROW_LEFT),v.set(f,t.KEY.ARROW_UP),v.set(p,t.KEY.ARROW_RIGHT),v.set(h,t.KEY.ARROW_DOWN),v.set(m,t.KEY.DELETE),v.set(g,t.KEY.ESCAPE);var y=new Set;function b(e){var n=e.key;if(r.has(n))return n;var a=v.get(e.keyCode);return a||t.KEY.UNKNOWN}y.add(t.KEY.PAGE_UP),y.add(t.KEY.PAGE_DOWN),y.add(t.KEY.END),y.add(t.KEY.HOME),y.add(t.KEY.ARROW_LEFT),y.add(t.KEY.ARROW_UP),y.add(t.KEY.ARROW_RIGHT),y.add(t.KEY.ARROW_DOWN),t.normalizeKey=b,t.isNavigationEvent=function(e){return y.has(b(e))}},"./packages/mdc-dom/ponyfill.ts":function(e,t,n){"use strict";function r(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.closest=function(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(r(n,t))return n;n=n.parentElement}return null},t.matches=r,t.estimateScrollWidth=function(e){var t=e;if(null!==t.offsetParent)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}}})},e.exports=t()},4935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8385),n(9933),n(4912)},8249:function(e,t,n){"use strict";n(5602),n(4935),n(3438)},5033:function(e,t,n){"use strict";n(3165),n(4935),n(4912)},6577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8567)},5146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(2361)},5397:function(e,t,n){"use strict";n(1865)},3438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9933),n(4912),n(535)},9933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(445)},8897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7476)},881:function(e,t,n){"use strict";n(2727)},1093:function(e,t,n){"use strict";n(7308),n(3047),n(9933),n(4912)},1405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(865)},4912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5638)},7292:function(e,t,n){"use strict";n(9333),n(8479),n(7895)},8959:function(e,t,n){"use strict";n(3343),n(5146),n(4912)},2924:function(e,t,n){"use strict";n(9070),n(6577),n(1405),n(8897),n(4912),n(9933)},3147:function(e,t,n){"use strict";n(2153),n(234)},9111:function(e,t,n){"use strict";n(6804)},9619:function(e,t,n){"use strict";n(539),n(3438),n(4912),n(9933)},8697:function(e,t,n){"use strict";n(6737)},7312:function(e,t){"use strict";function n(){return!1}function r(){return!0}function a(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype={isEventObject:1,constructor:a,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=r},stopPropagation:function(){this.isPropagationStopped=r},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=a,e.exports=t.default},7712:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(7312)),i=r(n(1843)),o=!1,s=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function u(e){return null===e||void 0===e}var l=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){u(e.which)&&(e.which=u(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,a=void 0,i=t.wheelDelta,o=t.axis,s=t.wheelDeltaY,u=t.wheelDeltaX,l=t.detail;i&&(a=i/120),l&&(a=0-(l%3===0?l/3:l)),void 0!==o&&(o===e.HORIZONTAL_AXIS?(r=0,n=0-a):o===e.VERTICAL_AXIS&&(n=0,r=a)),void 0!==s&&(r=s/120),void 0!==u&&(n=-1*u/120),n||r||(r=a),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==a&&(e.delta=a)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,a=void 0,i=e.target,o=t.button;return i&&u(e.pageX)&&!u(t.clientX)&&(r=(n=i.ownerDocument||document).documentElement,a=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===i?e.toElement:e.fromElement),e}}];function c(){return true}function d(){return o}function f(e){var t=e.type,n="function"===typeof e.stopPropagation||"boolean"===typeof e.cancelBubble;a.default.call(this),this.nativeEvent=e;var r=d;"defaultPrevented"in e?r=e.defaultPrevented?c:d:"getPreventDefault"in e?r=e.getPreventDefault()?c:d:"returnValue"in e&&(r=e.returnValue===o?c:d),this.isDefaultPrevented=r;var i=[],u=void 0,f=void 0,p=s.concat();for(l.forEach((function(e){t.match(e.reg)&&(p=p.concat(e.props),e.fix&&i.push(e.fix))})),u=p.length;u;)this[f=p[--u]]=e[f];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),u=i.length;u;)(0,i[--u])(this,e);this.timeStamp=e.timeStamp||Date.now()}var p=a.default.prototype;(0,i.default)(f.prototype,p,{constructor:f,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=o,p.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=true,p.stopPropagation.call(this)}}),t.default=f,e.exports=t.default},1684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){function a(t){var r=new i.default(t);n.call(e,r)}if(e.addEventListener){var o=function(){var n=!1;return"object"===typeof r?n=r.capture||!1:"boolean"===typeof r&&(n=r),e.addEventListener(t,a,r||!1),{v:{remove:function(){e.removeEventListener(t,a,n)}}}}();if("object"===typeof o)return o.v}else if(e.attachEvent)return e.attachEvent("on"+t,a),{remove:function(){e.detachEvent("on"+t,a)}}};var r,a=n(7712),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},4120:function(e,t,n){"use strict";var r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.noop=o,Object.defineProperty(t,"resetWarned",{enumerable:!0,get:function(){return a.resetWarned}});var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(4287));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){}var s=o;t.default=s},5695:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1505)).default;t.default=a},9075:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9713)),o=r(n(7154)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6123)),l=r(n(6796)),c=r(n(7013)),d=r(n(8565)),f=n(8575),p=r(n(8791)),h=r(n(6464));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var v=s.forwardRef((function(e,t){var n,r,a,m=s.useContext(f.ConfigContext),v=m.getPrefixCls,y=m.direction,b=s.useContext(p.default),x=e.prefixCls,A=e.className,w=e.extra,k=e.headStyle,S=void 0===k?{}:k,C=e.bodyStyle,I=void 0===C?{}:C,E=e.title,T=e.loading,N=e.bordered,O=void 0===N||N,P=e.size,_=e.type,M=e.cover,R=e.actions,F=e.tabList,D=e.children,L=e.activeTabKey,z=e.defaultActiveTabKey,Z=e.tabBarExtraContent,W=e.hoverable,B=e.tabProps,j=void 0===B?{}:B,V=g(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),H=v("card",x),U=s.createElement(h.default,{loading:!0,active:!0,paragraph:{rows:4},title:!1},D),G=void 0!==L,X=(0,o.default)((0,o.default)({},j),(n={},(0,i.default)(n,G?"activeKey":"defaultActiveKey",G?L:z),(0,i.default)(n,"tabBarExtraContent",Z),n)),Y=F&&F.length?s.createElement(c.default,(0,o.default)({size:"large"},X,{className:"".concat(H,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),F.map((function(e){return s.createElement(c.default.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(E||w||Y)&&(a=s.createElement("div",{className:"".concat(H,"-head"),style:S},s.createElement("div",{className:"".concat(H,"-head-wrapper")},E&&s.createElement("div",{className:"".concat(H,"-head-title")},E),w&&s.createElement("div",{className:"".concat(H,"-extra")},w)),Y));var q=M?s.createElement("div",{className:"".concat(H,"-cover")},M):null,K=s.createElement("div",{className:"".concat(H,"-body"),style:I},T?U:D),J=R&&R.length?s.createElement("ul",{className:"".concat(H,"-actions")},function(e){return e.map((function(t,n){return s.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},s.createElement("span",null,t))}))}(R)):null,Q=(0,l.default)(V,["onTabChange"]),$=P||b,ee=(0,u.default)(H,(r={},(0,i.default)(r,"".concat(H,"-loading"),T),(0,i.default)(r,"".concat(H,"-bordered"),O),(0,i.default)(r,"".concat(H,"-hoverable"),W),(0,i.default)(r,"".concat(H,"-contain-grid"),function(){var t;return s.Children.forEach(e.children,(function(e){e&&e.type&&e.type===d.default&&(t=!0)})),t}()),(0,i.default)(r,"".concat(H,"-contain-tabs"),F&&F.length),(0,i.default)(r,"".concat(H,"-").concat($),$),(0,i.default)(r,"".concat(H,"-type-").concat(_),!!_),(0,i.default)(r,"".concat(H,"-rtl"),"rtl"===y),r),A);return s.createElement("div",(0,o.default)({ref:t},Q,{className:ee}),a,q,K,J)}));t.default=v},8565:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(9713)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6123)),l=n(8575);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},f=function(e){var t=e.prefixCls,n=e.className,r=e.hoverable,a=void 0===r||r,c=d(e,["prefixCls","className","hoverable"]);return s.createElement(l.ConfigConsumer,null,(function(e){var r=(0,e.getPrefixCls)("card",t),l=(0,u.default)("".concat(r,"-grid"),n,(0,o.default)({},"".concat(r,"-grid-hoverable"),a));return s.createElement("div",(0,i.default)({},c,{className:l}))}))};t.default=f},1875:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),s=r(n(6123)),u=n(8575);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=function(e){return o.createElement(u.ConfigConsumer,null,(function(t){var n=t.getPrefixCls,r=e.prefixCls,a=e.className,u=e.avatar,l=e.title,d=e.description,f=c(e,["prefixCls","className","avatar","title","description"]),p=n("card",r),h=(0,s.default)("".concat(p,"-meta"),a),m=u?o.createElement("div",{className:"".concat(p,"-meta-avatar")},u):null,g=l?o.createElement("div",{className:"".concat(p,"-meta-title")},l):null,v=d?o.createElement("div",{className:"".concat(p,"-meta-description")},d):null,y=g||v?o.createElement("div",{className:"".concat(p,"-meta-detail")},g,v):null;return o.createElement("div",(0,i.default)({},f,{className:h}),m,y)}))};t.default=d},8075:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(8565)),i=r(n(1875)),o=r(n(9075)).default;o.Grid=a.default,o.Meta=i.default;var s=o;t.Z=s},6487:function(e,t,n){"use strict";var r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DisabledContextProvider=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(7313));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var o=a.createContext(!1);t.DisabledContextProvider=function(e){var t=e.children,n=e.disabled,r=a.useContext(o);return a.createElement(o.Provider,{value:n||r},t)};var s=o;t.default=s},8791:function(e,t,n){"use strict";var r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SizeContextProvider=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(7313));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var o=a.createContext(void 0);t.SizeContextProvider=function(e){var t=e.children,n=e.size;return a.createElement(o.Consumer,null,(function(e){return a.createElement(o.Provider,{value:n||e},t)}))};var s=o;t.default=s},5472:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigContext=t.ConfigConsumer=void 0,t.withConfigConsumer=function(e){return function(t){var n=function(n){return o.createElement(l,null,(function(r){var a=e.prefixCls,s=(0,r.getPrefixCls)(a,n.prefixCls);return o.createElement(t,(0,i.default)({},r,n,{prefixCls:s}))}))},r=t.constructor,a=r&&r.displayName||t.name||"Component";return n.displayName="withConfigConsumer(".concat(a,")"),n}};var i=r(n(7154)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var u=o.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}});t.ConfigContext=u;var l=u.Consumer;t.ConfigConsumer=l},2442:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.getStyle=l,t.registerTheme=function(e,t){var n=l(e,t);(0,i.default)()&&(0,a.updateCSS)(n,"".concat(u,"-dynamic-theme"))};var a=n(5824),i=r(n(7065)),o=n(8900),s=n(7819),u=(r(n(4120)),"-ant-".concat(Date.now(),"-").concat(Math.random()));function l(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},a=function(e,t){var a=new o.TinyColor(e),i=(0,s.generate)(a.toRgbString());n["".concat(t,"-color")]=r(a),n["".concat(t,"-color-disabled")]=i[1],n["".concat(t,"-color-hover")]=i[4],n["".concat(t,"-color-active")]=i[7],n["".concat(t,"-color-outline")]=a.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=i[1],n["".concat(t,"-color-deprecated-border")]=i[3]};if(t.primaryColor){a(t.primaryColor,"primary");var i=new o.TinyColor(t.primaryColor),u=(0,s.generate)(i.toRgbString());u.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(i,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(i,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(i,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(i,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(i,(function(e){return e.setAlpha(.12*e.getAlpha())}));var l=new o.TinyColor(u[0]);n["primary-color-active-deprecated-f-30"]=r(l,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(l,(function(e){return e.darken(2)}))}t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info");var c=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(c.join("\n"),"\n  }\n  ").trim()}},8575:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ConfigConsumer",{enumerable:!0,get:function(){return m.ConfigConsumer}}),Object.defineProperty(t,"ConfigContext",{enumerable:!0,get:function(){return m.ConfigContext}}),t.globalConfig=t.defaultPrefixCls=t.defaultIconPrefixCls=t.default=t.configConsumerProps=void 0;var i=r(n(7154)),o=r(n(4573)),s=n(3529),u=r(n(7578)),l=x(n(7313)),c=x(n(1519)),d=r(n(2799)),f=r(n(1221)),p=r(n(6227)),h=r(n(9902)),m=n(5472),g=n(2442),v=n(6487),y=x(n(8791));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}t.configConsumerProps=["getTargetContainer","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","autoInsertSpaceInButton","locale","pageHeader"];var A=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];t.defaultPrefixCls="ant";var w,k,S="anticon";function C(){return w||"ant"}function I(){return k||S}t.defaultIconPrefixCls=S;t.globalConfig=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(C(),"-").concat(e):C())},getIconPrefixCls:I,getRootPrefixCls:function(e,t){return e||(w||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):C()))}}};var E=function(e){var t,n,r=e.children,a=e.csp,d=e.autoInsertSpaceInButton,p=e.form,h=e.locale,g=e.componentSize,b=e.direction,x=e.space,w=e.virtual,k=e.dropdownMatchSelectWidth,S=e.legacyLocale,C=e.parentContext,I=e.iconPrefixCls,E=e.componentDisabled,T=l.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var a=r||C.getPrefixCls("");return t?"".concat(a,"-").concat(t):a}),[C.getPrefixCls,e.prefixCls]),N=(0,i.default)((0,i.default)({},C),{csp:a,autoInsertSpaceInButton:d,locale:h||S,direction:b,space:x,virtual:w,dropdownMatchSelectWidth:k,getPrefixCls:T});A.forEach((function(t){var n=e[t];n&&(N[t]=n)}));var O=(0,u.default)((function(){return N}),N,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),P=l.useMemo((function(){return{prefixCls:I,csp:a}}),[I,a]),_=r,M={};return h&&(M=(null===(t=h.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=f.default.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),p&&p.validateMessages&&(M=(0,i.default)((0,i.default)({},M),p.validateMessages)),Object.keys(M).length>0&&(_=l.createElement(s.FormProvider,{validateMessages:M},r)),h&&(_=l.createElement(c.default,{locale:h,_ANT_MARK__:c.ANT_MARK},_)),(I||a)&&(_=l.createElement(o.default.Provider,{value:P},_)),g&&(_=l.createElement(y.SizeContextProvider,{size:g},_)),void 0!==E&&(_=l.createElement(v.DisabledContextProvider,{disabled:E},_)),l.createElement(m.ConfigContext.Provider,{value:O},_)},T=function(e){return l.useEffect((function(){e.direction&&(p.default.config({rtl:"rtl"===e.direction}),h.default.config({rtl:"rtl"===e.direction}))}),[e.direction]),l.createElement(d.default,null,(function(t,n,r){return l.createElement(m.ConfigConsumer,null,(function(t){return l.createElement(E,(0,i.default)({parentContext:t,legacyLocale:r},e))}))}))};T.ConfigContext=m.ConfigContext,T.SizeContext=y.default,T.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(w=t),void 0!==n&&(k=n),r&&(0,g.registerTheme)(C(),r)};var N=T;t.default=N},1505:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(7154)),i=r(n(3143)),o=r(n(3744)),s={lang:(0,a.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},i.default),timePickerLocale:(0,a.default)({},o.default)};t.default=s},2799:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.useLocaleReceiver=function(e,t){var n=c.useContext(f.default);return[c.useMemo((function(){var r=t||d.default[e||"global"],a=e&&n?n[e]:{};return(0,i.default)((0,i.default)({},"function"===typeof r?r():r),a||{})}),[e,t,n])]};var i=r(n(7154)),o=r(n(4575)),s=r(n(3913)),u=r(n(2205)),l=r(n(9842)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),d=r(n(6209)),f=r(n(5497));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var h=function(e){(0,u.default)(n,e);var t=(0,l.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||d.default[null!==t&&void 0!==t?t:"global"],r=this.context,a=t&&r?r[t]:{};return(0,i.default)((0,i.default)({},n instanceof Function?n():n),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?d.default.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(c.Component);t.default=h,h.defaultProps={componentName:"global"},h.contextType=f.default},5497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(7313).createContext)(void 0);t.default=r},6209:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1221)).default;t.default=a},1519:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ANT_MARK=void 0;var i=r(n(7154)),o=r(n(4575)),s=r(n(3913)),u=r(n(2205)),l=r(n(9842)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),d=r(n(6912)),f=(r(n(4120)),n(5914)),p=r(n(5497));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}t.ANT_MARK="internalMark";var m=function(e){(0,u.default)(n,e);var t=(0,l.default)(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).getMemoizedContextValue=(0,d.default)((function(e){return(0,i.default)((0,i.default)({},e),{exist:!0})})),(0,f.changeConfirmLocale)(e.locale&&e.locale.Modal),r}return(0,s.default)(n,[{key:"componentDidMount",value:function(){(0,f.changeConfirmLocale)(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&(0,f.changeConfirmLocale)(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){(0,f.changeConfirmLocale)()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return c.createElement(p.default.Provider,{value:r},n)}}]),n}(c.Component);t.default=m,m.defaultProps={locale:{}}},1221:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(9956)),i=r(n(1505)),o=r(n(3744)),s=r(n(5695)),u="${label} is not a valid ${type}",l={locale:"en",Pagination:a.default,DatePicker:i.default,TimePicker:o.default,Calendar:s.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:u,method:u,array:u,object:u,number:u,date:u,boolean:u,integer:u,float:u,regexp:u,email:u,url:u,hex:u},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t.default=l},5891:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n,r,a=null,d={add:function(e,t){null===a||void 0===a||a.component.add(e,t)}},f=(0,u.default)(d),p=(0,o.default)(f,2),h=p[0],m=p[1];var g=s.useRef({});return g.current.open=function(o){var s=o.prefixCls,u=n("message",s),l=n(),d=o.key||(0,c.getKeyThenIncreaseKey)(),f=new Promise((function(n){var s=function(){return"function"===typeof o.onClose&&o.onClose(),n(!0)};e((0,i.default)((0,i.default)({},o),{prefixCls:u,rootPrefixCls:l,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;a=r,h(t((0,i.default)((0,i.default)({},o),{key:d,onClose:s}),n))}))})),p=function(){a&&a.removeNotice(d)};return p.then=function(e,t){return f.then(e,t)},p.promise=f,p},c.typeList.forEach((function(e){return(0,c.attachTypeApi)(g.current,e)})),[g.current,s.createElement(l.ConfigConsumer,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,m}))]}};var i=r(n(7154)),o=r(n(3038)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6408)),l=n(8575),c=n(6227);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}},6227:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.attachTypeApi=F,t.getInstance=t.default=void 0,t.getKeyThenIncreaseKey=N,t.typeList=void 0;var i,o=r(n(7154)),s=r(n(9713)),u=b(n(7313)),l=r(n(6123)),c=r(n(8463)),d=r(n(8491)),f=r(n(9851)),p=r(n(2554)),h=r(n(3291)),m=r(n(3305)),g=r(n(5891)),v=b(n(8575));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var x,A,w,k=3,S=1,C="",I="move-up",E=!1,T=!1;function N(){return S++}function O(e,t){var n=e.prefixCls,r=e.getPopupContainer,a=(0,v.globalConfig)(),o=a.getPrefixCls,s=a.getRootPrefixCls,u=a.getIconPrefixCls,l=o("message",n||C),d=s(e.rootPrefixCls,l),f=u();if(i)t({prefixCls:l,rootPrefixCls:d,iconPrefixCls:f,instance:i});else{var p={prefixCls:l,transitionName:E?I:"".concat(d,"-").concat(I),style:{top:x},getContainer:A||r,maxCount:w};c.default.newInstance(p,(function(e){i?t({prefixCls:l,rootPrefixCls:d,iconPrefixCls:f,instance:i}):(i=e,t({prefixCls:l,rootPrefixCls:d,iconPrefixCls:f,instance:e}))}))}}var P={info:m.default,success:h.default,error:p.default,warning:f.default,loading:d.default},_=Object.keys(P);function M(e,t,n){var r,a=void 0!==e.duration?e.duration:k,i=P[e.type],o=(0,l.default)("".concat(t,"-custom-content"),(r={},(0,s.default)(r,"".concat(t,"-").concat(e.type),e.type),(0,s.default)(r,"".concat(t,"-rtl"),!0===T),r));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:u.createElement(v.default,{iconPrefixCls:n},u.createElement("div",{className:o},e.icon||i&&u.createElement(i,null),u.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}t.typeList=_;var R={open:function(e){var t=e.key||N(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};O(e,(function(n){var a=n.prefixCls,i=n.iconPrefixCls;n.instance.notice(M((0,o.default)((0,o.default)({},e),{key:t,onClose:r}),a,i))}))})),r=function(){i&&i.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(x=e.top,i=null),void 0!==e.duration&&(k=e.duration),void 0!==e.prefixCls&&(C=e.prefixCls),void 0!==e.getContainer&&(A=e.getContainer,i=null),void 0!==e.transitionName&&(I=e.transitionName,i=null,E=!0),void 0!==e.maxCount&&(w=e.maxCount,i=null),void 0!==e.rtl&&(T=e.rtl)},destroy:function(e){if(i)if(e){(0,i.removeNotice)(e)}else{var t=i.destroy;t(),i=null}}};function F(e,t){e[t]=function(n,r,a){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open((0,o.default)((0,o.default)({},n),{type:t})):("function"===typeof r&&(a=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:a}))}}_.forEach((function(e){return F(R,e)})),R.warn=R.warning,R.useMessage=(0,g.default)(O,M);t.getInstance=function(){return null};var D=R;t.default=D},5914:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.changeConfirmLocale=function(e){o=e?(0,a.default)((0,a.default)({},o),e):(0,a.default)({},i.default.Modal)},t.getConfirmLocale=function(){return o};var a=r(n(7154)),i=r(n(1221)),o=(0,a.default)({},i.default.Modal)},2138:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){var n,r=null,a={add:function(e,t){null===r||void 0===r||r.component.add(e,t)}},c=(0,u.default)(a),d=(0,o.default)(c,2),f=d[0],p=d[1];var h=s.useRef({});return h.current.open=function(a){var o=a.prefixCls,s=n("notification",o);e((0,i.default)((0,i.default)({},a),{prefixCls:s}),(function(e){var n=e.prefixCls,i=e.instance;r=i,f(t(a,n))}))},["success","info","warning","error"].forEach((function(e){h.current[e]=function(t){return h.current.open((0,i.default)((0,i.default)({},t),{type:e}))}})),[h.current,s.createElement(l.ConfigConsumer,{key:"holder"},(function(e){return n=e.getPrefixCls,p}))]}};var i=r(n(7154)),o=r(n(3038)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6408)),l=n(8575);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},9902:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=t.default=void 0;var i=r(n(7757)),o=r(n(7154)),s=r(n(9713)),u=b(n(7313)),l=r(n(8463)),c=r(n(3571)),d=r(n(6123)),f=r(n(3020)),p=r(n(7667)),h=r(n(1485)),m=r(n(1324)),g=r(n(2138)),v=b(n(8575));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var x,A,w,k=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},S={},C=4.5,I=24,E=24,T="",N="topRight",O=!1;function P(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function _(e,t){var n=e.placement,r=void 0===n?N:n,a=e.top,i=e.bottom,o=e.getContainer,u=void 0===o?x:o,c=e.prefixCls,f=(0,v.globalConfig)(),p=f.getPrefixCls,h=f.getIconPrefixCls,m=p("notification",c||T),g=h(),y="".concat(m,"-").concat(r),b=S[y];if(b)Promise.resolve(b).then((function(e){t({prefixCls:"".concat(m,"-notice"),iconPrefixCls:g,instance:e})}));else{var A=(0,d.default)("".concat(m,"-").concat(r),(0,s.default)({},"".concat(m,"-rtl"),!0===O));S[y]=new Promise((function(e){l.default.newInstance({prefixCls:m,className:A,style:P(r,a,i),getContainer:u,maxCount:w},(function(n){e(n),t({prefixCls:"".concat(m,"-notice"),iconPrefixCls:g,instance:n})}))}))}}var M={success:f.default,info:m.default,error:p.default,warning:h.default};function R(e,t,n){var r=e.duration,a=e.icon,i=e.type,o=e.description,l=e.message,f=e.btn,p=e.onClose,h=e.onClick,m=e.key,g=e.style,y=e.className,b=e.closeIcon,x=void 0===b?A:b,w=void 0===r?C:r,k=null;a?k=u.createElement("span",{className:"".concat(t,"-icon")},e.icon):i&&(k=u.createElement(M[i]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(i)}));var S=u.createElement("span",{className:"".concat(t,"-close-x")},x||u.createElement(c.default,{className:"".concat(t,"-close-icon")})),I=!o&&k?u.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:u.createElement(v.default,{iconPrefixCls:n},u.createElement("div",{className:k?"".concat(t,"-with-icon"):"",role:"alert"},k,u.createElement("div",{className:"".concat(t,"-message")},I,l),u.createElement("div",{className:"".concat(t,"-description")},o),f?u.createElement("span",{className:"".concat(t,"-btn")},f):null)),duration:w,closable:!0,closeIcon:S,onClose:p,onClick:h,key:m,style:g||{},className:(0,d.default)(y,(0,s.default)({},"".concat(t,"-").concat(i),!!i))}}var F={open:function(e){_(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(R(e,n,r))}))},close:function(e){Object.keys(S).forEach((function(t){return Promise.resolve(S[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,a=e.top,i=e.getContainer,o=e.closeIcon,s=e.prefixCls;void 0!==s&&(T=s),void 0!==t&&(C=t),void 0!==n?N=n:e.rtl&&(N="topLeft"),void 0!==r&&(E=r),void 0!==a&&(I=a),void 0!==i&&(x=i),void 0!==o&&(A=o),void 0!==e.rtl&&(O=e.rtl),void 0!==e.maxCount&&(w=e.maxCount)},destroy:function(){Object.keys(S).forEach((function(e){Promise.resolve(S[e]).then((function(e){e.destroy()})),delete S[e]}))}};["success","info","warning","error"].forEach((function(e){F[e]=function(t){return F.open((0,o.default)((0,o.default)({},t),{type:e}))}})),F.warn=F.warning,F.useNotification=(0,g.default)(_,R);t.getInstance=function(e){return k(void 0,void 0,void 0,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))};var D=F;t.default=D},5582:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(9713)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6796)),l=r(n(6123)),c=n(8575),d=r(n(4620));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t=e.prefixCls,n=e.className,r=e.active,a=(0,s.useContext(c.ConfigContext).getPrefixCls)("skeleton",t),f=(0,u.default)(e,["prefixCls","className"]),p=(0,l.default)(a,"".concat(a,"-element"),(0,o.default)({},"".concat(a,"-active"),r),n);return s.createElement("div",{className:p},s.createElement(d.default,(0,i.default)({prefixCls:"".concat(a,"-avatar")},f)))};p.defaultProps={size:"default",shape:"circle"};var h=p;t.default=h},4144:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(9713)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6796)),l=r(n(6123)),c=r(n(4620)),d=n(8575);function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t,n=e.prefixCls,r=e.className,a=e.active,f=e.block,p=void 0!==f&&f,h=(0,s.useContext(d.ConfigContext).getPrefixCls)("skeleton",n),m=(0,u.default)(e,["prefixCls"]),g=(0,l.default)(h,"".concat(h,"-element"),(t={},(0,o.default)(t,"".concat(h,"-active"),a),(0,o.default)(t,"".concat(h,"-block"),p),t),r);return s.createElement("div",{className:g},s.createElement(c.default,(0,i.default)({prefixCls:"".concat(h,"-button")},m)))};p.defaultProps={size:"default"};var h=p;t.default=h},4620:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(9713)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6123));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=function(e){var t,n,r=e.prefixCls,a=e.className,l=e.style,c=e.size,d=e.shape,f=(0,u.default)((t={},(0,o.default)(t,"".concat(r,"-lg"),"large"===c),(0,o.default)(t,"".concat(r,"-sm"),"small"===c),t)),p=(0,u.default)((n={},(0,o.default)(n,"".concat(r,"-circle"),"circle"===d),(0,o.default)(n,"".concat(r,"-square"),"square"===d),(0,o.default)(n,"".concat(r,"-round"),"round"===d),n)),h="number"===typeof c?{width:c,height:c,lineHeight:"".concat(c,"px")}:{};return s.createElement("span",{className:(0,u.default)(r,f,p,a),style:(0,i.default)((0,i.default)({},h),l)})};t.default=c},8505:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),o=r(n(6123)),s=n(8575);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e){var t=e.prefixCls,n=e.className,r=e.style,a=(0,i.useContext(s.ConfigContext).getPrefixCls)("skeleton",t),u=(0,o.default)(a,"".concat(a,"-element"),n);return i.createElement("div",{className:u},i.createElement("div",{className:(0,o.default)("".concat(a,"-image"),n),style:r},i.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(a,"-image-svg")},i.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(a,"-image-path")}))))};t.default=l},1654:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=r(n(9713)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),u=r(n(6796)),l=r(n(6123)),c=r(n(4620)),d=n(8575);function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=function(e){var t,n=e.prefixCls,r=e.className,a=e.active,f=e.block,p=(0,s.useContext(d.ConfigContext).getPrefixCls)("skeleton",n),h=(0,u.default)(e,["prefixCls"]),m=(0,l.default)(p,"".concat(p,"-element"),(t={},(0,o.default)(t,"".concat(p,"-active"),a),(0,o.default)(t,"".concat(p,"-block"),f),t),r);return s.createElement("div",{className:m},s.createElement(c.default,(0,i.default)({prefixCls:"".concat(p,"-input")},h)))};p.defaultProps={size:"default"};var h=p;t.default=h},2797:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(319)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),s=r(n(6123));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e){var t=function(t){var n=e.width,r=e.rows,a=void 0===r?2:r;return Array.isArray(n)?n[t]:a-1===t?n:void 0},n=e.prefixCls,r=e.className,a=e.style,u=e.rows,l=(0,i.default)(Array(u)).map((function(e,n){return o.createElement("li",{key:n,style:{width:t(n)}})}));return o.createElement("ul",{className:(0,s.default)(n,r),style:a},l)};t.default=l},3043:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9713)),o=r(n(7154)),s=r(n(8)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),l=r(n(6123)),c=r(n(7451)),d=r(n(2797)),f=n(8575),p=r(n(4620)),h=r(n(5582)),m=r(n(4144)),g=r(n(1654)),v=r(n(8505));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){return e&&"object"===(0,s.default)(e)?e:{}}var x=function(e){var t=e.prefixCls,n=e.loading,r=e.className,a=e.style,s=e.children,h=e.avatar,m=e.title,g=e.paragraph,v=e.active,y=e.round,x=u.useContext(f.ConfigContext),A=x.getPrefixCls,w=x.direction,k=A("skeleton",t);if(n||!("loading"in e)){var S,C,I,E=!!h,T=!!m,N=!!g;if(E){var O=(0,o.default)((0,o.default)({prefixCls:"".concat(k,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(T,N)),b(h));C=u.createElement("div",{className:"".concat(k,"-header")},u.createElement(p.default,(0,o.default)({},O)))}if(T||N){var P,_;if(T){var M=(0,o.default)((0,o.default)({prefixCls:"".concat(k,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(E,N)),b(m));P=u.createElement(c.default,(0,o.default)({},M))}if(N){var R=(0,o.default)((0,o.default)({prefixCls:"".concat(k,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(E,T)),b(g));_=u.createElement(d.default,(0,o.default)({},R))}I=u.createElement("div",{className:"".concat(k,"-content")},P,_)}var F=(0,l.default)(k,(S={},(0,i.default)(S,"".concat(k,"-with-avatar"),E),(0,i.default)(S,"".concat(k,"-active"),v),(0,i.default)(S,"".concat(k,"-rtl"),"rtl"===w),(0,i.default)(S,"".concat(k,"-round"),y),S),r);return u.createElement("div",{className:F,style:a},C,I)}return"undefined"!==typeof s?s:null};x.defaultProps={avatar:!1,title:!0,paragraph:!0},x.Button=m.default,x.Avatar=h.default,x.Input=g.default,x.Image=v.default;var A=x;t.default=A},7451:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(7154)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7313)),s=r(n(6123));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e){var t=e.prefixCls,n=e.className,r=e.width,a=e.style;return o.createElement("h3",{className:(0,s.default)(t,n),style:(0,i.default)({width:r},a)})};t.default=l},6464:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3043)).default;t.default=a},7013:function(e,t,n){"use strict";var r=n(5318),a=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9713)),o=r(n(7154)),s=g(n(7313)),u=g(n(6932)),l=r(n(6123)),c=r(n(8413)),d=r(n(8442)),f=r(n(3571)),p=(r(n(4120)),n(8575)),h=r(n(8791));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function y(e){var t,n=e.type,r=e.className,a=e.size,m=e.onEdit,g=e.hideAdd,y=e.centered,b=e.addIcon,x=v(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),A=x.prefixCls,w=x.moreIcon,k=void 0===w?s.createElement(c.default,null):w,S=s.useContext(p.ConfigContext),C=S.getPrefixCls,I=S.direction,E=C("tabs",A);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===m||void 0===m||m("add"===e?r:n,e)},removeIcon:s.createElement(f.default,null),addIcon:b||s.createElement(d.default,null),showAdd:!0!==g});var T=C();return s.createElement(h.default.Consumer,null,(function(e){var c,d=void 0!==a?a:e;return s.createElement(u.default,(0,o.default)({direction:I,moreTransitionName:"".concat(T,"-slide-up")},x,{className:(0,l.default)((c={},(0,i.default)(c,"".concat(E,"-").concat(d),d),(0,i.default)(c,"".concat(E,"-card"),["card","editable-card"].includes(n)),(0,i.default)(c,"".concat(E,"-editable-card"),"editable-card"===n),(0,i.default)(c,"".concat(E,"-centered"),y),c),r),editable:t,moreIcon:k,prefixCls:E}))}))}y.TabPane=u.TabPane;var b=y;t.default=b},3744:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};t.default=n},7910:function(e,t,n){"use strict";var r;function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(){function e(){s(this,e)}return l(e,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),r=e<0?0:255,a=e<0?-1*e:e,i=parseInt(n[0].slice(4),10),o=parseInt(n[1],10),s=parseInt(n[2],10);return"rgb("+(Math.round((r-i)*a)+i)+","+(Math.round((r-o)*a)+o)+","+(Math.round((r-s)*a)+s)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),r=e<0?0:255,a=e<0?-1*e:e,i=n>>16,o=n>>8&255,s=255&n;return"#"+(16777216+65536*(Math.round((r-i)*a)+i)+256*(Math.round((r-o)*a)+o)+(Math.round((r-s)*a)+s)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,n){return e.isColorHex(n)?this.shadeHexColor(t,n):this.shadeRGBColor(t,n)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===o(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(a){n.isObject(t[a])&&a in e?r[a]=n.extend(e[a],t[a]):Object.assign(r,c({},a,t[a]))})),r}},{key:"extendArray",value:function(t,n){var r=[];return t.map((function(t){r.push(e.extend(n,t))})),r}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var n=[],r=0;r<t.length;r++)n[r]=this.clone(t[r]);return n}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===o(t)){var a={};for(var i in t)t.hasOwnProperty(i)&&(a[i]=this.clone(t[i]));return a}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var n="",r=e<0?"-":"",a=t[0].replace(".",""),i=Number(t[1])+1;if(i<0){for(n=r+"0.";i++;)n+="0";return n+a.replace(/^-/,"")}for(i-=a.length;i--;)n+="0";return a+n}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,r=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(e,t){return Array.isArray(t)&&(t=t.reduce((function(e,t){return e.length>t.length?e:t}))),e.length>t.length?e:t}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var r=0;r<n.length;r++)n[r]=parseInt(1===n[r].length?n[r]+n[r]:n[r],16);return void 0!==t&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],r=2*Math.PI/t,a=0;a<t;a++){var i={};i.x=e*Math.sin(a*r),i.y=-e*Math.cos(a*r),n.push(i)}return n}},{key:"polarToCartesian",value:function(e,t,n,r){var a=(r-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=e.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}]),e}(),x=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return l(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,n,r){e.attr(t).animate(r).attr(n)}},{key:"animateMarker",value:function(e,t,n,r,a,i){t||(t=0),e.attr({r:t,width:t,height:t}).animate(r,a).attr({r:n,width:n.width,height:n.height}).afterAll((function(){i()}))}},{key:"animateCircle",value:function(e,t,n,r,a){e.attr({r:t.r,cx:t.cx,cy:t.cy}).animate(r,a).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(e,t,n,r,a){e.attr(t).animate(r).attr(n).afterAll((function(){return a()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,r=e.j,a=e.fill,i=e.pathFrom,o=e.pathTo,s=e.speed,u=e.delay,l=this.w,c=0;l.config.chart.animations.animateGradually.enabled&&(c=l.config.chart.animations.animateGradually.delay),l.config.chart.animations.dynamicAnimation.enabled&&l.globals.dataChanged&&"bar"!==l.config.chart.type&&(c=0),this.morphSVG(t,n,r,"line"!==l.config.chart.type||l.globals.comboCharts?a:"stroke",i,o,s,u*c)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){e.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,r,a,i,o,s){var u=this,l=this.w;a||(a=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var c=function(e){return"radar"===l.config.chart.type&&(o=1),"M 0 ".concat(l.globals.gridHeight)};(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=c()),(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=c()),l.globals.shouldAnimate||(o=1),e.plot(a).animate(1,l.globals.easing,s).plot(a).animate(o,l.globals.easing,s).plot(i).afterAll((function(){b.isNumber(n)?n===l.globals.series[l.globals.maxValsInArrayIndex].length-2&&l.globals.shouldAnimate&&u.animationCompleted(e):"none"!==r&&l.globals.shouldAnimate&&(!l.globals.comboCharts&&t===l.globals.series.length-1||l.globals.comboCharts)&&u.animationCompleted(e),u.showDelayedElements()}))}}]),e}(),A=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(e,t,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var n=this.w;n.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,n){var r=this,a=this.w,i=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=a.config.chart.dropShadow;(n.enabled?r.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:i}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,n){var r=this,a=this.w,i=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter((function(e){var n=a.config.chart.dropShadow;(n.enabled?r.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:i}})})),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:r});break;case"darken":this.addDarkenFilter(e,t,{intensity:r})}}},{key:"addShadow",value:function(e,t,n){var r=n.blur,a=n.top,i=n.left,o=n.color,s=n.opacity,u=e.flood(Array.isArray(o)?o[t]:o,s).composite(e.sourceAlpha,"in").offset(i,a).gaussianBlur(r).merge(e.source);return e.blend(e.source,u)}},{key:"dropShadow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.top,a=t.left,i=t.blur,o=t.color,s=t.opacity,u=t.noUserSpaceOnUse,l=this.w;return e.unfilter(!0),b.isIE()&&"radialBar"===l.config.chart.type||(o=Array.isArray(o)?o[n]:o,e.filter((function(e){var t;t=b.isSafari()||b.isFirefox()||b.isIE()?e.flood(o,s).composite(e.sourceAlpha,"in").offset(a,r).gaussianBlur(i):e.flood(o,s).composite(e.sourceAlpha,"in").offset(a,r).gaussianBlur(i).merge(e.source),e.blend(e.source,t)})),u||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,n){var r=this.w;if(void 0!==r.globals.selectedDataPoints[t]&&r.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var a=r.config.states.active.filter;"none"!==a&&this.applyFilter(e,t,a.type,a.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),w=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawLine",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",u=this.w,l=u.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:r,stroke:a,"stroke-dasharray":i,"stroke-width":o,"stroke-linecap":s});return l}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=this.w,d=c.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:n>0?n:0,height:r>0?r:0,rx:a,ry:a,opacity:o,"stroke-width":null!==s?s:0,stroke:null!==u?u:"none","stroke-dasharray":l}),d.node.setAttribute("fill",i),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",a=this.w,i=a.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":n});return i}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;e<0&&(e=0);var r=n.globals.dom.Paper.circle(2*e);return null!==t&&r.attr(t),r}},{key:"drawPath",value:function(e){var t=e.d,n=void 0===t?"":t,r=e.stroke,a=void 0===r?"#a8a8a8":r,i=e.strokeWidth,o=void 0===i?1:i,s=e.fill,u=e.fillOpacity,l=void 0===u?1:u,c=e.strokeOpacity,d=void 0===c?1:c,f=e.classes,p=e.strokeLinecap,h=void 0===p?null:p,m=e.strokeDashArray,g=void 0===m?0:m,v=this.w;return null===h&&(h=v.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(n).attr({fill:s,"fill-opacity":l,stroke:a,"stroke-opacity":d,"stroke-linecap":h,"stroke-width":o,"stroke-dasharray":g,class:f})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=t.globals.dom.Paper.group();return null!==e&&n.attr(e),n}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return null===n?r=["L",e,t].join(" "):"H"===n?r=["H",e].join(" "):"V"===n&&(r=["V",t].join(" ")),r}},{key:"curve",value:function(e,t,n,r,a,i){return["C",e,t,n,r,a,i].join(" ")}},{key:"quadraticCurve",value:function(e,t,n,r){return["Q",e,t,n,r].join(" ")}},{key:"arc",value:function(e,t,n,r,a,i,o){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u="A";s&&(u="a");var l=[u,e,t,n,r,a,i,o].join(" ");return l}},{key:"renderPaths",value:function(e){var t,n=e.j,r=e.realIndex,a=e.pathFrom,o=e.pathTo,s=e.stroke,u=e.strokeWidth,l=e.strokeLinecap,c=e.fill,d=e.animationDelay,f=e.initialSpeed,p=e.dataChangeSpeed,h=e.className,m=e.shouldClipToGrid,g=void 0===m||m,v=e.bindEventsOnPaths,y=void 0===v||v,b=e.drawShadow,w=void 0===b||b,k=this.w,S=new A(this.ctx),C=new x(this.ctx),I=this.w.config.chart.animations.enabled,E=I&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(I&&!k.globals.resized||E&&k.globals.dataChanged&&k.globals.shouldAnimate);T?t=a:(t=o,k.globals.animationEnded=!0);var N,O=k.config.stroke.dashArray;N=Array.isArray(O)?O[r]:k.config.stroke.dashArray;var P=this.drawPath({d:t,stroke:s,strokeWidth:u,fill:c,fillOpacity:1,classes:h,strokeLinecap:l,strokeDashArray:N});if(P.attr("index",r),g&&P.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type)S.getDefaultFilter(P,r);else if(k.config.chart.dropShadow.enabled&&w&&(!k.config.chart.dropShadow.enabledOnSeries||k.config.chart.dropShadow.enabledOnSeries&&-1!==k.config.chart.dropShadow.enabledOnSeries.indexOf(r))){var _=k.config.chart.dropShadow;S.dropShadow(P,_,r)}y&&(P.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,P)),P.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,P)),P.node.addEventListener("mousedown",this.pathMouseDown.bind(this,P))),P.attr({pathTo:o,pathFrom:a});var M={el:P,j:n,realIndex:r,pathFrom:a,pathTo:o,fill:c,strokeWidth:u,delay:d};return!I||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||C.showDelayedElements():C.animatePathsGradually(i(i({},M),{},{speed:f})),k.globals.dataChanged&&E&&T&&C.animatePathsGradually(i(i({},M),{},{speed:p})),P}},{key:"drawPattern",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=this.w,o=i.globals.dom.Paper.pattern(t,n,(function(i){"horizontalLines"===e?i.line(0,0,n,0).stroke({color:r,width:a+1}):"verticalLines"===e?i.line(0,0,0,t).stroke({color:r,width:a+1}):"slantedLines"===e?i.line(0,0,t,n).stroke({color:r,width:a}):"squares"===e?i.rect(t,n).fill("none").stroke({color:r,width:a}):"circles"===e&&i.circle(t).fill("none").stroke({color:r,width:a})}));return o}},{key:"drawGradient",value:function(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=this.w;t.length<9&&0===t.indexOf("#")&&(t=b.hexToRgba(t,r)),n.length<9&&0===n.indexOf("#")&&(n=b.hexToRgba(n,a));var d=0,f=1,p=1,h=null;null!==s&&(d=void 0!==s[0]?s[0]/100:0,f=void 0!==s[1]?s[1]/100:1,p=void 0!==s[2]?s[2]/100:1,h=void 0!==s[3]?s[3]/100:null);var m=!("donut"!==c.config.chart.type&&"pie"!==c.config.chart.type&&"polarArea"!==c.config.chart.type&&"bubble"!==c.config.chart.type);if(i=null===u||0===u.length?c.globals.dom.Paper.gradient(m?"radial":"linear",(function(e){e.at(d,t,r),e.at(f,n,a),e.at(p,n,a),null!==h&&e.at(h,t,r)})):c.globals.dom.Paper.gradient(m?"radial":"linear",(function(e){(Array.isArray(u[l])?u[l]:u).forEach((function(t){e.at(t.offset/100,t.color,t.opacity)}))})),m){var g=c.globals.gridWidth/2,v=c.globals.gridHeight/2;"bubble"!==c.config.chart.type?i.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:v,r:o}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?i.from(0,0).to(0,1):"diagonal"===e?i.from(0,0).to(1,1):"horizontal"===e?i.from(0,1).to(1,1):"diagonal2"===e&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,r=e.fontSize,a=e.fontFamily,i=this.getTextRects(t,r,a),o=i.width/t.length,s=Math.floor(n/o);return n<i.width?t.slice(0,s-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,r=e.y,a=e.text,o=e.textAnchor,s=e.fontSize,u=e.fontFamily,l=e.fontWeight,c=e.foreColor,d=e.opacity,f=e.maxWidth,p=e.cssClass,h=void 0===p?"":p,m=e.isPlainText,g=void 0===m||m,v=this.w;void 0===a&&(a="");var y=a;o||(o="start"),c&&c.length||(c=v.config.chart.foreColor),u=u||v.config.chart.fontFamily,l=l||"regular";var b,x={maxWidth:f,fontSize:s=s||"11px",fontFamily:u};return Array.isArray(a)?b=v.globals.dom.Paper.text((function(e){for(var n=0;n<a.length;n++)y=a[n],f&&(y=t.getTextBasedOnMaxWidth(i({text:a[n]},x))),0===n?e.tspan(y):e.tspan(y).newLine()})):(f&&(y=this.getTextBasedOnMaxWidth(i({text:a},x))),b=g?v.globals.dom.Paper.plain(a):v.globals.dom.Paper.text((function(e){return e.tspan(y)}))),b.attr({x:n,y:r,"text-anchor":o,"dominant-baseline":"auto","font-size":s,"font-family":u,"font-weight":l,fill:c,class:"apexcharts-text "+h}),b.node.style.fontFamily=u,b.node.style.opacity=d,b}},{key:"drawMarker",value:function(e,t,n){e=e||0;var r=n.pSize||0,a=null;if("square"===n.shape||"rect"===n.shape){var i=void 0===n.pRadius?r/2:n.pRadius;null!==t&&r||(r=0,i=0);var o=1.2*r+i,s=this.drawRect(o,o,o,o,i);s.attr({x:e-o/2,y:t-o/2,cx:e,cy:t,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),a=s}else"circle"!==n.shape&&n.shape||(b.isNumber(t)||(r=0,t=0),a=this.drawCircle(r,{cx:e,cy:t,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pointStrokeWidth?n.pointStrokeWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return a}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,r=new A(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}]),("none"===n.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&!n.globals.isTouchDevice){var o=n.config.states.hover.filter;r.applyFilter(e,a,o.type,o.value)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,r=new A(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:a,dataPointIndex:i,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&r.getDefaultFilter(e,a)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,r=new A(this.ctx),a=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),o="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[a].indexOf(i)>-1){var s=n.globals.selectedDataPoints[a].indexOf(i);n.globals.selectedDataPoints[a].splice(s,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var u=n.globals.dom.Paper.select(".apexcharts-series path").members,l=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,c=function(e){Array.prototype.forEach.call(e,(function(e){e.node.setAttribute("selected","false"),r.getDefaultFilter(e,a)}))};c(u),c(l)}e.node.setAttribute("selected","true"),o="true",void 0===n.globals.selectedDataPoints[a]&&(n.globals.selectedDataPoints[a]=[]),n.globals.selectedDataPoints[a].push(i)}if("true"===o){var d=n.config.states.active.filter;if("none"!==d)r.applyFilter(e,a,d.type,d.value);else if("none"!==n.config.states.hover.filter&&!n.globals.isTouchDevice){var f=n.config.states.hover.filter;r.applyFilter(e,a,f.type,f.value)}}else"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?r.getDefaultFilter(e,a):(f=n.config.states.hover.filter,r.applyFilter(e,a,f.type,f.value)));"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:i,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:a,dataPointIndex:i,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});r&&o.attr("transform",r),i.globals.dom.Paper.add(o);var s=o.bbox();return a||(s=o.node.getBoundingClientRect()),o.remove(),{width:s.width,height:s.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=n/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),e}(),k=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getStackedSeriesTotals",value:function(){var e=this.w,t=[];if(0===e.globals.series.length)return t;for(var n=0;n<e.globals.series[e.globals.maxValsInArrayIndex].length;n++){for(var r=0,a=0;a<e.globals.series.length;a++)void 0!==e.globals.series[a][n]&&(r+=e.globals.series[a][n]);t.push(r)}return e.globals.stackedSeriesTotals=t,t}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce((function(e,t){return e+t}),0):this.w.globals.series[e].reduce((function(e,t){return e+t}),0)}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter((function(e){return null!==e})):this.w.config.series[e].data.filter((function(e){return null!==e}))).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(e,t,n){return e===n[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map((function(e,n){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)}))),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(e){return e.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(e){return e.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(e){t=Math.max(t,e)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(e){t=Math.max(t,e.size)})),t>0&&(t+=e.config.markers.hover.sizeOffset+1),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(e,t){var n=0;if(Array.isArray(e))for(var r=0;r<e.length;r++)n+=e[r];else n+=e;return n}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map((function(r,a){for(var i=0,o=0;o<r.length;o++)n.globals.seriesX[a][o]>e&&n.globals.seriesX[a][o]<t&&(i+=r[o]);return i}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,n){var r=[];if(Array.isArray(t))for(var a=0;a<t.length;a++){var i=e.globals.stackedSeriesTotals[a],o=0;i&&(o=100*t[a]/i),r.push(o)}else{var s=100*t/e.globals.seriesTotals.reduce((function(e,t){return e+t}),0);r.push(s)}return r}))}},{key:"getCalculatedRatios",value:function(){var e,t,n,r,a=this.w.globals,i=[],o=0,s=[],u=.1,l=0;if(a.yRange=[],a.isMultipleYAxis)for(var c=0;c<a.minYArr.length;c++)a.yRange.push(Math.abs(a.minYArr[c]-a.maxYArr[c])),s.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var d=0;d<a.yRange.length;d++)i.push(a.yRange[d]/a.gridHeight);if(t=a.xRange/a.gridWidth,n=Math.abs(a.initialMaxX-a.initialMinX)/a.gridWidth,e=a.yRange/a.gridWidth,r=a.xRange/a.gridHeight,(o=a.zRange/a.gridHeight*16)||(o=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),a.isMultipleYAxis){s=[];for(var f=0;f<i.length;f++)s.push(-a.minYArr[f]/i[f])}else s.push(-a.minY/i[0]),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(u=-a.minY/e,l=a.minX/t);return{yRatio:i,invertedYRatio:e,zRatio:o,xRatio:t,initialXRatio:n,invertedXRatio:r,baseLineInvertedY:u,baseLineY:s,baseLineX:l}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map((function(e,r){return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?e.map((function(e){return null===e?null:t.getLogVal(n.config.yaxis[r].logBase,e,r)})):e})),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(0===t)return 0;var r=this.w,a=0===r.globals.minYArr[n]?-1:this.getBaseLog(e,r.globals.minYArr[n]),i=(0===r.globals.maxYArr[n]?0:this.getBaseLog(e,r.globals.maxYArr[n]))-a;return t<1?t/i:(this.getBaseLog(e,t)-a)/i}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map((function(e,a){if(n.config.yaxis[a]&&t.w.config.yaxis[a].logarithmic){var i,o=-Number.MAX_VALUE,s=Number.MIN_VALUE;return r.seriesLog.forEach((function(e,t){e.forEach((function(e){n.config.yaxis[t]&&n.config.yaxis[t].logarithmic&&(o=Math.max(e,o),s=Math.min(e,s))}))})),i=Math.pow(r.yRange[a],Math.abs(s-o)/r.yRange[a]),r.yLogRatio[a]=i/r.gridHeight,i}})),r.invalidLogScale?e.slice():r.yLogRatio}}],[{key:"checkComboSeries",value:function(e){var t=!1,n=0,r=0;return e.length&&void 0!==e[0].type&&e.forEach((function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||n++,void 0!==e.type&&r++})),r>0&&(t=!0),{comboBarCount:n,comboCharts:t}}},{key:"extendArrayProps",value:function(e,t,n){return t.yaxis&&(t=e.extendYAxis(t,n)),t.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),t.annotations.xaxis&&(t=e.extendXAxisAnnotations(t)),t.annotations.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),S=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t}return l(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===e.label.orientation){var r=null!==t?t:0,a=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(null!==a){var i=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-i.height+4),"top"===e.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+i.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-i.width);var o=this.annoCtx.graphics.rotateAroundCenter(a),s=o.x,u=o.y;a.setAttribute("transform","rotate(-90 ".concat(s," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||void 0===t.label.text||void 0!==t.label.text&&!String(t.label.text).trim())return null;var r=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),a=e.getBoundingClientRect(),i=t.label.style.padding.left,o=t.label.style.padding.right,s=t.label.style.padding.top,u=t.label.style.padding.bottom;"vertical"===t.label.orientation&&(s=t.label.style.padding.left,u=t.label.style.padding.right,i=t.label.style.padding.top,o=t.label.style.padding.bottom);var l=a.left-r.left-i,c=a.top-r.top-s,d=this.annoCtx.graphics.drawRect(l-n.globals.barPadForNumericAxis,c,a.width+i+o,a.height+s+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&d.node.classList.add(t.id),d}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(n,r,a){var i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(r,"']"));if(i){var o=i.parentNode,s=e.addBackgroundToAnno(i,n);s&&(o.insertBefore(s.node,i),n.label.mouseEnter&&s.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&s.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)))}};t.config.annotations.xaxis.map((function(e,t){n(e,t,"xaxis")})),t.config.annotations.yaxis.map((function(e,t){n(e,t,"yaxis")})),t.config.annotations.points.map((function(e,t){n(e,t,"point")}))}},{key:"getY1Y2",value:function(e,t){var n,r="y1"===e?t.y:t.y2,a=this.w;if(this.annoCtx.invertAxis){var i=a.globals.labels.indexOf(r);a.config.xaxis.convertedCatToNumeric&&(i=a.globals.categoryLabels.indexOf(r));var o=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(i+1)+")");o&&(n=parseFloat(o.getAttribute("y")))}else{var s;s=a.config.yaxis[t.yAxisIndex].logarithmic?(r=new k(this.annoCtx.ctx).getLogVal(r,t.yAxisIndex))/a.globals.yLogRatio[t.yAxisIndex]:(r-a.globals.minYArr[t.yAxisIndex])/(a.globals.yRange[t.yAxisIndex]/a.globals.gridHeight),n=a.globals.gridHeight-s,a.config.yaxis[t.yAxisIndex]&&a.config.yaxis[t.yAxisIndex].reversed&&(n=s)}return n}},{key:"getX1X2",value:function(e,t){var n=this.w,r=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,a=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,i=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,o=(t.x-r)/(i/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(o=(a-t.x)/(i/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(o=this.getStringX(t.x));var s=(t.x2-r)/(i/n.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(s=(a-t.x2)/(i/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||(s=this.getStringX(t.x2)),"x1"===e?o:s}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.indexOf(e),a=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(r+1)+")");return a&&(n=parseFloat(a.getAttribute("x"))),n}}]),e}(),C=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new S(this.annoCtx)}return l(e,[{key:"addXaxisAnnotation",value:function(e,t,n){var r,a=this.w,i=this.helpers.getX1X2("x1",e),o=e.label.text,s=e.strokeDashArray;if(b.isNumber(i)){if(null===e.x2||void 0===e.x2){var u=this.annoCtx.graphics.drawLine(i+e.offsetX,0+e.offsetY,i+e.offsetX,a.globals.gridHeight+e.offsetY,e.borderColor,s,e.borderWidth);t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}else{if((r=this.helpers.getX1X2("x2",e))<i){var l=i;i=r,r=l}var c=this.annoCtx.graphics.drawRect(i+e.offsetX,0+e.offsetY,r-i,a.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,s);c.node.classList.add("apexcharts-annotation-rect"),c.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(c.node),e.id&&c.node.classList.add(e.id)}var d="top"===e.label.position?4:a.globals.gridHeight,f=this.annoCtx.graphics.getTextRects(o,parseFloat(e.label.style.fontSize)),p=this.annoCtx.graphics.drawText({x:i+e.label.offsetX,y:d+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?f.width/2-12:-f.width/2:0),text:o,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});p.attr({rel:n}),t.appendChild(p.node),this.annoCtx.helpers.setOrientations(e,n)}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(t,r){e.addXaxisAnnotation(t,n.node,r)})),n}}]),e}(),I=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new S(this.annoCtx)}return l(e,[{key:"addYaxisAnnotation",value:function(e,t,n){var r,a=this.w,i=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),s=e.label.text;if(null===e.y2||void 0===e.y2){var u=this.annoCtx.graphics.drawLine(0+e.offsetX,o+e.offsetY,this._getYAxisAnnotationWidth(e),o+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}else{if((r=this.helpers.getY1Y2("y2",e))>o){var l=o;o=r,r=l}var c=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),o-r,0,e.fillColor,e.opacity,1,e.borderColor,i);c.node.classList.add("apexcharts-annotation-rect"),c.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),t.appendChild(c.node),e.id&&c.node.classList.add(e.id)}var d="right"===e.label.position?a.globals.gridWidth:0,f=this.annoCtx.graphics.drawText({x:d+e.label.offsetX,y:(null!=r?r:o)+e.label.offsetY-3,text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});f.attr({rel:n}),t.appendChild(f.node)}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map((function(t,r){e.addYaxisAnnotation(t,n.node,r)})),n}}]),e}(),E=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new S(this.annoCtx)}return l(e,[{key:"addPointAnnotation",value:function(e,t,n){this.w;var r=this.helpers.getX1X2("x1",e),a=this.helpers.getY1Y2("y1",e);if(b.isNumber(r)){var i={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},o=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,a+e.marker.offsetY,i);t.appendChild(o.node);var s=e.label.text?e.label.text:"",u=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:s,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(u.attr({rel:n}),t.appendChild(u.node),e.customSVG.SVG){var l=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});l.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),l.node.innerHTML=e.customSVG.SVG,t.appendChild(l.node)}if(e.image.path){var c=e.image.width?e.image.width:20,d=e.image.height?e.image.height:20;o=this.annoCtx.addImage({x:r+e.image.offsetX-c/2,y:a+e.image.offsetY-d/2,width:c,height:d,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&o.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&o.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e))}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(t,r){e.addPointAnnotation(t,n.node,r)})),n}}]),e}(),T={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},N=function(){function e(){s(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return l(e,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[T],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(e){return new Date(e).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)/e.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),O=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.graphics=new w(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new S(this),this.xAxisAnnotations=new C(this),this.yAxisAnnotations=new I(this),this.pointsAnnotations=new E(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return l(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),a=e.config.chart.animations.enabled,i=[t,n,r],o=[n.node,t.node,r.node],s=0;s<3;s++)e.globals.dom.elGraphical.add(i[s]),!a||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&o[s].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[s],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,n){e.addImage(t,n)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,n){e.addText(t,n)}))}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,r=e.y,a=e.text,i=e.textAnchor,o=e.foreColor,s=e.fontSize,u=e.fontFamily,l=e.fontWeight,c=e.cssClass,d=e.backgroundColor,f=e.borderWidth,p=e.strokeDashArray,h=e.borderRadius,m=e.borderColor,g=e.appendTo,v=void 0===g?".apexcharts-annotations":g,y=e.paddingLeft,b=void 0===y?4:y,x=e.paddingRight,A=void 0===x?4:x,w=e.paddingBottom,k=void 0===w?2:w,S=e.paddingTop,C=void 0===S?2:S,I=this.w,E=this.graphics.drawText({x:n,y:r,text:a,textAnchor:i||"start",fontSize:s||"12px",fontWeight:l||"regular",fontFamily:u||I.config.chart.fontFamily,foreColor:o||I.config.chart.foreColor,cssClass:c}),T=I.globals.dom.baseEl.querySelector(v);T&&T.appendChild(E.node);var N=E.bbox();if(a){var O=this.graphics.drawRect(N.x-b,N.y-C,N.width+b+A,N.height+k+C,h,d||"transparent",1,f,m,p);T.insertBefore(O.node,E.node)}}},{key:"addImage",value:function(e,t){var n=this.w,r=e.path,a=e.x,i=void 0===a?0:a,o=e.y,s=void 0===o?0:o,u=e.width,l=void 0===u?20:u,c=e.height,d=void 0===c?20:c,f=e.appendTo,p=void 0===f?".apexcharts-annotations":f,h=n.globals.dom.Paper.image(r);h.size(l,d).move(i,s);var m=n.globals.dom.baseEl.querySelector(p);return m&&m.appendChild(h.node),h}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,r=e.context,a=e.type,i=e.contextMethod,o=r,s=o.w,u=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations")),l=u.childNodes.length+1,c=new N,d=Object.assign({},"xaxis"===a?c.xAxisAnnotation:"yaxis"===a?c.yAxisAnnotation:c.pointAnnotation),f=b.extend(d,t);switch(a){case"xaxis":this.addXaxisAnnotation(f,u,l);break;case"yaxis":this.addYaxisAnnotation(f,u,l);break;case"point":this.addPointAnnotation(f,u,l)}var p=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(l,"']")),h=this.helpers.addBackgroundToAnno(p,f);return h&&u.insertBefore(h.node,p),n&&s.globals.memory.methodsToExec.push({context:o,id:f.id?f.id:b.randomId(),method:i,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");t.globals.memory.methodsToExec.map((function(e,n){"addText"!==e.label&&"addAnnotation"!==e.label||t.globals.memory.methodsToExec.splice(n,1)})),n=b.listToArray(n),Array.prototype.forEach.call(n,(function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var n=e.w,r=n.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(n.globals.memory.methodsToExec.map((function(e,r){e.id===t&&n.globals.memory.methodsToExec.splice(r,1)})),Array.prototype.forEach.call(r,(function(e){e.parentElement.removeChild(e)})))}}]),e}(),P=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return l(e,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,r=parseInt(t.globals.gridWidth,10),a=parseInt(t.globals.gridHeight,10),i=r>a?r:a,o=e.image,s=0,u=0;void 0===e.width&&void 0===e.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(s=n.fill.image.width+1,u=n.fill.image.height):(s=i+1,u=i):(s=e.width,u=e.height);var l=document.createElementNS(t.globals.SVGNS,"pattern");w.setAttrs(l,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:s+"px",height:u+"px"});var c=document.createElementNS(t.globals.SVGNS,"image");l.appendChild(c),c.setAttributeNS(window.SVG.xlink,"href",o),w.setAttrs(c,{x:0,y:0,preserveAspectRatio:"none",width:s+"px",height:u+"px"}),c.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(l)}},{key:"getSeriesIndex",value:function(e){var t=this.w;return("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||"heatmap"===t.config.chart.type||"treemap"===t.config.chart.type?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var n,r,a,i=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var o=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(o=t.globals.seriesColors[this.seriesIndex]),"function"==typeof o&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var s=this.getFillType(this.seriesIndex),u=Array.isArray(i.fill.opacity)?i.fill.opacity[this.seriesIndex]:i.fill.opacity;e.color&&(o=e.color);var l=o;if(-1===o.indexOf("rgb")?o.length<9&&(l=b.hexToRgba(o,u)):o.indexOf("rgba")>-1&&(u=b.getOpacityFromRGBA(o)),e.opacity&&(u=e.opacity),"pattern"===s&&(r=this.handlePatternFill(r,o,u,l)),"gradient"===s&&(a=this.handleGradientFill(o,u,this.seriesIndex)),"image"===s){var c=i.fill.image.src,d=e.patternID?e.patternID:"";this.clippedImgArea({opacity:u,image:Array.isArray(c)?e.seriesNumber<c.length?c[e.seriesNumber]:c[0]:c,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:"pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(d)}),n="url(#pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(d,")")}else n="gradient"===s?a:"pattern"===s?r:l;return e.solid&&(n=l),n}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,r=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),void 0!==n.fillColors&&(r=[],Array.isArray(n.fillColors)?r=n.fillColors.slice():r.push(n.fillColors)),r}},{key:"handlePatternFill",value:function(e,t,n,r){var a=this.w.config,i=this.opts,o=new w(this.ctx),s=void 0===a.fill.pattern.strokeWidth?Array.isArray(a.stroke.width)?a.stroke.width[this.seriesIndex]:a.stroke.width:Array.isArray(a.fill.pattern.strokeWidth)?a.fill.pattern.strokeWidth[this.seriesIndex]:a.fill.pattern.strokeWidth,u=t;return Array.isArray(a.fill.pattern.style)?void 0!==a.fill.pattern.style[i.seriesNumber]?o.drawPattern(a.fill.pattern.style[i.seriesNumber],a.fill.pattern.width,a.fill.pattern.height,u,s,n):r:o.drawPattern(a.fill.pattern.style,a.fill.pattern.width,a.fill.pattern.height,u,s,n)}},{key:"handleGradientFill",value:function(e,t,n){var r,a=this.w.config,i=this.opts,o=new w(this.ctx),s=new b,u=a.fill.gradient.type,l=e,c=void 0===a.fill.gradient.opacityFrom?t:Array.isArray(a.fill.gradient.opacityFrom)?a.fill.gradient.opacityFrom[n]:a.fill.gradient.opacityFrom;l.indexOf("rgba")>-1&&(c=b.getOpacityFromRGBA(l));var d=void 0===a.fill.gradient.opacityTo?t:Array.isArray(a.fill.gradient.opacityTo)?a.fill.gradient.opacityTo[n]:a.fill.gradient.opacityTo;if(void 0===a.fill.gradient.gradientToColors||0===a.fill.gradient.gradientToColors.length)r="dark"===a.fill.gradient.shade?s.shadeColor(-1*parseFloat(a.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e):s.shadeColor(parseFloat(a.fill.gradient.shadeIntensity),e.indexOf("rgb")>-1?b.rgb2hex(e):e);else if(a.fill.gradient.gradientToColors[i.seriesNumber]){var f=a.fill.gradient.gradientToColors[i.seriesNumber];r=f,f.indexOf("rgba")>-1&&(d=b.getOpacityFromRGBA(f))}else r=e;if(a.fill.gradient.inverseColors){var p=l;l=r,r=p}return l.indexOf("rgb")>-1&&(l=b.rgb2hex(l)),r.indexOf("rgb")>-1&&(r=b.rgb2hex(r)),o.drawGradient(u,l,r,c,d,i.size,a.fill.gradient.stops,a.fill.gradient.colorStops,n)}}]),e}(),_=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(t){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.w,s=t,u=e,l=null,c=new w(this.ctx),d=o.config.markers.discrete&&o.config.markers.discrete.length;if((o.globals.markers.size[t]>0||i||d)&&(l=c.group({class:i||d?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(o.globals.cuid,")")),Array.isArray(u.x))for(var f=0;f<u.x.length;f++){var p=n;1===n&&0===f&&(p=0),1===n&&1===f&&(p=1);var h="apexcharts-marker";"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(h+=" no-pointer-events");var m=Array.isArray(o.config.markers.size)?o.globals.markers.size[t]>0:o.config.markers.size>0;if(m||i||d){b.isNumber(u.y[f])?h+=" w".concat(b.randomId()):h="apexcharts-nullpoint";var g=this.getMarkerConfig({cssClass:h,seriesIndex:t,dataPointIndex:p});o.config.series[s].data[p]&&(o.config.series[s].data[p].fillColor&&(g.pointFillColor=o.config.series[s].data[p].fillColor),o.config.series[s].data[p].strokeColor&&(g.pointStrokeColor=o.config.series[s].data[p].strokeColor)),r&&(g.pSize=r),(a=c.drawMarker(u.x[f],u.y[f],g)).attr("rel",p),a.attr("j",p),a.attr("index",t),a.node.setAttribute("default-marker-size",g.pSize);var v=new A(this.ctx);v.setSelectionFilter(a,t,p),this.addEvents(a),l&&l.add(a)}else void 0===o.globals.pointsArray[t]&&(o.globals.pointsArray[t]=[]),o.globals.pointsArray[t].push([u.x[f],u.y[f]])}return l}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,r=e.dataPointIndex,a=void 0===r?null:r,i=e.finishRadius,o=void 0===i?null:i,s=this.w,u=this.getMarkerStyle(n),l=s.globals.markers.size[n],c=s.config.markers;return null!==a&&c.discrete.length&&c.discrete.map((function(e){e.seriesIndex===n&&e.dataPointIndex===a&&(u.pointStrokeColor=e.strokeColor,u.pointFillColor=e.fillColor,l=e.size,u.pointShape=e.shape)})),{pSize:null===o?l:o,pRadius:c.radius,width:Array.isArray(c.width)?c.width[n]:c.width,height:Array.isArray(c.height)?c.height[n]:c.height,pointStrokeWidth:Array.isArray(c.strokeWidth)?c.strokeWidth[n]:c.strokeWidth,pointStrokeColor:u.pointStrokeColor,pointFillColor:u.pointFillColor,shape:u.pointShape||(Array.isArray(c.shape)?c.shape[n]:c.shape),class:t,pointStrokeOpacity:Array.isArray(c.strokeOpacity)?c.strokeOpacity[n]:c.strokeOpacity,pointStrokeDashArray:Array.isArray(c.strokeDashArray)?c.strokeDashArray[n]:c.strokeDashArray,pointFillOpacity:Array.isArray(c.fillOpacity)?c.fillOpacity[n]:c.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new w(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(n)?n[e]:n}}}]),e}(),M=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return l(e,[{key:"draw",value:function(e,t,n){var r=this.w,a=new w(this.ctx),i=n.realIndex,o=n.pointsPos,s=n.zRatio,u=n.elParent,l=a.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(l.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(o.x))for(var c=0;c<o.x.length;c++){var d=t+1,f=!0;0===t&&0===c&&(d=0),0===t&&1===c&&(d=1);var p=0,h=r.globals.markers.size[i];if(s!==1/0){h=r.globals.seriesZ[i][d]/s;var m=r.config.plotOptions.bubble;m.minBubbleRadius&&h<m.minBubbleRadius&&(h=m.minBubbleRadius),m.maxBubbleRadius&&h>m.maxBubbleRadius&&(h=m.maxBubbleRadius)}r.config.chart.animations.enabled||(p=h);var g=o.x[c],v=o.y[c];if(p=p||0,null!==v&&void 0!==r.globals.series[i][d]||(f=!1),f){var y=this.drawPoint(g,v,p,h,i,d,t);l.add(y)}u.add(l)}}},{key:"drawPoint",value:function(e,t,n,r,a,i,o){var s=this.w,u=a,l=new x(this.ctx),c=new A(this.ctx),d=new P(this.ctx),f=new _(this.ctx),p=new w(this.ctx),h=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:u,dataPointIndex:i,finishRadius:"bubble"===s.config.chart.type||s.globals.comboCharts&&s.config.series[a]&&"bubble"===s.config.series[a].type?r:null});r=h.pSize;var m,g=d.fillPath({seriesNumber:a,dataPointIndex:i,color:h.pointFillColor,patternUnits:"objectBoundingBox",value:s.globals.series[a][o]});if("circle"===h.shape?m=p.drawCircle(n):"square"!==h.shape&&"rect"!==h.shape||(m=p.drawRect(0,0,h.width-h.pointStrokeWidth/2,h.height-h.pointStrokeWidth/2,h.pRadius)),s.config.series[u].data[i]&&s.config.series[u].data[i].fillColor&&(g=s.config.series[u].data[i].fillColor),m.attr({x:e-h.width/2-h.pointStrokeWidth/2,y:t-h.height/2-h.pointStrokeWidth/2,cx:e,cy:t,fill:g,"fill-opacity":h.pointFillOpacity,stroke:h.pointStrokeColor,r:r,"stroke-width":h.pointStrokeWidth,"stroke-dasharray":h.pointStrokeDashArray,"stroke-opacity":h.pointStrokeOpacity}),s.config.chart.dropShadow.enabled){var v=s.config.chart.dropShadow;c.dropShadow(m,v,a)}if(!this.initialAnim||s.globals.dataChanged||s.globals.resized)s.globals.animationEnded=!0;else{var y=s.config.chart.animations.speed;l.animateMarker(m,0,"circle"===h.shape?r:{width:h.width,height:h.height},y,s.globals.easing,(function(){window.setTimeout((function(){l.animationCompleted(m)}),100)}))}if(s.globals.dataChanged&&"circle"===h.shape)if(this.dynamicAnim){var b,k,S,C,I=s.config.chart.animations.dynamicAnimation.speed;null!=(C=s.globals.previousPaths[a]&&s.globals.previousPaths[a][o])&&(b=C.x,k=C.y,S=void 0!==C.r?C.r:r);for(var E=0;E<s.globals.collapsedSeries.length;E++)s.globals.collapsedSeries[E].index===a&&(I=1,r=0);0===e&&0===t&&(r=0),l.animateCircle(m,{cx:b,cy:k,r:S},{cx:e,cy:t,r:r},I,s.globals.easing)}else m.attr({r:r});return m.attr({rel:i,j:i,index:a,"default-marker-size":r}),c.setSelectionFilter(m,a,i),f.addEvents(m),m.node.classList.add("apexcharts-marker"),m}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),R=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"dataLabelsCorrection",value:function(e,t,n,r,a,i,o){var s=this.w,u=!1,l=new w(this.ctx).getTextRects(n,o),c=l.width,d=l.height;t<0&&(t=0),t>s.globals.gridHeight+d&&(t=s.globals.gridHeight+d/2),void 0===s.globals.dataLabelsRects[r]&&(s.globals.dataLabelsRects[r]=[]),s.globals.dataLabelsRects[r].push({x:e,y:t,width:c,height:d});var f=s.globals.dataLabelsRects[r].length-2,p=void 0!==s.globals.lastDrawnDataLabelsIndexes[r]?s.globals.lastDrawnDataLabelsIndexes[r][s.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(void 0!==s.globals.dataLabelsRects[r][f]){var h=s.globals.dataLabelsRects[r][p];(e>h.x+h.width+2||t>h.y+h.height+2||e+c<h.x)&&(u=!0)}return(0===a||i)&&(u=!0),{x:e,y:t,textRects:l,drawnextLabel:u}}},{key:"drawDataLabel",value:function(e,t,n){var r=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,i=this.w,o=new w(this.ctx),s=i.config.dataLabels,u=0,l=0,c=n,d=null;if(!s.enabled||!Array.isArray(e.x))return d;d=o.group({class:"apexcharts-data-labels"});for(var f=0;f<e.x.length;f++)if(u=e.x[f]+s.offsetX,l=e.y[f]+s.offsetY+a,!isNaN(u)){1===n&&0===f&&(c=0),1===n&&1===f&&(c=1);var p=i.globals.series[t][c],h="",m=function(e){return i.config.dataLabels.formatter(e,{ctx:r.ctx,seriesIndex:t,dataPointIndex:c,w:i})};if("bubble"===i.config.chart.type){h=m(p=i.globals.seriesZ[t][c]),l=e.y[f];var g=new M(this.ctx),v=g.centerTextInBubble(l,t,c);l=v.y}else void 0!==p&&(h=m(p));this.plotDataLabelsText({x:u,y:l,text:h,i:t,j:c,parent:d,offsetCorrection:!0,dataLabelsConfig:i.config.dataLabels})}return d}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new w(this.ctx),r=e.x,a=e.y,i=e.i,o=e.j,s=e.text,u=e.textAnchor,l=e.fontSize,c=e.parent,d=e.dataLabelsConfig,f=e.color,p=e.alwaysDrawDataLabel,h=e.offsetCorrection;if(!(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)){var m={x:r,y:a,drawnextLabel:!0,textRects:null};h&&(m=this.dataLabelsCorrection(r,a,s,i,o,p,parseInt(d.style.fontSize,10))),t.globals.zoomed||(r=m.x,a=m.y),m.textRects&&(r<-10-m.textRects.width||r>t.globals.gridWidth+m.textRects.width+10)&&(s="");var g=t.globals.dataLabels.style.colors[i];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(g=t.globals.dataLabels.style.colors[o]),"function"==typeof g&&(g=g({series:t.globals.series,seriesIndex:i,dataPointIndex:o,w:t})),f&&(g=f);var v=d.offsetX,y=d.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(v=0,y=0),m.drawnextLabel){var b=n.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+v,y:a+y,foreColor:g,textAnchor:u||d.textAnchor,text:s,fontSize:l||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"});if(b.attr({class:"apexcharts-datalabel",cx:r,cy:a}),d.dropShadow.enabled){var x=d.dropShadow;new A(this.ctx).dropShadow(b,x)}c.add(b),void 0===t.globals.lastDrawnDataLabelsIndexes[i]&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(o)}}}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,r=n.config.dataLabels.background,a=r.padding,i=r.padding/2,o=t.width,s=t.height,u=new w(this.ctx).drawRect(t.x-a,t.y-i/2,o+2*a,s+i,r.borderRadius,"transparent"===n.config.chart.background?"#fff":n.config.chart.background,r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new A(this.ctx).dropShadow(u,r.dropShadow),u}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var r=t[n],a=r.getBBox(),i=null;if(a.width&&a.height&&(i=this.addBackgroundToDataLabel(r,a)),i){r.parentNode.insertBefore(i.node,r);var o=r.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?i.attr({fill:o}):i.animate().attr({fill:o}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)n&&n.insertBefore(t[r],n.nextSibling)}}]),e}(),F=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t}return l(e,[{key:"handleBarDataLabels",value:function(e){var t=e.x,n=e.y,r=e.y1,a=e.y2,i=e.i,o=e.j,s=e.realIndex,u=e.series,l=e.barHeight,c=e.barWidth,d=e.barYPosition,f=e.visibleSeries,p=e.renderedPath,h=this.w,m=new w(this.barCtx.ctx),g=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth,v=t+parseFloat(c*f),y=n+parseFloat(l*f);h.globals.isXNumeric&&!h.globals.isBarHorizontal&&(v=t+parseFloat(c*(f+1)),y=n+parseFloat(l*(f+1))-g);var b,x=t,A=n,k=h.config.dataLabels,S=this.barCtx.barOptions.dataLabels;void 0!==d&&this.barCtx.isRangeBar&&(y=d,A=d);var C=k.offsetX,I=k.offsetY,E={width:0,height:0};if(h.config.dataLabels.enabled){var T=this.barCtx.series[i][o];E=m.getTextRects(h.globals.yLabelFormatters[0](T),parseFloat(k.style.fontSize))}var N={x:t,y:n,i:i,j:o,renderedPath:p,bcx:v,bcy:y,barHeight:l,barWidth:c,textRects:E,strokeWidth:g,dataLabelsX:x,dataLabelsY:A,barDataLabelsConfig:S,offX:C,offY:I};return b=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(N):this.calculateColumnsDataLabelsPosition(N),p.attr({cy:b.bcy,cx:b.bcx,j:o,val:u[i][o],barHeight:l,barWidth:c}),this.drawCalculatedDataLabels({x:b.dataLabelsX,y:b.dataLabelsY,val:this.barCtx.isRangeBar?[r,a]:u[i][o],i:s,j:o,barWidth:c,barHeight:l,textRects:E,dataLabelsConfig:k})}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t,n=this.w,r=e.i,a=e.j,i=e.y,o=e.bcx,s=e.barWidth,u=e.barHeight,l=e.textRects,c=e.dataLabelsY,d=e.barDataLabelsConfig,f=e.strokeWidth,p=e.offX,h=e.offY;u=Math.abs(u);var m="vertical"===n.config.plotOptions.bar.dataLabels.orientation;o-=f/2;var g=n.globals.gridWidth/n.globals.dataPoints;t=n.globals.isXNumeric?o-s/2+p:o-g+s/2+p,m&&(t=t+l.height/2-f/2-2);var v=this.barCtx.series[r][a]<0,y=i;switch(this.barCtx.isReversed&&(y=i-u+(v?2*u:0),i-=u),d.position){case"center":c=m?v?y+u/2+h:y+u/2-h:v?y-u/2+l.height/2+h:y+u/2+l.height/2-h;break;case"bottom":c=m?v?y+u+h:y+u-h:v?y-u+l.height+f+h:y+u-l.height/2+f-h;break;case"top":c=m?v?y+h:y-h:v?y-l.height/2-h:y+l.height+h}return n.config.chart.stacked||(c<0?c=0+f:c+l.height/3>n.globals.gridHeight&&(c=n.globals.gridHeight-f)),{bcx:o,bcy:i,dataLabelsX:t,dataLabelsY:c}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,n=e.x,r=e.i,a=e.j,i=e.bcy,o=e.barHeight,s=e.barWidth,u=e.textRects,l=e.dataLabelsX,c=e.strokeWidth,d=e.barDataLabelsConfig,f=e.offX,p=e.offY,h=t.globals.gridHeight/t.globals.dataPoints;s=Math.abs(s);var m=i-(this.barCtx.isRangeBar?0:h)+o/2+u.height/2+p-3,g=this.barCtx.series[r][a]<0,v=n;switch(this.barCtx.isReversed&&(v=n+s-(g?2*s:0),n=t.globals.gridWidth-s),d.position){case"center":l=g?v+s/2-f:Math.max(u.width/2,v-s/2)+f;break;case"bottom":l=g?v+s-c-Math.round(u.width/2)-f:v-s+c+Math.round(u.width/2)+f;break;case"top":l=g?v-c+Math.round(u.width/2)-f:v-c-Math.round(u.width/2)+f}return t.config.chart.stacked||(l<0?l=l+u.width+c:l+u.width/2>t.globals.gridWidth&&(l=t.globals.gridWidth-u.width-c)),{bcx:n,bcy:i,dataLabelsX:l,dataLabelsY:m}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,a=e.i,o=e.j,s=e.textRects,u=e.barHeight,l=e.barWidth,c=e.dataLabelsConfig,d=this.w,f="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(f="rotate(-90, ".concat(t,", ").concat(n,")"));var p=new R(this.barCtx.ctx),h=new w(this.barCtx.ctx),m=c.formatter,g=null,v=d.globals.collapsedSeriesIndices.indexOf(a)>-1;if(c.enabled&&!v){g=h.group({class:"apexcharts-data-labels",transform:f});var y="";void 0!==r&&(y=m(r,{seriesIndex:a,dataPointIndex:o,w:d}));var b=d.globals.series[a][o]<0,x=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(c.textAnchor=b?"end":"start"),"center"===x&&(c.textAnchor="middle"),"bottom"===x&&(c.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<h.getTextRects(y,parseFloat(c.style.fontSize)).width&&(y=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?s.width/1.6>Math.abs(l)&&(y=""):s.height/1.6>Math.abs(u)&&(y=""));var A=i({},c);this.barCtx.isHorizontal&&r<0&&("start"===c.textAnchor?A.textAnchor="end":"end"===c.textAnchor&&(A.textAnchor="start")),p.plotDataLabelsText({x:t,y:n,text:y,i:a,j:o,parent:g,dataLabelsConfig:A,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}}]),e}(),D=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return l(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(b.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function r(n){for(var r=0;r<n.length;r++)n[r].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(n.globals.collapsedSeries),r(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w,a=b.clone(r.globals.initialSeries);r.globals.previousPaths=[],n?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):a=this.emptyCollapsedSeries(a),r.config.series=a,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===e.type){var a=parseInt(t.getAttribute("rel"),10)-1,i=null,o=null;n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?(i=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"))):i=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):i=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var s=0;s<r.length;s++)r[s].classList.add(this.legendInactiveClass);null!==i&&(n.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass))}else if("mouseout"===e.type)for(var u=0;u<r.length;u++)r[u].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,r=this.w,a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(e){for(var t=0;t<a.length;t++)a[t].classList[e](n.legendInactiveClass)};if("mousemove"===e.type){var o=parseInt(t.getAttribute("rel"),10)-1;i("add"),function(e){for(var t=0;t<a.length;t++){var r=parseInt(a[t].getAttribute("val"),10);r>=e.from&&r<=e.to&&a[t].classList.remove(n.legendInactiveClass)}}(r.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===e.type&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=this.w,r=0;if(n.config.series.length>1)for(var a=n.config.series.map((function(t,r){var a=!1;return e&&(a="bar"===n.config.series[r].type||"column"===n.config.series[r].type),t.data&&t.data.length>0&&!a?r:-1})),i="asc"===t?0:a.length-1;"asc"===t?i<a.length:i>=0;"asc"===t?i++:i--)if(-1!==a[i]){r=a[i];break}return r}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,n,r){for(var a=t[n].childNodes,i={type:r,paths:[],realIndex:t[n].getAttribute("data:realIndex")},o=0;o<a.length;o++)if(a[o].hasAttribute("pathTo")){var s=a[o].getAttribute("pathTo");i.paths.push({d:s})}e.globals.previousPaths.push(i)}e.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach((function(n){for(var r,a=(r=n,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series"))),i=0;i<a.length;i++)t(a,i,n)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var r=function(t){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),r=[],a=function(e){var t=function(t){return n[e].getAttribute(t)},a={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};r.push({rect:a,color:n[e].getAttribute("color")})},i=0;i<n.length;i++)a(i);e.globals.previousPaths.push(r)},a=0;a<n.length;a++)r(a);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(n.length>0)for(var r=0;r<n.length;r++){for(var a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(r,"'] circle")),i=[],o=0;o<a.length;o++)i.push({x:a[o].getAttribute("cx"),y:a[o].getAttribute("cy"),r:a[o].getAttribute("r")});t.globals.previousPaths.push(i)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new w(this.ctx),r=e.globals.svgWidth/2,a=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(r=10,i="start"):"right"===t.align&&(r=e.globals.svgWidth-10,i="end"),"top"===t.verticalAlign?a=50:"bottom"===t.verticalAlign&&(a=e.globals.svgHeight-50),r+=t.offsetX,a=a+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var o=n.drawText({x:r,y:a,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(0===e[n].length)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),r=0;r<n.length-1;r++)if(n[r][0]!==n[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(e){return e.length>0?e:[]}))}}]),e}(),L=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t}return l(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var r=0;r<e[n].length;r++)t.globals.seriesX[n][r]>t.globals.minX&&t.globals.seriesX[n][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=e.length-1,t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,n,r,a,i,o,s,u=this.w,l=u.globals.dataPoints;this.barCtx.isRangeBar&&(l=u.globals.labels.length);var c=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(c=1),this.barCtx.isHorizontal)a=(n=u.globals.gridHeight/l)/c,u.globals.isXNumeric&&(a=(n=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,s=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),t=(n-a*this.barCtx.seriesLen)/2;else{if(r=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(r=u.globals.gridWidth/u.globals.dataPoints),i=r/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var d=this.barCtx.xRatio;u.config.xaxis.convertedCatToNumeric&&(d=this.barCtx.initialXRatio),u.globals.minXDiff&&.5!==u.globals.minXDiff&&u.globals.minXDiff/d>0&&(r=u.globals.minXDiff/d),(i=r/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(i=1)}o=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),e=u.globals.padHorizontal+(r-i*this.barCtx.seriesLen)/2}return{x:e,y:t,yDivision:n,xDivision:r,barHeight:a,barWidth:i,zeroH:o,zeroW:s}}},{key:"getPathFillColor",value:function(e,t,n,r){var a=this.w,i=new P(this.barCtx.ctx),o=null,s=this.barCtx.barOptions.distributed?n:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(r){e[t][n]>=r.from&&e[t][n]<=r.to&&(o=r.color)})),a.config.series[t].data[n]&&a.config.series[t].data[n].fillColor&&(o=a.config.series[t].data[n].fillColor),i.fillPath({seriesNumber:this.barCtx.barOptions.distributed?s:r,dataPointIndex:n,color:o,value:e[t][n]})}},{key:"getStrokeWidth",value:function(e,t,n){var r=0,a=this.w;return void 0===this.barCtx.series[e][t]||null===this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,a.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),r}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,r=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.elSeries,u=this.w,l=new w(this.barCtx.ctx),c=new D(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&c===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],f=l.drawRect(void 0!==r?r:0,void 0!==i?i:0,void 0!==a?a:u.globals.gridWidth,void 0!==o?o:u.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);s.add(f),f.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t=e.barWidth,n=e.barXPosition,r=e.yRatio,a=e.y1,i=e.y2,o=e.strokeWidth,s=e.series,u=e.realIndex,l=e.i,c=e.j,d=e.w,f=new w(this.barCtx.ctx);(o=Array.isArray(o)?o[u]:o)||(o=0);var p={barWidth:t,strokeWidth:o,yRatio:r,barXPosition:n,y1:a,y2:i},h=this.getRoundedBars(d,p,s,l,c),m=n,g=n+t,v=f.move(m,a),y=f.move(m,a),b=f.line(g-o,a);return d.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(u,c,!1)),v=v+f.line(m,h.y2)+h.pathWithRadius+f.line(g-o,h.y2)+b+b+"z",y=y+f.line(m,a)+b+b+b+b+b+f.line(m,a),d.config.chart.stacked&&(this.barCtx.yArrj.push(h.y2),this.barCtx.yArrjF.push(Math.abs(a-h.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[l][c])),{pathTo:v,pathFrom:y}}},{key:"getBarpaths",value:function(e){var t=e.barYPosition,n=e.barHeight,r=e.x1,a=e.x2,i=e.strokeWidth,o=e.series,s=e.realIndex,u=e.i,l=e.j,c=e.w,d=new w(this.barCtx.ctx);(i=Array.isArray(i)?i[s]:i)||(i=0);var f={barHeight:n,strokeWidth:i,barYPosition:t,x2:a,x1:r},p=this.getRoundedBars(c,f,o,u,l),h=d.move(r,t),m=d.move(r,t);c.globals.previousPaths.length>0&&(m=this.barCtx.getPreviousPath(s,l,!1));var g=t,v=t+n,y=d.line(r,v-i);return h=h+d.line(p.x2,g)+p.pathWithRadius+d.line(p.x2,v-i)+y+y+"z",m=m+d.line(r,g)+y+y+y+y+y+d.line(r,g),c.config.chart.stacked&&(this.barCtx.xArrj.push(p.x2),this.barCtx.xArrjF.push(Math.abs(r-p.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[u][l])),{pathTo:h,pathFrom:m}}},{key:"getRoundedBars",value:function(e,t,n,r,a){var i=new w(this.barCtx.ctx),o=0,s=e.config.plotOptions.bar.borderRadius,u=Array.isArray(s);if(o=u?s[r>s.length-1?s.length-1:r]:s,e.config.chart.stacked&&n.length>1&&r!==this.barCtx.radiusOnSeriesNumber&&!u&&(o=0),this.barCtx.isHorizontal){var l="",c=t.x2;if(Math.abs(t.x1-t.x2)<o&&(o=Math.abs(t.x1-t.x2)),void 0!==n[r][a]||null!==n[r][a]){var d=this.barCtx.isReversed?n[r][a]>0:n[r][a]<0;d&&(o*=-1),c-=o,l=i.quadraticCurve(c+o,t.barYPosition,c+o,t.barYPosition+(d?-1*o:o))+i.line(c+o,t.barYPosition+t.barHeight-t.strokeWidth-(d?-1*o:o))+i.quadraticCurve(c+o,t.barYPosition+t.barHeight-t.strokeWidth,c,t.barYPosition+t.barHeight-t.strokeWidth)}return{pathWithRadius:l,x2:c}}var f="",p=t.y2;if(Math.abs(t.y1-t.y2)<o&&(o=Math.abs(t.y1-t.y2)),void 0!==n[r][a]||null!==n[r][a]){var h=n[r][a]<0;h&&(o*=-1),p+=o,f=i.quadraticCurve(t.barXPosition,p-o,t.barXPosition+(h?-1*o:o),p-o)+i.line(t.barXPosition+t.barWidth-t.strokeWidth-(h?-1*o:o),p-o)+i.quadraticCurve(t.barXPosition+t.barWidth-t.strokeWidth,p-o,t.barXPosition+t.barWidth-t.strokeWidth,p)}return{pathWithRadius:f,y2:p}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,r=0;r<t.length;r++){for(var a=0,i=0;i<t[n.globals.maxValsInArrayIndex].length;i++)a+=t[r][i];0===a&&this.barCtx.zeroSerieses.push(r)}for(var o=t.length-1;o>=0;o--)this.barCtx.zeroSerieses.indexOf(o)>-1&&o===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var s=t.length-1;s>=0;s--)n.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?t:null;return null!=e&&(r=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),r}},{key:"getYForValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?t:null;return null!=e&&(r=t-e/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),r}},{key:"getGoalValues",value:function(e,t,n,r,a){var i=this,o=this.w,s=[];return o.globals.seriesGoals[r]&&o.globals.seriesGoals[r][a]&&Array.isArray(o.globals.seriesGoals[r][a])&&o.globals.seriesGoals[r][a].forEach((function(r){var a;s.push((c(a={},e,"x"===e?i.getXForValue(r.value,t,!1):i.getYForValue(r.value,n,!1)),c(a,"attrs",r),a))})),s}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,r=e.goalX,a=e.goalY,i=e.barWidth,o=e.barHeight,s=new w(this.barCtx.ctx),u=s.group({className:"apexcharts-bar-goals-groups"}),l=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach((function(e){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:o/2,r=n+t+o/2;l=s.drawLine(e.x,r-2*t,e.x,r,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),u.add(l)})):Array.isArray(a)&&a.forEach((function(e){var n=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:i/2,r=t+n+i/2;l=s.drawLine(r-2*n,e.y,r,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),u.add(l)})),u}}]),e}(),z=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.initialXRatio=n.initialXRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new L(this)}return l(e,[{key:"draw",value:function(e,t){var n=this.w,r=new w(this.ctx),a=new k(this.ctx,n);e=a.getLogSeries(e),this.series=e,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var s=0,u=0;s<e.length;s++,u++){var l,c,d,f,p=void 0,h=void 0,m=[],g=[],v=n.globals.comboCharts?t[s]:s,y=r.group({class:"apexcharts-series",rel:s+1,seriesName:b.escapeString(n.globals.seriesNames[v]),"data:realIndex":v});this.ctx.series.addCollapsedClassToSeries(y,v),e[s].length>0&&(this.visibleI=this.visibleI+1);var x=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var S=this.barHelpers.initialPositions();h=S.y,x=S.barHeight,c=S.yDivision,f=S.zeroW,p=S.x,A=S.barWidth,l=S.xDivision,d=S.zeroH,this.horizontal||g.push(p+A/2);for(var C=r.group({class:"apexcharts-datalabels","data:realIndex":v}),I=r.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),E=0;E<n.globals.dataPoints;E++){var T=this.barHelpers.getStrokeWidth(s,E,v),N=null,O={indexes:{i:s,j:E,realIndex:v,bc:u},x:p,y:h,strokeWidth:T,elSeries:y};this.isHorizontal?(N=this.drawBarPaths(i(i({},O),{},{barHeight:x,zeroW:f,yDivision:c})),A=this.series[s][E]/this.invertedYRatio):(N=this.drawColumnPaths(i(i({},O),{},{xDivision:l,barWidth:A,zeroH:d})),x=this.series[s][E]/this.yRatio[this.yaxisIndex]);var P=this.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:x,barWidth:A});P&&I.add(P),h=N.y,p=N.x,E>0&&g.push(p+A/2),m.push(h);var _=this.barHelpers.getPathFillColor(e,s,E,v);this.renderSeries({realIndex:v,pathFill:_,j:E,i:s,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:T,elSeries:y,x:p,y:h,series:e,barHeight:x,barWidth:A,elDataLabelsWrap:C,elGoalsMarkers:I,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[v]=g,n.globals.seriesYvalues[v]=m,o.add(y)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,r=e.lineFill,a=e.j,i=e.i,o=e.pathFrom,s=e.pathTo,u=e.strokeWidth,l=e.elSeries,c=e.x,d=e.y,f=e.y1,p=e.y2,h=e.series,m=e.barHeight,g=e.barWidth,v=e.barYPosition,y=e.elDataLabelsWrap,b=e.elGoalsMarkers,x=e.visibleSeries,k=e.type,S=this.w,C=new w(this.ctx);r||(r=this.barOptions.distributed?S.globals.stroke.colors[a]:S.globals.stroke.colors[t]),S.config.series[i].data[a]&&S.config.series[i].data[a].strokeColor&&(r=S.config.series[i].data[a].strokeColor),this.isNullValue&&(n="none");var I=a/S.config.chart.animations.animateGradually.delay*(S.config.chart.animations.speed/S.globals.dataPoints)/2.4,E=C.renderPaths({i:i,j:a,realIndex:t,pathFrom:o,pathTo:s,stroke:r,strokeWidth:u,strokeLineCap:S.config.stroke.lineCap,fill:n,animationDelay:I,initialSpeed:S.config.chart.animations.speed,dataChangeSpeed:S.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(k,"-area")});E.attr("clip-path","url(#gridRectMask".concat(S.globals.cuid,")"));var T=S.config.forecastDataPoints;T.count>0&&a>=S.globals.dataPoints-T.count&&(E.node.setAttribute("stroke-dasharray",T.dashArray),E.node.setAttribute("stroke-width",T.strokeWidth),E.node.setAttribute("fill-opacity",T.fillOpacity)),void 0!==f&&void 0!==p&&(E.attr("data-range-y1",f),E.attr("data-range-y2",p)),new A(this.ctx).setSelectionFilter(E,t,a),l.add(E);var N=new F(this).handleBarDataLabels({x:c,y:d,y1:f,y2:p,i:i,j:a,series:h,realIndex:t,barHeight:m,barWidth:g,barYPosition:v,renderedPath:E,visibleSeries:x});return null!==N&&y.add(N),l.add(y),b&&l.add(b),l}},{key:"drawBarPaths",value:function(e){var t=e.indexes,n=e.barHeight,r=e.strokeWidth,a=e.zeroW,i=e.x,o=e.y,s=e.yDivision,u=e.elSeries,l=this.w,c=t.i,d=t.j;l.globals.isXNumeric&&(o=(l.globals.seriesX[c][d]-l.globals.minX)/this.invertedXRatio-n);var f=o+n*this.visibleI;i=this.barHelpers.getXForValue(this.series[c][d],a);var p=this.barHelpers.getBarpaths({barYPosition:f,barHeight:n,x1:a,x2:i,strokeWidth:r,series:this.series,realIndex:t.realIndex,i:c,j:d,w:l});return l.globals.isXNumeric||(o+=s),this.barHelpers.barBackground({j:d,i:c,y1:f-n*this.visibleI,y2:n*this.seriesLen,elSeries:u}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:i,y:o,goalX:this.barHelpers.getGoalValues("x",a,null,c,d),barYPosition:f}}},{key:"drawColumnPaths",value:function(e){var t=e.indexes,n=e.x,r=e.y,a=e.xDivision,i=e.barWidth,o=e.zeroH,s=e.strokeWidth,u=e.elSeries,l=this.w,c=t.realIndex,d=t.i,f=t.j,p=t.bc;if(l.globals.isXNumeric){var h=c;l.globals.seriesX[c].length||(h=l.globals.maxValsInArrayIndex),n=(l.globals.seriesX[h][f]-l.globals.minX)/this.xRatio-i*this.seriesLen/2}var m=n+i*this.visibleI;r=this.barHelpers.getYForValue(this.series[d][f],o);var g=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:i,y1:o,y2:r,strokeWidth:s,series:this.series,realIndex:t.realIndex,i:d,j:f,w:l});return l.globals.isXNumeric||(n+=a),this.barHelpers.barBackground({bc:p,j:f,i:d,x1:m-s/2-i*this.visibleI,x2:i*this.seriesLen+s/2,elSeries:u}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:n,y:r,goalY:this.barHelpers.getGoalValues("y",null,o,d,f),barXPosition:m}}},{key:"getPreviousPath",value:function(e,t){for(var n,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var i=r.globals.previousPaths[a];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&void 0!==r.globals.previousPaths[a].paths[t]&&(n=r.globals.previousPaths[a].paths[t].d)}return n}}]),e}(),Z=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return l(e,[{key:"isValidDate",value:function(e){return!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(g(n.months)),i=["\x01"].concat(g(n.shortMonths)),o=["\x02"].concat(g(n.days)),s=["\x03"].concat(g(n.shortDays));function u(e,t){var n=e+"";for(t=t||2;n.length<t;)n="0"+n;return n}var l=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+l)).replace(/(^|[^\\])yy/g,"$1"+l.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+l);var c=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+u(c))).replace(/(^|[^\\])M/g,"$1"+c);var d=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+s[0])).replace(/(^|[^\\])dd/g,"$1"+u(d))).replace(/(^|[^\\])d/g,"$1"+d);var f=r?e.getUTCHours():e.getHours(),p=f>12?f-12:0===f?12:f;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+u(f))).replace(/(^|[^\\])H/g,"$1"+f)).replace(/(^|[^\\])hh+/g,"$1"+u(p))).replace(/(^|[^\\])h/g,"$1"+p);var h=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+u(h))).replace(/(^|[^\\])m/g,"$1"+h);var m=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+u(m))).replace(/(^|[^\\])s/g,"$1"+m);var v=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+u(v,3)),v=Math.round(v/10),t=t.replace(/(^|[^\\])ff/g,"$1"+u(v)),v=Math.round(v/10);var y=f<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+v)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var x=-e.getTimezoneOffset(),A=r||!x?"Z":x>0?"+":"-";if(!r){var w=(x=Math.abs(x))%60;A+=u(Math.floor(x/60))+":"+u(w)}t=t.replace(/(^|[^\\])K/g,"$1"+A);var k=(r?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[k])).replace(new RegExp(s[0],"g"),s[k])).replace(new RegExp(a[0],"g"),a[c])).replace(new RegExp(i[0],"g"),i[c])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var r=this.w;void 0!==r.config.xaxis.min&&(e=r.config.xaxis.min),void 0!==r.config.xaxis.max&&(t=r.config.xaxis.max);var a=this.getDate(e),i=this.getDate(t),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" "),s=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(s[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(s[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(s[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(s[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(s[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(s[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(s[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var r=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=b.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),e}(),W=function(e){d(n,z);var t=m(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"draw",value:function(e,t){var n=this.w,r=new w(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var a=r.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),o=0;o<e.length;o++){var s,u,l,c=void 0,d=void 0,f=void 0,p=n.globals.comboCharts?t[o]:o,h=r.group({class:"apexcharts-series",seriesName:b.escapeString(n.globals.seriesNames[p]),rel:o+1,"data:realIndex":p});this.ctx.series.addCollapsedClassToSeries(h,p),e[o].length>0&&(this.visibleI=this.visibleI+1);var m=0,g=0;this.yRatio.length>1&&(this.yaxisIndex=p);var v=this.barHelpers.initialPositions();d=v.y,l=v.zeroW,c=v.x,g=v.barWidth,s=v.xDivision,u=v.zeroH;for(var y=r.group({class:"apexcharts-datalabels","data:realIndex":p}),x=r.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),A=0;A<n.globals.dataPoints;A++){var k=this.barHelpers.getStrokeWidth(o,A,p),S=this.seriesRangeStart[o][A],C=this.seriesRangeEnd[o][A],I=null,E=null,T={x:c,y:d,strokeWidth:k,elSeries:h};if(f=v.yDivision,m=v.barHeight,this.isHorizontal){E=d+m*this.visibleI;var N=this.seriesLen;n.config.plotOptions.bar.rangeBarGroupRows&&(N=1);var O=(f-m*N)/2;if(void 0===n.config.series[o].data[A])break;if(n.config.series[o].data[A].x){var P=this.detectOverlappingBars({i:o,j:A,barYPosition:E,srty:O,barHeight:m,yDivision:f,initPositions:v});m=P.barHeight,E=P.barYPosition}g=(I=this.drawRangeBarPaths(i({indexes:{i:o,j:A,realIndex:p},barHeight:m,barYPosition:E,zeroW:l,yDivision:f,y1:S,y2:C},T))).barWidth}else m=(I=this.drawRangeColumnPaths(i({indexes:{i:o,j:A,realIndex:p},zeroH:u,barWidth:g,xDivision:s},T))).barHeight;var _=this.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:E,goalX:I.goalX,goalY:I.goalY,barHeight:m,barWidth:g});_&&x.add(_),d=I.y,c=I.x;var M=this.barHelpers.getPathFillColor(e,o,A,p),R=n.globals.stroke.colors[p];this.renderSeries({realIndex:p,pathFill:M,lineFill:R,j:A,i:o,x:c,y:d,y1:S,y2:C,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:k,elSeries:h,series:e,barHeight:m,barYPosition:E,barWidth:g,elDataLabelsWrap:y,elGoalsMarkers:x,visibleSeries:this.visibleI,type:"rangebar"})}a.add(h)}return a}},{key:"detectOverlappingBars",value:function(e){var t=e.i,n=e.j,r=e.barYPosition,a=e.srty,i=e.barHeight,o=e.yDivision,s=e.initPositions,u=this.w,l=[],c=u.config.series[t].data[n].rangeName,d=u.config.series[t].data[n].x,f=u.globals.labels.indexOf(d),p=u.globals.seriesRangeBar[t].findIndex((function(e){return e.x===d&&e.overlaps.length>0}));return r=u.config.plotOptions.bar.rangeBarGroupRows?a+o*f:a+i*this.visibleI+o*f,p>-1&&!u.config.plotOptions.bar.rangeBarOverlap&&(l=u.globals.seriesRangeBar[t][p].overlaps).indexOf(c)>-1&&(r=(i=s.barHeight/l.length)*this.visibleI+o*(100-parseInt(this.barOptions.barHeight,10))/100/2+i*(this.visibleI+l.indexOf(c))+o*f),{barYPosition:r,barHeight:i}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,n=e.x;e.strokeWidth;var r=e.xDivision,a=e.barWidth,i=e.zeroH,o=this.w,s=t.i,u=t.j,l=this.yRatio[this.yaxisIndex],c=t.realIndex,d=this.getRangeValue(c,u),f=Math.min(d.start,d.end),p=Math.max(d.start,d.end);o.globals.isXNumeric&&(n=(o.globals.seriesX[s][u]-o.globals.minX)/this.xRatio-a/2);var h=n+a*this.visibleI;void 0===this.series[s][u]||null===this.series[s][u]?f=i:(f=i-f/l,p=i-p/l);var m=Math.abs(p-f),g=this.barHelpers.getColumnPaths({barXPosition:h,barWidth:a,y1:f,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:t.realIndex,i:c,j:u,w:o});return o.globals.isXNumeric||(n+=r),{pathTo:g.pathTo,pathFrom:g.pathFrom,barHeight:m,x:n,y:p,goalY:this.barHelpers.getGoalValues("y",null,i,s,u),barXPosition:h}}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,n=e.y,r=e.y1,a=e.y2,i=e.yDivision,o=e.barHeight,s=e.barYPosition,u=e.zeroW,l=this.w,c=u+r/this.invertedYRatio,d=u+a/this.invertedYRatio,f=Math.abs(d-c),p=this.barHelpers.getBarpaths({barYPosition:s,barHeight:o,x1:c,x2:d,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:t.realIndex,realIndex:t.realIndex,j:t.j,w:l});return l.globals.isXNumeric||(n+=i),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:f,x:d,goalX:this.barHelpers.getGoalValues("x",u,null,t.realIndex,t.j),y:n}}},{key:"getRangeValue",value:function(e,t){var n=this.w;return{start:n.globals.seriesRangeStart[e][t],end:n.globals.seriesRangeEnd[e][t]}}},{key:"getTooltipValues",value:function(e){var t=e.ctx,n=e.seriesIndex,r=e.dataPointIndex,a=e.y1,i=e.y2,o=e.w,s=o.globals.seriesRangeStart[n][r],u=o.globals.seriesRangeEnd[n][r],l=o.globals.labels[r],c=o.config.series[n].name?o.config.series[n].name:"",d=o.config.tooltip.y.formatter,f=o.config.tooltip.y.title.formatter,p={w:o,seriesIndex:n,dataPointIndex:r,start:s,end:u};"function"==typeof f&&(c=f(c,p)),Number.isFinite(a)&&Number.isFinite(i)&&(s=a,u=i,o.config.series[n].data[r].x&&(l=o.config.series[n].data[r].x+":"),"function"==typeof d&&(l=d(l,p)));var h="",m="",g=o.globals.colors[n];if(void 0===o.config.tooltip.x.formatter)if("datetime"===o.config.xaxis.type){var v=new Z(t);h=v.formatDate(v.getDate(s),o.config.tooltip.x.format),m=v.formatDate(v.getDate(u),o.config.tooltip.x.format)}else h=s,m=u;else h=o.config.tooltip.x.formatter(s),m=o.config.tooltip.x.formatter(u);return{start:s,end:u,startVal:h,endVal:m,ylabel:l,color:g,seriesName:c}}},{key:"buildCustomTooltipHTML",value:function(e){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e.color+'">'+(e.seriesName||"")+'</span></div><div> <span class="category">'+e.ylabel+' </span> <span class="value start-value">'+e.start+'</span> <span class="separator">-</span> <span class="value end-value">'+e.end+"</span></div></div>"}}]),n}(),B=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,b.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,a=t.w;return e._getBoxTooltip(a,n,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,a=t.w;return e._getBoxTooltip(a,n,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,r=t.dataPointIndex,a=t.w,i=a.globals.seriesRangeStart[n][r];return a.globals.seriesRangeEnd[n][r]-i},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=new W(e.ctx,null),n=t.getTooltipValues(e),r=n.color,a=n.seriesName,i=n.ylabel,o=n.startVal,s=n.endVal;return t.buildCustomTooltipHTML({color:r,seriesName:a,ylabel:i,start:o,end:s})}(e):function(e){var t=new W(e.ctx,null),n=t.getTooltipValues(e),r=n.color,a=n.seriesName,i=n.ylabel,o=n.start,s=n.end;return t.buildCustomTooltipHTML({color:r,seriesName:a,ylabel:i,start:o,end:s})}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(e){return b.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return b.isNumber(e)?Math.floor(e):e};var r=e.xaxis.labels.formatter,a=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(a=n.map((function(e){return Array.isArray(e)?e:String(e)}))),a&&a.length&&(e.xaxis.labels.formatter=function(e){return b.isNumber(e)?r(a[Math.floor(e)-1]):r(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(e,t,n,r,a){var i=e.globals.seriesCandleO[t][n],o=e.globals.seriesCandleH[t][n],s=e.globals.seriesCandleM[t][n],u=e.globals.seriesCandleL[t][n],l=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==a?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+o+"</span></div>"+(s?"<div>".concat(r[2],': <span class="value">')+s+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+u+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+l+"</span></div></div>"}}]),e}(),j=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,r=new N,a=new B(n);this.chartType=n.chart.type,"histogram"===this.chartType&&(n.chart.type="bar",n=b.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},n)),n=this.extendYAxis(n),n=this.extendAnnotations(n);var i=r.init(),s={};if(n&&"object"===o(n)){var u={};u=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?a[n.chart.type]():a.line(),n.chart.brush&&n.chart.brush.enabled&&(u=a.brush(u)),n.chart.stacked&&"100%"===n.chart.stackType&&(n=a.stacked100(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((n=this.checkForCatToNumericXAxis(this.chartType,u,n)).chart.sparkline&&n.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(u=a.sparkline(u)),s=b.extend(i,u)}var l=b.extend(s,window.Apex);return i=b.extend(l,n),this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var r=new B(n),a=("bar"===e||"boxPlot"===e)&&n.plotOptions&&n.plotOptions.bar&&n.plotOptions.bar.horizontal,i="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,o="datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type,s=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return a||i||!o||"between"===s||(n=r.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new N;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=b.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[b.extend(n.yAxis,e.yaxis)]:e.yaxis=b.extendArray(e.yaxis,n.yAxis);var r=!1;e.yaxis.forEach((function(e){e.logarithmic&&(r=!0)}));var a=e.series;return t&&!a&&(a=t.config.series),r&&a.length!==e.yaxis.length&&a.length&&(e.yaxis=a.map((function(t,r){if(t.name||(a[r].name="series-".concat(r+1)),e.yaxis[r])return e.yaxis[r].seriesName=a[r].name,e.yaxis[r];var i=b.extend(n.yAxis,e.yaxis[0]);return i.show=!1,i}))),r&&a.length>1&&a.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new N;return e.annotations.yaxis=b.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new N;return e.annotations.xaxis=b.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new N;return e.annotations.points=b.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.chart.background||(e.chart.background="#424242"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),V=function(){function e(){s(this,e)}return l(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRangeBar=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasGroups=!1,e.groups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.xaxisLabelsCount=0,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=b.extend({},e),t.initialSeries=b.clone(e.series),t.lastXAxis=b.clone(t.initialConfig.xaxis),t.lastYAxis=b.clone(t.initialConfig.yaxis),t}}]),e}(),H=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"init",value:function(){var e=new j(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new V).init(e)}}}]),e}(),U=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new k(this.ctx)}return l(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new D(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new D(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,r=this.w.globals,a="boxPlot"===n.chart.type||"boxPlot"===n.series[t].type,i=0;i<e[t].data.length;i++)if(void 0!==e[t].data[i][1]&&(Array.isArray(e[t].data[i][1])&&4===e[t].data[i][1].length&&!a?this.twoDSeries.push(b.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(b.parseNumber(e[t].data[i][4])):this.twoDSeries.push(b.parseNumber(e[t].data[i][1])),r.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var o=new Date(e[t].data[i][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var s=0;s<e[t].data.length;s++)void 0!==e[t].data[s][2]&&(this.threeDSeries.push(e[t].data[s][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,r=this.w.globals,a=new Z(this.ctx),i=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o].y&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(b.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(b.parseNumber(e[t].data[o].y))),void 0!==e[t].data[o].goals&&Array.isArray(e[t].data[o].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var s=0;s<e[i].data.length;s++){var u="string"==typeof e[i].data[s].x,l=Array.isArray(e[i].data[s].x),c=!l&&!!a.isValidDate(e[i].data[s].x.toString());if(u||c)if(u||n.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;"datetime"!==n.xaxis.type||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[s].x)):this.twoDSeriesX.push(a.parseDate(e[i].data[s].x))}else"datetime"===n.xaxis.type?this.twoDSeriesX.push(a.parseDate(e[i].data[s].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[s].x)));else l?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[s].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[s].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var f=0;f<e[t].data.length;f++)this.threeDSeries.push(e[t].data[f].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(r.start),n.seriesRangeEnd.push(r.end),n.seriesRangeBar.push(r.rangeUniques),n.seriesRangeBar.forEach((function(e,t){e&&e.forEach((function(e,t){e.y.forEach((function(t,n){for(var r=0;r<e.y.length;r++)if(n!==r){var a=t.y1,i=t.y2,o=e.y[r].y1;a<=e.y[r].y2&&o<=i&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[r].rangeName)<0&&e.overlaps.push(e.y[r].rangeName))}}))}))})),r}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=r.o,n.seriesCandleH[t]=r.h,n.seriesCandleM[t]=r.m,n.seriesCandleL[t]=r.l,n.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,n){var r=[],a=[],i=t[n].data.filter((function(e,t,n){return t===n.findIndex((function(t){return t.x===e.x}))})).map((function(e,t){return{x:e.x,overlaps:[],y:[]}})),o="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",s=new D(this.ctx).getActiveConfigSeriesIndex();if("array"===e){if(2!==t[s].data[0][1].length)throw new Error(o);for(var u=0;u<t[n].data.length;u++)r.push(t[n].data[u][1][0]),a.push(t[n].data[u][1][1])}else if("xy"===e){if(2!==t[s].data[0].y.length)throw new Error(o);for(var l=function(e){var o=b.randomId(),s=t[n].data[e].x,u={y1:t[n].data[e].y[0],y2:t[n].data[e].y[1],rangeName:o};t[n].data[e].rangeName=o;var l=i.findIndex((function(e){return e.x===s}));i[l].y.push(u),r.push(u.y1),a.push(u.y2)},c=0;c<t[n].data.length;c++)l(c)}return{start:r,end:a,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var r=this.w,a="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[n].type,i=[],o=[],s=[],u=[],l=[];if("array"===e)if(a&&6===t[n].data[0].length||!a&&5===t[n].data[0].length)for(var c=0;c<t[n].data.length;c++)i.push(t[n].data[c][1]),o.push(t[n].data[c][2]),a?(s.push(t[n].data[c][3]),u.push(t[n].data[c][4]),l.push(t[n].data[c][5])):(u.push(t[n].data[c][3]),l.push(t[n].data[c][4]));else for(var d=0;d<t[n].data.length;d++)Array.isArray(t[n].data[d][1])&&(i.push(t[n].data[d][1][0]),o.push(t[n].data[d][1][1]),a?(s.push(t[n].data[d][1][2]),u.push(t[n].data[d][1][3]),l.push(t[n].data[d][1][4])):(u.push(t[n].data[d][1][2]),l.push(t[n].data[d][1][3])));else if("xy"===e)for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f].y)&&(i.push(t[n].data[f].y[0]),o.push(t[n].data[f].y[1]),a?(s.push(t[n].data[f].y[2]),u.push(t[n].data[f].y[3]),l.push(t[n].data[f].y[4])):(u.push(t[n].data[f].y[2]),l.push(t[n].data[f].y[3])));return{o:i,h:o,m:s,l:u,c:l}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,r=this.w.config,a=this.w.globals,i=new Z(n),o=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();a.isRangeBar="rangeBar"===r.chart.type&&a.isBarHorizontal,a.hasGroups="category"===r.xaxis.type&&r.xaxis.group.groups.length>0,a.hasGroups&&(a.groups=r.xaxis.group.groups);for(var s=function(){for(var e=0;e<o.length;e++)if("string"==typeof o[e]){if(!i.isValidDate(o[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(o[e]))}else t.twoDSeriesX.push(o[e])},u=0;u<e.length;u++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[u].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==r.chart.type&&"rangeArea"!==r.chart.type&&"rangeBar"!==e[u].type&&"rangeArea"!==e[u].type||(a.isRangeData=!0,this.handleRangeData(e,u)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,u):this.isFormatXY()&&this.handleFormatXY(e,u),"candlestick"!==r.chart.type&&"candlestick"!==e[u].type&&"boxPlot"!==r.chart.type&&"boxPlot"!==e[u].type||this.handleCandleStickBoxData(e,u),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),a.seriesGoals=this.seriesGoals,u!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===r.xaxis.type?(a.isXNumeric=!0,s(),a.seriesX.push(this.twoDSeriesX)):"numeric"===r.xaxis.type&&(a.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var l=e[u].data.map((function(e){return b.parseNumber(e)}));a.series.push(l)}a.seriesZ.push(this.threeDSeries),void 0!==e[u].name?a.seriesNames.push(e[u].name):a.seriesNames.push("series-"+parseInt(u+1,10)),void 0!==e[u].color?a.seriesColors.push(e[u].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var r=0;r<t.series.length;r++)void 0===t.seriesNames[r]&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRangeBar.length&&(n.seriesRangeBar.map((function(e){e.forEach((function(e){n.labels.indexOf(e.x)<0&&e.x&&n.labels.push(e.x)}))})),n.labels=n.labels.filter((function(e,t,n){return n.indexOf(e)===t}))),t.xaxis.convertedCatToNumeric&&(new B(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var a=n.series.map((function(e,t){return e.data.filter((function(e,t,n){return n.findIndex((function(t){return t.x===e.x}))===t}))})),i=a.reduce((function(e,t,n,r){return r[e].length>t.length?e:n}),0),o=0;o<a[i].length;o++)r.push(o+1);else for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++)r.push(s+1);t.seriesX=[];for(var u=0;u<e.length;u++)t.seriesX.push(r);t.isXNumeric=!0}if(0===r.length){r=t.axisCharts?[]:t.series.map((function(e,t){return t+1}));for(var l=0;l<e.length;l++)t.seriesX.push(r)}t.labels=r,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map((function(e){return n.xaxis.labels.formatter(e)}))),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?this.parseDataAxisCharts(e):this.parseDataNonAxisCharts(e),this.coreUtils.getLargestSeries(),"bar"===n.chart.type&&n.chart.stacked){var a=new D(this.ctx);r.series=a.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(r.labels),o=0;o<i.length;o++)if(Array.isArray(i[o])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,t=this.w;t.globals.ignoreYAxisIndexes=t.globals.collapsedSeries.map((function(n,r){if(e.w.globals.isMultipleYAxis&&!t.config.chart.stacked)return n.index}))}}]),e}(),G=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return l(e,[{key:"xLabelFormat",value:function(e,t,n,r){var a=this.w;if("datetime"===a.config.xaxis.type&&void 0===a.config.xaxis.labels.formatter&&void 0===a.config.tooltip.x.formatter){var i=new Z(this.ctx);return i.formatDate(i.getDate(t),a.config.tooltip.x.format)}return e(t,n,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(e){return e})):e}},{key:"defaultYFormatter",value:function(e,t,n){var r=this.w;return b.isNumber(e)&&(e=0!==r.globals.yValueDecimal?e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:r.globals.yValueDecimal):r.globals.maxYArr[n]-r.globals.minYArr[n]<5?e.toFixed(1):e.toFixed(0)),e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(b.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(b.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(n,r){void 0!==n.labels.formatter?t.globals.yLabelFormatters[r]=n.labels.formatter:t.globals.yLabelFormatters[r]=function(a){return t.globals.xyCharts?Array.isArray(a)?a.map((function(t){return e.defaultYFormatter(t,n,r)})):e.defaultYFormatter(a,n,r):a}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(e,t){return e.length>t.length?e:t}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),X=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getLabel",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=this.w,u=void 0===e[r]?"":e[r],l=u,c=s.globals.xLabelFormatter,d=s.config.xaxis.labels.formatter,f=!1,p=new G(this.ctx),h=u;o&&(l=p.xLabelFormat(c,u,h,{i:r,dateFormatter:new Z(this.ctx).formatDate,w:s}),void 0!==d&&(l=d(u,e[r],{i:r,dateFormatter:new Z(this.ctx).formatDate,w:s})));var m=function(e){var n=null;return t.forEach((function(e){"month"===e.unit?n="year":"day"===e.unit?n="month":"hour"===e.unit?n="day":"minute"===e.unit&&(n="hour")})),n===e};t.length>0?(f=m(t[r].unit),n=t[r].position,l=t[r].value):"datetime"===s.config.xaxis.type&&void 0===d&&(l=""),void 0===l&&(l=""),l=Array.isArray(l)?l:l.toString();var g=new w(this.ctx),v={};v=s.globals.rotateXLabels&&o?g.getTextRects(l,parseInt(i,10),null,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(l,parseInt(i,10));var y=!s.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(l)&&(0===l.indexOf("NaN")||0===l.toLowerCase().indexOf("invalid")||l.toLowerCase().indexOf("infinity")>=0||a.indexOf(l)>=0&&y)&&(l=""),{x:n,text:l,textRect:v,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var r=this.w,a=r.config.xaxis.tickAmount;return"dataPoints"===a&&(a=Math.round(r.globals.gridWidth/120)),a>n||e%Math.round(n/(a+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,r,a){var i=this.w;if(0===e&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var o=a[a.length-1];t.x<o.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=new k(this.ctx);return!t.config.yaxis[e].show||!t.config.yaxis[e].showForNullSeries&&n.isSeriesNull(e)&&-1===t.globals.collapsedSeriesIndices.indexOf(e)}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,r,a,i,o){var s=this.w,u=new w(this.ctx),l=s.globals.translateY;if(r.show&&t>0){!0===s.config.yaxis[a].opposite&&(e+=r.width);for(var c=t;c>=0;c--){var d=l+t/10+s.config.yaxis[a].labels.offsetY-1;s.globals.isBarHorizontal&&(d=i*c),"heatmap"===s.config.chart.type&&(d+=i/2);var f=u.drawLine(e+n.offsetX-r.width+r.offsetX,d+r.offsetY,e+n.offsetX+r.offsetX,d+r.offsetY,r.color);o.add(f),l+=i}}}}]),e}(),Y=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+r)}},{key:"fixSvgStringForIe11",value:function(e){if(!b.isIE11())return e.replace(/&nbsp;/g,"&#160;");var t=0,n=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(e){return 2===++t?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':e}));return(n=n.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(e){null==e&&(e=1);var t=this.w.globals.dom.Paper.svg();if(1!==e){var n=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(n,e),t=(new XMLSerializer).serializeToString(n)}return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(r,(function(e){e.setAttribute("width",0)})),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var e=this.getSvgString(),t=new Blob([e],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(n){var r=t.w,a=e?e.scale||e.width/r.globals.svgWidth:1;t.cleanup();var i=document.createElement("canvas");i.width=r.globals.svgWidth*a,i.height=parseInt(r.globals.dom.elWrap.style.height,10)*a;var o="transparent"===r.config.chart.background?"#fff":r.config.chart.background,s=i.getContext("2d");s.fillStyle=o,s.fillRect(0,0,i.width*a,i.height*a);var u=t.getSvgString(a);if(window.canvg&&b.isIE11()){var l=window.canvg.Canvg.fromString(s,u,{ignoreClear:!0,ignoreDimensions:!0});l.start();var c=i.msToBlob();l.stop(),n({blob:c})}else{var d="data:image/svg+xml,"+encodeURIComponent(u),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(s.drawImage(f,0,0),i.msToBlob){var e=i.msToBlob();n({blob:e})}else{var t=i.toDataURL("image/png");n({imgURI:t})}},f.src=d}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var e=this;this.dataURI().then((function(t){var n=t.imgURI,r=t.blob;r?navigator.msSaveOrOpenBlob(r,e.w.globals.chartID+".png"):e.triggerDownload(n,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,r=e.columnDelimiter,a=e.lineDelimiter,i=void 0===a?"\n":a,o=this.w,s=[],u=[],l="",c=new U(this.ctx),d=new X(this.ctx),f=function(e){var n="";if(o.globals.axisCharts){if("category"===o.config.xaxis.type||o.config.xaxis.convertedCatToNumeric)if(o.globals.isBarHorizontal){var a=o.globals.yLabelFormatters[0],i=new D(t.ctx).getActiveConfigSeriesIndex();n=a(o.globals.labels[e],{seriesIndex:i,dataPointIndex:e,w:o})}else n=d.getLabel(o.globals.labels,o.globals.timescaleLabels,0,e).text;"datetime"===o.config.xaxis.type&&(o.config.xaxis.categories.length?n=o.config.xaxis.categories[e]:o.config.labels.length&&(n=o.config.labels[e]))}else n=o.config.labels[e];return Array.isArray(n)&&(n=n.join(" ")),b.isNumber(n)?n:n.split(r).join("")};s.push(o.config.chart.toolbar.export.csv.headerCategory),n.map((function(e,t){var n=e.name?e.name:"series-".concat(t);o.globals.axisCharts&&s.push(n.split(r).join("")?n.split(r).join(""):"series-".concat(t))})),o.globals.axisCharts||(s.push(o.config.chart.toolbar.export.csv.headerValue),u.push(s.join(r))),n.map((function(e,t){o.globals.axisCharts?function(e,t){if(s.length&&0===t&&u.push(s.join(r)),e.data&&e.data.length)for(var a=0;a<e.data.length;a++){s=[];var i=f(a);if(i||(c.isFormatXY()?i=n[t].data[a].x:c.isFormat2DArray()&&(i=n[t].data[a]?n[t].data[a][0]:"")),0===t){s.push((d=i,"datetime"===o.config.xaxis.type&&String(d).length>=10?o.config.chart.toolbar.export.csv.dateFormatter(i):b.isNumber(i)?i:i.split(r).join("")));for(var l=0;l<o.globals.series.length;l++)s.push(o.globals.series[l][a])}("candlestick"===o.config.chart.type||e.type&&"candlestick"===e.type)&&(s.pop(),s.push(o.globals.seriesCandleO[t][a]),s.push(o.globals.seriesCandleH[t][a]),s.push(o.globals.seriesCandleL[t][a]),s.push(o.globals.seriesCandleC[t][a])),("boxPlot"===o.config.chart.type||e.type&&"boxPlot"===e.type)&&(s.pop(),s.push(o.globals.seriesCandleO[t][a]),s.push(o.globals.seriesCandleH[t][a]),s.push(o.globals.seriesCandleM[t][a]),s.push(o.globals.seriesCandleL[t][a]),s.push(o.globals.seriesCandleC[t][a])),"rangeBar"===o.config.chart.type&&(s.pop(),s.push(o.globals.seriesRangeStart[t][a]),s.push(o.globals.seriesRangeEnd[t][a])),s.length&&u.push(s.join(r))}var d}(e,t):((s=[]).push(o.globals.labels[t].split(r).join("")),s.push(o.globals.series[t]),u.push(s.join(r)))})),l+=u.join(i),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+l),o.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),e}(),q=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.axesUtils=new X(t),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===n.config.xaxis.position?this.offY=0:this.offY=n.globals.gridHeight+1,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return l(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new w(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);for(var a=[],i=0;i<this.xaxisLabels.length;i++)a.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,r,a,e.globals.isXNumeric,(function(e,t){return t})),e.globals.hasGroups){var o=e.globals.groups;a=[];for(var s=0;s<o.length;s++)a.push(o[s].title);var u={};e.config.xaxis.group.style&&(u.xaxisFontSize=e.config.xaxis.group.style.fontSize,u.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,u.xaxisForeColors=e.config.xaxis.group.style.colors,u.fontWeight=e.config.xaxis.group.style.fontWeight,u.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,a,!1,(function(e,t){return o[e].cols*t}),u)}if(void 0!==e.config.xaxis.title.text){var l=t.group({class:"apexcharts-xaxis-title"}),c=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});l.add(c),n.add(l)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,f=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);n.add(f)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,r,a,i){var o,s=this,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=[],c=[],d=this.w,f=u.xaxisFontSize||this.xaxisFontSize,p=u.xaxisFontFamily||this.xaxisFontFamily,h=u.xaxisForeColors||this.xaxisForeColors,m=u.fontWeight||d.config.xaxis.labels.style.fontWeight,g=u.cssClass||d.config.xaxis.labels.style.cssClass,v=d.globals.padHorizontal,y=r.length,b="category"===d.config.xaxis.type?d.globals.dataPoints:y;if(a){var x=b>1?b-1:b;o=d.globals.gridWidth/x,v=v+i(0,o)/2+d.config.xaxis.labels.offsetX}else o=d.globals.gridWidth/b,v=v+i(0,o)+d.config.xaxis.labels.offsetX;for(var A=function(a){var u=v-i(a,o)/2+d.config.xaxis.labels.offsetX;0===a&&1===y&&o/2===v&&1===b&&(u=d.globals.gridWidth/2);var x=s.axesUtils.getLabel(r,d.globals.timescaleLabels,u,a,l,f,e),A=28;if(d.globals.rotateXLabels&&e&&(A=22),e||(A=A+parseFloat(f)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),x=void 0!==d.config.xaxis.tickAmount&&"dataPoints"!==d.config.xaxis.tickAmount&&"datetime"!==d.config.xaxis.type?s.axesUtils.checkLabelBasedOnTickamount(a,x,y):s.axesUtils.checkForOverflowingLabels(a,x,y,l,c),e&&x.text&&d.globals.xaxisLabelsCount++,d.config.xaxis.labels.show){var w=t.drawText({x:x.x,y:s.offY+d.config.xaxis.labels.offsetY+A-("top"===d.config.xaxis.position?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:x.text,textAnchor:"middle",fontWeight:x.isBold?600:m,fontSize:f,fontFamily:p,foreColor:Array.isArray(h)?e&&d.config.xaxis.convertedCatToNumeric?h[d.globals.minX+a-1]:h[a]:h,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(n.add(w),e){var k=document.createElementNS(d.globals.SVGNS,"title");k.textContent=Array.isArray(x.text)?x.text.join(" "):x.text,w.node.appendChild(k),""!==x.text&&(l.push(x.text),c.push(x))}}a<y-1&&(v+=i(a+1,o))},w=0;w<=y-1;w++)A(w)}},{key:"drawXaxisInversed",value:function(e){var t,n,r=this,a=this.w,i=new w(this.ctx),o=a.config.yaxis[0].opposite?a.globals.translateYAxisX[e]:0,s=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),u=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});s.add(u);var l=[];if(a.config.yaxis[e].show)for(var c=0;c<this.xaxisLabels.length;c++)l.push(this.xaxisLabels[c]);t=a.globals.gridHeight/l.length,n=-t/2.2;var d=a.globals.yLabelFormatters[0],f=a.config.yaxis[0].labels;if(f.show)for(var p=function(o){var s=void 0===l[o]?"":l[o];s=d(s,{seriesIndex:e,dataPointIndex:o,w:a});var c=r.axesUtils.getYAxisForeColor(f.style.colors,e),p=0;Array.isArray(s)&&(p=s.length/2*parseInt(f.style.fontSize,10));var h=i.drawText({x:f.offsetX-15,y:n+t+f.offsetY-p,text:s,textAnchor:r.yaxis.opposite?"start":"end",foreColor:Array.isArray(c)?c[o]:c,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+f.style.cssClass});u.add(h);var m=document.createElementNS(a.globals.SVGNS,"title");if(m.textContent=Array.isArray(s)?s.join(" "):s,h.node.appendChild(m),0!==a.config.yaxis[e].labels.rotate){var g=i.rotateAroundCenter(h.node);h.node.setAttribute("transform","rotate(".concat(a.config.yaxis[e].labels.rotate," 0 ").concat(g.y,")"))}n+=t},h=0;h<=l.length-1;h++)p(h);if(void 0!==a.config.yaxis[0].title.text){var m=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),g=i.drawText({x:0,y:a.globals.gridHeight/2,text:a.config.yaxis[0].title.text,textAnchor:"middle",foreColor:a.config.yaxis[0].title.style.color,fontSize:a.config.yaxis[0].title.style.fontSize,fontWeight:a.config.yaxis[0].title.style.fontWeight,fontFamily:a.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+a.config.yaxis[0].title.style.cssClass});m.add(g),s.add(m)}var v=0;this.isCategoryBarHorizontal&&a.config.yaxis[0].opposite&&(v=a.globals.gridWidth);var y=a.config.xaxis.axisBorder;if(y.show){var b=i.drawLine(a.globals.padHorizontal+y.offsetX+v,1+y.offsetY,a.globals.padHorizontal+y.offsetX+v,a.globals.gridHeight+y.offsetY,y.color,0);s.add(b)}return a.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,l.length,a.config.yaxis[0].axisBorder,a.config.yaxis[0].axisTicks,0,t,s),s}},{key:"drawXaxisTicks",value:function(e,t,n){var r=this.w,a=e;if(!(e<0||e-2>r.globals.gridWidth)){var i=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+i+r.config.xaxis.axisTicks.height,"top"===r.config.xaxis.position&&(t=i-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var o=new w(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,i+r.config.xaxis.offsetY,a+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);n.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var a=0;a<n;a++)r=this.xaxisLabels[a].position,t.push(r);else for(var i=n,o=0;o<i;o++){var s=i;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(s-=1),r+=e.globals.gridWidth/s,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new w(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<r.length;o++){var s=t.rotateAroundCenter(r[o]);s.y=s.y-1,s.x=s.x+1,r[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(s.x," ").concat(s.y,")")),r[o].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var u=r[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(u,(function(n){t.placeTextWithEllipsis(n,n.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))}))}else!function(){for(var n=e.globals.gridWidth/(e.globals.labels.length+1),a=0;a<r.length;a++){var i=r[a].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(i,(function(e){t.placeTextWithEllipsis(e,e.textContent,n)}))}}();if(a.length>0){var l=a[a.length-1].getBBox(),c=a[0].getBBox();l.x<-20&&a[a.length-1].parentNode.removeChild(a[a.length-1]),c.x+c.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&a[0].parentNode.removeChild(a[0]);for(var d=0;d<i.length;d++)t.placeTextWithEllipsis(i[d],i[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),K=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new X(t),this.isRangeBar=n.globals.seriesRangeBar.length,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return l(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=new w(this.ctx);null===e&&(e=n.group({class:"apexcharts-grid"}));var r=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),a=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(a),e.add(r),e}},{key:"drawGrid",value:function(){var e=null;return this.w.globals.axisCharts&&(e=this.renderGrid(),this.drawGridArea(e.el)),e}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new w(this.ctx),r=Array.isArray(e.config.stroke.width)?0:e.config.stroke.width;if(Array.isArray(e.config.stroke.width)){var a=0;e.config.stroke.width.forEach((function(e){a=Math.max(a,e)})),r=a}t.dom.elGridRectMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elForecastMask.setAttribute("id","forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=document.createElementNS(t.SVGNS,"clipPath"),t.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(t.cuid));var i=e.config.chart.type,o=0,s=0;("bar"===i||"rangeBar"===i||"candlestick"===i||"boxPlot"===i||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=e.config.grid.padding.left,s=e.config.grid.padding.right,t.barPadForNumericAxis>o&&(o=t.barPadForNumericAxis,s=t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-r/2-o-2,-r/2,t.gridWidth+r+s+o+4,t.gridHeight+r,0,"#fff");var u=e.globals.markers.largestSize+1;t.dom.elGridRectMarker=n.drawRect(2*-u,2*-u,t.gridWidth+4*u,t.gridHeight+4*u,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var l=t.dom.baseEl.querySelector("defs");l.appendChild(t.dom.elGridRectMask),l.appendChild(t.dom.elForecastMask),l.appendChild(t.dom.elNonForecastMask),l.appendChild(t.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,r=e.y1,a=e.x2,i=e.y2,o=e.xCount,s=e.parent,u=this.w;if(!(0===t&&u.globals.skipFirstTimelinelabel||t===o-1&&u.globals.skipLastTimelinelabel&&!u.config.xaxis.labels.formatter||"radar"===u.config.chart.type)){u.config.grid.xaxis.lines.show&&this._drawGridLine({x1:n,y1:r,x2:a,y2:i,parent:s});var l=0;if(u.globals.hasGroups&&"between"===u.config.xaxis.tickPlacement){var c=u.globals.groups;if(c){for(var d=0,f=0;d<t&&f<c.length;f++)d+=c[f].cols;d===t&&(l=.6*u.globals.xAxisLabelsHeight)}}new q(this.ctx).drawXaxisTicks(n,l,this.elg)}}},{key:"_drawGridLine",value:function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2,i=e.parent,o=this.w,s=i.node.classList.contains("apexcharts-gridlines-horizontal"),u=o.config.grid.strokeDashArray,l=o.globals.barPadForNumericAxis,c=new w(this).drawLine(t-(s?l:0),n,r+(s?l:0),a,o.config.grid.borderColor,u);c.node.classList.add("apexcharts-gridline"),i.add(c)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,r=e.y1,a=e.x2,i=e.y2,o=e.type,s=this.w,u=new w(this.ctx),l=s.globals.barPadForNumericAxis;if("column"!==o||"datetime"!==s.config.xaxis.type){var c=s.config.grid[o].colors[t],d=u.drawRect(n-("row"===o?l:0),r,a+("row"===o?2*l:0),i,0,c,s.config.grid[o].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(o))}}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,r=e.tickAmount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show){var i,o=a.globals.padHorizontal,s=a.globals.gridHeight;a.globals.timescaleLabels.length?function(e){for(var r=e.xC,a=e.x1,i=e.y1,o=e.x2,s=e.y2,u=0;u<r;u++)a=t.xaxisLabels[u].position,o=t.xaxisLabels[u].position,t._drawGridLines({i:u,x1:a,y1:i,x2:o,y2:s,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:o,y1:0,x2:i,y2:s}):(a.globals.isXNumeric&&(n=a.globals.xAxisScale.result.length),a.config.xaxis.convertedCatToNumeric&&(n=a.globals.xaxisLabelsCount),function(e){var r=e.xC,i=e.x1,o=e.y1,s=e.x2,u=e.y2;if(void 0!==a.config.xaxis.tickAmount&&"dataPoints"!==a.config.xaxis.tickAmount&&"on"===a.config.xaxis.tickPlacement)a.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach((function(e,r){var a=e.getBBox();t._drawGridLines({i:r,x1:a.x+a.width/2,y1:o,x2:a.x+a.width/2,y2:u,xCount:n,parent:t.elgridLinesV})}));else for(var l=0;l<r+(a.globals.isXNumeric?0:1);l++)0===l&&1===r&&1===a.globals.dataPoints&&(s=i=a.globals.gridWidth/2),t._drawGridLines({i:l,x1:i,y1:o,x2:s,y2:u,xCount:n,parent:t.elgridLinesV}),s=i+=a.globals.gridWidth/(a.globals.isXNumeric?r-1:r)}({xC:n,x1:o,y1:0,x2:i,y2:s}))}if(a.config.grid.yaxis.lines.show){var u=0,l=0,c=a.globals.gridWidth,d=r+1;this.isRangeBar&&(d=a.globals.labels.length);for(var f=0;f<d+(this.isRangeBar?1:0);f++)this._drawGridLine({x1:0,y1:u,x2:c,y2:l,parent:this.elgridLinesH}),l=u+=a.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var r,a=n.globals.padHorizontal,i=n.globals.gridHeight,o=0;o<t+1;o++)n.config.grid.xaxis.lines.show&&this._drawGridLine({x1:a,y1:0,x2:r,y2:i,parent:this.elgridLinesV}),new q(this.ctx).drawXaxisTicks(a,0,this.elg),r=a=a+n.globals.gridWidth/t+.3;if(n.config.grid.yaxis.lines.show)for(var s=0,u=0,l=n.globals.gridWidth,c=0;c<n.globals.dataPoints+1;c++)this._drawGridLine({x1:0,y1:s,x2:l,y2:u,parent:this.elgridLinesH}),u=s+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=new w(this.ctx);this.elg=t.group({class:"apexcharts-grid"}),this.elgridLinesH=t.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=t.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var n,r=e.globals.yAxisScale.length?e.globals.yAxisScale[0].result.length-1:5,a=0;a<e.globals.series.length&&(void 0!==e.globals.yAxisScale[a]&&(r=e.globals.yAxisScale[a].result.length-1),!(r>2));a++);return!e.globals.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(r=e.globals.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(n=e.config.xaxis.tickAmount)),this._drawXYLines({xCount:n,tickAmount:r})):(n=r,r=e.globals.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:r})),this.drawGridBands(n,r),{el:this.elg,xAxisTickWidth:e.globals.gridWidth/n}}},{key:"drawGridBands",value:function(e,t){var n=this.w;if(void 0!==n.config.grid.row.colors&&n.config.grid.row.colors.length>0)for(var r=0,a=n.globals.gridHeight/t,i=n.globals.gridWidth,o=0,s=0;o<t;o++,s++)s>=n.config.grid.row.colors.length&&(s=0),this._drawGridBandRect({c:s,x1:0,y1:r,x2:i,y2:a,type:"row"}),r+=n.globals.gridHeight/t;if(void 0!==n.config.grid.column.colors&&n.config.grid.column.colors.length>0)for(var u=n.globals.isBarHorizontal||"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric?e:e-1,l=n.globals.padHorizontal,c=n.globals.padHorizontal+n.globals.gridWidth/u,d=n.globals.gridHeight,f=0,p=0;f<e;f++,p++)p>=n.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:l,y1:0,x2:c,y2:d,type:"column"}),l+=n.globals.gridWidth/u}}]),e}(),J=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"niceScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,i=this.w,o=Math.abs(t-e);if("dataPoints"===(n=this._adjustTicksForSmallRange(n,r,o))&&(n=i.globals.dataPoints-1),e===Number.MIN_VALUE&&0===t||!b.isNumber(e)&&!b.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE){e=0,t=n;var s=this.linearScale(e,t,n);return s}e>t?(console.warn("axis.min cannot be greater than axis.max"),t=e+.1):e===t&&(e=0===e?0:e-.5,t=0===t?2:t+.5);var u=[];o<1&&a&&("candlestick"===i.config.chart.type||"candlestick"===i.config.series[r].type||"boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[r].type||i.globals.isRangeData)&&(t*=1.01);var l=n+1;l<2?l=2:l>2&&(l-=2);var c=o/l,d=Math.floor(b.log10(c)),f=Math.pow(10,d),p=Math.round(c/f);p<1&&(p=1);var h=p*f,m=h*Math.floor(e/h),g=h*Math.ceil(t/h),v=m;if(a&&o>2){for(;u.push(v),!((v+=h)>g););return{result:u,niceMin:u[0],niceMax:u[u.length-1]}}var y=e;(u=[]).push(y);for(var x=Math.abs(t-e)/n,A=0;A<=n;A++)y+=x,u.push(y);return u[u.length-2]>=t&&u.pop(),{result:u,niceMin:u[0],niceMax:u[u.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3?arguments[3]:void 0,a=Math.abs(t-e);"dataPoints"===(n=this._adjustTicksForSmallRange(n,r,a))&&(n=this.w.globals.dataPoints-1);var i=a/n;n===Number.MAX_VALUE&&(n=10,i=1);for(var o=[],s=e;n>=0;)o.push(s),s+=i,n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],a=Math.ceil(Math.log(t)/Math.log(n)+1),i=Math.floor(Math.log(e)/Math.log(n));i<a;i++)r.push(Math.pow(n,i));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],a=Math.log(t)/Math.log(n),i=Math.log(e)/Math.log(n),o=a-i,s=Math.round(o),u=o/s,l=0,c=i;l<s;l++,c+=u)r.push(Math.pow(n,c));return r.push(Math.pow(n,a)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var r=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var a=this.w.config.yaxis[t].labels.formatter(1);b.isNumber(Number(a))&&!b.isFloat(a)&&(r=Math.ceil(n))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,n){var r=this.w.globals,a=this.w.config,i=r.isBarHorizontal?a.xaxis:a.yaxis[e];void 0===r.yAxisScale[e]&&(r.yAxisScale[e]=[]);var o=Math.abs(n-t);if(i.logarithmic&&o<=5&&(r.invalidLogScale=!0),i.logarithmic&&o>5)r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.logarithmicScale(t,n,i.logBase),r.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,n,i.logBase):this.logarithmicScale(t,n,i.logBase);else if(n!==-Number.MAX_VALUE&&b.isNumber(n))if(r.allSeriesCollapsed=!1,void 0===i.min&&void 0===i.max||i.forceNiceScale){var s=void 0===a.yaxis[e].max&&void 0===a.yaxis[e].min||a.yaxis[e].forceNiceScale;r.yAxisScale[e]=this.niceScale(t,n,i.tickAmount?i.tickAmount:o<5&&o>1?o+1:5,e,s)}else r.yAxisScale[e]=this.linearScale(t,n,i.tickAmount,e);else r.yAxisScale[e]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(e,t){var n=this.w,r=n.globals,a=n.config.xaxis,i=Math.abs(t-e);return t!==-Number.MAX_VALUE&&b.isNumber(t)?r.xAxisScale=this.linearScale(e,t,a.tickAmount?a.tickAmount:i<5&&i>1?i+1:5,0):r.xAxisScale=this.linearScale(0,5,5),r.xAxisScale}},{key:"setMultipleYScales",value:function(){var e=this,t=this.w.globals,n=this.w.config,r=t.minYArr.concat([]),a=t.maxYArr.concat([]),i=[];n.yaxis.forEach((function(t,o){var s=o;n.series.forEach((function(e,n){e.name===t.seriesName&&(s=n,o!==n?i.push({index:n,similarIndex:o,alreadyExists:!0}):i.push({index:n}))}));var u=r[s],l=a[s];e.setYScaleForIndex(o,u,l)})),this.sameScaleInMultipleAxes(r,a,i)}},{key:"sameScaleInMultipleAxes",value:function(e,t,n){var r=this,a=this.w.config,i=this.w.globals,o=[];n.forEach((function(e){e.alreadyExists&&(void 0===o[e.index]&&(o[e.index]=[]),o[e.index].push(e.index),o[e.index].push(e.similarIndex))})),i.yAxisSameScaleIndices=o,o.forEach((function(e,t){o.forEach((function(n,r){var a,i;t!==r&&(a=e,i=n,a.filter((function(e){return-1!==i.indexOf(e)}))).length>0&&(o[t]=o[t].concat(o[r]))}))}));var s=o.map((function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))})).map((function(e){return e.sort()}));o=o.filter((function(e){return!!e}));var u=s.slice(),l=u.map((function(e){return JSON.stringify(e)}));u=u.filter((function(e,t){return l.indexOf(JSON.stringify(e))===t}));var c=[],d=[];e.forEach((function(e,n){u.forEach((function(r,a){r.indexOf(n)>-1&&(void 0===c[a]&&(c[a]=[],d[a]=[]),c[a].push({key:n,value:e}),d[a].push({key:n,value:t[n]}))}))}));var f=Array.apply(null,Array(u.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(u.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);c.forEach((function(e,t){e.forEach((function(e,n){f[t]=Math.min(e.value,f[t])}))})),d.forEach((function(e,t){e.forEach((function(e,n){p[t]=Math.max(e.value,p[t])}))})),e.forEach((function(e,t){d.forEach((function(e,n){var o=f[n],s=p[n];a.chart.stacked&&(s=0,e.forEach((function(e,t){e.value!==-Number.MAX_VALUE&&(s+=e.value),o!==Number.MIN_VALUE&&(o+=c[n][t].value)}))),e.forEach((function(n,u){e[u].key===t&&(void 0!==a.yaxis[t].min&&(o="function"==typeof a.yaxis[t].min?a.yaxis[t].min(i.minY):a.yaxis[t].min),void 0!==a.yaxis[t].max&&(s="function"==typeof a.yaxis[t].max?a.yaxis[t].max(i.maxY):a.yaxis[t].max),r.setYScaleForIndex(t,o,s))}))}))}))}},{key:"autoScaleY",value:function(e,t,n){e||(e=this);var r=e.w;if(r.globals.isMultipleYAxis||r.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),t;var a=r.globals.seriesX[0],i=r.config.chart.stacked;return t.forEach((function(e,o){for(var s=0,u=0;u<a.length;u++)if(a[u]>=n.xaxis.min){s=u;break}var l,c,d=r.globals.minYArr[o],f=r.globals.maxYArr[o],p=r.globals.stackedSeriesTotals;r.globals.series.forEach((function(o,u){var h=o[s];i?(h=p[s],l=c=h,p.forEach((function(e,t){a[t]<=n.xaxis.max&&a[t]>=n.xaxis.min&&(e>c&&null!==e&&(c=e),o[t]<l&&null!==o[t]&&(l=o[t]))}))):(l=c=h,o.forEach((function(e,t){if(a[t]<=n.xaxis.max&&a[t]>=n.xaxis.min){var i=e,o=e;r.globals.series.forEach((function(n,r){null!==e&&(i=Math.min(n[t],i),o=Math.max(n[t],o))})),o>c&&null!==o&&(c=o),i<l&&null!==i&&(l=i)}}))),void 0===l&&void 0===c&&(l=d,c=f),(c*=c<0?.9:1.1)<0&&c<f&&(c=f),(l*=l<0?1.1:.9)<0&&l>d&&(l=d),t.length>1?(t[u].min=void 0===e.min?l:e.min,t[u].max=void 0===e.max?c:e.max):(t[0].min=void 0===e.min?l:e.min,t[0].max=void 0===e.max?c:e.max)}))})),t}}]),e}(),Q=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.scales=new J(t)}return l(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w.config,i=this.w.globals,o=-Number.MAX_VALUE,s=Number.MIN_VALUE;null===r&&(r=e+1);var u=i.series,l=u,c=u;"candlestick"===a.chart.type?(l=i.seriesCandleL,c=i.seriesCandleH):"boxPlot"===a.chart.type?(l=i.seriesCandleO,c=i.seriesCandleC):i.isRangeData&&(l=i.seriesRangeStart,c=i.seriesRangeEnd);for(var d=e;d<r;d++){i.dataPoints=Math.max(i.dataPoints,u[d].length),i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter((function(e){return void 0!==e})).length);for(var f=0;f<i.series[d].length;f++){var p=u[d][f];null!==p&&b.isNumber(p)?(void 0!==c[d][f]&&(o=Math.max(o,c[d][f]),t=Math.min(t,c[d][f])),void 0!==l[d][f]&&(t=Math.min(t,l[d][f]),n=Math.max(n,l[d][f])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==i.seriesCandleC[d][f]&&(o=Math.max(o,i.seriesCandleO[d][f]),o=Math.max(o,i.seriesCandleH[d][f]),o=Math.max(o,i.seriesCandleL[d][f]),o=Math.max(o,i.seriesCandleC[d][f]),"boxPlot"===this.w.config.chart.type&&(o=Math.max(o,i.seriesCandleM[d][f]))),!a.series[d].type||"candlestick"===a.series[d].type&&"boxPlot"===a.series[d].type||(o=Math.max(o,i.series[d][f]),t=Math.min(t,i.series[d][f])),n=o),i.seriesGoals[d]&&i.seriesGoals[d][f]&&Array.isArray(i.seriesGoals[d][f])&&i.seriesGoals[d][f].forEach((function(e){s!==Number.MIN_VALUE&&(s=Math.min(s,e.value),t=s),o=Math.max(o,e.value),n=o})),b.isFloat(p)&&(p=b.noExponents(p),i.yValueDecimal=Math.max(i.yValueDecimal,p.toString().split(".")[1].length)),s>l[d][f]&&l[d][f]<0&&(s=l[d][f])):i.hasNullValues=!0}}return"rangeBar"===a.chart.type&&i.seriesRangeStart.length&&i.isBarHorizontal&&(s=t),"bar"===a.chart.type&&(s<0&&o<0&&(o=0),s===Number.MIN_VALUE&&(s=0)),{minY:s,maxY:o,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(e.isMultipleYAxis)for(var r=0;r<e.series.length;r++){var a=this.getMinYMaxY(r,n,null,r+1);e.minYArr.push(a.minY),e.maxYArr.push(a.maxY),n=a.lowestY}var i=this.getMinYMaxY(0,n,null,e.series.length);if(e.minY=i.minY,e.maxY=i.maxY,n=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),("line"===t.chart.type||"area"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal)&&e.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==e.maxY){var o=e.maxY-n;(n>=0&&n<=10||void 0!==t.yaxis[0].min||void 0!==t.yaxis[0].max)&&(o=0),e.minY=n-5*o/100,n>0&&e.minY<0&&(e.minY=0),e.maxY=e.maxY+5*o/100}return t.yaxis.forEach((function(t,n){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[n]=t.max:"function"==typeof t.max&&(e.maxYArr[n]=t.max(e.isMultipleYAxis?e.maxYArr[n]:e.maxY)),e.maxY=e.maxYArr[n]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[n]=t.min:"function"==typeof t.min&&(e.minYArr[n]=t.min(e.isMultipleYAxis?e.minYArr[n]===Number.MIN_VALUE?0:e.minYArr[n]:e.minY)),e.minY=e.minYArr[n])})),e.isBarHorizontal&&["min","max"].forEach((function(n){void 0!==t.xaxis[n]&&"number"==typeof t.xaxis[n]&&("min"===n?e.minY=t.xaxis[n]:e.maxY=t.xaxis[n])})),e.isMultipleYAxis?(this.scales.setMultipleYScales(),e.minY=n,e.yAxisScale.forEach((function(t,n){e.minYArr[n]=t.niceMin,e.maxYArr[n]=t.niceMax}))):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.yAxisScale[0].niceMin,e.maxYArr[0]=e.yAxisScale[0].niceMax),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var n=0;n<e.labels[t].length;n++)null!==e.labels[t][n]&&b.isNumber(e.labels[t][n])&&(e.maxX=Math.max(e.maxX,e.labels[t][n]),e.initialMaxX=Math.max(e.maxX,e.labels[t][n]),e.minX=Math.min(e.minX,e.labels[t][n]),e.initialMinX=Math.min(e.minX,e.labels[t][n]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r;if(void 0===t.xaxis.tickAmount?(r=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&0!==e.dataPoints&&(r=e.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric&&(r=e.maxX-e.minX-1)):r=t.xaxis.tickAmount,e.xTickAmount=r,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],i=e.minX-1;i<e.maxX;i++)a.push(i+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(1,r,r),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var n=0;n<e.seriesZ[t].length;n++)null!==e.seriesZ[t][n]&&b.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new Z(this.ctx);if("datetime"===t.xaxis.type){var r=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var a=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()+2):a.setDate(a.getDate()+2),e.maxX=new Date(a).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,n){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort((function(e,t){return e-t})),r.forEach((function(t,n){if(n>0){var a=t-r[n-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}})),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var e=this.w.globals,t=[],n=[];if(e.series.length)for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)for(var a=0,i=0,o=0;o<e.series.length;o++)null!==e.series[o][r]&&b.isNumber(e.series[o][r])&&(e.series[o][r]>0?a=a+parseFloat(e.series[o][r])+1e-4:i+=parseFloat(e.series[o][r])),o===e.series.length-1&&(t.push(a),n.push(i));for(var s=0;s<t.length;s++)e.maxY=Math.max(e.maxY,t[s]),e.minY=Math.min(e.minY,n[s])}}]),e}(),$=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===n.config.xaxis.position&&(this.xAxisoffX=n.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(t)}return l(e,[{key:"drawYaxis",value:function(e){var t=this,n=this.w,r=new w(this.ctx),a=n.config.yaxis[e].labels.style,i=a.fontSize,o=a.fontFamily,s=a.fontWeight,u=r.group({class:"apexcharts-yaxis",rel:e,transform:"translate("+n.globals.translateYAxisX[e]+", 0)"});if(this.axesUtils.isYAxisHidden(e))return u;var l=r.group({class:"apexcharts-yaxis-texts-g"});u.add(l);var c=n.globals.yAxisScale[e].result.length-1,d=n.globals.gridHeight/c,f=n.globals.translateY,p=n.globals.yLabelFormatters[e],h=n.globals.yAxisScale[e].result.slice();h=this.axesUtils.checkForReversedLabels(e,h);var m="";if(n.config.yaxis[e].labels.show)for(var g=function(u){var g=h[u];g=p(g,u,n);var v=n.config.yaxis[e].labels.padding;n.config.yaxis[e].opposite&&0!==n.config.yaxis.length&&(v*=-1);var y=t.axesUtils.getYAxisForeColor(a.colors,e),b=r.drawText({x:v,y:f+c/10+n.config.yaxis[e].labels.offsetY+1,text:g,textAnchor:n.config.yaxis[e].opposite?"start":"end",fontSize:i,fontFamily:o,fontWeight:s,maxWidth:n.config.yaxis[e].labels.maxWidth,foreColor:Array.isArray(y)?y[u]:y,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+a.cssClass});u===c&&(m=b),l.add(b);var x=document.createElementNS(n.globals.SVGNS,"title");if(x.textContent=Array.isArray(g)?g.join(" "):g,b.node.appendChild(x),0!==n.config.yaxis[e].labels.rotate){var A=r.rotateAroundCenter(m.node),w=r.rotateAroundCenter(b.node);b.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," ").concat(A.x," ").concat(w.y,")"))}f+=d},v=c;v>=0;v--)g(v);if(void 0!==n.config.yaxis[e].title.text){var y=r.group({class:"apexcharts-yaxis-title"}),b=0;n.config.yaxis[e].opposite&&(b=n.globals.translateYAxisX[e]);var x=r.drawText({x:b,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[e].title.offsetY,text:n.config.yaxis[e].title.text,textAnchor:"end",foreColor:n.config.yaxis[e].title.style.color,fontSize:n.config.yaxis[e].title.style.fontSize,fontWeight:n.config.yaxis[e].title.style.fontWeight,fontFamily:n.config.yaxis[e].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[e].title.style.cssClass});y.add(x),u.add(y)}var A=n.config.yaxis[e].axisBorder,k=31+A.offsetX;if(n.config.yaxis[e].opposite&&(k=-31-A.offsetX),A.show){var S=r.drawLine(k,n.globals.translateY+A.offsetY-2,k,n.globals.gridHeight+n.globals.translateY+A.offsetY+2,A.color,0,A.width);u.add(S)}return n.config.yaxis[e].axisTicks.show&&this.axesUtils.drawYAxisTicks(k,c,A,n.config.yaxis[e].axisTicks,e,d,u),u}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new w(this.ctx),r=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),a=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(a);var i=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/i+.1,s=o+t.config.xaxis.labels.offsetX,u=t.globals.xLabelFormatter,l=t.globals.yAxisScale[e].result.slice(),c=t.globals.timescaleLabels;c.length>0&&(this.xaxisLabels=c.slice(),i=(l=c.slice()).length),l=this.axesUtils.checkForReversedLabels(e,l);var d=c.length;if(t.config.xaxis.labels.show)for(var f=d?0:i;d?f<d:f>=0;d?f++:f--){var p=l[f];p=u(p,f,t);var h=t.globals.gridWidth+t.globals.padHorizontal-(s-o+t.config.xaxis.labels.offsetX);if(c.length){var m=this.axesUtils.getLabel(l,c,h,f,this.drawnLabels,this.xaxisFontSize);h=m.x,p=m.text,this.drawnLabels.push(m.text),0===f&&t.globals.skipFirstTimelinelabel&&(p=""),f===l.length-1&&t.globals.skipLastTimelinelabel&&(p="")}var g=n.drawText({x:h,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+t.config.xaxis.labels.style.cssClass});a.add(g),g.tspan(p);var v=document.createElementNS(t.globals.SVGNS,"title");v.textContent=p,g.node.appendChild(v),s+=o}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new w(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var a=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(a-=15);var i=n.drawLine(t.globals.padHorizontal+a+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new w(this.ctx);if(void 0!==t.config.xaxis.title.text){var r=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),a=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});r.add(a),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,r=new w(this.ctx),a={width:0,height:0},i={width:0,height:0},o=n.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g"));null!==o&&(a=o.getBoundingClientRect());var s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text"));if(null!==s&&(i=s.getBoundingClientRect()),null!==s){var u=this.xPaddingForYAxisTitle(e,a,i,t);s.setAttribute("x",u.xPos-(t?10:0))}if(null!==s){var l=r.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(l.x," ").concat(l.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,r){var a=this.w,i=0,o=0,s=10;return void 0===a.config.yaxis[e].title.text||e<0?{xPos:o,padd:0}:(r?(o=t.width+a.config.yaxis[e].title.offsetX+n.width/2+s/2,0===(i+=1)&&(o-=s/2)):(o=-1*t.width+a.config.yaxis[e].title.offsetX+s/2+n.width/2,a.globals.isBarHorizontal&&(s=25,o=-1*t.width-a.config.yaxis[e].title.offsetX-s)),{xPos:o,padd:s})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,r=0,a=0,i=18,o=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map((function(s,u){var l=n.globals.ignoreYAxisIndexes.indexOf(u)>-1||!s.show||s.floating||0===e[u].width,c=e[u].width+t[u].width;s.opposite?n.globals.isBarHorizontal?(a=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[u]=a-s.labels.offsetX):(a=n.globals.gridWidth+n.globals.translateX+o,l||(o=o+c+20),n.globals.translateYAxisX[u]=a-s.labels.offsetX+20):(r=n.globals.translateX-i,l||(i=i+c+20),n.globals.translateYAxisX[u]=r+s.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=b.listToArray(t)).forEach((function(t,n){var r=e.config.yaxis[n];if(r&&void 0!==r.labels.align){var a=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"));i=b.listToArray(i);var o=a.getBoundingClientRect();"left"===r.labels.align?(i.forEach((function(e,t){e.setAttribute("text-anchor","start")})),r.opposite||a.setAttribute("transform","translate(-".concat(o.width,", 0)"))):"center"===r.labels.align?(i.forEach((function(e,t){e.setAttribute("text-anchor","middle")})),a.setAttribute("transform","translate(".concat(o.width/2*(r.opposite?1:-1),", 0)"))):"right"===r.labels.align&&(i.forEach((function(e,t){e.setAttribute("text-anchor","end")})),r.opposite&&a.setAttribute("transform","translate(".concat(o.width,", 0)")))}}))}}]),e}(),ee=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.documentEvent=b.bind(this.documentEvent,this)}return l(e,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var r=n.globals.events[e].indexOf(t);-1!==r&&n.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=n.globals.events[e],a=r.length,i=0;i<a;i++)r[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(e){r.addEventListener(e,(function(e){var r=Object.assign({},t,{seriesIndex:t.globals.capturedSeriesIndex,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,n,r):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,n,r):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,n,r),n.ctx.events.fireEvent("click",[e,n,r]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if("click"===e.type){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),te=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=b.extend(T,n);this.w.globals.locale=r.options}}]),e}(),ne=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawAxis",value:function(e,t){var n,r,a=this.w.globals,i=this.w.config,o=new q(this.ctx),s=new $(this.ctx);a.axisCharts&&"radar"!==e&&(a.isBarHorizontal?(r=s.drawYaxisInversed(0),n=o.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(r)):(n=o.drawXaxis(),a.dom.elGraphical.add(n),i.yaxis.map((function(e,t){-1===a.ignoreYAxisIndexes.indexOf(t)&&(r=s.drawYaxis(t),a.dom.Paper.add(r))}))))}}]),e}(),re=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new w(this.ctx),n=new A(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,a=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,o=r.colorFrom,s=r.colorTo,u=r.opacityFrom,l=r.opacityTo,c=r.stops,d=a.enabled,f=a.left,p=a.top,h=a.blur,m=a.color,g=a.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===i&&(v=t.drawGradient("vertical",o,s,u,l,null,c,null));var y=t.drawRect();1===e.config.xaxis.crosshairs.width&&(y=t.drawLine());var x=e.globals.gridHeight;(!b.isNumber(x)||x<0)&&(x=0);var k=e.config.xaxis.crosshairs.width;(!b.isNumber(k)||k<0)&&(k=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:x,width:k,height:x,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(y=n.dropShadow(y,{left:f,top:p,blur:h,color:m,opacity:g})),e.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new w(this.ctx),n=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var a=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);a.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(a)}var i=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),e}(),ae=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,r=n.config;if(0!==r.responsive.length){var a=r.responsive.slice();a.sort((function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0})).reverse();var i=new j({}),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a[0].breakpoint,o=window.innerWidth>0?window.innerWidth:screen.width;if(o>r){var s=k.extendArrayProps(i,n.globals.initialConfig,n);e=b.extend(s,e),e=b.extend(n.config,e),t.overrideResponsiveOptions(e)}else for(var u=0;u<a.length;u++)o<a[u].breakpoint&&(e=k.extendArrayProps(i,a[u].options,n),e=b.extend(n.config,e),t.overrideResponsiveOptions(e))};if(e){var s=k.extendArrayProps(i,e,n);s=b.extend(n.config,s),o(s=b.extend(s,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new j(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),ie=function(){function e(t){s(this,e),this.ctx=t,this.colors=[],this.w=t.w;var n=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===n.config.chart.type&&n.config.plotOptions.treemap.distributed||"heatmap"===n.config.chart.type&&n.config.plotOptions.heatmap.distributed,this.isBarDistributed=n.config.plotOptions.bar.distributed&&("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)}return l(e,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this,t=this.w,n=new b;if(t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode)),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,Array.isArray(t.config.colors)&&t.config.colors.length>0&&"function"==typeof t.config.colors[0]&&(t.globals.colors=t.config.series.map((function(n,r){var a=t.config.colors[r];return a||(a=t.config.colors[0]),"function"==typeof a?(e.isColorFn=!0,a({value:t.globals.axisCharts?t.globals.series[r][0]?t.globals.series[r][0]:0:t.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t})):a})))),t.globals.seriesColors.map((function(e,n){e&&(t.globals.colors[n]=e)})),t.config.theme.monochrome.enabled){var r=[],a=t.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(a=t.globals.series[0].length*t.globals.series.length);for(var i=t.config.theme.monochrome.color,o=1/(a/t.config.theme.monochrome.shadeIntensity),s=t.config.theme.monochrome.shadeTo,u=0,l=0;l<a;l++){var c=void 0;"dark"===s?(c=n.shadeColor(-1*u,i),u+=o):(c=n.shadeColor(u,i),u+=o),r.push(c)}t.globals.colors=r.slice()}var d=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),["fill","stroke"].forEach((function(n){void 0===t.config[n].colors?t.globals[n].colors=e.isColorFn?t.config.colors:d:t.globals[n].colors=t.config[n].colors.slice(),e.pushExtraColors(t.globals[n].colors)})),void 0===t.config.dataLabels.style.colors?t.globals.dataLabels.style.colors=d:t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50),void 0===t.config.plotOptions.radar.polygons.fill.colors?t.globals.radarPolygons.fill.colors=["dark"===t.config.theme.mode?"#424242":"none"]:t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),void 0===t.config.markers.colors?t.globals.markers.colors=d:t.globals.markers.colors=t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,a=t||r.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap.colorScale.inverse),n&&r.globals.series.length&&(a=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<a)for(var i=a-e.length,o=0;o<i;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode||"light",n=e.theme.palette?e.theme.palette:"dark"===t?"palette4":"palette1",r=e.chart.foreColor?e.chart.foreColor:"dark"===t?"#f6f7f8":"#373d3f";return e.tooltip.theme=t,e.chart.foreColor=r,e.theme.palette=n,e}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),e}(),oe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n="title"===e?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,a=n.offsetY,i="middle";if("left"===n.align?(r=10,i="start"):"right"===n.align&&(r=t.globals.svgWidth-10,i="end"),r+=n.offsetX,a=a+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var o=new w(this.ctx).drawText({x:r,y:a,text:n.text,textAnchor:i,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),e}(),se=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,r=0,a="title"===e?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==i&&!a){var o=i.getBoundingClientRect();n=o.width,r=t.globals.axisCharts?o.height+5:o.height}return{width:n,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.baseEl.querySelector(".apexcharts-legend");e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},b.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var r=t.map((function(e,t){return Array.isArray(e)?e.length:1})),a=Math.max.apply(Math,g(r));n=t[r.indexOf(a)]}return n}}]),e}(),ue=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var a=t.globals.xLabelFormatter,i=b.getLargestStringFromArr(n),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,n);t.globals.isBarHorizontal&&(o=i=t.globals.yAxisScale[0].result.reduce((function(e,t){return e.length>t.length?e:t}),0));var s=new G(this.dCtx.ctx),u=i;i=s.xLabelFormat(a,i,u,{i:void 0,dateFormatter:new Z(this.dCtx.ctx).formatDate,w:t}),o=s.xLabelFormat(a,o,u,{i:void 0,dateFormatter:new Z(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===i||""===String(i).trim())&&(o=i="1");var l=new w(this.dCtx.ctx),c=l.getTextRects(i,t.config.xaxis.labels.style.fontSize),d=c;if(i!==o&&(d=l.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:c.width>=d.width?c.width:d.width,height:c.height>=d.height?c.height:d.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var f=function(e){return l.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};c=f(i),i!==o&&(d=f(o)),e.height=(c.height>d.height?c.height:d.height)/1.5,e.width=c.width>d.width?c.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasGroups)return{width:0,height:0};var n,r=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,a=t.globals.groups.map((function(e){return e.title})),i=b.getLargestStringFromArr(a),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,a),s=new w(this.dCtx.ctx),u=s.getTextRects(i,r),l=u;return i!==o&&(l=s.getTextRects(o,r)),n={width:u.width>=l.width?u.width:l.width,height:u.height>=l.height?u.height:l.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(void 0!==e.config.xaxis.title.text){var r=new w(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,n=r.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map((function(e){return e.value})),r=n.reduce((function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t}),0);return 1.05*(e=new w(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,r=n.globals,a=n.config,i=a.xaxis.type,o=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var s=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,u=function(e,s){(function(e){return-1!==r.collapsedSeriesIndices.indexOf(e)})(s)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var s=t.dCtx.timescaleLabels[0],u=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,l=s.position-o/1.75+t.dCtx.yAxisWidthLeft,c="right"===n.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;u>r.svgWidth-r.translateX-c&&(r.skipLastTimelinelabel=!0),l<-(e.show&&!e.floating||"bar"!==a.chart.type&&"candlestick"!==a.chart.type&&"rangeBar"!==a.chart.type&&"boxPlot"!==a.chart.type?10:o/1.75)&&(r.skipFirstTimelinelabel=!0)}else"datetime"===i?t.dCtx.gridPad.right<o&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):"datetime"!==i&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!n.config.xaxis.labels.trim&&("between"!==n.config.xaxis.tickPlacement||n.globals.isBarHorizontal)&&(t.dCtx.xPadRight=o/2+1)}(e)};a.yaxis.forEach((function(e,n){s?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):u(e,n)}))}}]),e}(),le=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],r=10,a=new X(this.dCtx.ctx);return t.config.yaxis.map((function(i,o){var s=t.globals.yAxisScale[o],u=0;if(!a.isYAxisHidden(o)&&i.labels.show&&void 0!==i.labels.minWidth&&(u=i.labels.minWidth),!a.isYAxisHidden(o)&&i.labels.show&&s.result.length){var l=t.globals.yLabelFormatters[o],c=s.niceMin===Number.MIN_VALUE?0:s.niceMin,d=String(c).length>String(s.niceMax).length?c:s.niceMax,f=l(d,{seriesIndex:o,dataPointIndex:-1,w:t}),p=f;if(void 0!==f&&0!==f.length||(f=d),t.globals.isBarHorizontal){r=0;var h=t.globals.labels.slice();f=l(f=b.getLargestStringFromArr(h),{seriesIndex:o,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(f,h)}var m=new w(e.dCtx.ctx),g="rotate(".concat(i.labels.rotate," 0 0)"),v=m.getTextRects(f,i.labels.style.fontSize,i.labels.style.fontFamily,g,!1),y=v;f!==p&&(y=m.getTextRects(p,i.labels.style.fontSize,i.labels.style.fontFamily,g,!1)),n.push({width:(u>y.width||u>v.width?u:y.width>v.width?y.width:v.width)+r,height:y.height>v.height?y.height:v.height})}else n.push({width:0,height:0})})),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map((function(t,r){if(t.show&&void 0!==t.title.text){var a=new w(e.dCtx.ctx),i="rotate(".concat(t.title.rotate," 0 0)"),o=a.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,i,!1);n.push({width:o.width,height:o.height})}else n.push({width:0,height:0})})),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,r=0,a=e.globals.yAxisScale.length>1?10:0,i=new X(this.dCtx.ctx),o=function(o,s){var u=e.config.yaxis[s].floating,l=0;o.width>0&&!u?(l=o.width+a,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(s)&&(l=l-o.width-a)):l=u||i.isYAxisHidden(s)?0:5,e.config.yaxis[s].opposite?r+=l:n+=l,t+=l};return e.globals.yLabelsCoords.map((function(e,t){o(e,t)})),e.globals.yTitleCoords.map((function(e,t){o(e,t)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=r,t}}]),e}(),ce=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w;if(t.globals.noData||t.globals.allSeriesCollapsed)return 0;var n=function(e){return"bar"===e||"rangeBar"===e||"candlestick"===e||"boxPlot"===e},r=t.config.chart.type,a=0,i=n(r)?t.config.series.length:1;if(t.globals.comboBarCount>0&&(i=t.globals.comboBarCount),t.globals.collapsedSeries.forEach((function(e){n(e.type)&&(i-=1)})),t.config.chart.stacked&&(i=1),(n(r)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&i>0){var o,s,u=Math.abs(t.globals.initialMaxX-t.globals.initialMinX);u<=3&&(u=t.globals.dataPoints),o=u/e,t.globals.minXDiff&&t.globals.minXDiff/o>0&&(s=t.globals.minXDiff/o),s>e/2&&(s/=2),(a=s/i*parseInt(t.config.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),a=a/(i>1?1:1.5)+5,t.globals.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,r=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach((function(n){void 0!==t.config[n].text?r+=t.config[n].margin:r+=e.dCtx.isSparkline||!t.globals.axisCharts?0:5})),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(r+=10);var a=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight=n.gridHeight-a.height-i.height-r,n.translateY=n.translateY+a.height+i.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,r=new X(this.dCtx.ctx);n.config.yaxis.map((function(a,i){-1!==n.globals.ignoreYAxisIndexes.indexOf(i)||a.floating||r.isYAxisHidden(i)||(a.opposite&&(n.globals.translateX=n.globals.translateX-(t[i].width+e[i].width)-parseInt(n.config.yaxis[i].labels.style.fontSize,10)/1.2-12),n.globals.translateX<2&&(n.globals.translateX=2))}))}}]),e}(),de=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new se(this),this.dimYAxis=new le(this),this.dimXAxis=new ue(this),this.dimGrid=new ce(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return l(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0],a=n[1];e.gridPad[r]=Math.max(a,e.w.globals.markers.largestSize/1.5)})),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*r,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(r>0?r+4:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),a=this.dimYAxis.getyAxisTitleCoords();t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(e,n){t.globals.yLabelsCoords.push({width:r[n].width,index:n}),t.globals.yTitleCoords.push({width:a[n].width,index:n})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),s=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,s,o),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var u=this.yAxisWidth,l=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-s.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-i.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var c=10;("radar"===t.config.chart.type||this.isSparkline)&&(u=0,l=n.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(u=0,l=0,c=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(i);var d=function(){n.translateX=u,n.gridHeight=n.svgHeight-e.lgRect.height-l-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-u};switch("top"===t.config.xaxis.position&&(c=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=c,d();break;case"top":n.translateY=this.lgRect.height+c,d();break;case"left":n.translateY=c,n.translateX=this.lgRect.width+u,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-this.lgRect.width-u;break;case"right":n.translateY=c,n.translateX=u,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-this.lgRect.width-u-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(a,r),new $(this.ctx).setYAxisXPosition(r,a)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var a="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",i=n.plotOptions[a].offsetY,o=n.plotOptions[a].offsetX;if(!n.legend.show||n.legend.floating)return t.gridHeight=t.svgHeight-n.grid.padding.left+n.grid.padding.right,t.gridWidth=t.gridHeight,t.translateY=i,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2);switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height-t.goldenPadding,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=o+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var r=this.w,a=r.globals.hasGroups?2:1,i=n.height+e.height+t.height,o=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,s=r.globals.rotateXLabels?22:10,u=r.globals.rotateXLabels&&"bottom"===r.config.legend.position?10:0;this.xAxisHeight=i*o+a*s+u,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var l=0,c=0;r.config.yaxis.forEach((function(e){l+=e.labels.minWidth,c+=e.labels.maxWidth})),this.yAxisWidth<l&&(this.yAxisWidth=l),this.yAxisWidth>c&&(this.yAxisWidth=c)}}]),e}(),fe=function(){function e(t){s(this,e),this.w=t.w,this.lgCtx=t}return l(e,[{key:"getLegendStyles",value:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return e.appendChild(t),e}},{key:"getLegendBBox",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject");var t=e.dom.elLegendForeign;t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",e.svgWidth),t.setAttribute("height",e.svgHeight),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.appendChild(e.dom.elLegendWrap),t.appendChild(this.getLegendStyles()),e.dom.Paper.node.insertBefore(t,e.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(e,t){var n=this,r=this.w;if(r.globals.axisCharts||"radialBar"===r.config.chart.type){r.globals.resized=!0;var a=null,i=null;r.globals.risingSeries=[],r.globals.axisCharts?(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(a.getAttribute("data:realIndex"),10)):(a=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(a.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach((function(e){n.riseCollapsedSeries(e.cs,e.csi,i)})):this.hideSeries({seriesEl:a,realIndex:i})}else{var o=r.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),s=r.config.chart.type;if("pie"===s||"polarArea"===s||"donut"===s){var u=r.config.plotOptions.pie.donut.labels;new w(this.lgCtx.ctx).pathMouseDown(o.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(o.members[0].node,u)}o.fire("click")}}},{key:"hideSeries",value:function(e){var t=e.seriesEl,n=e.realIndex,r=this.w,a=b.clone(r.config.series);if(r.globals.axisCharts){var i=!1;if(r.config.yaxis[n]&&r.config.yaxis[n].show&&r.config.yaxis[n].showAlways&&(i=!0,r.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(r.globals.ancillaryCollapsedSeries.push({index:n,data:a[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.ancillaryCollapsedSeriesIndices.push(n))),!i){r.globals.collapsedSeries.push({index:n,data:a[n].data.slice(),type:t.parentNode.className.baseVal.split("-")[1]}),r.globals.collapsedSeriesIndices.push(n);var o=r.globals.risingSeries.indexOf(n);r.globals.risingSeries.splice(o,1)}}else r.globals.collapsedSeries.push({index:n,data:a[n]}),r.globals.collapsedSeriesIndices.push(n);for(var s=t.childNodes,u=0;u<s.length;u++)s[u].classList.contains("apexcharts-series-markers-wrap")&&(s[u].classList.contains("apexcharts-hide")?s[u].classList.remove("apexcharts-hide"):s[u].classList.add("apexcharts-hide"));r.globals.allSeriesCollapsed=r.globals.collapsedSeries.length===r.config.series.length,a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var r=this.w,a=b.clone(r.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===n&&(r.globals.axisCharts?(a[n].data=e[i].data.slice(),e.splice(i,1),t.splice(i,1),r.globals.risingSeries.push(n)):(a[n]=e[i].data,e.splice(i,1),t.splice(i,1),r.globals.risingSeries.push(n)));a=this._getSeriesBasedOnCollapsedState(a),this.lgCtx.ctx.updateHelpers._updateSeries(a,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w;return t.globals.axisCharts?e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[])})):e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r]=0)})),e}}]),e}(),pe=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new fe(this)}return l(e,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config;if((n.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),b.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var e=this,t=this.w,n=t.config.legend.fontFamily,r=t.globals.seriesNames,a=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var i=t.config.plotOptions.heatmap.colorScale.ranges;r=i.map((function(e){return e.name?e.name:e.from+" - "+e.to})),a=i.map((function(e){return e.color}))}else this.isBarsDistributed&&(r=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(r=t.config.legend.customLegendItems);for(var o=t.globals.legendFormatter,s=t.config.legend.inverseOrder,u=s?r.length-1:0;s?u>=0:u<=r.length-1;s?u--:u++){var l=o(r[u],{seriesIndex:u,w:t}),c=!1,d=!1;if(t.globals.collapsedSeries.length>0)for(var f=0;f<t.globals.collapsedSeries.length;f++)t.globals.collapsedSeries[f].index===u&&(c=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var p=0;p<t.globals.ancillaryCollapsedSeriesIndices.length;p++)t.globals.ancillaryCollapsedSeriesIndices[p]===u&&(d=!0);var h=document.createElement("span");h.classList.add("apexcharts-legend-marker");var m=t.config.legend.markers.offsetX,g=t.config.legend.markers.offsetY,v=t.config.legend.markers.height,y=t.config.legend.markers.width,x=t.config.legend.markers.strokeWidth,A=t.config.legend.markers.strokeColor,S=t.config.legend.markers.radius,C=h.style;C.background=a[u],C.color=a[u],C.setProperty("background",a[u],"important"),t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[u]&&(C.background=t.config.legend.markers.fillColors[u]),void 0!==t.globals.seriesColors[u]&&(C.background=t.globals.seriesColors[u],C.color=t.globals.seriesColors[u]),C.height=Array.isArray(v)?parseFloat(v[u])+"px":parseFloat(v)+"px",C.width=Array.isArray(y)?parseFloat(y[u])+"px":parseFloat(y)+"px",C.left=(Array.isArray(m)?parseFloat(m[u]):parseFloat(m))+"px",C.top=(Array.isArray(g)?parseFloat(g[u]):parseFloat(g))+"px",C.borderWidth=Array.isArray(x)?x[u]:x,C.borderColor=Array.isArray(A)?A[u]:A,C.borderRadius=Array.isArray(S)?parseFloat(S[u])+"px":parseFloat(S)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[u]&&(h.innerHTML=t.config.legend.markers.customHTML[u]()):h.innerHTML=t.config.legend.markers.customHTML()),w.setAttrs(h,{rel:u+1,"data:collapsed":c||d}),(c||d)&&h.classList.add("apexcharts-inactive-legend");var I=document.createElement("div"),E=document.createElement("span");E.classList.add("apexcharts-legend-text"),E.innerHTML=Array.isArray(l)?l.join(" "):l;var T=t.config.legend.labels.useSeriesColors?t.globals.colors[u]:t.config.legend.labels.colors;T||(T=t.config.chart.foreColor),E.style.color=T,E.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",E.style.fontWeight=t.config.legend.fontWeight,E.style.fontFamily=n||t.config.chart.fontFamily,w.setAttrs(E,{rel:u+1,i:u,"data:default-text":encodeURIComponent(l),"data:collapsed":c||d}),I.appendChild(h),I.appendChild(E);var N=new k(this.ctx);t.config.legend.showForZeroSeries||0===N.getSeriesTotalByIndex(u)&&N.seriesHaveSameValues(u)&&!N.isSeriesNull(u)&&-1===t.globals.collapsedSeriesIndices.indexOf(u)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(u)&&I.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||N.isSeriesNull(u)&&-1===t.globals.collapsedSeriesIndices.indexOf(u)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(u)&&I.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(I),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),I.classList.add("apexcharts-legend-series"),I.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",w.setAttrs(I,{rel:u+1,seriesName:b.escapeString(r[u]),"data:collapsed":c||d}),(c||d)&&I.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||I.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,r=n.globals.dom.baseEl.querySelector(".apexcharts-legend"),a=r.getBoundingClientRect(),i=0,o=0;if("bottom"===n.config.legend.position)o+=n.globals.svgHeight-a.height/2;else if("top"===n.config.legend.position){var s=new de(this.ctx),u=s.dimHelpers.getTitleSubtitleCoords("title").height,l=s.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=o+(u>0?u-10:0)+(l>0?l-10:0)}r.style.position="absolute",i=i+e+n.config.legend.offsetX,o=o+t+n.config.legend.offsetY,r.style.left=i+"px",r.style.top=o+"px","bottom"===n.config.legend.position?(r.style.top="auto",r.style.bottom=5-n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(r.style.left="auto",r.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach((function(e){r.style[e]&&(r.style[e]=parseInt(n.config.legend[e],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var t=this.legendHelpers.getLegendBBox(),n=new de(this.ctx),r=n.dimHelpers.getTitleSubtitleCoords("title"),a=n.dimHelpers.getTitleSubtitleCoords("subtitle"),i=0;"bottom"===e.config.legend.position?i=-t.clwh/1.8:"top"===e.config.legend.position&&(i=r.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,i)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendBBox(),n=0;"left"===e.config.legend.position&&(n=20),"right"===e.config.legend.position&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(n){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new D(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new D(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,r="true"===e.target.getAttribute("data:collapsed"),a=this.w.config.chart.events.legendClick;"function"==typeof a&&a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var i=this.w.config.legend.markers.onClick;"function"==typeof i&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,r)}}}]),e}(),he=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return l(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},r=n();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var a=0;a<this.t.customIcons.length;a++)this.elCustomIcons.push(n());var i=[],o=function(n,r,a){var o=n.toLowerCase();e.t[o]&&t.config.chart.zoom.enabled&&i.push({el:r,icon:"string"==typeof e.t[o]?e.t[o]:a,title:e.localeValues[n],class:"apexcharts-".concat(o,"-icon")})};o("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),o("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var s=function(n){e.t[n]&&t.config.chart[n].enabled&&i.push({el:"zoom"===n?e.elZoom:e.elSelection,icon:"string"==typeof e.t[n]?e.t[n]:"zoom"===n?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===n?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(n,"-icon")})};s("zoom"),s("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),o("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&i.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var u=0;u<this.elCustomIcons.length;u++)i.push({el:this.elCustomIcons[u],icon:this.t.customIcons[u].icon,title:this.t.customIcons[u].title,index:this.t.customIcons[u].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[u].class});i.forEach((function(e,t){e.index&&b.moveIndexInArray(i,t,e.index)}));for(var l=0;l<i.length;l++)w.setAttrs(i[l].el,{class:i[l].class,title:i[l].title}),i[l].el.innerHTML=i[l].icon,r.appendChild(i[l].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),w.setAttrs(this.elMenu,{class:"apexcharts-menu"});var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||t.splice(2,1);for(var n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,w.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var n="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,n="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(t){t&&t.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,r=(this.maxX+t)/2,a=this._getNewMinXMaxX(n,r);e.globals.disableZoomIn||this.zoomUpdateOptions(a.minX,a.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),a=this._getNewMinXMaxX(n,r);e.globals.disableZoomOut||this.zoomUpdateOptions(a.minX,a.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(void 0!==e||void 0!==t){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var r={min:e,max:t},a=this.getBeforeZoomRange(r);a&&(r=a.xaxis);var i={xaxis:r},o=b.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(o=new J(this.ctx).autoScaleY(this.ctx,o,{xaxis:r})),n.config.chart.group||(i.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Y(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(e){var t=e.w;if(t.globals.lastXAxis.min=void 0,t.globals.lastXAxis.max=void 0,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var n=t.config.chart.events.beforeResetZoom(e,t);n&&e.updateHelpers.revertDefaultAxisMinMax(n)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var r=e.ctx.series.emptyCollapsedSeries(b.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(r,t.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),me=function(e){d(n,he);var t=m(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).ctx=e,r.w=e.w,r.dragged=!1,r.graphics=new w(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r}return l(n,[{key:"init",value:function(e){var t=this,n=e.xyRatios,r=this.w,a=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=r.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),r.globals.dom.elGraphical.add(this.zoomRect),r.globals.dom.elGraphical.add(this.selectionRect),"x"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===r.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:r.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=r.globals.dom.baseEl.querySelector("".concat(r.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(e){t.hoverArea.addEventListener(e,a.svgMouseEvents.bind(a,n),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var n=this.w,r=this,a=this.ctx.toolbar,i=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,o=n.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar("pan"===o?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(o),this.shiftWasPressed=!1),t.target){var s,u=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(s=t.target.parentNode.classList),!(u.contains("apexcharts-selection-rect")||u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||s&&s.contains("apexcharts-toolbar"))){if(r.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,r.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var l=r.gridRect.getBoundingClientRect();r.startX=r.clientX-l.left,r.startY=r.clientY-l.top,r.dragged=!1,r.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(r.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,r.w.globals.mousedown&&r.panDragging({context:r,zoomtype:i,xyRatios:e})):(r.w.globals.mousedown&&n.globals.zoomEnabled||r.w.globals.mousedown&&n.globals.selectionEnabled)&&(r.selection=r.selectionDrawing({context:r,zoomtype:i}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var c=r.gridRect.getBoundingClientRect();r.w.globals.mousedown&&(r.endX=r.clientX-c.left,r.endY=r.clientY-c.top,r.dragX=Math.abs(r.endX-r.startX),r.dragY=Math.abs(r.endY-r.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&r.selectionDrawn({context:r,zoomtype:i}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&r.delayedPanScrolled()),n.globals.zoomEnabled&&r.hideSelectionRect(this.selectionRect),r.dragged=!1,r.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var n=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,r={x:n,y:0,width:e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-n,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(r),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.translateX,o=void 0===i?0:i,s=e.translateY,u=void 0===s?0:s,l=this.w,c=this.zoomRect,d=this.selectionRect;if(this.dragged||null!==l.globals.selection){var f={transform:"translate("+o+", "+u+")"};l.globals.zoomEnabled&&this.dragged&&(r<0&&(r=1),c.attr({x:t,y:n,width:r,height:a,fill:l.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":l.config.chart.zoom.zoomedArea.fill.opacity,stroke:l.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":l.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":l.config.chart.zoom.zoomedArea.stroke.opacity}),w.setAttrs(c.node,f)),l.globals.selectionEnabled&&(d.attr({x:t,y:n,width:r>0?r:0,height:a>0?a:0,fill:l.config.chart.selection.fill.color,"fill-opacity":l.config.chart.selection.fill.opacity,stroke:l.config.chart.selection.stroke.color,"stroke-width":l.config.chart.selection.stroke.width,"stroke-dasharray":l.config.chart.selection.stroke.dashArray,"stroke-opacity":l.config.chart.selection.stroke.opacity}),w.setAttrs(d.node,f))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,n=e.context,r=e.zoomtype,a=this.w,i=n,o=this.gridRect.getBoundingClientRect(),s=i.startX-1,u=i.startY,l=!1,c=!1,d=i.clientX-o.left-s,f=i.clientY-o.top-u;return Math.abs(d+s)>a.globals.gridWidth?d=a.globals.gridWidth-s:i.clientX-o.left<0&&(d=s),s>i.clientX-o.left&&(l=!0,d=Math.abs(d)),u>i.clientY-o.top&&(c=!0,f=Math.abs(f)),t="x"===r?{x:l?s-d:s,y:0,width:d,height:a.globals.gridHeight}:"y"===r?{x:0,y:c?u-f:u,width:a.globals.gridWidth,height:f}:{x:l?s-d:s,y:c?u-f:u,width:d,height:f},i.drawSelectionRect(t),i.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var n=this,r=this.w,a=this.xyRatios,i=this.selectionRect,o=0;"resizing"===e&&(o=30);var s=function(e){return parseFloat(i.node.getAttribute(e))},u={x:s("x"),y:s("y"),width:s("width"),height:s("height")};r.globals.selection=u,"function"==typeof r.config.chart.events.selection&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var e=n.gridRect.getBoundingClientRect(),t=i.node.getBoundingClientRect(),o={xaxis:{min:r.globals.xAxisScale.niceMin+(t.left-e.left)*a.xRatio,max:r.globals.xAxisScale.niceMin+(t.right-e.left)*a.xRatio},yaxis:{min:r.globals.yAxisScale[0].niceMin+(e.bottom-t.bottom)*a.yRatio[0],max:r.globals.yAxisScale[0].niceMax-(t.top-e.top)*a.yRatio[0]}};r.config.chart.events.selection(n.ctx,o),r.config.chart.brush.enabled&&void 0!==r.config.chart.events.brushScrolled&&r.config.chart.events.brushScrolled(n.ctx,o)}),o))}},{key:"selectionDrawn",value:function(e){var t=e.context,n=e.zoomtype,r=this.w,a=t,i=this.xyRatios,o=this.ctx.toolbar;if(a.startX>a.endX){var s=a.startX;a.startX=a.endX,a.endX=s}if(a.startY>a.endY){var u=a.startY;a.startY=a.endY,a.endY=u}var l=void 0,c=void 0;r.globals.isRangeBar?(l=r.globals.yAxisScale[0].niceMin+a.startX*i.invertedYRatio,c=r.globals.yAxisScale[0].niceMin+a.endX*i.invertedYRatio):(l=r.globals.xAxisScale.niceMin+a.startX*i.xRatio,c=r.globals.xAxisScale.niceMin+a.endX*i.xRatio);var d=[],f=[];if(r.config.yaxis.forEach((function(e,t){d.push(r.globals.yAxisScale[t].niceMax-i.yRatio[t]*a.startY),f.push(r.globals.yAxisScale[t].niceMax-i.yRatio[t]*a.endY)})),a.dragged&&(a.dragX>10||a.dragY>10)&&l!==c)if(r.globals.zoomEnabled){var p=b.clone(r.globals.initialConfig.yaxis),h=b.clone(r.globals.initialConfig.xaxis);if(r.globals.zoomed=!0,r.config.xaxis.convertedCatToNumeric&&(l=Math.floor(l),c=Math.floor(c),l<1&&(l=1,c=r.globals.dataPoints),c-l<2&&(c=l+1)),"xy"!==n&&"x"!==n||(h={min:l,max:c}),"xy"!==n&&"y"!==n||p.forEach((function(e,t){p[t].min=f[t],p[t].max=d[t]})),r.config.chart.zoom.autoScaleYaxis){var m=new J(a.ctx);p=m.autoScaleY(a.ctx,p,{xaxis:h})}if(o){var g=o.getBeforeZoomRange(h,p);g&&(h=g.xaxis?g.xaxis:h,p=g.yaxis?g.yaxis:p)}var v={xaxis:h};r.config.chart.group||(v.yaxis=p),a.ctx.updateHelpers._updateOptions(v,!1,a.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof r.config.chart.events.zoomed&&o.zoomCallback(h,p)}else if(r.globals.selectionEnabled){var y,x=null;y={min:l,max:c},"xy"!==n&&"y"!==n||(x=b.clone(r.config.yaxis)).forEach((function(e,t){x[t].min=f[t],x[t].max=d[t]})),r.globals.selection=a.selection,"function"==typeof r.config.chart.events.selection&&r.config.chart.events.selection(a.ctx,{xaxis:y,yaxis:x})}}},{key:"panDragging",value:function(e){var t=e.context,n=this.w,r=t;if(void 0!==n.globals.lastClientPosition.x){var a=n.globals.lastClientPosition.x-r.clientX,i=n.globals.lastClientPosition.y-r.clientY;Math.abs(a)>Math.abs(i)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(i)&&a<0?this.moveDirection="right":Math.abs(i)>Math.abs(a)&&i>0?this.moveDirection="up":Math.abs(i)>Math.abs(a)&&i<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:r.clientX,y:r.clientY};var o=n.globals.isRangeBar?n.globals.minY:n.globals.minX,s=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||r.panScrolled(o,s)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,n=e.globals.maxX,r=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+r,n=e.globals.maxX+r):"right"===this.moveDirection&&(t=e.globals.minX-r,n=e.globals.maxX-r),t=Math.floor(t),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:t,max:n}},t,n)}},{key:"panScrolled",value:function(e,t){var n=this.w,r=this.xyRatios,a=b.clone(n.globals.initialConfig.yaxis),i=r.xRatio,o=n.globals.minX,s=n.globals.maxX;n.globals.isRangeBar&&(i=r.invertedYRatio,o=n.globals.minY,s=n.globals.maxY),"left"===this.moveDirection?(e=o+n.globals.gridWidth/15*i,t=s+n.globals.gridWidth/15*i):"right"===this.moveDirection&&(e=o-n.globals.gridWidth/15*i,t=s-n.globals.gridWidth/15*i),n.globals.isRangeBar||(e<n.globals.initialMinX||t>n.globals.initialMaxX)&&(e=o,t=s);var u={min:e,max:t};n.config.chart.zoom.autoScaleYaxis&&(a=new J(this.ctx).autoScaleY(this.ctx,a,{xaxis:u}));var l={xaxis:{min:e,max:t}};n.config.chart.group||(l.yaxis=a),this.updateScrolledChart(l,e,t)}},{key:"updateScrolledChart",value:function(e,t,n){var r=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof r.config.chart.events.scrolled&&r.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:n}})}}]),n}(),ge=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return l(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,r=e.clientX,a=e.clientY,i=this.w,o=n.getBoundingClientRect(),s=o.width,u=o.height,l=s/(i.globals.dataPoints-1),c=u/i.globals.dataPoints,d=this.hasBars();!i.globals.comboCharts&&!d||i.config.xaxis.convertedCatToNumeric||(l=s/i.globals.dataPoints);var f=r-o.left-i.globals.barPadForNumericAxis,p=a-o.top;f<0||p<0||f>s||p>u?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var h=Math.round(f/l),m=Math.floor(p/c);d&&!i.config.xaxis.convertedCatToNumeric&&(h=Math.ceil(f/l),h-=1);var g=null,v=null,y=[],x=[];if(i.globals.seriesXvalues.forEach((function(e){y.push([e[0]+1e-6].concat(e))})),i.globals.seriesYvalues.forEach((function(e){x.push([e[0]+1e-6].concat(e))})),y=y.map((function(e){return e.filter((function(e){return b.isNumber(e)}))})),x=x.map((function(e){return e.filter((function(e){return b.isNumber(e)}))})),i.globals.isXNumeric){var A=this.ttCtx.getElGrid().getBoundingClientRect(),w=f*(A.width/s),k=p*(A.height/u);g=(v=this.closestInMultiArray(w,k,y,x)).index,h=v.j,null!==g&&(y=i.globals.seriesXvalues[g],h=(v=this.closestInArray(w,y)).index)}return i.globals.capturedSeriesIndex=null===g?-1:g,(!h||h<1)&&(h=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=m:i.globals.capturedDataPointIndex=h,{capturedSeries:g,j:i.globals.isBarHorizontal?m:h,hoverX:f,hoverY:p}}},{key:"closestInMultiArray",value:function(e,t,n,r){var a=this.w,i=0,o=null,s=-1;a.globals.series.length>1?i=this.getFirstActiveXArray(n):o=0;var u=n[i][0],l=Math.abs(e-u);if(n.forEach((function(t){t.forEach((function(t,n){var r=Math.abs(e-t);r<l&&(l=r,s=n)}))})),-1!==s){var c=r[i][s],d=Math.abs(t-c);o=i,r.forEach((function(e,n){var r=Math.abs(t-e[s]);r<d&&(d=r,o=n)}))}return{index:o,j:s}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,r=e.map((function(e,t){return e.length>0?t:-1})),a=0;a<r.length;a++)if(-1!==r[a]&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)){n=r[a];break}return n}},{key:"closestInArray",value:function(e,t){for(var n=t[0],r=null,a=Math.abs(e-n),i=0;i<t.length;i++){var o=Math.abs(e-t[i]);o<a&&(a=o,r=i)}return{index:r}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter((function(e){return void 0!==e[0]}));if(n.length>0)for(var r=0;r<n.length-1;r++)void 0!==n[r][e]&&void 0!==n[r+1][e]&&n[r][e]!==n[r+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return g(e).reduce((function(e,t){return e+t.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=g(e)).sort((function(e,t){var n=Number(e.getAttribute("data:realIndex")),r=Number(t.getAttribute("data:realIndex"));return r<n?1:r>n?-1:0}));var t=[];return e.forEach((function(e){t.push(e.querySelector(".apexcharts-marker"))})),t}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return void 0===n&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=n.allTooltipSeriesGroups,a=0;a<r.length;a++)"enable"===e?(r[a].classList.add("apexcharts-active"),r[a].style.display=t.config.tooltip.items.display):(r[a].classList.remove("apexcharts-active"),r[a].style.display="none")}}]),e}(),ve=function(){function e(t){s(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new ge(t)}return l(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=void 0===t||t,r=e.ttItems,a=e.i,i=void 0===a?0:a,o=e.j,s=void 0===o?null:o,u=e.y1,l=e.y2,c=e.e,d=this.w;void 0!==d.config.tooltip.custom?this.handleCustomTooltip({i:i,j:s,y1:u,y2:l,w:d}):this.toggleActiveInactiveSeries(n);var f=this.getValuesToPrint({i:i,j:s});this.printLabels({i:i,j:s,values:f,ttItems:r,shared:n,e:c});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,r=e.i,a=e.j,o=e.values,s=e.ttItems,u=e.shared,l=e.e,c=this.w,d=[],f=function(e){return c.globals.seriesGoals[e]&&c.globals.seriesGoals[e][a]&&Array.isArray(c.globals.seriesGoals[e][a])},p=o.xVal,h=o.zVal,m=o.xAxisTTVal,g="",v=c.globals.colors[r];null!==a&&c.config.plotOptions.bar.distributed&&(v=c.globals.colors[a]);for(var y=function(e,o){var y=n.getFormatters(r);g=n.getSeriesName({fn:y.yLbTitleFormatter,index:r,seriesIndex:r,j:a}),"treemap"===c.config.chart.type&&(g=y.yLbTitleFormatter(String(c.config.series[r].data[a].x),{series:c.globals.series,seriesIndex:r,dataPointIndex:a,w:c}));var b=c.config.tooltip.inverseOrder?o:e;if(c.globals.axisCharts){var x=function(e){return y.yLbFormatter(c.globals.series[e][a],{series:c.globals.series,seriesIndex:e,dataPointIndex:a,w:c})};if(u)y=n.getFormatters(b),g=n.getSeriesName({fn:y.yLbTitleFormatter,index:b,seriesIndex:r,j:a}),v=c.globals.colors[b],t=x(b),f(b)&&(d=c.globals.seriesGoals[b][a].map((function(e){return{attrs:e,val:y.yLbFormatter(e.value,{seriesIndex:b,dataPointIndex:a,w:c})}})));else{var A,w=null==l||null===(A=l.target)||void 0===A?void 0:A.getAttribute("fill");w&&(v=-1!==w.indexOf("url")?document.querySelector(w.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):w),t=x(r),f(r)&&Array.isArray(c.globals.seriesGoals[r][a])&&(d=c.globals.seriesGoals[r][a].map((function(e){return{attrs:e,val:y.yLbFormatter(e.value,{seriesIndex:r,dataPointIndex:a,w:c})}})))}}null===a&&(t=y.yLbFormatter(c.globals.series[r],i(i({},c),{},{seriesIndex:r,dataPointIndex:r}))),n.DOMHandling({i:r,t:b,j:a,ttItems:s,values:{val:t,goalVals:d,xVal:p,xAxisTTVal:m,zVal:h},seriesName:g,shared:u,pColor:v})},b=0,x=c.globals.series.length-1;b<c.globals.series.length;b++,x--)y(b,x)}},{key:"getFormatters",value:function(e){var t,n=this.w,r=n.globals.yLabelFormatters[e];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(r=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(r=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,"function"!=typeof r&&(r=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,r=e.seriesIndex,a=e.j,i=this.w;return t(String(i.globals.seriesNames[n]),{series:i.globals.series,seriesIndex:r,dataPointIndex:a,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,r=e.ttItems,a=e.values,i=e.seriesName,o=e.shared,s=e.pColor,u=this.w,l=this.ttCtx,c=a.val,d=a.goalVals,f=a.xVal,p=a.xAxisTTVal,h=a.zVal,m=null;m=r[t].children,u.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=s,m[0].style.display="none"),l.showTooltipTitle&&(null===l.tooltipTitle&&(l.tooltipTitle=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),l.tooltipTitle.innerHTML=f),l.isXAxisTooltipEnabled&&(l.xaxisTooltipText.innerHTML=""!==p?p:f);var g=r[t].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=i||"");var v=r[t].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=void 0!==c?c:""),m[0]&&m[0].classList.contains("apexcharts-tooltip-marker")&&(u.config.tooltip.marker.fillColors&&Array.isArray(u.config.tooltip.marker.fillColors)&&(s=u.config.tooltip.marker.fillColors[t]),m[0].style.backgroundColor=s),u.config.tooltip.marker.show||(m[0].style.display="none");var y=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),b=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&u.globals.seriesGoals[t]){var x=function(){var e="<div >",t="<div>";d.forEach((function(n,r){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(n.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(n.attrs.name,"</div>"),t+="<div>".concat(n.val,"</div>")})),y.innerHTML=e+"</div>",b.innerHTML=t+"</div>"};o?u.globals.seriesGoals[t][n]&&Array.isArray(u.globals.seriesGoals[t][n])?x():(y.innerHTML="",b.innerHTML=""):x()}else y.innerHTML="",b.innerHTML="";null!==h&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=u.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==h?h:""),o&&m[0]&&(null==c||u.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||u.globals.collapsedSeriesIndices.indexOf(t)>-1?m[0].parentNode.style.display="none":m[0].parentNode.style.display=u.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(e){var t=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=t.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");n&&(n.classList.add("apexcharts-active"),n.style.display=t.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,r=this.w,a=this.ctx.series.filteredSeriesX(),i="",o="",s=null,u=null,l={series:r.globals.series,seriesIndex:t,dataPointIndex:n,w:r},c=r.globals.ttZFormatter;null===n?u=r.globals.series[t]:r.globals.isXNumeric&&"treemap"!==r.config.chart.type?(i=a[t][n],0===a[t].length&&(i=a[this.tooltipUtil.getFirstActiveXArray(a)][n])):i=void 0!==r.globals.labels[n]?r.globals.labels[n]:"";var d=i;return i=r.globals.isXNumeric&&"datetime"===r.config.xaxis.type?new G(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new Z(this.ctx).formatDate,w:this.w}):r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,l):r.globals.xLabelFormatter(d,l),void 0!==r.config.tooltip.x.formatter&&(i=r.globals.ttKeyFormatter(d,l)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(s=c(r.globals.seriesZ[t][n],r)),o="function"==typeof r.config.xaxis.tooltip.formatter?r.globals.xaxisTooltipFormatter(d,l):i,{val:Array.isArray(u)?u.join(" "):u,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:s}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,r=e.y1,a=e.y2,i=e.w,o=this.ttCtx.getElTooltip(),s=i.config.tooltip.custom;Array.isArray(s)&&s[t]&&(s=s[t]),o.innerHTML=s({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:n,y1:r,y2:a,w:i})}}]),e}(),ye=function(){function e(t){s(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return l(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,r=this.w,a=n.getElXCrosshairs(),i=e-n.xcrosshairsWidth/2,o=r.globals.labels.slice().length;if(null!==t&&(i=r.globals.gridWidth/o*t),null===a||r.globals.isBarHorizontal||(a.setAttribute("x",i),a.setAttribute("x1",i),a.setAttribute("x2",i),a.setAttribute("y2",r.globals.gridHeight),a.classList.add("apexcharts-active")),i<0&&(i=0),i>r.globals.gridWidth&&(i=r.globals.gridWidth),n.isXAxisTooltipEnabled){var s=i;"tickWidth"!==r.config.xaxis.crosshairs.width&&"barWidth"!==r.config.xaxis.crosshairs.width||(s=i+n.xcrosshairsWidth/2),this.moveXAxisTooltip(s)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&w.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&w.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip&&0!==n.xcrosshairsWidth){n.xaxisTooltip.classList.add("apexcharts-active");var r,a=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,r=new w(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=r.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=a+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),a=t.globals.translateY+r,i=n.yaxisTTEls[e].getBoundingClientRect().height,o=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(o-=26),a-=i/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=a+"px",n.yaxisTTEls[e].style.left=o+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.w,a=this.ttCtx,i=a.getElTooltip(),o=a.tooltipRect,s=null!==n?parseFloat(n):1,u=parseFloat(e)+s+5,l=parseFloat(t)+s/2;if(u>r.globals.gridWidth/2&&(u=u-o.ttWidth-s-10),u>r.globals.gridWidth-o.ttWidth-10&&(u=r.globals.gridWidth-o.ttWidth),u<-20&&(u=-20),r.config.tooltip.followCursor){var c=a.getElGrid(),d=c.getBoundingClientRect();l=a.e.clientY+r.globals.translateY-d.top-o.ttHeight/2}else r.globals.isBarHorizontal||(o.ttHeight/2+l>r.globals.gridHeight&&(l=r.globals.gridHeight-o.ttHeight+r.globals.translateY),l<0&&(l=0));isNaN(u)||(u+=r.globals.translateX,i.style.left=u+"px",i.style.top=l+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,r=this.ttCtx;if(n.globals.markers.size[e]>0)for(var a=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<a.length;i++)parseInt(a[i].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,a[i]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,r,a=this.w,i=this.ttCtx,o=a.globals.pointsArray,s=i.tooltipUtil.getHoverMarkerSize(t),u=a.config.series[t].type;if(!u||"column"!==u&&"candlestick"!==u&&"boxPlot"!==u){n=o[t][e][0],r=o[t][e][1]?o[t][e][1]:0;var l=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers circle"));l&&r<a.globals.gridHeight&&r>0&&(l.setAttribute("r",s),l.setAttribute("cx",n),l.setAttribute("cy",r)),this.moveXCrosshairs(n),i.fixedTooltip||this.moveTooltip(n,r,s)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,r=n.w,a=0,i=0,o=r.globals.pointsArray;t=new D(this.ctx).getActiveConfigSeriesIndex(!0);var s=n.tooltipUtil.getHoverMarkerSize(t);o[t]&&(a=o[t][e][0],i=o[t][e][1]);var u=n.tooltipUtil.getAllMarkers();if(null!==u)for(var l=0;l<r.globals.series.length;l++){var c=o[l];if(r.globals.comboCharts&&void 0===c&&u.splice(l,0,null),c&&c.length){var d=o[l][e][1];u[l].setAttribute("cx",a),null!==d&&!isNaN(d)&&d<r.globals.gridHeight+s&&d+s>0?(u[l]&&u[l].setAttribute("r",s),u[l]&&u[l].setAttribute("cy",d)):u[l]&&u[l].setAttribute("r",0)}}if(this.moveXCrosshairs(a),!n.fixedTooltip){var f=i||r.globals.gridHeight;this.moveTooltip(a,f,s)}}},{key:"moveStickyTooltipOverBars",value:function(e){var t=this.w,n=this.ttCtx,r=t.globals.columnSeries?t.globals.columnSeries.length:t.globals.series.length,a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;t.globals.isBarHorizontal&&(a=new D(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var i=t.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']")),o=i?parseFloat(i.getAttribute("cx")):0,s=i?parseFloat(i.getAttribute("cy")):0,u=i?parseFloat(i.getAttribute("barWidth")):0,l=i?parseFloat(i.getAttribute("barHeight")):0,c=n.getElGrid().getBoundingClientRect(),d=i.classList.contains("apexcharts-candlestick-area")||i.classList.contains("apexcharts-boxPlot-area");if(t.globals.isXNumeric?(i&&!d&&(o-=r%2!=0?u/2:0),i&&d&&t.globals.comboCharts&&(o-=u/2)):t.globals.isBarHorizontal||(o=n.xAxisTicksPositions[e-1]+n.dataPointsDividedWidth/2,isNaN(o)&&(o=n.xAxisTicksPositions[e]-n.dataPointsDividedWidth/2)),t.globals.isBarHorizontal?(s>t.globals.gridHeight/2&&(s-=n.tooltipRect.ttHeight),(s=s+t.config.grid.padding.top+l/3)+l>t.globals.gridHeight&&(s=t.globals.gridHeight-l)):t.config.tooltip.followCursor?s=n.e.clientY-c.top-n.tooltipRect.ttHeight/2:s+n.tooltipRect.ttHeight+15>t.globals.gridHeight&&(s=t.globals.gridHeight),s<-10&&(s=-10),t.globals.isBarHorizontal||this.moveXCrosshairs(o),!n.fixedTooltip){var f=s||t.globals.gridHeight;this.moveTooltip(o,f)}}}]),e}(),be=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new ye(t)}return l(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new w(this.ctx),n=new _(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=g(r),e.config.chart.stacked&&r.sort((function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))}));for(var a=0;a<r.length;a++){var i=r[a].querySelector(".apexcharts-series-markers-wrap");if(null!==i){var o=void 0,s="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(s+=" no-pointer-events");var u=n.getMarkerConfig({cssClass:s,seriesIndex:Number(i.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,u)).node.setAttribute("default-marker-size",0);var l=document.createElementNS(e.globals.SVGNS,"g");l.classList.add("apexcharts-series-markers"),l.appendChild(o.node),i.appendChild(l)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.w;"bubble"!==a.config.chart.type&&this.newPointSize(e,t);var i=t.getAttribute("cx"),o=t.getAttribute("cy");if(null!==n&&null!==r&&(i=n,o=r),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if("radar"===a.config.chart.type){var s=this.ttCtx.getElGrid(),u=s.getBoundingClientRect();i=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(i,o,a.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,r=this.ttCtx,a=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,s=0;s<i.length;s++){var u=i[s].getAttribute("rel"),l=i[s].getAttribute("index");if(void 0===o&&(o=t.globals.markers.size[l]+t.config.markers.hover.sizeOffset),a===parseInt(u,10)){n.newPointSize(a,i[s]);var c=i[s].getAttribute("cx"),d=i[s].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(c),r.fixedTooltip||n.tooltipPosition.moveTooltip(c,d,o)}else n.oldPointSize(i[s])}}},{key:"newPointSize",value:function(e,t){var n=this.w,r=n.config.markers.hover.size,a=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==a.getAttribute("default-marker-size")){var i=parseInt(a.getAttribute("index"),10);void 0===r&&(r=n.globals.markers.size[i]+n.config.markers.hover.sizeOffset),r<0&&(r=0),a.setAttribute("r",r)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size"));e.setAttribute("r",t)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));b.isNumber(n)&&n>=0?e[t].setAttribute("r",n):e[t].setAttribute("r",0)}}}]),e}(),xe=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t}return l(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,r=e.x,a=e.y,i=e.type,o=this.ttCtx,s=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var u=this.getAttr(t,"i"),l=this.getAttr(t,"j"),c=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),f=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:u,j:l,shared:!1,e:t}),s.globals.capturedSeriesIndex=u,s.globals.capturedDataPointIndex=l,r=c+o.tooltipRect.ttWidth/2+f,a=d+o.tooltipRect.ttHeight/2-p/2,o.tooltipPosition.moveXCrosshairs(c+f/2),r>s.globals.gridWidth/2&&(r=c-o.tooltipRect.ttWidth/2+f),o.w.config.tooltip.followCursor){var h=s.globals.dom.elWrap.getBoundingClientRect();r=s.globals.clientX-h.left-(r>s.globals.gridWidth/2?o.tooltipRect.ttWidth:0),a=s.globals.clientY-h.top-(a>s.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:r,y:a}}},{key:"handleMarkerTooltip",value:function(e){var t,n,r=e.e,a=e.opt,i=e.x,o=e.y,s=this.w,u=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var l=parseInt(a.paths.getAttribute("cx"),10),c=parseInt(a.paths.getAttribute("cy"),10),d=parseFloat(a.paths.getAttribute("val"));if(n=parseInt(a.paths.getAttribute("rel"),10),t=parseInt(a.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,u.intersect){var f=b.findAncestor(a.paths,"apexcharts-series");f&&(t=parseInt(f.getAttribute("data:realIndex"),10))}if(u.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:t,j:n,shared:!u.showOnIntersect&&s.config.tooltip.shared,e:r}),"mouseup"===r.type&&u.markerClick(r,t,n),s.globals.capturedSeriesIndex=t,s.globals.capturedDataPointIndex=n,i=l,o=c+s.globals.translateY-1.4*u.tooltipRect.ttHeight,u.w.config.tooltip.followCursor){var p=u.getElGrid().getBoundingClientRect();o=u.e.clientY+s.globals.translateY-p.top}d<0&&(o=c),u.marker.enlargeCurrentPoint(n,a.paths,i,o)}return{x:i,y:o}}},{key:"handleBarTooltip",value:function(e){var t,n,r=e.e,a=e.opt,i=this.w,o=this.ttCtx,s=o.getElTooltip(),u=0,l=0,c=0,d=this.getBarTooltipXY({e:r,opt:a});t=d.i;var f=d.barHeight,p=d.j;i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=p,i.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!i.config.tooltip.shared?(l=d.x,c=d.y,n=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,u=l):i.globals.comboCharts||i.config.tooltip.shared||(u/=2),isNaN(c)?c=i.globals.svgHeight-o.tooltipRect.ttHeight:c<0&&(c=0);var h=parseInt(a.paths.parentNode.getAttribute("data:realIndex"),10),m=i.globals.isMultipleYAxis?i.config.yaxis[h]&&i.config.yaxis[h].reversed:i.config.yaxis[0].reversed;if(l+o.tooltipRect.ttWidth>i.globals.gridWidth&&!m?l-=o.tooltipRect.ttWidth:l<0&&(l=0),o.w.config.tooltip.followCursor){var g=o.getElGrid().getBoundingClientRect();c=o.e.clientY-g.top}null===o.tooltip&&(o.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(u+n/2):o.tooltipPosition.moveXCrosshairs(u)),!o.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(m&&(l-=o.tooltipRect.ttWidth)<0&&(l=0),!m||i.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||(c=c+f-2*(i.globals.series[t][p]<0?f:0)),o.tooltipRect.ttHeight+c>i.globals.gridHeight?c=i.globals.gridHeight-o.tooltipRect.ttHeight+i.globals.translateY:(c=c+i.globals.translateY-o.tooltipRect.ttHeight/2)<0&&(c=0),s.style.left=l+i.globals.translateX+"px",s.style.top=c+"px")}},{key:"getBarTooltipXY",value:function(e){var t=e.e,n=e.opt,r=this.w,a=null,i=this.ttCtx,o=0,s=0,u=0,l=0,c=0,d=t.target.classList;if(d.contains("apexcharts-bar-area")||d.contains("apexcharts-candlestick-area")||d.contains("apexcharts-boxPlot-area")||d.contains("apexcharts-rangebar-area")){var f=t.target,p=f.getBoundingClientRect(),h=n.elGrid.getBoundingClientRect(),m=p.height;c=p.height;var g=p.width,v=parseInt(f.getAttribute("cx"),10),y=parseInt(f.getAttribute("cy"),10);l=parseFloat(f.getAttribute("barWidth"));var b="touchmove"===t.type?t.touches[0].clientX:t.clientX;a=parseInt(f.getAttribute("j"),10),o=parseInt(f.parentNode.getAttribute("rel"),10)-1;var x=f.getAttribute("data-range-y1"),A=f.getAttribute("data-range-y2");r.globals.comboCharts&&(o=parseInt(f.parentNode.getAttribute("data:realIndex"),10)),i.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:o,j:a,y1:x?parseInt(x,10):null,y2:A?parseInt(A,10):null,shared:!i.showOnIntersect&&r.config.tooltip.shared,e:t}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(s=b-h.left+15,u=y-i.dataPointsDividedHeight+m/2-i.tooltipRect.ttHeight/2):(s=r.globals.isXNumeric?v-g/2:v-i.dataPointsDividedWidth+g/2,u=t.clientY-h.top-i.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((s=v)<i.xyRatios.baseLineInvertedY&&(s=v-i.tooltipRect.ttWidth),u=y-i.dataPointsDividedHeight+m/2-i.tooltipRect.ttHeight/2):(s=r.globals.isXNumeric?v-g/2:v-i.dataPointsDividedWidth+g/2,u=y)}return{x:s,y:u,barHeight:c,barWidth:l,i:o,j:a}}}]),e}(),Ae=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t}return l(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n="bottom"===e.config.xaxis.position;t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",a=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=function(n){var r=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var a="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");e.globals.yAxisSameScaleIndices.map((function(t,r){t.map((function(t,r){r===n&&(a+=e.config.yaxis[r].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var i=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),0===n&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))},r=0;r<e.config.yaxis.length;r++)n(r)}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==r&&"barWidth"===e.config.xaxis.crosshairs.width){var a=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=a}else if("tickWidth"===e.config.xaxis.crosshairs.width){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if("barWidth"===e.config.xaxis.crosshairs.width){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){var u=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=u}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==n&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var r=this.ttCtx,a=this.w,i=a.globals.yLabelFormatters[e];if(r.yaxisTooltips[e]){var o=r.getElGrid().getBoundingClientRect(),s=(t-o.top)*n.yRatio[e],u=a.globals.maxYArr[e]-a.globals.minYArr[e],l=a.globals.minYArr[e]+(u-s);r.tooltipPosition.moveYCrosshairs(t-o.top),r.yaxisTooltipText[e].innerHTML=i(l),r.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),we=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new ge(this),this.tooltipLabels=new ve(this),this.tooltipPosition=new ye(this),this.marker=new be(this),this.intersect=new xe(this),this.axesTooltip=new Ae(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return l(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(e,n){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new q(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var a=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(a=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(a),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,r=[],a=this.getElTooltip(),i=function(i){var o=document.createElement("div");o.classList.add("apexcharts-tooltip-series-group"),o.style.order=n.config.tooltip.inverseOrder?e-i:i+1,t.tConfig.shared&&t.tConfig.enabledOnSeries&&Array.isArray(t.tConfig.enabledOnSeries)&&t.tConfig.enabledOnSeries.indexOf(i)<0&&o.classList.add("apexcharts-tooltip-series-group-hidden");var s=document.createElement("span");s.classList.add("apexcharts-tooltip-marker"),s.style.backgroundColor=n.globals.colors[i],o.appendChild(s);var u=document.createElement("div");u.classList.add("apexcharts-tooltip-text"),u.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,u.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(n);var r=document.createElement("span");r.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(r),u.appendChild(t)})),o.appendChild(u),a.appendChild(o),r.push(o)},o=0;o<e;o++)i(o);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),r=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),a="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,i=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var s,u=[],l=[],c={hoverArea:i,elGrid:o,tooltipEl:n,tooltipY:u,tooltipX:l,ttItems:this.ttItems};if(e.globals.axisCharts&&(a?s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),s&&s.length))for(var d=0;d<s.length;d++)u.push(s[d].getAttribute("cy")),l.push(s[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],c);else if(r&&!e.globals.comboCharts||a&&this.showOnIntersect)this.addDatapointEventsListeners(c);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(f,c)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,c),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(c)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),r=n.width+10,a=n.height+10,i=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,s=this.tConfig.fixed.position.toLowerCase();return s.indexOf("right")>-1&&(i=i+e.globals.svgWidth-r+10),s.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-a-10),t.style.left=i+"px",t.style.top=o+"px",{x:i,y:o,ttWidth:r,ttHeight:a}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,r=function(r){var a={paths:e[r],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(t){return e[r].addEventListener(t,n.onSeriesHover.bind(n,a),{capture:!1,passive:!0})}))},a=0;a<e.length;a++)r(a)}},{key:"onSeriesHover",value:function(e,t){var n=this,r=Date.now()-this.lastHoverTime;r>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){n.seriesHover(e,t)}),100-r))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var r=[],a=this.w;a.config.chart.group&&(r=this.ctx.getGroupedCharts()),a.globals.axisCharts&&(a.globals.minX===-1/0&&a.globals.maxX===1/0||0===a.globals.dataPoints)||(r.length?r.forEach((function(r){var a=n.getElTooltip(r),i={paths:e.paths,tooltipEl:a,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:r.w.globals.tooltip.ttItems};r.w.globals.minX===n.w.globals.minX&&r.w.globals.maxX===n.w.globals.maxX&&r.w.globals.tooltip.seriesHoverByContext({chartCtx:r,ttCtx:r.w.globals.tooltip,opt:i,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,r=e.opt,a=e.e,i=t.w,o=this.getElTooltip();o&&(n.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},n.e=a,!n.tooltipUtil.hasBars()||i.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new D(t).toggleSeriesOnHover(a,a.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),i.globals.axisCharts?n.axisChartsTooltips({e:a,opt:r,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:a,opt:r,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,r=e.e,a=e.opt,i=this.w,o=a.elGrid.getBoundingClientRect(),s="touchmove"===r.type?r.touches[0].clientX:r.clientX,u="touchmove"===r.type?r.touches[0].clientY:r.clientY;if(this.clientY=u,this.clientX=s,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,u<o.top||u>o.top+o.height)this.handleMouseOut(a);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var l=parseInt(a.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(l)<0)return void this.handleMouseOut(a)}var c=this.getElTooltip(),d=this.getElXCrosshairs(),f=i.globals.xyCharts||"bar"===i.config.chart.type&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===r.type||"touchmove"===r.type||"mouseup"===r.type){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;null!==d&&d.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter((function(e){return!0===e}));if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),f&&!this.showOnIntersect)this.handleStickyTooltip(r,s,u,a);else if("heatmap"===i.config.chart.type||"treemap"===i.config.chart.type){var h=this.intersect.handleHeatTreeTooltip({e:r,opt:a,x:t,y:n,type:i.config.chart.type});t=h.x,n=h.y,c.style.left=t+"px",c.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:a}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:a,x:t,y:n});if(this.yaxisTooltips.length)for(var m=0;m<i.config.yaxis.length;m++)this.axesTooltip.drawYaxisTooltipText(m,u,this.xyRatios);a.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==r.type&&"touchend"!==r.type||this.handleMouseOut(a)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,r=e.tooltipRect,a=this.w,i=n.paths.getAttribute("rel"),o=this.getElTooltip(),s=a.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(i,10)-1,shared:!1});var u=a.globals.clientX-s.left-r.ttWidth/2,l=a.globals.clientY-s.top-r.ttHeight-10;if(o.style.left=u+"px",o.style.top=l+"px",a.config.legend.tooltipHoverFormatter){var c=i-1,d=(0,a.config.legend.tooltipHoverFormatter)(this.legendLabels[c].getAttribute("data:default-text"),{seriesIndex:c,dataPointIndex:c,w:a});this.legendLabels[c].innerHTML=d}}else"mouseout"!==t.type&&"touchend"!==t.type||(o.classList.remove("apexcharts-active"),a.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})))}},{key:"handleStickyTooltip",value:function(e,t,n,r){var a=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:n}),o=i.j,s=i.capturedSeries,u=r.elGrid.getBoundingClientRect();i.hoverX<0||i.hoverX>u.width?this.handleMouseOut(r):null!==s?this.handleStickyCapturedSeries(e,s,r,o):(this.tooltipUtil.isXoverlap(o)||a.globals.isBarHorizontal)&&this.create(e,this,0,o,r.ttItems)}},{key:"handleStickyCapturedSeries",value:function(e,t,n,r){var a=this.w;this.tConfig.shared||null!==a.globals.series[t][r]?void 0!==a.globals.series[t][r]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,n.ttItems):this.create(e,this,t,r,n.ttItems,!1):this.tooltipUtil.isXoverlap(r)&&this.create(e,this,0,r,n.ttItems):this.handleMouseOut(n)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new w(this.ctx),n=e.globals.dom.Paper.select(".apexcharts-bar-area"),r=0;r<n.length;r++)t.pathMouseLeave(n[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"markerClick",value:function(e,t,n){var r=this.w;"function"==typeof r.config.chart.events.markerClick&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}])}},{key:"create",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=this.w,s=t;"mouseup"===e.type&&this.markerClick(e,n,r),null===i&&(i=this.tConfig.shared);var u=this.tooltipUtil.hasMarkers(),l=this.tooltipUtil.getElBars();if(o.config.legend.tooltipHoverFormatter){var c=o.config.legend.tooltipHoverFormatter,d=Array.from(this.legendLabels);d.forEach((function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}));for(var f=0;f<d.length;f++){var p=d[f],h=parseInt(p.getAttribute("i"),10),m=decodeURIComponent(p.getAttribute("data:default-text")),g=c(m,{seriesIndex:i?h:n,dataPointIndex:r,w:o});if(i)p.innerHTML=o.globals.collapsedSeriesIndices.indexOf(h)<0?g:m;else if(p.innerHTML=h===n?g:m,n===h)break}}if(i){if(s.tooltipLabels.drawSeriesTexts({ttItems:a,i:n,j:r,shared:!this.showOnIntersect&&this.tConfig.shared}),u&&(o.globals.markers.largestSize>0?s.marker.enlargePoints(r):s.tooltipPosition.moveDynamicPointsOnHover(r)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(l),this.barSeriesHeight>0)){var v=new w(this.ctx),y=o.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(r);for(var b=0;b<y.length;b++)v.pathMouseEnter(y[b])}}else s.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:a,i:n,j:r}),this.tooltipUtil.hasBars()&&s.tooltipPosition.moveStickyTooltipOverBars(r),u&&s.tooltipPosition.moveMarkers(n,r)}}]),e}(),ke=function(e){d(n,z);var t=m(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"draw",value:function(e,t){var n=this,r=this.w;this.graphics=new w(this.ctx),this.bar=new z(this.ctx,this.xyRatios);var a=new k(this.ctx,r);e=a.getLogSeries(e),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===r.config.chart.stackType&&(e=r.globals.seriesPercent.slice()),this.series=e,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var o=0;o<e.length;o++)e[o].length>0&&(this.totalItems+=e[o].length);for(var s=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),u=0,l=0,c=function(a,o){var c=void 0,d=void 0,f=void 0,p=void 0,h=[],m=[],g=r.globals.comboCharts?t[a]:a;n.yRatio.length>1&&(n.yaxisIndex=g),n.isReversed=r.config.yaxis[n.yaxisIndex]&&r.config.yaxis[n.yaxisIndex].reversed;var v=n.graphics.group({class:"apexcharts-series",seriesName:b.escapeString(r.globals.seriesNames[g]),rel:a+1,"data:realIndex":g});n.ctx.series.addCollapsedClassToSeries(v,g);var y=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":g}),x=0,A=0,w=n.initialPositions(u,l,c,d,f,p);l=w.y,x=w.barHeight,d=w.yDivision,p=w.zeroW,u=w.x,A=w.barWidth,c=w.xDivision,f=w.zeroH,n.yArrj=[],n.yArrjF=[],n.yArrjVal=[],n.xArrj=[],n.xArrjF=[],n.xArrjVal=[],1===n.prevY.length&&n.prevY[0].every((function(e){return isNaN(e)}))&&(n.prevY[0]=n.prevY[0].map((function(e){return f})),n.prevYF[0]=n.prevYF[0].map((function(e){return 0})));for(var k=0;k<r.globals.dataPoints;k++){var S=n.barHelpers.getStrokeWidth(a,k,g),C={indexes:{i:a,j:k,realIndex:g,bc:o},strokeWidth:S,x:u,y:l,elSeries:v},I=null;n.isHorizontal?(I=n.drawStackedBarPaths(i(i({},C),{},{zeroW:p,barHeight:x,yDivision:d})),A=n.series[a][k]/n.invertedYRatio):(I=n.drawStackedColumnPaths(i(i({},C),{},{xDivision:c,barWidth:A,zeroH:f})),x=n.series[a][k]/n.yRatio[n.yaxisIndex]),l=I.y,u=I.x,h.push(u),m.push(l);var E=n.barHelpers.getPathFillColor(e,a,k,g);v=n.renderSeries({realIndex:g,pathFill:E,j:k,i:a,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:S,elSeries:v,x:u,y:l,series:e,barHeight:x,barWidth:A,elDataLabelsWrap:y,type:"bar",visibleSeries:0})}r.globals.seriesXvalues[g]=h,r.globals.seriesYvalues[g]=m,n.prevY.push(n.yArrj),n.prevYF.push(n.yArrjF),n.prevYVal.push(n.yArrjVal),n.prevX.push(n.xArrj),n.prevXF.push(n.xArrjF),n.prevXVal.push(n.xArrjVal),s.add(v)},d=0,f=0;d<e.length;d++,f++)c(d,f);return s}},{key:"initialPositions",value:function(e,t,n,r,a,i){var o,s,u=this.w;return this.isHorizontal?(o=(o=r=u.globals.gridHeight/u.globals.dataPoints)*parseInt(u.config.plotOptions.bar.barHeight,10)/100,i=this.baseLineInvertedY+u.globals.padHorizontal+(this.isReversed?u.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),t=(r-o)/2):(s=n=u.globals.gridWidth/u.globals.dataPoints,s=u.globals.isXNumeric&&u.globals.dataPoints>1?(n=u.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:s*parseInt(u.config.plotOptions.bar.columnWidth,10)/100,a=this.baseLineY[this.yaxisIndex]+(this.isReversed?u.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),e=u.globals.padHorizontal+(n-s)/2),{x:e,y:t,yDivision:r,xDivision:n,barHeight:o,barWidth:s,zeroH:a,zeroW:i}}},{key:"drawStackedBarPaths",value:function(e){for(var t,n=e.indexes,r=e.barHeight,a=e.strokeWidth,i=e.zeroW,o=e.x,s=e.y,u=e.yDivision,l=e.elSeries,c=this.w,d=s,f=n.i,p=n.j,h=0,m=0;m<this.prevXF.length;m++)h+=this.prevXF[m][p];if(f>0){var g=i;this.prevXVal[f-1][p]<0?g=this.series[f][p]>=0?this.prevX[f-1][p]+h-2*(this.isReversed?h:0):this.prevX[f-1][p]:this.prevXVal[f-1][p]>=0&&(g=this.series[f][p]>=0?this.prevX[f-1][p]:this.prevX[f-1][p]-h+2*(this.isReversed?h:0)),t=g}else t=i;o=null===this.series[f][p]?t:t+this.series[f][p]/this.invertedYRatio-2*(this.isReversed?this.series[f][p]/this.invertedYRatio:0);var v=this.barHelpers.getBarpaths({barYPosition:d,barHeight:r,x1:t,x2:o,strokeWidth:a,series:this.series,realIndex:n.realIndex,i:f,j:p,w:c});return this.barHelpers.barBackground({j:p,i:f,y1:d,y2:r,elSeries:l}),s+=u,{pathTo:v.pathTo,pathFrom:v.pathFrom,x:o,y:s}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,n=e.x,r=e.y,a=e.xDivision,i=e.barWidth,o=e.zeroH;e.strokeWidth;var s=e.elSeries,u=this.w,l=t.i,c=t.j,d=t.bc;if(u.globals.isXNumeric){var f=u.globals.seriesX[l][c];f||(f=0),n=(f-u.globals.minX)/this.xRatio-i/2}for(var p,h=n,m=0,g=0;g<this.prevYF.length;g++)m+=isNaN(this.prevYF[g][c])?0:this.prevYF[g][c];if(l>0&&!u.globals.isXNumeric||l>0&&u.globals.isXNumeric&&u.globals.seriesX[l-1][c]===u.globals.seriesX[l][c]){var v,y,b=Math.min(this.yRatio.length+1,l+1);if(void 0!==this.prevY[l-1])for(var x=1;x<b;x++)if(!isNaN(this.prevY[l-x][c])){y=this.prevY[l-x][c];break}for(var A=1;A<b;A++){if(this.prevYVal[l-A][c]<0){v=this.series[l][c]>=0?y-m+2*(this.isReversed?m:0):y;break}if(this.prevYVal[l-A][c]>=0){v=this.series[l][c]>=0?y:y+m-2*(this.isReversed?m:0);break}}void 0===v&&(v=u.globals.gridHeight),p=this.prevYF[0].every((function(e){return 0===e}))&&this.prevYF.slice(1,l).every((function(e){return e.every((function(e){return isNaN(e)}))}))?u.globals.gridHeight-o:v}else p=u.globals.gridHeight-o;r=p-this.series[l][c]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[l][c]/this.yRatio[this.yaxisIndex]:0);var w=this.barHelpers.getColumnPaths({barXPosition:h,barWidth:i,y1:p,y2:r,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:t.realIndex,i:l,j:c,w:u});return this.barHelpers.barBackground({bc:d,j:c,i:l,x1:h,x2:i,elSeries:s}),n+=a,{pathTo:w.pathTo,pathFrom:w.pathFrom,x:u.globals.isXNumeric?n-a:n,y:r}}}]),n}(),Se=function(e){d(n,z);var t=m(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"draw",value:function(e,t){var n=this,r=this.w,a=new w(this.ctx),o=new P(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=r.config.plotOptions.bar.horizontal;var s=new k(this.ctx,r);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var u=a.group({class:"apexcharts-".concat(r.config.chart.type,"-series apexcharts-plot-series")}),l=function(s){n.isBoxPlot="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[s].type;var l,c,d,f,p,h,m=void 0,g=void 0,v=[],y=[],x=r.globals.comboCharts?t[s]:s,A=a.group({class:"apexcharts-series",seriesName:b.escapeString(r.globals.seriesNames[x]),rel:s+1,"data:realIndex":x});n.ctx.series.addCollapsedClassToSeries(A,x),e[s].length>0&&(n.visibleI=n.visibleI+1),n.yRatio.length>1&&(n.yaxisIndex=x);var w=n.barHelpers.initialPositions();g=w.y,p=w.barHeight,c=w.yDivision,f=w.zeroW,m=w.x,h=w.barWidth,l=w.xDivision,d=w.zeroH,y.push(m+h/2);for(var k=a.group({class:"apexcharts-datalabels","data:realIndex":x}),S=function(t){var a=n.barHelpers.getStrokeWidth(s,t,x),u=null,b={indexes:{i:s,j:t,realIndex:x},x:m,y:g,strokeWidth:a,elSeries:A};u=n.isHorizontal?n.drawHorizontalBoxPaths(i(i({},b),{},{yDivision:c,barHeight:p,zeroW:f})):n.drawVerticalBoxPaths(i(i({},b),{},{xDivision:l,barWidth:h,zeroH:d})),g=u.y,m=u.x,t>0&&y.push(m+h/2),v.push(g),u.pathTo.forEach((function(i,l){var c=!n.isBoxPlot&&n.candlestickOptions.wick.useFillColor?u.color[l]:r.globals.stroke.colors[s],d=o.fillPath({seriesNumber:x,dataPointIndex:t,color:u.color[l],value:e[s][t]});n.renderSeries({realIndex:x,pathFill:d,lineFill:c,j:t,i:s,pathFrom:u.pathFrom,pathTo:i,strokeWidth:a,elSeries:A,x:m,y:g,series:e,barHeight:p,barWidth:h,elDataLabelsWrap:k,visibleSeries:n.visibleI,type:r.config.chart.type})}))},C=0;C<r.globals.dataPoints;C++)S(C);r.globals.seriesXvalues[x]=y,r.globals.seriesYvalues[x]=v,u.add(A)},c=0;c<e.length;c++)l(c);return u}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,n=e.x;e.y;var r=e.xDivision,a=e.barWidth,i=e.zeroH,o=e.strokeWidth,s=this.w,u=new w(this.ctx),l=t.i,c=t.j,d=!0,f=s.config.plotOptions.candlestick.colors.upward,p=s.config.plotOptions.candlestick.colors.downward,h="";this.isBoxPlot&&(h=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.yRatio[this.yaxisIndex],g=t.realIndex,v=this.getOHLCValue(g,c),y=i,b=i;v.o>v.c&&(d=!1);var x=Math.min(v.o,v.c),A=Math.max(v.o,v.c),k=v.m;s.globals.isXNumeric&&(n=(s.globals.seriesX[g][c]-s.globals.minX)/this.xRatio-a/2);var S=n+a*this.visibleI;void 0===this.series[l][c]||null===this.series[l][c]?(x=i,A=i):(x=i-x/m,A=i-A/m,y=i-v.h/m,b=i-v.l/m,k=i-v.m/m);var C=u.move(S,i),I=u.move(S+a/2,x);return s.globals.previousPaths.length>0&&(I=this.getPreviousPath(g,c,!0)),C=this.isBoxPlot?[u.move(S,x)+u.line(S+a/2,x)+u.line(S+a/2,y)+u.line(S+a/4,y)+u.line(S+a-a/4,y)+u.line(S+a/2,y)+u.line(S+a/2,x)+u.line(S+a,x)+u.line(S+a,k)+u.line(S,k)+u.line(S,x+o/2),u.move(S,k)+u.line(S+a,k)+u.line(S+a,A)+u.line(S+a/2,A)+u.line(S+a/2,b)+u.line(S+a-a/4,b)+u.line(S+a/4,b)+u.line(S+a/2,b)+u.line(S+a/2,A)+u.line(S,A)+u.line(S,k)+"z"]:[u.move(S,A)+u.line(S+a/2,A)+u.line(S+a/2,y)+u.line(S+a/2,A)+u.line(S+a,A)+u.line(S+a,x)+u.line(S+a/2,x)+u.line(S+a/2,b)+u.line(S+a/2,x)+u.line(S,x)+u.line(S,A-o/2)],I+=u.move(S,x),s.globals.isXNumeric||(n+=r),{pathTo:C,pathFrom:I,x:n,y:A,barXPosition:S,color:this.isBoxPlot?h:d?[f]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var n=e.y,r=e.yDivision,a=e.barHeight,i=e.zeroW,o=e.strokeWidth,s=this.w,u=new w(this.ctx),l=t.i,c=t.j,d=this.boxOptions.colors.lower;this.isBoxPlot&&(d=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.invertedYRatio,p=t.realIndex,h=this.getOHLCValue(p,c),m=i,g=i,v=Math.min(h.o,h.c),y=Math.max(h.o,h.c),b=h.m;s.globals.isXNumeric&&(n=(s.globals.seriesX[p][c]-s.globals.minX)/this.invertedXRatio-a/2);var x=n+a*this.visibleI;void 0===this.series[l][c]||null===this.series[l][c]?(v=i,y=i):(v=i+v/f,y=i+y/f,m=i+h.h/f,g=i+h.l/f,b=i+h.m/f);var A=u.move(i,x),k=u.move(v,x+a/2);return s.globals.previousPaths.length>0&&(k=this.getPreviousPath(p,c,!0)),A=[u.move(v,x)+u.line(v,x+a/2)+u.line(m,x+a/2)+u.line(m,x+a/2-a/4)+u.line(m,x+a/2+a/4)+u.line(m,x+a/2)+u.line(v,x+a/2)+u.line(v,x+a)+u.line(b,x+a)+u.line(b,x)+u.line(v+o/2,x),u.move(b,x)+u.line(b,x+a)+u.line(y,x+a)+u.line(y,x+a/2)+u.line(g,x+a/2)+u.line(g,x+a-a/4)+u.line(g,x+a/4)+u.line(g,x+a/2)+u.line(y,x+a/2)+u.line(y,x)+u.line(b,x)+"z"],k+=u.move(v,x),s.globals.isXNumeric||(n+=r),{pathTo:A,pathFrom:k,x:y,y:n,barYPosition:x,color:d}}},{key:"getOHLCValue",value:function(e,t){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[e][t]:n.globals.seriesCandleO[e][t],h:this.isBoxPlot?n.globals.seriesCandleO[e][t]:n.globals.seriesCandleH[e][t],m:n.globals.seriesCandleM[e][t],l:this.isBoxPlot?n.globals.seriesCandleC[e][t]:n.globals.seriesCandleL[e][t],c:this.isBoxPlot?n.globals.seriesCandleL[e][t]:n.globals.seriesCandleC[e][t]}}}]),n}(),Ce=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map((function(e,n){e.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,n,r){var a=this.w,i=1,o=a.config.plotOptions[e].shadeIntensity,s=this.determineColor(e,t,n);a.globals.hasNegs||r?i=a.config.plotOptions[e].reverseNegativeShade?s.percent<0?s.percent/100*(1.25*o):(1-s.percent/100)*(1.25*o):s.percent<=0?1-(1+s.percent/100)*o:(1-s.percent/100)*o:(i=1-s.percent/100,"treemap"===e&&(i=(1-s.percent/100)*(1.25*o)));var u=s.color,l=new b;return a.config.plotOptions[e].enableShades&&(u="dark"===this.w.config.theme.mode?b.hexToRgba(l.shadeColor(-1*i,s.color),a.config.fill.opacity):b.hexToRgba(l.shadeColor(i,s.color),a.config.fill.opacity)),{color:u,colorProps:s}}},{key:"determineColor",value:function(e,t,n){var r=this.w,a=r.globals.series[t][n],i=r.config.plotOptions[e],o=i.colorScale.inverse?n:t;i.distributed&&"treemap"===r.config.chart.type&&(o=n);var s=r.globals.colors[o],u=null,l=Math.min.apply(Math,g(r.globals.series[t])),c=Math.max.apply(Math,g(r.globals.series[t]));i.distributed||"heatmap"!==e||(l=r.globals.minY,c=r.globals.maxY),void 0!==i.colorScale.min&&(l=i.colorScale.min<r.globals.minY?i.colorScale.min:r.globals.minY,c=i.colorScale.max>r.globals.maxY?i.colorScale.max:r.globals.maxY);var d=Math.abs(c)+Math.abs(l),f=100*a/(0===d?d-1e-6:d);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(e,t){if(a>=e.from&&a<=e.to){s=e.color,u=e.foreColor?e.foreColor:null,l=e.from,c=e.to;var n=Math.abs(c)+Math.abs(l);f=100*a/(0===n?n-1e-6:n)}})),{color:s,foreColor:u,percent:f}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,r=e.y,a=e.i,i=e.j,o=e.colorProps,s=e.fontSize,u=this.w.config.dataLabels,l=new w(this.ctx),c=new R(this.ctx),d=null;if(u.enabled){d=l.group({class:"apexcharts-data-labels"});var f=u.offsetX,p=u.offsetY,h=n+f,m=r+parseFloat(u.style.fontSize)/3+p;c.plotDataLabelsText({x:h,y:m,text:t,i:a,j:i,color:o.foreColor,parent:d,fontSize:s,dataLabelsConfig:u})}return d}},{key:"addListeners",value:function(e){var t=new w(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Ie=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ce(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return l(e,[{key:"draw",value:function(e){var t=this.w,n=new w(this.ctx),r=n.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var a=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,o=0,s=!1;this.negRange=this.helpers.checkColorRange();var u=e.slice();t.config.yaxis[0].reversed&&(s=!0,u.reverse());for(var l=s?0:u.length-1;s?l<u.length:l>=0;s?l++:l--){var c=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:b.escapeString(t.globals.seriesNames[l]),rel:l+1,"data:realIndex":l});if(this.ctx.series.addCollapsedClassToSeries(c,l),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new A(this.ctx).dropShadow(c,d,l)}for(var f=0,p=t.config.plotOptions.heatmap.shadeIntensity,h=0;h<u[l].length;h++){var m=this.helpers.getShadeColor(t.config.chart.type,l,h,this.negRange),g=m.color,v=m.colorProps;"image"===t.config.fill.type&&(g=new P(this.ctx).fillPath({seriesNumber:l,dataPointIndex:h,opacity:t.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:b.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:a,height:t.config.fill.image.height?t.config.fill.image.height:i}));var y=this.rectRadius,x=n.drawRect(f,o,a,i,y);if(x.attr({cx:f,cy:o}),x.node.classList.add("apexcharts-heatmap-rect"),c.add(x),x.attr({fill:g,i:l,index:l,j:h,val:u[l][h],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?g:t.globals.stroke.colors[0],color:g}),this.helpers.addListeners(x),t.config.chart.animations.enabled&&!t.globals.dataChanged){var k=1;t.globals.resized||(k=t.config.chart.animations.speed),this.animateHeatMap(x,f,o,a,i,k)}if(t.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){S=this.dynamicAnim.speed;var C=t.globals.previousPaths[l]&&t.globals.previousPaths[l][h]&&t.globals.previousPaths[l][h].color;C||(C="rgba(255, 255, 255, 0)"),this.animateHeatColor(x,b.isColorHex(C)?C:b.rgb2hex(C),b.isColorHex(g)?g:b.rgb2hex(g),S)}}var I=(0,t.config.dataLabels.formatter)(t.globals.series[l][h],{value:t.globals.series[l][h],seriesIndex:l,dataPointIndex:h,w:t}),E=this.helpers.calculateDataLabels({text:I,x:f+a/2,y:o+i/2,i:l,j:h,colorProps:v,series:u});null!==E&&c.add(E),f+=a}o+=i,r.add(c)}var T=t.globals.yAxisScale[0].result.slice();t.config.yaxis[0].reversed?T.unshift(""):T.push(""),t.globals.yAxisScale[0].result=T;var N=t.globals.gridHeight/t.globals.series.length;return t.config.yaxis[0].labels.offsetY=-N/2,r}},{key:"animateHeatMap",value:function(e,t,n,r,a,i){var o=new x(this.ctx);o.animateRect(e,{x:t+r/2,y:n+a/2,width:0,height:0},{x:t,y:n,width:r,height:a},i,(function(){o.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,n,r){e.attr({fill:t}).animate(r).attr({fill:n})}}]),e}(),Ee=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawYAxisTexts",value:function(e,t,n,r){var a=this.w,i=a.config.yaxis[0],o=a.globals.yLabelFormatters[0];return new w(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:o(r,n),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[n]:i.labels.style.colors})}}]),e}(),Te=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,"radialBar"===n.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new w(this.ctx);if(this.ret=r.group({class:"apexcharts-pie"}),n.globals.noData)return this.ret;for(var a=0,i=0;i<e.length;i++)a+=b.negToZero(e[i]);var o=[],s=r.group();0===a&&(a=1e-5),e.forEach((function(e){t.maxY=Math.max(t.maxY,e)})),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),"back"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var u=0;u<e.length;u++){var l=this.fullAngle*b.negToZero(e[u])/a;o.push(l),"polarArea"===this.chartType?(o[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var c,d=0,f=0;f<n.globals.previousPaths.length;f++)d+=b.negToZero(n.globals.previousPaths[f]);for(var p=0;p<n.globals.previousPaths.length;p++)c=this.fullAngle*b.negToZero(n.globals.previousPaths[p])/d,this.prevSectorAngleArr.push(c)}this.donutSize<0&&(this.donutSize=0);var h=n.config.plotOptions.pie.customScale,m=n.globals.gridWidth/2,g=n.globals.gridHeight/2,v=m-n.globals.gridWidth/2*h,y=g-n.globals.gridHeight/2*h;if("donut"===this.chartType){var x=r.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),s.add(x)}var A=this.drawArcs(o,e);if(this.sliceLabels.forEach((function(e){A.add(e)})),s.attr({transform:"translate(".concat(v,", ").concat(y,") scale(").concat(h,")")}),s.add(A),this.ret.add(s),this.donutDataLabels.show){var k=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:y});this.ret.add(k)}return"front"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(e,t){var n=this.w,r=new A(this.ctx),a=new w(this.ctx),i=new P(this.ctx),o=a.group({class:"apexcharts-slices"}),s=this.initialAngle,u=this.initialAngle,l=this.initialAngle,c=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var d=0;d<e.length;d++){var f=a.group({class:"apexcharts-series apexcharts-pie-series",seriesName:b.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});o.add(f),u=c,l=(s=l)+e[d],c=u+this.prevSectorAngleArr[d];var p=l<s?this.fullAngle+l-s:l-s,h=i.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),m=this.getChangedPath(u,c),g=a.drawPath({d:m,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:h,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(g.attr({index:0,j:d}),r.setSelectionFilter(g,0,d),n.config.chart.dropShadow.enabled){var v=n.config.chart.dropShadow;r.dropShadow(g,v,d)}this.addListeners(g,this.donutDataLabels),w.setAttrs(g.node,{"data:angle":p,"data:startAngle":s,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var y={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?y=b.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle):"donut"===this.chartType&&(y=b.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle)),f.add(g);var x=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0===(x=p/this.fullAngle*n.config.chart.animations.speed)&&(x=1),this.animDur=x+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[d],endAngle:l,startAngle:s,prevStartAngle:u,prevEndAngle:c,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[d],endAngle:l,startAngle:s,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:x}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.click(this.pieClicked.bind(this,d)),void 0!==n.globals.selectedDataPoints[0]&&n.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),n.config.dataLabels.enabled){var k=y.x,S=y.y,C=100*p/this.fullAngle+"%";if(0!==p&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var I=n.config.dataLabels.formatter;void 0!==I&&(C=I(n.globals.seriesPercent[d][0],{seriesIndex:d,w:n}));var E=n.globals.dataLabels.style.colors[d],T=a.group({class:"apexcharts-datalabels"}),N=a.drawText({x:k,y:S,text:C,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:E});if(T.add(N),n.config.dataLabels.dropShadow.enabled){var O=n.config.dataLabels.dropShadow;r.dropShadow(N,O)}N.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(N.node.classList.add("apexcharts-pie-label-delay"),N.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(T)}}}return o}},{key:"addListeners",value:function(e,t){var n=new w(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,a=r,i=t.startAngle,o=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(i=t.prevEndAngle,a=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(r+o>this.fullAngle?t.endAngle=t.endAngle-(r+o):r+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+o)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,i,o,r,a,t)}},{key:"animateArc",value:function(e,t,n,r,a,i){var o,s=this,u=this.w,l=new x(this.ctx),c=i.size;(isNaN(t)||isNaN(a))&&(t=n,a=r,i.dur=0);var d=r,f=n,p=t<n?this.fullAngle+t-n:t-n;u.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(o=s.getPiePath({me:s,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:c}),e.attr({d:o})),0!==i.dur?e.animate(i.dur,u.globals.easing,i.animBeginArr[i.i]).afterAll((function(){"pie"!==s.chartType&&"donut"!==s.chartType&&"polarArea"!==s.chartType||this.animate(u.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":s.strokeWidth}),i.i===u.config.series.length-1&&l.animationCompleted(e)})).during((function(u){d=p+(r-p)*u,i.animateStartingPos&&(d=a+(r-a)*u,f=t-a+(n-(t-a))*u),o=s.getPiePath({me:s,startAngle:f,angle:d,size:c}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})})):(o=s.getPiePath({me:s,startAngle:f,angle:r,size:c}),i.isTrack||(u.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":s.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,r=this,a=r.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),i=n.globals.dom.Paper.select(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==i.attr("data:pieClicked")){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,(function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");e.setAttribute("d",t)})),i.attr("data:pieClicked","true");var s=parseInt(i.attr("data:startAngle"),10),u=parseInt(i.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:s,angle:u,size:a}),360!==u&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var l=i.attr("data:pathOrig");i.attr({d:l})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t=e.me,n=e.startAngle,r=e.angle,a=e.size,i=n,o=Math.PI*(i-90)/180,s=r+n;Math.ceil(s)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(s=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(s)>this.fullAngle&&(s-=this.fullAngle);var u=Math.PI*(s-90)/180,l=t.centerX+a*Math.cos(o),c=t.centerY+a*Math.sin(o),d=t.centerX+a*Math.cos(u),f=t.centerY+a*Math.sin(u),p=b.polarToCartesian(t.centerX,t.centerY,t.donutSize,s),h=b.polarToCartesian(t.centerX,t.centerY,t.donutSize,i),m=r>180?1:0,g=["M",l,c,"A",a,a,0,m,1,d,f];return"donut"===t.chartType?[].concat(g,["L",p.x,p.y,"A",t.donutSize,t.donutSize,0,m,0,h.x,h.y,"L",l,c,"z"]).join(" "):"pie"===t.chartType||"polarArea"===t.chartType?[].concat(g,["L",t.centerX,t.centerY,"L",l,c]).join(" "):[].concat(g).join(" ")}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new J(this.ctx),r=new w(this.ctx),a=new Ee(this.ctx),i=r.group(),o=r.group(),s=n.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),u=s.result.reverse(),l=s.result.length;this.maxY=s.niceMax;for(var c=t.globals.radialSize,d=c/(l-1),f=0;f<l-1;f++){var p=r.drawCircle(c);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var h=a.drawYAxisTexts(this.centerX,this.centerY-c+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,f,u[f]);o.add(h)}i.add(p),c-=d}this.drawSpokes(e),e.add(i),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t){var n=this.w,r=new w(this.ctx),a=r.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(t.translateX?t.translateX:0,", ").concat(t.translateY?t.translateY:0,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),i=e.total.show;a.node.style.opacity=t.opacity;var o,s,u=t.centerX,l=t.centerY;o=void 0===e.name.color?n.globals.colors[0]:e.name.color;var c=e.name.fontSize,d=e.name.fontFamily,f=e.name.fontWeight;s=void 0===e.value.color?n.config.chart.foreColor:e.value.color;var p=e.value.formatter,h="",m="";if(i?(o=e.total.color,c=e.total.fontSize,d=e.total.fontFamily,f=e.total.fontWeight,m=e.total.label,h=e.total.formatter(n)):1===n.globals.series.length&&(h=p(n.globals.series[0],n),m=n.globals.seriesNames[0]),m&&(m=e.name.formatter(m,e.total.show,n)),e.name.show){var g=r.drawText({x:u,y:l+parseFloat(e.name.offsetY),text:m,textAnchor:"middle",foreColor:o,fontSize:c,fontWeight:f,fontFamily:d});g.node.classList.add("apexcharts-datalabel-label"),a.add(g)}if(e.value.show){var v=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,y=r.drawText({x:u,y:l+v,text:h,textAnchor:"middle",foreColor:s,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),a.add(y)}return a}},{key:"printInnerLabels",value:function(e,t,n,r){var a,i=this.w;r?a=void 0===e.name.color?i.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(a=e.total.color);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),s=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,i),r||"function"!=typeof e.total.formatter||(n=e.total.formatter(i));var u=t===e.total.label;t=e.name.formatter(t,u,i),null!==o&&(o.textContent=t),null!==s&&(s.textContent=n),null!==o&&(o.style.fill=a)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,r=e.getAttribute("data:value"),a=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,a,r,e);var i=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==i&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,r=new w(this.ctx),a=n.config.plotOptions.polarArea.spokes;if(0!==a.strokeWidth){for(var i=[],o=360/n.globals.series.length,s=0;s<n.globals.series.length;s++)i.push(b.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+o*s));i.forEach((function(n,i){var o=r.drawLine(n.x,n.y,t.centerX,t.centerY,Array.isArray(a.connectorColors)?a.connectorColors[i]:a.connectorColors);e.add(o)}))}}},{key:"revertDataLabelsInner",value:function(e,t,n){var r=this,a=this.w,i=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),o=!1,s=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),u=function(e){var n=e.makeSliceOut,a=e.printLabel;Array.prototype.forEach.call(s,(function(e){"true"===e.getAttribute("data:pieClicked")&&(n&&(o=!0),a&&r.printDataLabelsInner(e,t))}))};if(u({makeSliceOut:!0,printLabel:!1}),t.total.show&&a.globals.series.length>1)o&&!t.total.showAlways?u({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(t,t.total.label,t.total.formatter(a));else if(u({makeSliceOut:!1,printLabel:!0}),!o)if(a.globals.selectedDataPoints.length&&a.globals.series.length>1)if(a.globals.selectedDataPoints[0].length>0){var l=a.globals.selectedDataPoints[0],c=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(l));this.printDataLabelsInner(c,t)}else i&&a.globals.selectedDataPoints.length&&0===a.globals.selectedDataPoints[0].length&&(i.style.opacity=0);else i&&a.globals.series.length>1&&(i.style.opacity=0)}}]),e}(),Ne=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new w(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.coreUtils=new k(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new P(this.ctx),a=[],o=new R(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var s=n.globals.gridWidth/2,u=n.globals.gridHeight/2,l=s+n.config.plotOptions.radar.offsetX,c=u+n.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(l||0,", ").concat(c||0,")")}),f=[],p=null,h=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(e,s){var u=e.length===n.globals.dataPoints,l=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":u,seriesName:b.escapeString(n.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});t.dataRadiusOfPercent[s]=[],t.dataRadius[s]=[],t.angleArr[s]=[],e.forEach((function(e,n){var r=Math.abs(t.maxValue-t.minValue);e+=Math.abs(t.minValue),t.isLog&&(e=t.coreUtils.getLogVal(e,0)),t.dataRadiusOfPercent[s][n]=e/r,t.dataRadius[s][n]=t.dataRadiusOfPercent[s][n]*t.size,t.angleArr[s][n]=n*t.disAngle})),f=t.getDataPointsPos(t.dataRadius[s],t.angleArr[s]);var c=t.createPaths(f,{x:0,y:0});p=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),h=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":s}),n.globals.delayedElements.push({el:p.node,index:s});var d={i:s,realIndex:s,animationDelay:s,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[s],strokeLineCap:n.config.stroke.lineCap},m=null;n.globals.previousPaths.length>0&&(m=t.getPreviousPath(s));for(var g=0;g<c.linePathsTo.length;g++){var v=t.graphics.renderPaths(i(i({},d),{},{pathFrom:null===m?c.linePathsFrom[g]:m,pathTo:c.linePathsTo[g],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[s]:t.strokeWidth,fill:"none",drawShadow:!1}));l.add(v);var y=r.fillPath({seriesNumber:s}),x=t.graphics.renderPaths(i(i({},d),{},{pathFrom:null===m?c.areaPathsFrom[g]:m,pathTo:c.areaPathsTo[g],strokeWidth:0,fill:y,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var w=new A(t.ctx),k=n.config.chart.dropShadow;w.dropShadow(x,Object.assign({},k,{noUserSpaceOnUse:!0}),s)}l.add(x)}e.forEach((function(e,r){var a=new _(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:s,dataPointIndex:r}),u=t.graphics.drawMarker(f[r].x,f[r].y,a);u.attr("rel",r),u.attr("j",r),u.attr("index",s),u.node.setAttribute("default-marker-size",a.pSize);var c=t.graphics.group({class:"apexcharts-series-markers"});c&&c.add(u),p.add(c),l.add(p);var d=n.config.dataLabels;if(d.enabled){var m=d.formatter(n.globals.series[s][r],{seriesIndex:s,dataPointIndex:r,w:n});o.plotDataLabelsText({x:f[r].x,y:f[r].y,text:m,textAnchor:"middle",i:s,j:s,parent:h,offsetCorrection:!1,dataLabelsConfig:i({},d)})}l.add(h)})),a.push(l)})),this.drawPolygons({parent:d}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();d.add(m)}return a.forEach((function(e){d.add(e)})),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,r=e.parent,a=new Ee(this.ctx),i=n.globals.yAxisScale[0].result.reverse(),o=i.length,s=[],u=this.size/(o-1),l=0;l<o;l++)s[l]=u*l;s.reverse();var c=[],d=[];s.forEach((function(e,n){var r=b.getPolygonPos(e,t.dataPointsLen),a="";r.forEach((function(e,r){if(0===n){var i=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[r]:t.polygons.connectorColors);d.push(i)}0===r&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),a+=e.x+","+e.y+" "})),c.push(a)})),c.forEach((function(e,a){var i=t.polygons.strokeColors,o=t.polygons.strokeWidth,s=t.graphics.drawPolygon(e,Array.isArray(i)?i[a]:i,Array.isArray(o)?o[a]:o,n.globals.radarPolygons.fill.colors[a]);r.add(s)})),d.forEach((function(e){r.add(e)})),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(e,n){var r=a.drawYAxisTexts(e.x,e.y,n,i[n]);t.yaxisLabels.add(r)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),a=b.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,s){var u=t.config.xaxis.labels.formatter,l=new R(e.ctx);if(a[s]){var c=e.getTextPos(a[s],e.size),d=u(o,{seriesIndex:-1,dataPointIndex:s,w:t});l.plotDataLabelsText({x:c.newX,y:c.newY,text:d,textAnchor:c.textAnchor,i:s,j:s,parent:r,color:Array.isArray(n.style.colors)&&n.style.colors[s]?n.style.colors[s]:"#a8a8a8",dataLabelsConfig:i({textAnchor:c.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1})}})),r}},{key:"createPaths",value:function(e,t){var n=this,r=[],a=[],i=[],o=[];if(e.length){a=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var s=this.graphics.move(e[0].x,e[0].y),u=this.graphics.move(e[0].x,e[0].y);e.forEach((function(t,r){s+=n.graphics.line(t.x,t.y),u+=n.graphics.line(t.x,t.y),r===e.length-1&&(s+="Z",u+="Z")})),r.push(s),i.push(u)}return{linePathsFrom:a,linePathsTo:r,areaPathsFrom:o,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var n="middle",r=e.x,a=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",r+=10):e.x<0&&(n="end",r-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?a-=10:e.y>0&&(a+=10)),{textAnchor:n,newX:r,newY:a}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,r=0;r<t.globals.previousPaths.length;r++){var a=t.globals.previousPaths[r];a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[r].paths[0]&&(n=t.globals.previousPaths[r].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],a=0;a<n;a++){var i={};i.x=e[a]*Math.sin(t[a]),i.y=-e[a]*Math.cos(t[a]),r.push(i)}return r}}]),e}(),Oe=function(e){d(n,Te);var t=m(n);function n(e){var r;s(this,n),(r=t.call(this,e)).ctx=e,r.w=e.w,r.animBeginArr=[0],r.animDur=0;var a=r.w;return r.startAngle=a.config.plotOptions.radialBar.startAngle,r.endAngle=a.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(a.config.plotOptions.radialBar.endAngle-a.config.plotOptions.radialBar.startAngle),r.trackStartAngle=a.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=a.config.plotOptions.radialBar.track.endAngle,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),360===r.endAngle&&(r.endAngle=359.99),r.margin=parseInt(a.config.plotOptions.radialBar.track.margin,10),r}return l(n,[{key:"draw",value:function(e){var t=this.w,n=new w(this.ctx),r=n.group({class:"apexcharts-radialbar"});if(t.globals.noData)return r;var a=n.group(),i=this.defaultSize/2,o=t.globals.gridWidth/2,s=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(s=s-t.config.stroke.width-t.config.chart.dropShadow.blur);var u=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var l=this.drawTracks({size:s,centerX:o,centerY:i,colorArr:u,series:e});a.add(l)}var c=this.drawArcs({size:s,centerX:o,centerY:i,colorArr:u,series:e}),d=360;t.config.plotOptions.radialBar.startAngle<0&&(d=this.totalAngle);var f=(360-d)/360;if(t.globals.radialSize=s-s*f,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=p*f}return a.add(c.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(c.g.add(c.elHollow),c.dataLabels&&c.g.add(c.dataLabels)),r.add(a),r}},{key:"drawTracks",value:function(e){var t=this.w,n=new w(this.ctx),r=n.group({class:"apexcharts-tracks"}),a=new A(this.ctx),i=new P(this.ctx),o=this.getStrokeWidth(e);e.size=e.size-o/2;for(var s=0;s<e.series.length;s++){var u=n.group({class:"apexcharts-radialbar-track apexcharts-track"});r.add(u),u.attr({rel:s+1}),e.size=e.size-o-this.margin;var l=t.config.plotOptions.radialBar.track,c=i.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(l.background)?l.background[s]:l.background,solid:!0}),d=this.trackStartAngle,f=this.trackEndAngle;Math.abs(f)+Math.abs(d)>=360&&(f=360-Math.abs(this.startAngle)-.1);var p=n.drawPath({d:"",stroke:c,strokeWidth:o*parseInt(l.strokeWidth,10)/100,fill:"none",strokeOpacity:l.opacity,classes:"apexcharts-radialbar-area"});if(l.dropShadow.enabled){var h=l.dropShadow;a.dropShadow(p,h)}u.add(p),p.attr("id","apexcharts-radialbarTrack-"+s),this.animatePaths(p,{centerX:e.centerX,centerY:e.centerY,endAngle:f,startAngle:d,size:e.size,i:s,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return r}},{key:"drawArcs",value:function(e){var t=this.w,n=new w(this.ctx),r=new P(this.ctx),a=new A(this.ctx),i=n.group(),o=this.getStrokeWidth(e);e.size=e.size-o/2;var s=t.config.plotOptions.radialBar.hollow.background,u=e.size-o*e.series.length-this.margin*e.series.length-o*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,l=u-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(s=this.drawHollowImage(e,i,u,s));var c=this.drawHollow({size:l,centerX:e.centerX,centerY:e.centerY,fill:s||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var d=t.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(c,d)}var f=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(f=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:u,centerX:e.centerX,centerY:e.centerY,opacity:f})),"back"===t.config.plotOptions.radialBar.hollow.position&&(i.add(c),p&&i.add(p));var h=!1;t.config.plotOptions.radialBar.inverseOrder&&(h=!0);for(var m=h?e.series.length-1:0;h?m>=0:m<e.series.length;h?m--:m++){var g=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:b.escapeString(t.globals.seriesNames[m])});i.add(g),g.attr({rel:m+1,"data:realIndex":m}),this.ctx.series.addCollapsedClassToSeries(g,m),e.size=e.size-o-this.margin;var v=r.fillPath({seriesNumber:m,size:e.size,value:e.series[m]}),y=this.startAngle,x=void 0,k=b.negToZero(e.series[m]>100?100:e.series[m])/100,S=Math.round(this.totalAngle*k)+this.startAngle,C=void 0;t.globals.dataChanged&&(x=this.startAngle,C=Math.round(this.totalAngle*b.negToZero(t.globals.previousPaths[m])/100)+x),Math.abs(S)+Math.abs(y)>=360&&(S-=.01),Math.abs(C)+Math.abs(x)>=360&&(C-=.01);var I=S-y,E=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[m]:t.config.stroke.dashArray,T=n.drawPath({d:"",stroke:v,strokeWidth:o,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+m,strokeDashArray:E});if(w.setAttrs(T.node,{"data:angle":I,"data:value":e.series[m]}),t.config.chart.dropShadow.enabled){var N=t.config.chart.dropShadow;a.dropShadow(T,N,m)}a.setSelectionFilter(T,0,m),this.addListeners(T,this.radialDataLabels),g.add(T),T.attr({index:0,j:m});var O=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(O=t.config.chart.animations.speed),t.globals.dataChanged&&(O=t.config.chart.animations.dynamicAnimation.speed),this.animDur=O/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(T,{centerX:e.centerX,centerY:e.centerY,endAngle:S,startAngle:y,prevEndAngle:C,prevStartAngle:x,size:e.size,i:m,totalItems:2,animBeginArr:this.animBeginArr,dur:O,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:i,elHollow:c,dataLabels:p}}},{key:"drawHollow",value:function(e){var t=new w(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,n,r){var a=this.w,i=new P(this.ctx),o=b.randomId(),s=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)i.clippedImgArea({width:n,height:n,image:s,patternID:"pattern".concat(a.globals.cuid).concat(o)}),r="url(#pattern".concat(a.globals.cuid).concat(o,")");else{var u=a.config.plotOptions.radialBar.hollow.imageWidth,l=a.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===u&&void 0===l){var c=a.globals.dom.Paper.image(s).loaded((function(t){this.move(e.centerX-t.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));t.add(c)}else{var d=a.globals.dom.Paper.image(s).loaded((function(t){this.move(e.centerX-u/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-l/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(u,l)}));t.add(d)}}return r}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}}]),n}(),Pe=function(){function e(t){s(this,e),this.w=t.w,this.lineCtx=t}return l(e,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if("line"===n.config.chart.type&&("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[e])&&new k(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,r=e.x,a=e.y,i=e.i,o=e.j,s=e.prevY,u=this.w,l=[],c=[];if(0===o){var d=this.lineCtx.categoryAxisCorrection+u.config.markers.offsetX;u.globals.isXNumeric&&(d=(u.globals.seriesX[n][0]-u.globals.minX)/this.lineCtx.xRatio+u.config.markers.offsetX),l.push(d),c.push(b.isNumber(t[i][0])?s+u.config.markers.offsetY:null),l.push(r+u.config.markers.offsetX),c.push(b.isNumber(t[i][o+1])?a+u.config.markers.offsetY:null)}else l.push(r+u.config.markers.offsetX),c.push(b.isNumber(t[i][o+1])?a+u.config.markers.offsetY:null);return{x:l,y:c}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,r=e.realIndex,a=this.w,i=0;i<a.globals.previousPaths.length;i++){var o=a.globals.previousPaths[i];("line"===o.type||"area"===o.type)&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(r,10)&&("line"===o.type?(this.lineCtx.appendPathFrom=!1,t=a.globals.previousPaths[i].paths[0].d):"area"===o.type&&(this.lineCtx.appendPathFrom=!1,n=a.globals.previousPaths[i].paths[0].d,a.config.stroke.show&&a.globals.previousPaths[i].paths[1]&&(t=a.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t=e.i,n=e.series,r=e.prevY,a=e.lineYPosition,i=this.w;if(void 0!==n[t][0])r=(a=i.config.chart.stacked&&t>0?this.lineCtx.prevSeriesY[t-1][0]:this.lineCtx.zeroY)-n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?n[t][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(i.config.chart.stacked&&t>0&&void 0===n[t][0])for(var o=t-1;o>=0;o--)if(null!==n[o][0]&&void 0!==n[o][0]){r=a=this.lineCtx.prevSeriesY[o][0];break}return{prevY:r,lineYPosition:a}}}]),e}(),_e=function(){function e(t,n,r){s(this,e),this.ctx=t,this.w=t.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||r,this.scatter=new M(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Pe(this),this.markers=new _(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return l(e,[{key:"draw",value:function(e,t,n){var r=this.w,a=new w(this.ctx),i=r.globals.comboCharts?t:r.config.chart.type,o=a.group({class:"apexcharts-".concat(i,"-series apexcharts-plot-series")}),s=new k(this.ctx,r);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=s.getLogSeries(e),this.yRatio=s.getLogYRatios(this.yRatio);for(var u=[],l=0;l<e.length;l++){e=this.lineHelpers.sameValueSeriesFix(l,e);var c=r.globals.comboCharts?n[l]:l;this._initSerieVariables(e,l,c);var d=[],f=[],p=r.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,c),r.globals.isXNumeric&&r.globals.seriesX.length>0&&(p=(r.globals.seriesX[c][0]-r.globals.minX)/this.xRatio),f.push(p);var h,m=p,g=m,v=this.zeroY;v=this.lineHelpers.determineFirstPrevY({i:l,series:e,prevY:v,lineYPosition:0}).prevY,d.push(v),h=v;var y=this._calculatePathsFrom({series:e,i:l,realIndex:c,prevX:g,prevY:v}),b=this._iterateOverDataPoints({series:e,realIndex:c,i:l,x:p,y:1,pX:m,pY:h,pathsFrom:y,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:f,yArrj:d});this._handlePaths({type:i,realIndex:c,i:l,paths:b}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),u.push(this.elSeries)}if(r.config.chart.stacked)for(var x=u.length;x>0;x--)o.add(u[x-1]);else for(var A=0;A<u.length;A++)o.add(u[A]);return o}},{key:"_initSerieVariables",value:function(e,t,n){var r=this.w,a=new w(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-("on"===r.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[n]:r.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=n),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||"end"===r.config.plotOptions.area.fillTo)&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=a.group({class:"apexcharts-series",seriesName:b.escapeString(r.globals.seriesNames[n])}),this.elPointsMain=a.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=a.group({class:"apexcharts-datalabels","data:realIndex":n});var i=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":i,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,r,a,i=e.series,o=e.i,s=e.realIndex,u=e.prevX,l=e.prevY,c=this.w,d=new w(this.ctx);if(null===i[o][0]){for(var f=0;f<i[o].length;f++)if(null!==i[o][f]){u=this.xDivision*f,l=this.zeroY-i[o][f]/this.yRatio[this.yaxisIndex],t=d.move(u,l),n=d.move(u,this.areaBottomY);break}}else t=d.move(u,l),n=d.move(u,this.areaBottomY)+d.line(u,l);if(r=d.move(-1,this.zeroY)+d.line(-1,this.zeroY),a=d.move(-1,this.zeroY)+d.line(-1,this.zeroY),c.globals.previousPaths.length>0){var p=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:a,realIndex:s});r=p.pathFromLine,a=p.pathFromArea}return{prevX:u,prevY:l,linePath:t,areaPath:n,pathFromLine:r,pathFromArea:a}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,r=e.i,a=e.paths,o=this.w,s=new w(this.ctx),u=new P(this.ctx);this.prevSeriesY.push(a.yArrj),o.globals.seriesXvalues[n]=a.xArrj,o.globals.seriesYvalues[n]=a.yArrj;var l=o.config.forecastDataPoints;if(l.count>0){var c=o.globals.seriesXvalues[n][o.globals.seriesXvalues[n].length-l.count-1],d=s.drawRect(c,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(d.node);var f=s.drawRect(0,0,c,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var p={i:r,realIndex:n,animationDelay:r,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var h=u.fillPath({seriesNumber:n}),m=0;m<a.areaPaths.length;m++){var g=s.renderPaths(i(i({},p),{},{pathFrom:a.pathFromArea,pathTo:a.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:h}));this.elSeries.add(g)}if(o.config.stroke.show&&!this.pointsChart){var v=null;if("line"===t)v=u.fillPath({seriesNumber:n,i:r});else if("solid"===o.config.stroke.fill.type)v=o.globals.stroke.colors[n];else{var y=o.config.fill;o.config.fill=o.config.stroke.fill,v=u.fillPath({seriesNumber:n,i:r}),o.config.fill=y}for(var b=0;b<a.linePaths.length;b++){var x=i(i({},p),{},{pathFrom:a.pathFromLine,pathTo:a.linePaths[b],stroke:v,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"none"}),A=s.renderPaths(x);if(this.elSeries.add(A),l.count>0){var k=s.renderPaths(x);k.node.setAttribute("stroke-dasharray",l.dashArray),l.strokeWidth&&k.node.setAttribute("stroke-width",l.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),A.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){for(var t=e.series,n=e.realIndex,r=e.i,a=e.x,i=e.y,o=e.pX,s=e.pY,u=e.pathsFrom,l=e.linePaths,c=e.areaPaths,d=e.seriesIndex,f=e.lineYPosition,p=e.xArrj,h=e.yArrj,m=this.w,g=new w(this.ctx),v=this.yRatio,y=u.prevY,x=u.linePath,A=u.areaPath,k=u.pathFromLine,S=u.pathFromArea,C=b.isNumber(m.globals.minYArr[n])?m.globals.minYArr[n]:m.globals.minY,I=m.globals.dataPoints>1?m.globals.dataPoints-1:m.globals.dataPoints,E=0;E<I;E++){var T=void 0===t[r][E+1]||null===t[r][E+1];if(m.globals.isXNumeric){var N=m.globals.seriesX[n][E+1];void 0===m.globals.seriesX[n][E+1]&&(N=m.globals.seriesX[n][I-1]),a=(N-m.globals.minX)/this.xRatio}else a+=this.xDivision;f=m.config.chart.stacked&&r>0&&m.globals.collapsedSeries.length<m.config.series.length-1?this.prevSeriesY[function(e){for(var t=e,n=0;n<m.globals.series.length;n++)if(m.globals.collapsedSeriesIndices.indexOf(e)>-1){t--;break}return t>=0?t:0}(r-1)][E+1]:this.zeroY,i=T?f-C/v[this.yaxisIndex]+2*(this.isReversed?C/v[this.yaxisIndex]:0):f-t[r][E+1]/v[this.yaxisIndex]+2*(this.isReversed?t[r][E+1]/v[this.yaxisIndex]:0),p.push(a),h.push(i);var O=this.lineHelpers.calculatePoints({series:t,x:a,y:i,realIndex:n,i:r,j:E,prevY:y}),P=this._createPaths({series:t,i:r,realIndex:n,j:E,x:a,y:i,pX:o,pY:s,linePath:x,areaPath:A,linePaths:l,areaPaths:c,seriesIndex:d});c=P.areaPaths,l=P.linePaths,o=P.pX,s=P.pY,A=P.areaPath,x=P.linePath,this.appendPathFrom&&(k+=g.line(a,this.zeroY),S+=g.line(a,this.zeroY)),this.handleNullDataPoints(t,O,r,E,n),this._handleMarkersAndLabels({pointsPos:O,series:t,x:a,y:i,prevY:y,i:r,j:E,realIndex:n})}return{yArrj:h,xArrj:p,pathFromArea:S,areaPaths:c,pathFromLine:k,linePaths:l}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.pointsPos;e.series,e.x,e.y,e.prevY;var n=e.i,r=e.j,a=e.realIndex,i=this.w,o=new R(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,r,{realIndex:a,pointsPos:t,zRatio:this.zRatio,elParent:this.elPointsMain});else{i.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var s=this.markers.plotChartMarkers(t,a,r+1);null!==s&&this.elPointsMain.add(s)}var u=o.drawDataLabel(t,a,r+1,null);null!==u&&this.elDataLabelsWrap.add(u)}},{key:"_createPaths",value:function(e){var t=e.series,n=e.i,r=e.realIndex,a=e.j,i=e.x,o=e.y,s=e.pX,u=e.pY,l=e.linePath,c=e.areaPath,d=e.linePaths,f=e.areaPaths,p=e.seriesIndex,h=this.w,m=new w(this.ctx),g=h.config.stroke.curve,v=this.areaBottomY;if(Array.isArray(h.config.stroke.curve)&&(g=Array.isArray(p)?h.config.stroke.curve[p[n]]:h.config.stroke.curve[n]),"smooth"===g){var y=.35*(i-s);h.globals.hasNullValues?(null!==t[n][a]&&(null!==t[n][a+1]?(l=m.move(s,u)+m.curve(s+y,u,i-y,o,i+1,o),c=m.move(s+1,u)+m.curve(s+y,u,i-y,o,i+1,o)+m.line(i,v)+m.line(s,v)+"z"):(l=m.move(s,u),c=m.move(s,u)+"z")),d.push(l),f.push(c)):(l+=m.curve(s+y,u,i-y,o,i,o),c+=m.curve(s+y,u,i-y,o,i,o)),s=i,u=o,a===t[n].length-2&&(c=c+m.curve(s,u,i,o,i,v)+m.move(i,o)+"z",h.globals.hasNullValues||(d.push(l),f.push(c)))}else{if(null===t[n][a+1]){l+=m.move(i,o);var b=h.globals.isXNumeric?(h.globals.seriesX[r][a]-h.globals.minX)/this.xRatio:i-this.xDivision;c=c+m.line(b,v)+m.move(i,o)+"z"}null===t[n][a]&&(l+=m.move(i,o),c+=m.move(i,v)),"stepline"===g?(l=l+m.line(i,null,"H")+m.line(null,o,"V"),c=c+m.line(i,null,"H")+m.line(null,o,"V")):"straight"===g&&(l+=m.line(i,o),c+=m.line(i,o)),a===t[n].length-2&&(c=c+m.line(i,v)+m.move(i,o)+"z",d.push(l),f.push(c))}return{linePaths:d,areaPaths:f,pX:s,pY:u,linePath:l,areaPath:c}}},{key:"handleNullDataPoints",value:function(e,t,n,r,a){var i=this.w;if(null===e[n][r]&&i.config.markers.showNullDataPoints||1===e[n].length){var o=this.markers.plotChartMarkers(t,a,r+1,this.strokeWidth-i.config.markers.strokeWidth/2,!0);null!==o&&this.elPointsMain.add(o)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,n,r,a){this.xoffset=t,this.yoffset=n,this.height=a,this.width=r,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,n=[],r=this.xoffset,a=this.yoffset,o=i(e)/this.height,s=i(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)n.push([r,a,r+o,a+e[t]/o]),a+=e[t]/o;else for(t=0;t<e.length;t++)n.push([r,a,r+e[t]/s,a+s]),r+=e[t]/s;return n},this.cutArea=function(t){var n;if(this.width>=this.height){var r=t/this.height,a=this.width-r;n=new e(this.xoffset+r,this.yoffset,a,this.height)}else{var i=t/this.width,o=this.height-i;n=new e(this.xoffset,this.yoffset+i,this.width,o)}return n}}function t(t,r,a,o,s){return o=void 0===o?0:o,s=void 0===s?0:s,function(e){var t,n,r=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)r.push(e[t][n]);return r}(n(function(e,t){var n,r=[],a=t/i(e);for(n=0;n<e.length;n++)r[n]=e[n]*a;return r}(t,r*a),[],new e(o,s,r,a),[]))}function n(e,t,a,o){var s,u,l;if(0!==e.length)return s=a.shortestEdge(),function(e,t,n){var a;return 0===e.length||((a=e.slice()).push(t),r(e,n)>=r(a,n))}(t,u=e[0],s)?(t.push(u),n(e.slice(1),t,a,o)):(l=a.cutArea(i(t),o),o.push(a.getCoordinates(t)),n(e,[],l,o)),o;o.push(a.getCoordinates(t))}function r(e,t){var n=Math.min.apply(Math,e),r=Math.max.apply(Math,e),a=i(e);return Math.max(Math.pow(t,2)*r/Math.pow(a,2),Math.pow(a,2)/(Math.pow(t,2)*n))}function a(e){return e&&e.constructor===Array}function i(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t];return n}function o(e){var t,n=0;if(a(e[0]))for(t=0;t<e.length;t++)n+=o(e[t]);else n=i(e);return n}return function e(n,r,i,s,u){s=void 0===s?0:s,u=void 0===u?0:u;var l,c,d=[],f=[];if(a(n[0])){for(c=0;c<n.length;c++)d[c]=o(n[c]);for(l=t(d,r,i,s,u),c=0;c<n.length;c++)f.push(e(n[c],l[c][2]-l[c][0],l[c][3]-l[c][1],l[c][0],l[c][1]))}else f=t(n,r,i,s,u);return f}}();var Me,Re,Fe=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ce(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,r=new w(this.ctx),a=new P(this.ctx),i=r.group({class:"apexcharts-treemap"});if(n.globals.noData)return i;var o=[];return e.forEach((function(e){var t=e.map((function(e){return Math.abs(e)}));o.push(t)})),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach((function(e,n){e.data.forEach((function(e){Array.isArray(t.labels[n])||(t.labels[n]=[]),t.labels[n].push(e.x)}))})),window.TreemapSquared.generate(o,n.globals.gridWidth,n.globals.gridHeight).forEach((function(o,s){var u=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:b.escapeString(n.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});if(n.config.chart.dropShadow.enabled){var l=n.config.chart.dropShadow;new A(t.ctx).dropShadow(i,l,s)}var c=r.group({class:"apexcharts-data-labels"});o.forEach((function(i,o){var l=i[0],c=i[1],d=i[2],f=i[3],p=r.drawRect(l,c,d-l,f-c,0,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?m:n.globals.stroke.colors[s]);p.attr({cx:l,cy:c,index:s,i:s,j:o,width:d-l,height:f-c});var h=t.helpers.getShadeColor(n.config.chart.type,s,o,t.negRange),m=h.color;void 0!==n.config.series[s].data[o]&&n.config.series[s].data[o].fillColor&&(m=n.config.series[s].data[o].fillColor);var g=a.fillPath({color:m,seriesNumber:s,dataPointIndex:o});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),t.helpers.addListeners(p);var v={x:l+(d-l)/2,y:c+(f-c)/2,width:0,height:0},y={x:l,y:c,width:d-l,height:f-c};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var b=1;n.globals.resized||(b=n.config.chart.animations.speed),t.animateTreemap(p,v,y,b)}if(n.globals.dataChanged){var x=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(x=t.dynamicAnim.speed,n.globals.previousPaths[s]&&n.globals.previousPaths[s][o]&&n.globals.previousPaths[s][o].rect&&(v=n.globals.previousPaths[s][o].rect),t.animateTreemap(p,v,y,x))}var A=t.getFontSize(i),w=n.config.dataLabels.formatter(t.labels[s][o],{value:n.globals.series[s][o],seriesIndex:s,dataPointIndex:o,w:n}),k=t.helpers.calculateDataLabels({text:w,x:(l+d)/2,y:(c+f)/2+t.strokeWidth/2+A/3,i:s,j:o,colorProps:h,fontSize:A,series:e});n.config.dataLabels.enabled&&k&&t.rotateToFitLabel(k,w,l,c,d,f),u.add(p),null!==k&&u.add(k)})),u.add(c),i.add(u)})),i}},{key:"getFontSize",value:function(e){var t,n,r=this.w,a=function e(t){var n,r=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)r+=e(t[n]);else for(n=0;n<t.length;n++)r+=t[n].length;return r}(this.labels)/function e(t){var n,r=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)r+=e(t[n]);else for(n=0;n<t.length;n++)r+=1;return r}(this.labels);return t=(e[2]-e[0])*(e[3]-e[1]),n=Math.pow(t,.5),Math.min(n/a,parseInt(r.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,n,r,a,i){var o=new w(this.ctx),s=o.getTextRects(t);if(s.width+5>a-n&&s.width<=i-r){var u=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,")"))}}},{key:"animateTreemap",value:function(e,t,n,r){var a=new x(this.ctx);a.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:n.x,y:n.y,width:n.width,height:n.height},r,(function(){a.animationCompleted(e)}))}}]),e}(),De=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return l(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var a=new Z(this.ctx),o=(t-e)/864e5;this.determineInterval(o),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,o<.00011574074074074075?r.globals.disableZoomIn=!0:o>5e4&&(r.globals.disableZoomOut=!0);var s=a.getTimeUnitsfromTimestamp(e,t,this.utc),u=r.globals.gridWidth/o,l=u/24,c=l/60,d=c/60,f=Math.floor(24*o),p=Math.floor(1440*o),h=Math.floor(86400*o),m=Math.floor(o),g=Math.floor(o/30),v=Math.floor(o/365),y={minMillisecond:s.minMillisecond,minSecond:s.minSecond,minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:l,minutesWidthOnXAxis:c,secondsWidthOnXAxis:d,numberOfSeconds:h,numberOfMinutes:p,numberOfHours:f,numberOfDays:m,numberOfMonths:g,numberOfYears:v};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var x=this.timeScaleArray.map((function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?i(i({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?i(i({},t),{},{value:e.value}):"minute"===e.unit?i(i({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?i(i({},t),{},{value:e.value,minute:e.minute,second:e.second}):e}));return x.filter((function(e){var t=1,a=Math.ceil(r.globals.gridWidth/120),i=e.value;void 0!==r.config.xaxis.tickAmount&&(a=r.config.xaxis.tickAmount),x.length>a&&(t=Math.floor(x.length/a));var o=!1,s=!1;switch(n.tickInterval){case"years":"year"===e.unit&&(o=!0);break;case"half_year":t=7,"year"===e.unit&&(o=!0);break;case"months":t=1,"year"===e.unit&&(o=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(o=!0),30===i&&(s=!0);break;case"months_days":t=10,"month"===e.unit&&(o=!0),30===i&&(s=!0);break;case"week_days":t=8,"month"===e.unit&&(o=!0);break;case"days":t=1,"month"===e.unit&&(o=!0);break;case"hours":"day"===e.unit&&(o=!0);break;case"minutes_fives":case"seconds_fives":i%5!=0&&(s=!0);break;case"seconds_tens":i%10!=0&&(s=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!s)return!0}else if((i%t==0||o)&&!s)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,r=this.formatDates(e),a=this.removeOverlappingTS(r);n.globals.timescaleLabels=a.slice(),new de(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,i=e.numberOfYears,o=t.minYear,s=0,u=new Z(this.ctx),l="year";if(t.minDate>1||t.minMonth>0){var c=u.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);s=(u.determineDaysOfYear(t.minYear)-c+1)*a,o=t.minYear+1,this.timeScaleArray.push({position:s,value:o,unit:l,year:o,month:b.monthMod(n+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:s,value:o,unit:l,year:r,month:b.monthMod(n+1)});for(var d=o,f=s,p=0;p<i;p++)d++,f=u.determineDaysOfYear(d-1)*a+f,this.timeScaleArray.push({position:f,value:d,unit:l,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,r=e.currentMonth,a=e.currentYear,i=e.daysWidthOnXAxis,o=e.numberOfMonths,s=r,u=0,l=new Z(this.ctx),c="month",d=0;if(t.minDate>1){u=(l.determineDaysOfMonths(r+1,t.minYear)-n+1)*i,s=b.monthMod(r+1);var f=a+d,p=b.monthMod(s),h=s;0===s&&(c="year",h=f,p=1,f+=d+=1),this.timeScaleArray.push({position:u,value:h,unit:c,year:f,month:p})}else this.timeScaleArray.push({position:u,value:s,unit:c,year:a,month:b.monthMod(r)});for(var m=s+1,g=u,v=0,y=1;v<o;v++,y++){0===(m=b.monthMod(m))?(c="year",d+=1):c="month";var x=this._getYear(a,m,d);g=l.determineDaysOfMonths(m,x)*i+g;var A=0===m?x:m;this.timeScaleArray.push({position:g,value:A,unit:c,year:x,month:0===m?1:m}),m++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,a=e.hoursWidthOnXAxis,i=e.numberOfDays,o=new Z(this.ctx),s="day",u=t.minDate+1,l=u,c=function(e,t,n){return e>o.determineDaysOfMonths(t+1,n)?(l=1,s="month",f=t+=1,t):t},d=(24-t.minHour)*a,f=u,p=c(l,n,r);0===t.minHour&&1===t.minDate?(d=0,f=b.monthMod(t.minMonth),s="month",l=t.minDate,i++):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(d=0,u=t.minDate,f=u,p=c(l=u,n,r)),this.timeScaleArray.push({position:d,value:f,unit:s,year:this._getYear(r,p,0),month:b.monthMod(p),day:l});for(var h=d,m=0;m<i;m++){s="day",p=c(l+=1,p,this._getYear(r,p,0));var g=this._getYear(r,p,0);h=24*a+h;var v=1===l?b.monthMod(p):l;this.timeScaleArray.push({position:h,value:v,unit:s,year:g,month:b.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,r=e.currentMonth,a=e.currentYear,i=e.minutesWidthOnXAxis,o=e.numberOfHours,s=new Z(this.ctx),u="hour",l=function(e,t){return e>s.determineDaysOfMonths(t+1,a)&&(m=1,t+=1),{month:t,date:m}},c=function(e,t){return e>s.determineDaysOfMonths(t+1,a)?t+=1:t},d=60-(t.minMinute+t.minSecond/60),f=d*i,p=t.minHour+1,h=p+1;60===d&&(f=0,h=(p=t.minHour)+1);var m=n,g=c(m,r);this.timeScaleArray.push({position:f,value:p,unit:u,day:m,hour:h,year:a,month:b.monthMod(g)});for(var v=f,y=0;y<o;y++){u="hour",h>=24&&(h=0,u="day",g=l(m+=1,g).month,g=c(m,g));var x=this._getYear(a,g,0);v=0===h&&0===y?d*i:60*i+v;var A=0===h?m:h;this.timeScaleArray.push({position:v,value:A,unit:u,hour:h,day:m,year:x,month:b.monthMod(g)}),h++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,a=e.currentHour,i=e.currentDate,o=e.currentMonth,s=e.currentYear,u=e.minutesWidthOnXAxis,l=e.secondsWidthOnXAxis,c=e.numberOfMinutes,d=r+1,f=i,p=o,h=s,m=a,g=(60-n-t/1e3)*l,v=0;v<c;v++)d>=60&&(d=0,24===(m+=1)&&(m=0)),this.timeScaleArray.push({position:g,value:d,unit:"minute",hour:m,minute:d,day:f,year:this._getYear(h,p,0),month:b.monthMod(p)}),g+=u,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,a=e.currentHour,i=e.currentDate,o=e.currentMonth,s=e.currentYear,u=e.secondsWidthOnXAxis,l=e.numberOfSeconds,c=n+1,d=r,f=i,p=o,h=s,m=a,g=(1e3-t)/1e3*u,v=0;v<l;v++)c>=60&&(c=0,++d>=60&&(d=0,24===++m&&(m=0))),this.timeScaleArray.push({position:g,value:c,unit:"second",hour:m,minute:d,second:c,day:f,year:this._getYear(h,p,0),month:b.monthMod(p)}),g+=u,c++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return 0===e.month&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?n+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?n+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map((function(e){var r=e.value.toString(),a=new Z(t.ctx),i=t.createRawDateString(e,r),o=a.getDate(a.parseDate(i));if(t.utc||(o=a.getDate(a.parseDateWithTimezone(i))),void 0===n.config.xaxis.labels.format){var s="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(s=u.year),"month"===e.unit&&(s=u.month),"day"===e.unit&&(s=u.day),"hour"===e.unit&&(s=u.hour),"minute"===e.unit&&(s=u.minute),"second"===e.unit&&(s=u.second),r=a.formatDate(o,s)}else r=a.formatDate(o,n.config.xaxis.labels.format);return{dateString:i,position:e.position,value:r,unit:e.unit,year:e.year,month:e.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,n=this,r=new w(this.ctx),a=!1;e.length>0&&e[0].value&&e.every((function(t){return t.value.length===e[0].value.length}))&&(a=!0,t=r.getTextRects(e[0].value).width);var i=0,o=e.map((function(o,s){if(s>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=a?t:r.getTextRects(e[i].value).width,l=e[i].position;return o.position>l+u+10?(i=s,o):null}return o}));return o.filter((function(e){return null!==e}))}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),e}(),Le=function(){function e(t,n){s(this,e),this.ctx=n,this.w=n.w,this.el=t}return l(e,[{key:"setupElements",value:function(){var e=this.w.globals,t=this.w.config,n=t.chart.type;e.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(n)>-1,e.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(n)>-1,e.isBarHorizontal=("bar"===t.chart.type||"rangeBar"===t.chart.type||"boxPlot"===t.chart.type)&&t.plotOptions.bar.horizontal,e.chartClass=".apexcharts"+e.chartID,e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),w.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas "+e.chartClass.substring(1)}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(t.chart.offsetX,", ").concat(t.chart.offsetY,")")}),e.dom.Paper.node.style.background=t.chart.background,this.setSVGDimensions(),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elAnnotations=e.dom.Paper.group().attr({class:"apexcharts-annotations"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elWrap.appendChild(e.dom.elLegendWrap),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,r=n.config,a=n.globals,i={series:[],i:[]},o={series:[],i:[]},s={series:[],i:[]},u={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},d={series:[],i:[]};a.series.map((function(t,f){var p=0;void 0!==e[f].type?("column"===e[f].type||"bar"===e[f].type?(a.series.length>1&&r.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),l.series.push(t),l.i.push(f),p++,n.globals.columnSeries=l.series):"area"===e[f].type?(o.series.push(t),o.i.push(f),p++):"line"===e[f].type?(i.series.push(t),i.i.push(f),p++):"scatter"===e[f].type?(s.series.push(t),s.i.push(f)):"bubble"===e[f].type?(u.series.push(t),u.i.push(f),p++):"candlestick"===e[f].type?(c.series.push(t),c.i.push(f),p++):"boxPlot"===e[f].type?(d.series.push(t),d.i.push(f),p++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),p>1&&(a.comboCharts=!0)):(i.series.push(t),i.i.push(f))}));var f=new _e(this.ctx,t),p=new Se(this.ctx,t);this.ctx.pie=new Te(this.ctx);var h=new Oe(this.ctx);this.ctx.rangeBar=new W(this.ctx,t);var m=new Ne(this.ctx),g=[];if(a.comboCharts){if(o.series.length>0&&g.push(f.draw(o.series,"area",o.i)),l.series.length>0)if(n.config.chart.stacked){var v=new ke(this.ctx,t);g.push(v.draw(l.series,l.i))}else this.ctx.bar=new z(this.ctx,t),g.push(this.ctx.bar.draw(l.series,l.i));if(i.series.length>0&&g.push(f.draw(i.series,"line",i.i)),c.series.length>0&&g.push(p.draw(c.series,c.i)),d.series.length>0&&g.push(p.draw(d.series,d.i)),s.series.length>0){var y=new _e(this.ctx,t,!0);g.push(y.draw(s.series,"scatter",s.i))}if(u.series.length>0){var b=new _e(this.ctx,t,!0);g.push(b.draw(u.series,"bubble",u.i))}}else switch(r.chart.type){case"line":g=f.draw(a.series,"line");break;case"area":g=f.draw(a.series,"area");break;case"bar":r.chart.stacked?g=new ke(this.ctx,t).draw(a.series):(this.ctx.bar=new z(this.ctx,t),g=this.ctx.bar.draw(a.series));break;case"candlestick":case"boxPlot":g=new Se(this.ctx,t).draw(a.series);break;case"rangeBar":g=this.ctx.rangeBar.draw(a.series);break;case"heatmap":g=new Ie(this.ctx,t).draw(a.series);break;case"treemap":g=new Fe(this.ctx,t).draw(a.series);break;case"pie":case"donut":case"polarArea":g=this.ctx.pie.draw(a.series);break;case"radialBar":g=h.draw(a.series);break;case"radar":g=m.draw(a.series);break;default:g=f.draw(a.series)}return g}},{key:"setSVGDimensions",value:function(){var e=this.w.globals,t=this.w.config;e.svgWidth=t.chart.width,e.svgHeight=t.chart.height;var n=b.getDimensions(this.el),r=t.chart.width.toString().split(/[0-9]+/g).pop();"%"===r?b.isNumber(n[0])&&(0===n[0].width&&(n=b.getDimensions(this.el.parentNode)),e.svgWidth=n[0]*parseInt(t.chart.width,10)/100):"px"!==r&&""!==r||(e.svgWidth=parseInt(t.chart.width,10));var a=t.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===a){var i=b.getDimensions(this.el.parentNode);e.svgHeight=i[1]*parseInt(t.chart.height,10)/100}else e.svgHeight=parseInt(t.chart.height,10);else e.axisCharts?e.svgHeight=e.svgWidth/1.61:e.svgHeight=e.svgWidth/1.2;if(e.svgWidth<0&&(e.svgWidth=0),e.svgHeight<0&&(e.svgHeight=0),w.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==a){var o=t.chart.sparkline.enabled?0:e.axisCharts?t.chart.parentHeightOffset:0;e.dom.Paper.node.parentNode.parentNode.style.minHeight=e.svgHeight+o+"px"}e.dom.elWrap.style.width=e.svgWidth+"px",e.dom.elWrap.style.height=e.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n={transform:"translate("+e.translateX+", "+t+")"};w.setAttrs(e.dom.elGraphical.node,n)}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||!e.config.legend.show||e.config.legend.floating||(n=new pe(this.ctx).legendHelpers.getLegendBBox().clwh+10);var a=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(a&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var o=b.getBoundingClientRect(a);i=o.bottom;var s=o.bottom-o.top;i=Math.max(2.05*e.globals.radialSize,s)}var u=i+t.translateY+n+r;t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",u),e.config.chart.height&&String(e.config.chart.height).indexOf("%")>0||(t.dom.elWrap.style.height=u+"px",w.setAttrs(t.dom.Paper.node,{height:u}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=u+"px")}},{key:"coreCalculations",value:function(){new Q(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(e){return[]}))},n=new V,r=this.w.globals;n.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var e=null,t=this.w;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new re(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new re(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new De(this.ctx);var n=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}e=new k(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var n=t.config.chart.brush.targets||[t.config.chart.brush.target];n.forEach((function(t){var n=ApexCharts.getChartByID(t);n.w.globals.brushSource=e.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){e.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){e.updateSourceChart(n)})})),t.config.chart.events.selection=function(e,r){n.forEach((function(e){var n=ApexCharts.getChartByID(e),a=b.clone(t.config.yaxis);if(t.config.chart.brush.autoScaleYaxis&&1===n.w.globals.series.length){var o=new J(n);a=o.autoScaleY(n,a,r)}var s=n.w.config.yaxis.reduce((function(e,t,r){return[].concat(g(e),[i(i({},n.w.config.yaxis[r]),{},{min:a[0].min,max:a[0].max})])}),[]);n.ctx.updateHelpers._updateOptions({xaxis:{min:r.xaxis.min,max:r.xaxis.max},yaxis:s},!1,!1,!1,!1)}))}}}}]),e}(),ze=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(s){var u=[t.ctx];a&&(u=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(u=[t.ctx],t.ctx.w.globals.isExecCalled=!1),u.forEach((function(a,l){var c=a.w;if(c.globals.shouldAnimate=r,n||(c.globals.resized=!0,c.globals.dataChanged=!0,r&&a.series.getPreviousPaths()),e&&"object"===o(e)&&(a.config=new j(e),e=k.extendArrayProps(a.config,e,c),a.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,c.config=b.extend(c.config,e),i&&(c.globals.lastXAxis=e.xaxis?b.clone(e.xaxis):[],c.globals.lastYAxis=e.yaxis?b.clone(e.yaxis):[],c.globals.initialConfig=b.extend({},c.config),c.globals.initialSeries=b.clone(c.config.series),e.series))){for(var d=0;d<c.globals.collapsedSeriesIndices.length;d++){var f=c.config.series[c.globals.collapsedSeriesIndices[d]];c.globals.collapsedSeries[d].data=c.globals.axisCharts?f.data.slice():f}for(var p=0;p<c.globals.ancillaryCollapsedSeriesIndices.length;p++){var h=c.config.series[c.globals.ancillaryCollapsedSeriesIndices[p]];c.globals.ancillaryCollapsedSeries[p].data=c.globals.axisCharts?h.data.slice():h}a.series.emptyCollapsedSeries(c.config.series)}return a.update(e).then((function(){l===u.length-1&&s(a)}))}))}))}},{key:"_updateSeries",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a){var i,o=n.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),o.globals.axisCharts?(0===(i=e.map((function(e,t){return n._extendSeries(e,t)}))).length&&(i=[{data:[]}]),o.config.series=i):o.config.series=e.slice(),r&&(o.globals.initialSeries=b.clone(o.config.series)),n.ctx.update().then((function(){a(n.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var n=this.w,r=n.config.series[t];return i(i({},n.config.series[t]),{},{name:e.name?e.name:r&&r.name,color:e.color?e.color:r&&r.color,type:e.type?e.type:r&&r.type,data:e.data?e.data:r&&r.data})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,r=null,a=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?r=n.globals.dom.Paper.select("".concat(a," path[j='").concat(t,"'], ").concat(a," circle[j='").concat(t,"'], ").concat(a," rect[j='").concat(t,"']")).members[0]:void 0===t&&(r=n.globals.dom.Paper.select("".concat(a," path[j='").concat(e,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(e)),r?(new w(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(n){void 0!==e.xaxis[n]&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new B(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,r=n.globals.lastXAxis,a=n.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(a=e.yaxis),n.config.xaxis.min=r.min,n.config.xaxis.max=r.max;n.config.yaxis.map((function(e,r){n.globals.zoomed||void 0!==a[r]?function(e){void 0!==a[e]&&(n.config.yaxis[e].min=a[e].min,n.config.yaxis[e].max=a[e].max)}(r):void 0!==t.ctx.opts.yaxis[r]&&(e.min=t.ctx.opts.yaxis[r].min,e.max=t.ctx.opts.yaxis[r].max)}))}}]),e}();Me="undefined"!=typeof window?window:void 0,Re=function(e,t){var n=(void 0!==this?this:e).SVG=function(e){if(n.supported)return e=new n.Doc(e),n.parser.draw||n.prepare(),e};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(e){return"Svgjs"+d(e)+n.did++},n.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},n.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var r=e.length-1;r>=0;r--)if(e[r])for(var a in t)e[r].prototype[a]=t[a];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,n.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&n.extend(t,e.extend),e.construct&&n.extend(e.parent||n.Container,e.construct),t},n.adopt=function(t){return t?t.instance?t.instance:((r="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new n.Nested:new n.Doc:"linearGradient"==t.nodeName?new n.Gradient("linear"):"radialGradient"==t.nodeName?new n.Gradient("radial"):n[d(t.nodeName)]?new(n[d(t.nodeName)]):new n.Element(t)).type=t.nodeName,r.node=t,t.instance=r,r instanceof n.Doc&&r.namespace().defs(),r.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),r):null;var r},n.prepare=function(){var e=t.getElementsByTagName("body")[0],r=(e?new n.Doc(e):n.adopt(t.documentElement).nested()).size(2,0);n.parser={body:e||t.documentElement,draw:r.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:r.polyline().node,path:r.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},t.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(e,t){for(var n=e.length,r=[],a=0;a<n;a++)r.push(t(e[a]));return r},filter:function(e,t){for(var n=e.length,r=[],a=0;a<n;a++)t(e[a])&&r.push(e[a]);return r},filterSVGElements:function(t){return this.filter(t,(function(t){return t instanceof e.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(e){var t,r;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?n.regex.isRgb.test(e)?(t=n.regex.rgb.exec(e.replace(n.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):n.regex.isHex.test(e)&&(t=n.regex.hex.exec(4==(r=e).length?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===o(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+f(this.r)+f(this.g)+f(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new n.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new n.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),n.Color.test=function(e){return e+="",n.regex.isHex.test(e)||n.regex.isRgb.test(e)},n.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},n.Color.isColor=function(e){return n.Color.isRgb(e)||n.Color.test(e)},n.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),n.PointArray=function(e,t){n.Array.call(this,e,t||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var r={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]}},a="mlhvqtcsaz".split(""),i=0,s=a.length;i<s;++i)r[a[i]]=function(e){return function(t,n,a){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var i=0,o=t.length;i<o;++i)t[i]=t[i]+(i%2?n.y:n.x);if(r&&"function"==typeof r[e])return r[e](t,n,a)}}(a[i].toUpperCase());n.PathArray=function(e,t){n.Array.call(this,e,t||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t][0],null!=e[t][1]&&(r+=e[t][1],null!=e[t][2]&&(r+=" ",r+=e[t][2],null!=e[t][3]&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],null!=e[t][5]&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],null!=e[t][7]&&(r+=" ",r+=e[t][7])))));return r+" "}(this.value)},move:function(e,t){var n=this.bbox();return n.x,n.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,r=this.destination.value,a=[],i=new n.PathArray,o=0,s=t.length;o<s;o++){a[o]=[t[o][0]];for(var u=1,l=t[o].length;u<l;u++)a[o][u]=t[o][u]+(r[o][u]-t[o][u])*e;"A"===a[o][0]&&(a[o][4]=+(0!=a[o][4]),a[o][5]=+(0!=a[o][5]))}return i.value=a,i},parse:function(e){if(e instanceof n.PathArray)return e.valueOf();var t,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(n.regex.numbersWithDots,l).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):e.reduce((function(e,t){return[].concat.call(e,t)}),[]);var i=[],o=new n.Point,s=new n.Point,u=0,c=e.length;do{n.regex.isPathLetter.test(e[u])?(t=e[u],++u):"M"==t?t="L":"m"==t&&(t="l"),i.push(r[t].call(null,e.slice(u,u+=a[t.toUpperCase()]).map(parseFloat),o,s))}while(c>u);return i},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(n.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof n.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new n.Number(e),new n.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new n.Number(e),new n.Number(this-e,this.unit||e.unit)},times:function(e){return e=new n.Number(e),new n.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new n.Number(e),new n.Number(this/e,this.unit||e.unit)},to:function(e){var t=new n.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new n.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new n.Number(this.destination).minus(this).times(e).plus(this):this}}}),n.Element=n.invent({create:function(e){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var r=p(this,e,t);return this.width(new n.Number(r.width)).height(new n.Number(r.height))},clone:function(e){this.writeDataToDom();var t=g(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(n.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!=e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return n.get(this.attr(e))},parent:function(t){var r=this;if(!r.node.parentNode)return null;if(r=n.adopt(r.node.parentNode),!t)return r;for(;r&&r.node instanceof e.SVGElement;){if("string"==typeof t?r.matches(t):r instanceof t)return r;if(!r.node.parentNode||"#document"==r.node.parentNode.nodeName)return null;r=n.adopt(r.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(e){var t=[],n=this;do{if(!(n=n.parent(e))||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var r=t.createElement("svg");if(!(e&&this instanceof n.Parent))return r.appendChild(e=t.createElement("svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),r.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");r.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var a=0,i=r.firstChild.childNodes.length;a<i;a++)this.node.appendChild(r.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),n.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},n.morph=function(e){return function(t,r){return new n.MorphObj(t,r).at(e)}},n.Situation=n.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(e.duration).valueOf(),this.delay=new n.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,r){"object"===o(e)&&(t=e.ease,r=e.delay,e=e.duration);var a=new n.Situation({duration:e||1e3,delay:r||0,ease:n.easing[t||"-"]||t});return this.queue(a),this},target:function(e){return e&&e instanceof n.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof n.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var r in t.animations){e=this.target()[r](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[r])||(t.animations[r]=[t.animations[r]]);for(var a=e.length;a--;)t.animations[r][a]instanceof n.Number&&(e[a]=new n.Number(e[a])),t.animations[r][a]=e[a].morph(t.animations[r][a])}for(var r in t.attrs)t.attrs[r]=new n.MorphObj(this.target().attr(r),t.attrs[r]);for(var r in t.styles)t.styles[r]=new n.MorphObj(this.target().style(r),t.styles[r]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",(function n(r){r.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))})),this._callStart()},during:function(e){var t=this.last(),r=function(r){r.detail.situation==t&&e.call(this,r.detail.pos,n.morph(r.detail.pos),r.detail.eased,t)};return this.target().off("during.fx",r).on("during.fx",r),this.after((function(){this.off("during.fx",r)})),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,r;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,r=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,r=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-r)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var a=this.situation.ease(this.pos);for(var i in this.situation.once)i>this.lastPos&&i<=a&&(this.situation.once[i].call(this.target(),this.pos,a),delete this.situation.once[i]);return this.active&&this.target().fire("during",{pos:this.pos,eased:a,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=a,this):this},eachAt:function(){var e,t=this,r=this.target(),a=this.situation;for(var i in a.animations)e=[].concat(a.animations[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(a.ease(t.pos),t.pos):e})),r[i].apply(r,e);for(var i in a.attrs)e=[i].concat(a.attrs[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(a.ease(t.pos),t.pos):e})),r.attr.apply(r,e);for(var i in a.styles)e=[i].concat(a.styles[i]).map((function(e){return"string"!=typeof e&&e.at?e.at(a.ease(t.pos),t.pos):e})),r.style.apply(r,e);if(a.transforms.length){e=a.initialTransformation,i=0;for(var o=a.transforms.length;i<o;i++){var s=a.transforms[i];s instanceof n.Matrix?e=s.relative?e.multiply((new n.Matrix).morph(s).at(a.ease(this.pos))):e.morph(s).at(a.ease(this.pos)):(s.relative||s.undo(e.extract()),e=e.multiply(s.at(a.ease(this.pos))))}r.matrix(e)}return this},once:function(e,t,n){var r=this.last();return n||(e=r.ease(e)),r.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(e,t,r){return(this.fx||(this.fx=new n.FX(this))).animate(e,t,r)},delay:function(e){return(this.fx||(this.fx=new n.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(e,t){return n.Color.isColor(t)?new n.Color(e).morph(t):n.regex.delimiter.test(e)?n.regex.pathLetters.test(e)?new n.PathArray(e).morph(t):new n.Array(e).morph(t):n.regex.numberAndUnit.test(t)?new n.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(e,t,n){if("object"===o(e))for(var r in e)this.attr(r,e[r]);else this.add(e,t,"attrs");return this},plot:function(e,t,n,r){return 4==arguments.length?this.plot([e,t,n,r]):this.add("plot",new(this.target().morphArray)(e))}}),n.Box=n.invent({create:function(e,t,r,a){if(!("object"!==o(e)||e instanceof n.Element))return n.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);4==arguments.length&&(this.x=e,this.y=t,this.width=r,this.height=a),v(this)}}),n.BBox=n.invent({create:function(e){if(n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element){var r;try{if(!t.documentElement.contains){for(var a=e.node;a.parentNode;)a=a.parentNode;if(a!=t)throw new Error("Element not in the dom")}r=e.node.getBBox()}catch(t){if(e instanceof n.Shape){n.parser.draw||n.prepare();var i=e.clone(n.parser.draw.instance).show();i&&i.node&&"function"==typeof i.node.getBBox&&(r=i.node.getBBox()),i&&"function"==typeof i.remove&&i.remove()}else r={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}n.Box.call(this,r)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(e){var t=m([1,0,0,1,0,0]);e=null===e?t:e instanceof n.Element?e.matrixify():"string"==typeof e?m(e.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?m([].slice.call(arguments)):Array.isArray(e)?m(e):e&&"object"===o(e)?e:t;for(var r=b.length-1;r>=0;--r)this[b[r]]=null!=e[b[r]]?e[b[r]]:t[b[r]]},extend:{extract:function(){var e=h(this,0,1);h(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(e){return this.destination=new n.Matrix(e),this},multiply:function(e){return new n.Matrix(this.native().multiply(function(e){return e instanceof n.Matrix||(e=new n.Matrix(e)),e}(e).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(e,t){return new n.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=n.parser.native.createSVGMatrix(),t=b.length-1;t>=0;t--)e[b[t]]=this[b[t]];return e},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new n.Matrix(t)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(e,t){var n;n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===o(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(e,t){return this.destination=new n.Point(e,t),this}}}),n.extend(n.Element,{point:function(e,t){return new n.Point(e,t).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(e,t,r){if(null==e){for(e={},r=(t=this.node.attributes).length-1;r>=0;r--)e[t[r].nodeName]=n.regex.isNumber.test(t[r].nodeValue)?parseFloat(t[r].nodeValue):t[r].nodeValue;return e}if("object"===o(e))for(var a in e)this.attr(a,e[a]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?n.defaults.attrs[e]:n.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(n.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof n.Image&&(t=this.doc().defs().pattern(0,0,(function(){this.add(t)})))),"number"==typeof t?t=new n.Number(t):n.Color.isColor(t)?t=new n.Color(t):Array.isArray(t)&&(t=new n.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof r?this.node.setAttributeNS(r,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),n.extend(n.Element,{transform:function(e,t){var r;return"object"!==o(e)?(r=new n.Matrix(this).extract(),"string"==typeof e?r[e]:r):(r=new n.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(r=t?r.multiply(new n.Matrix(e)):new n.Matrix(e)),this.attr("transform",r))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(n.regex.delimiter).map((function(e){return parseFloat(e)}))]})).reduce((function(e,t){return"matrix"==t[0]?e.multiply(m(t[1])):e[t[0]].apply(e,t[1])}),new n.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[n];else if(e&&"object"===o(e))for(n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===o(e))for(var r in e)this.style(r,e[r]);else{if(!n.regex.isCss.test(e))return this.node.style[c(e)];for(e=e.split(/\s*;\s*/).filter((function(e){return!!e})).map((function(e){return e.split(/\s*:\s*/)}));t=e.pop();)this.style(t[0],t[1])}else this.node.style[c(e)]=null===t||n.regex.isBlank.test(t)?"":t;return this}}),n.Parent=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(e){return n.adopt(e)}))},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return n.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var r=this.children(),a=0,i=r.length;a<i;a++)r[a]instanceof n.Element&&e.apply(r[a],[a,r]),t&&r[a]instanceof n.Container&&r[a].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(e,t){return 0===t||this instanceof n.Defs||this.node==n.parser.draw||(e=e||(this instanceof n.Doc?this:this.parent(n.Parent)),t=t||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(e,t-1):this.toParent(e)})),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),n.Container=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(e){n.Element.prototype[e]=function(t){return n.on(this.node,e,t),this}})),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(e,t,r,a,i){var o=r.bind(a||e.instance||e),s=(n.handlerMap.indexOf(e)+1||n.handlerMap.push(e))-1,u=t.split(".")[0],l=t.split(".")[1]||"*";n.listeners[s]=n.listeners[s]||{},n.listeners[s][u]=n.listeners[s][u]||{},n.listeners[s][u][l]=n.listeners[s][u][l]||{},r._svgjsListenerId||(r._svgjsListenerId=++n.listenerId),n.listeners[s][u][l][r._svgjsListenerId]=o,e.addEventListener(u,o,i||{passive:!0})},n.off=function(e,t,r){var a=n.handlerMap.indexOf(e),i=t&&t.split(".")[0],o=t&&t.split(".")[1],s="";if(-1!=a)if(r){if("function"==typeof r&&(r=r._svgjsListenerId),!r)return;n.listeners[a][i]&&n.listeners[a][i][o||"*"]&&(e.removeEventListener(i,n.listeners[a][i][o||"*"][r],!1),delete n.listeners[a][i][o||"*"][r])}else if(o&&i){if(n.listeners[a][i]&&n.listeners[a][i][o]){for(var u in n.listeners[a][i][o])n.off(e,[i,o].join("."),u);delete n.listeners[a][i][o]}}else if(o)for(var l in n.listeners[a])for(var s in n.listeners[a][l])o===s&&n.off(e,[l,o].join("."));else if(i){if(n.listeners[a][i]){for(var s in n.listeners[a][i])n.off(e,[i,s].join("."));delete n.listeners[a][i]}}else{for(var l in n.listeners[a])n.off(e,l);delete n.listeners[a],delete n.handlerMap[a]}},n.extend(n.Element,{on:function(e,t,r,a){return n.on(this.node,e,t,r,a),this},off:function(e,t){return n.off(this.node,e,t),this},fire:function(t,r){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new n.CustomEvent(t,{detail:r,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,n.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(e):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=g(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(e){this.constructor.call(this,n.create(e+"Gradient")),this.type=e},inherit:n.Container,extend:{at:function(e,t,r){return this.put(new n.Stop).update(e,t,r)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,r){return"transform"==e&&(e="gradientTransform"),n.Container.prototype.attr.call(this,e,t,r)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),n.extend(n.Gradient,n.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(e),fy:new n.Number(t)}):this.attr({x1:new n.Number(e),y1:new n.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(e),cy:new n.Number(t)}):this.attr({x2:new n.Number(e),y2:new n.Number(t)})}}),n.extend(n.Defs,{gradient:function(e,t){return this.put(new n.Gradient(e)).update(t)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(e){return("number"==typeof e||e instanceof n.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new n.Number(e.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,r){return"transform"==e&&(e="patternTransform"),n.Container.prototype.attr.call(this,e,t,r)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),n.extend(n.Defs,{pattern:function(e,t,r){return this.put(new n.Pattern).update(r).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,n.xlink)}},construct:{use:function(e,t){return this.put(new n.Use).element(e,t)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(e,t){return this.put(new n.Rect).size(e,t)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(e){return this.put(new n.Circle).rx(new n.Number(e).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(e,t){return this.put(new n.Ellipse).size(e,t).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),n.extend(n.Circle,n.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new n.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new n.Number(e).divide(2))},size:function(e,t){var r=p(this,e,t);return this.rx(new n.Number(r.width).divide(2)).ry(new n.Number(r.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,r,a){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:r,y2:a}:new n.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=p(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,r,a){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=e?[e,t,r,a]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(e){return this.put(new n.Polyline).plot(e||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(e){return this.put(new n.Polygon).plot(e||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new n.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=p(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new n.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new n.Path).plot(e||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(t){if(!t)return this;var r=this,a=new e.Image;return n.on(a,"load",(function(){n.off(a);var e=r.parent(n.Pattern);null!==e&&(0==r.width()&&0==r.height()&&r.size(a.width,a.height),e&&0==e.width()&&0==e.height()&&e.size(r.width(),r.height()),"function"==typeof r._loaded&&r._loaded.call(r,{width:a.width,height:a.height,ratio:a.width/a.height,url:t}))})),n.on(a,"error",(function(e){n.off(a),"function"==typeof r._error&&r._error.call(r,e)})),this.attr("href",a.src=this.src=t,n.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,r){return this.put(new n.Image).load(e).size(t||0,r||t||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,r=0,a=t.length;r<a;++r)0!=r&&3!=t[r].nodeType&&1==n.adopt(t[r]).dom.newLined&&(e+="\n"),e+=t[r].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{r=0;for(var i=(e=e.split("\n")).length;r<i;r++)this.tspan(e[r]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new n.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=n.utils.map(n.utils.filterSVGElements(e.childNodes),(function(e){return n.adopt(e)}));return new n.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,r=0,a=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?r+=a:(this.attr("dy",a+r),r=0))})),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new n.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new n.Text).text(e)},plain:function(e){return this.put(new n.Text).plain(e)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(n.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,r=new n.Tspan;return!1===this._build&&this.clear(),t.appendChild(r.node),r.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var u={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function l(e,t,r,a){return r+a.replace(n.regex.dots," .")}function c(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function p(e,t,n){if(null==t||null==n){var r=e.bbox();null==t?t=r.width/r.height*n:null==n&&(n=r.height/r.width*t)}return{width:t,height:n}}function h(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function m(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function g(t){for(var r=t.childNodes.length-1;r>=0;r--)t.childNodes[r]instanceof e.SVGElement&&g(t.childNodes[r]);return n.adopt(t).id(n.eid(t.nodeName))}function v(e){return null==e.x&&(e.x=0,e.y=0,e.width=0,e.height=0),e.w=e.width,e.h=e.height,e.x2=e.x+e.width,e.y2=e.y+e.height,e.cx=e.x+e.width/2,e.cy=e.y+e.height/2,e}function y(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach((function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||n.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var r=u[e].length-1;r>=0;r--)null!=t[u[e][r]]&&this.attr(u.prefix(e,u[e][r]),t[u[e][r]]);return this},n.extend(n.Element,n.FX,t)})),n.extend(n.Element,n.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new n.Number(e).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(e){return this.y(new n.Number(e).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),n.Set=n.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,n=e.length;t<n;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new n.Set(e)}}}),n.FX.Set=n.invent({create:function(e){this.set=e}}),n.Set.inherit=function(){var e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);for(var t in e.forEach((function(e){n.Set.prototype[e]=function(){for(var t=0,r=this.members.length;t<r;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new n.FX.Set(this)):this}})),e=[],n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach((function(e){n.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}}))},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(e,t){if("object"===o(arguments[0]))for(var n in e)this.remember(n,e[n]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(e){var r=t.getElementById(function(e){var t=(e||"").toString().match(n.regex.reference);if(t)return t[1]}(e)||e);return n.adopt(r)},n.select=function(e,r){return new n.Set(n.utils.map((r||t).querySelectorAll(e),(function(e){return n.adopt(e)})))},n.extend(n.Parent,{select:function(e){return n.select(e,this.node)}});var b="abcdef".split("");if("function"!=typeof e.CustomEvent){var x=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r};x.prototype=e.Event.prototype,n.CustomEvent=x}else n.CustomEvent=e.CustomEvent;return n},void 0!==(r=function(){return Re(Me,Me.document)}.call(t,n,t,e))&&(e.exports=r),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,n){return this.put(new SVG.BlendEffect(e,t,n))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,n){return this.put(new SVG.CompositeEffect(e,t,n))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,n){return this.put(new SVG.DiffuseLightingEffect(e,t,n))},displacementMap:function(e,t,n,r,a){return this.put(new SVG.DisplacementMapEffect(e,t,n,r,a))},specularLighting:function(e,t,n,r){return this.put(new SVG.SpecularLightingEffect(e,t,n,r))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,n,r,a){return this.put(new SVG.TurbulenceEffect(e,t,n,r,a))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,n){return this.parent()&&this.parent().diffuseLighting(e,t,n).in(this)},displacementMap:function(e,t,n,r){return this.parent()&&this.parent().displacementMap(this,e,t,n,r)},specularLighting:function(e,t,n,r){return this.parent()&&this.parent().specularLighting(e,t,n,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,n,r,a){return this.parent()&&this.parent().turbulence(e,t,n,r,a).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,n){this.attr({in:e,in2:t,mode:n||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=a(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=a(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,n){this.attr({in:e,in2:t,operator:n})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,n,r,a){this.attr({in:e,in2:t,scale:n,xChannelSelector:r,yChannelSelector:a})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",i(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,n,r,a){this.attr({numOctaves:t,seed:n,stitchTiles:r,baseFrequency:e,type:a})}},n={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each((function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))}))}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)e[n]instanceof SVG.MergeNode?this.put(e[n]):this.put(new SVG.MergeNode(e[n]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,n){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:n})},specularLighting:function(e,t,n,r){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:n,kernelUnitLength:r})}},r={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,n){this.attr({x:e,y:t,z:n})},spotLight:function(e,t,n,r,a,i){this.attr({x:e,y:t,z:n,pointsAtX:r,pointsAtY:a,pointsAtZ:i})},mergeNode:function(e){this.attr("in",e)}};function a(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function i(e){if(!Array.isArray(e))return e;for(var t=0,n=e.length,r=[];t<n;t++)r.push(e[t]);return r.join(" ")}function o(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[t])e(arguments[t][n],n,arguments[t])}["r","g","b","a"].forEach((function(e){r["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),o(t,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),o(n,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),o(r,(function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,a,i,o,s,u,l){for(var c=e.slice(a,i||l),d=o.slice(s,u||l),f=0,p={pos:[0,0],start:[0,0]},h={pos:[0,0],start:[0,0]};c[f]=t.call(p,c[f]),d[f]=t.call(h,d[f]),c[f][0]!=d[f][0]||"M"==c[f][0]||"A"==c[f][0]&&(c[f][4]!=d[f][4]||c[f][5]!=d[f][5])?(Array.prototype.splice.apply(c,[f,1].concat(r.call(p,c[f]))),Array.prototype.splice.apply(d,[f,1].concat(r.call(h,d[f])))):(c[f]=n.call(p,c[f]),d[f]=n.call(h,d[f])),++f!=c.length||f!=d.length;)f==c.length&&c.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),f==d.length&&d.push(["C",h.pos[0],h.pos[1],h.pos[0],h.pos[1],h.pos[0],h.pos[1]]);return{start:c,dest:d}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function n(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function r(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":e=(t=function(e,t){var n,r,a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T=Math.abs(t[1]),N=Math.abs(t[2]),O=t[3]%360,P=t[4],_=t[5],M=t[6],R=t[7],F=new SVG.Point(e),D=new SVG.Point(M,R),L=[];if(0===T||0===N||F.x===D.x&&F.y===D.y)return[["C",F.x,F.y,D.x,D.y,D.x,D.y]];for((r=(n=new SVG.Point((F.x-D.x)/2,(F.y-D.y)/2).transform((new SVG.Matrix).rotate(O))).x*n.x/(T*T)+n.y*n.y/(N*N))>1&&(T*=r=Math.sqrt(r),N*=r),a=(new SVG.Matrix).rotate(O).scale(1/T,1/N).rotate(-O),F=F.transform(a),s=(i=[(D=D.transform(a)).x-F.x,D.y-F.y])[0]*i[0]+i[1]*i[1],o=Math.sqrt(s),i[0]/=o,i[1]/=o,u=s<4?Math.sqrt(1-s/4):0,P===_&&(u*=-1),l=new SVG.Point((D.x+F.x)/2+u*-i[1],(D.y+F.y)/2+u*i[0]),c=new SVG.Point(F.x-l.x,F.y-l.y),d=new SVG.Point(D.x-l.x,D.y-l.y),f=Math.acos(c.x/Math.sqrt(c.x*c.x+c.y*c.y)),c.y<0&&(f*=-1),p=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(p*=-1),_&&f>p&&(p+=2*Math.PI),!_&&f<p&&(p-=2*Math.PI),v=[],y=f,h=(p-f)/(m=Math.ceil(2*Math.abs(f-p)/Math.PI)),g=4*Math.tan(h/4)/3,w=0;w<=m;w++)x=Math.cos(y),b=Math.sin(y),A=new SVG.Point(l.x+x,l.y+b),v[w]=[new SVG.Point(A.x+g*b,A.y-g*x),A,new SVG.Point(A.x-g*b,A.y+g*x)],y+=h;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),a=(new SVG.Matrix).rotate(O).scale(T,N).rotate(-O),w=0,k=v.length;w<k;w++)v[w][0]=v[w][0].transform(a),v[w][1]=v[w][1].transform(a),v[w][2]=v[w][2].transform(a);for(w=1,k=v.length;w<k;w++)S=(A=v[w-1][2]).x,C=A.y,I=(A=v[w][0]).x,E=A.y,M=(A=v[w][1]).x,R=A.y,L.push(["C",S,C,I,E,M,R]);return L}(this.pos,e))[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function a(e,t){if(!1===t)return!1;for(var n=t,r=e.length;n<r;++n)if("M"==e[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var n=this.value,r=this.parse(t),i=0,o=0,s=!1,u=!1;!1!==i||!1!==o;){var l;s=a(n,!1!==i&&i+1),u=a(r,!1!==o&&o+1),!1===i&&(i=0==(l=new SVG.PathArray(c.start).bbox()).height||0==l.width?n.push(n[0])-1:n.push(["M",l.x+l.width/2,l.y+l.height/2])-1),!1===o&&(o=0==(l=new SVG.PathArray(c.dest).bbox()).height||0==l.width?r.push(r[0])-1:r.push(["M",l.x+l.width/2,l.y+l.height/2])-1);var c=e(n,i,s,r,o,u);n=n.slice(0,i).concat(c.start,!1===s?[]:n.slice(s)),r=r.slice(0,o).concat(c.dest,!1===u?[]:r.slice(u)),i=!1!==s&&i+c.start.length,o=!1!==u&&o+c.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=r,this}})}(),function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var n=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",(function(e){n.start(e)})),this.el.on("touchstart.drag",(function(e){n.start(e)}))},e.prototype.transformPoint=function(e,t){var n=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=n.clientX-(t||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,r=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(e,n),box:r,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(e){t.drag(e)})),SVG.on(window,"touchmove.drag",(function(e){t.drag(e)})),SVG.on(window,"mouseup.drag",(function(e){t.end(e)})),SVG.on(window,"touchend.drag",(function(e){t.end(e)})),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),n=this.transformPoint(e),r=this.startPoints.box.x+n.x-this.startPoints.point.x,a=this.startPoints.box.y+n.y-this.startPoints.point.y,i=this.constraint,o=n.x-this.startPoints.point.x,s=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof i){var u=i.call(this.el,r,a,this.m);"boolean"==typeof u&&(u={x:u,y:u}),!0===u.x?this.el.x(r):!1!==u.x&&this.el.x(u.x),!0===u.y?this.el.y(a):!1!==u.y&&this.el.y(u.y)}else"object"==typeof i&&(null!=i.minX&&r<i.minX?o=(r=i.minX)-this.startPoints.box.x:null!=i.maxX&&r>i.maxX-t.width&&(o=(r=i.maxX-t.width)-this.startPoints.box.x),null!=i.minY&&a<i.minY?s=(a=i.minY)-this.startPoints.box.y:null!=i.maxY&&a>i.maxY-t.height&&(s=(a=i.maxY-t.height)-this.startPoints.box.y),null!=i.snapToGrid&&(r-=r%i.snapToGrid,a-=a%i.snapToGrid,o-=o%i.snapToGrid,s-=s%i.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:o,y:s},!0):this.el.move(r,a));return n},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,n){"function"!=typeof t&&"object"!=typeof t||(n=t,t=!0);var r=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?r.init(n||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,n){var r="string"!=typeof e?e:t[e];return n?r/2:r},this.pointCoords=function(e,t){var n=this.pointsList[e];return{x:this.pointCoord(n[0],t,"t"===e||"b"===e),y:this.pointCoord(n[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var n=this.el.bbox();this.options={};var r=this.el.selectize.defaults.points;for(var a in this.el.selectize.defaults)this.options[a]=this.el.selectize.defaults[a],void 0!==t[a]&&(this.options[a]=t[a]);var i=["points","pointsExclude"];for(var a in i){var o=this.options[i[a]];"string"==typeof o?o=o.length>0?o.split(/\s*,\s*/i):[]:"boolean"==typeof o&&"points"===i[a]&&(o=o?r:[]),this.options[i[a]]=o}this.options.points=[r,this.options.points].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(e,t){return e.filter((function(e){return t.indexOf(e)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map((function(t){return[t[0]-e.x,t[1]-e.y]}))},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),n=0,r=t.length;n<r;++n){var a=function(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var r=n.pageX||n.touches[0].pageX,a=n.pageY||n.touches[0].pageY;e.el.fire("point",{x:r,y:a,i:t,event:n})}}(n),i=this.drawPoint(t[n][0],t[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",a).on("mousedown",a);this.pointSelection.set.add(i)}},e.prototype.drawPoint=function(e,t){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof n)return n.call(this,e,t);throw new Error("Unknown "+n+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each((function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])}))},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map((function(n,r){var a=e.pointCoords(n,t);e.rectSelection.set.get(r+1).center(a.x,a.y)})),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,n=this.el.bbox();function r(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var r=n.pageX||n.touches[0].pageX,a=n.pageY||n.touches[0].pageY;t.el.fire(e,{x:r,y:a,event:n})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(e,a){var i=t.pointCoords(e,n),o=t.drawPoint(i.x,i.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",r(e)).on("touchstart",r(e));t.rectSelection.set.add(o)})),this.rectSelection.set.each((function(){this.addClass(t.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var a=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var n=e.pageX||e.touches[0].pageX,r=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:n,y:r,event:e})},i=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",a).on("mousedown",a);this.rectSelection.set.add(i)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){e.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){e.handler()}))},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,n){return"object"==typeof t&&(n=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,n){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);this.el.on("lt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rt.resize",(function(e){t.resize(e||window.event)})),this.el.on("rb.resize",(function(e){t.resize(e||window.event)})),this.el.on("lb.resize",(function(e){t.resize(e||window.event)})),this.el.on("t.resize",(function(e){t.resize(e||window.event)})),this.el.on("r.resize",(function(e){t.resize(e||window.event)})),this.el.on("b.resize",(function(e){t.resize(e||window.event)})),this.el.on("l.resize",(function(e){t.resize(e||window.event)})),this.el.on("rot.resize",(function(e){t.resize(e||window.event)})),this.el.on("point.resize",(function(e){t.resize(e||window.event)})),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var r=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[r[e.detail.i][0],r[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var n=this.snapToGrid(e,t);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(e,t){var n=e+this.parameters.p.x,r=t+this.parameters.p.y,a=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),i=Math.atan2(r-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),o=this.parameters.rotation+180*(i-a)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(o-o%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var n=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),r=this.el.array().valueOf();r[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],r[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(r)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"touchend.resize",(function(){t.done()})),SVG.on(window,"mousemove.resize",(function(e){t.update(e||window.event)})),SVG.on(window,"mouseup.resize",(function(){t.done()}))},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),n=this.transformPoint(t.x,t.y),r=n.x-this.parameters.p.x,a=n.y-this.parameters.p.y;this.lastUpdateCall=[r,a],this.calc(r,a),this.el.fire("resizing",{dx:r,dy:a,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,n,r){var a;return void 0!==r?a=[(n+e)%this.options.snapToGrid,(r+t)%this.options.snapToGrid]:(n=null==n?3:n,a=[(this.parameters.box.x+e+(1&n?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&n?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(a[0]-=this.options.snapToGrid),t<0&&(a[1]-=this.options.snapToGrid),e-=Math.abs(a[0])<this.options.snapToGrid/2?a[0]:a[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(a[1])<this.options.snapToGrid/2?a[1]:a[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,n,r)},e.prototype.constraintToBox=function(e,t,n,r){var a,i,o=this.options.constraint||{};return void 0!==r?(a=n,i=r):(a=this.parameters.box.x+(1&n?0:this.parameters.box.width),i=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==o.minX&&a+e<o.minX&&(e=o.minX-a),void 0!==o.maxX&&a+e>o.maxX&&(e=o.maxX-a),void 0!==o.minY&&i+t<o.minY&&(t=o.minY-i),void 0!==o.maxY&&i+t>o.maxY&&(t=o.maxY-i),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var n=e.slice(),r=this.parameters.box.width/this.parameters.box.height,a=this.parameters.box.width+e[0],i=this.parameters.box.height-e[1],o=a/i;return o<r?(n[1]=a/r-this.parameters.box.height,t&&(n[1]=-n[1])):o>r&&(n[0]=this.parameters.box.width-i*r,t&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ze=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new x(this.ctx),this.ctx.axes=new ne(this.ctx),this.ctx.core=new Le(this.ctx.el,this.ctx),this.ctx.config=new j({}),this.ctx.data=new U(this.ctx),this.ctx.grid=new K(this.ctx),this.ctx.graphics=new w(this.ctx),this.ctx.coreUtils=new k(this.ctx),this.ctx.crosshairs=new re(this.ctx),this.ctx.events=new ee(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new te(this.ctx),this.ctx.options=new N,this.ctx.responsive=new ae(this.ctx),this.ctx.series=new D(this.ctx),this.ctx.theme=new ie(this.ctx),this.ctx.formatters=new G(this.ctx),this.ctx.titleSubtitle=new oe(this.ctx),this.ctx.legend=new pe(this.ctx),this.ctx.toolbar=new he(this.ctx),this.ctx.dimensions=new de(this.ctx),this.ctx.updateHelpers=new ze(this.ctx),this.ctx.zoomPanSelection=new me(this.ctx),this.ctx.w.globals.tooltip=new we(this.ctx)}}]),e}(),We=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(e,t){this.removeClass("*"),this.off(),this.stop()}),!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!n&&(r.parentNode.parentNode.style.minHeight="unset");var a=this.w.globals.dom.baseEl;a&&this.ctx.eventList.forEach((function(e){a.removeEventListener(e,t.ctx.events.documentEvent)}));var i=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elAnnotations=null,i.elLegendWrap=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),e}(),Be=new WeakMap,je=function(){function e(t,n){s(this,e),this.opts=n,this.ctx=this,this.w=new H(n).init(),this.el=t,this.w.globals.cuid=b.randomId(),this.w.globals.chartID=this.w.config.chart.id?b.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ze(this).initModules(),this.create=b.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return l(e,[{key:"render",value:function(){var e=this;return new Promise((function(t,n){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;if("function"==typeof r&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var n=!1,r=e.getBoundingClientRect();"none"!==e.style.display&&0!==r.width||(n=!0);var a=new ResizeObserver((function(r){n&&t.call(e,r),n=!0}));e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach((function(e){return a.observe(e)})):a.observe(e),Be.set(t,a)}(e.el.parentNode,e.parentResizeHandler),!e.css){var a=e.el.getRootNode&&e.el.getRootNode(),i=b.is("ShadowRoot",a),o=e.el.ownerDocument,s=o.getElementById("apexcharts-css");!i&&s||(e.css=document.createElement("style"),e.css.id="apexcharts-css",e.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',i?a.prepend(e.css):o.head.appendChild(e.css))}var u=e.create(e.w.config.series,{});if(!u)return t(e);e.mount(u).then((function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(u)})).catch((function(e){n(e)}))}else n(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var n=this.w;new Ze(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new B(n.config).convertCatToNumericXaxis(n.config,this.ctx),null===this.el)return r.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===n.config.chart.type&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),0===r.svgWidth)return r.animationEnded=!0,null;var a=k.checkComboSeries(e);r.comboCharts=a.comboCharts,r.comboBarCount=a.comboBarCount;var i=e.every((function(e){return e.data&&0===e.data.length}));(0===e.length||i)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(e),this.theme.init(),new _(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new k(this).getLargestMarkerSize(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var s=this.core.plotChartType(e,o),u=new R(this);u.bringForward(),n.config.dataLabels.background.enabled&&u.dataLabelsBackground(),this.core.shiftGraphPosition();var l={plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}};return{elGraph:s,xyRatios:o,elInner:n.globals.dom.elGraphical,dimensions:l}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,r=n.w;return new Promise((function(a,i){if(null===n.el)return i(new Error("Not enough data to display or target element not found"));(null===t||r.globals.allSeriesCollapsed)&&n.series.handleNoData(),"treemap"!==r.config.chart.type&&n.axes.drawAxis(r.config.chart.type,t.xyRatios),n.grid=new K(n);var o=n.grid.drawGrid();n.annotations=new O(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===r.config.grid.position&&o&&r.globals.dom.elGraphical.add(o.el);var s=new q(e.ctx),u=new $(e.ctx);if(null!==o&&(s.xAxisLabelCorrections(o.xAxisTickWidth),u.setYAxisTextAlignments(),r.config.yaxis.map((function(e,t){-1===r.globals.ignoreYAxisIndexes.indexOf(t)&&u.yAxisTitleRotate(t,e.opposite)}))),"back"===r.config.annotations.position&&(r.globals.dom.Paper.add(r.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),Array.isArray(t.elGraph))for(var l=0;l<t.elGraph.length;l++)r.globals.dom.elGraphical.add(t.elGraph[l]);else r.globals.dom.elGraphical.add(t.elGraph);if("front"===r.config.grid.position&&o&&r.globals.dom.elGraphical.add(o.el),"front"===r.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===r.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"front"===r.config.annotations.position&&(r.globals.dom.Paper.add(r.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var c=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(e){c[e]=!1}))}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach((function(e){e.method(e.params,!1,e.context)})),r.globals.axisCharts||r.globals.noData||n.core.resizeNonAxisCharts(),a(n)}))}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=Be.get(e))&&(t.disconnect(),Be.delete(e));var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach((function(e,t){e.id===b.escapeString(n)&&Apex._chartInstances.splice(t,1)})),new We(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w;return o.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(e,n){return t.updateHelpers._extendSeries(e,n)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,r,a,i)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var r=n.w.config.series.slice(),a=0;a<r.length;a++)if(null!==e[a]&&void 0!==e[a])for(var i=0;i<e[a].data.length;i++)r[a].data.push(e[a].data[i]);return n.w.config.series=r,t&&(n.w.globals.initialSeries=b.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(n,r){new We(t.ctx).clear({isUpdating:!0});var a=t.create(t.w.config.series,e);if(!a)return n(t);t.mount(a).then((function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)})).catch((function(e){r(e)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(e){t.push(e)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(e){if(e.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Q(this.ctx);return t.getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Q(this.ctx);return t.getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Y(this.ctx).dataURI(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=b.escapeString(e),n=Apex._chartInstances.filter((function(e){return e.id===t}))[0];return n&&n.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),n=0;n<t.length;n++)new e(t[n],JSON.parse(t[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var r=null;if(-1!==n.publicMethods.indexOf(t)){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];r=n[t].apply(n,i)}return r}}},{key:"merge",value:function(e,t){return b.extend(e,t)}}]),e}();e.exports=je},220:function(e,t,n){e.exports={default:n(467),__esModule:!0}},5637:function(e,t,n){e.exports={default:n(7425),__esModule:!0}},6793:function(e,t,n){e.exports={default:n(2966),__esModule:!0}},8629:function(e,t,n){e.exports={default:n(9044),__esModule:!0}},3132:function(e,t,n){e.exports={default:n(4177),__esModule:!0}},1010:function(e,t,n){e.exports={default:n(3185),__esModule:!0}},420:function(e,t){"use strict";t.Z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},7996:function(e,t,n){"use strict";var r,a=n(6793),i=(r=a)&&r.__esModule?r:{default:r};t.Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},386:function(e,t,n){"use strict";var r,a=n(6793),i=(r=a)&&r.__esModule?r:{default:r};t.Z=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4646:function(e,t,n){"use strict";var r,a=n(220),i=(r=a)&&r.__esModule?r:{default:r};t.Z=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},4401:function(e,t,n){"use strict";var r=o(n(8629)),a=o(n(5637)),i=o(n(5259));function o(e){return e&&e.__esModule?e:{default:e}}t.Z=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},684:function(e,t){"use strict";t.Z=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},6583:function(e,t,n){"use strict";var r,a=n(5259),i=(r=a)&&r.__esModule?r:{default:r};t.Z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&"function"!==typeof t?e:t}},5259:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(1010)),a=o(n(3132)),i="function"===typeof a.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof a.default&&"symbol"===i(r.default)?function(e){return"undefined"===typeof e?"undefined":i(e)}:function(e){return e&&"function"===typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":"undefined"===typeof e?"undefined":i(e)}},467:function(e,t,n){n(3524),e.exports=n(5754).Object.assign},7425:function(e,t,n){n(7449);var r=n(5754).Object;e.exports=function(e,t){return r.create(e,t)}},2966:function(e,t,n){n(2879);var r=n(5754).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},9044:function(e,t,n){n(8338),e.exports=n(5754).Object.setPrototypeOf},4177:function(e,t,n){n(9028),n(801),n(4819),n(9309),e.exports=n(5754).Symbol},3185:function(e,t,n){n(7445),n(1450),e.exports=n(7891).f("iterator")},4402:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},4223:function(e){e.exports=function(){}},9516:function(e,t,n){var r=n(7095);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},7539:function(e,t,n){var r=n(2290),a=n(2957),i=n(1421);e.exports=function(e){return function(t,n,o){var s,u=r(t),l=a(u.length),c=i(o,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},9328:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5754:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},4569:function(e,t,n){var r=n(4402);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},5542:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},7829:function(e,t,n){e.exports=!n(6705)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6915:function(e,t,n){var r=n(7095),a=n(740).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},5773:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},8526:function(e,t,n){var r=n(7282),a=n(9553),i=n(4863);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,s=n(e),u=i.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},3013:function(e,t,n){var r=n(740),a=n(5754),i=n(4569),o=n(9067),s=n(6139),u=function e(t,n,u){var l,c,d,f=t&e.F,p=t&e.G,h=t&e.S,m=t&e.P,g=t&e.B,v=t&e.W,y=p?a:a[n]||(a[n]={}),b=y.prototype,x=p?r:h?r[n]:(r[n]||{}).prototype;for(l in p&&(u=n),u)(c=!f&&x&&void 0!==x[l])&&s(y,l)||(d=c?x[l]:u[l],y[l]=p&&"function"!=typeof x[l]?u[l]:g&&c?i(d,r):v&&x[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[l]=d,t&e.R&&b&&!b[l]&&o(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},6705:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},740:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},6139:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},9067:function(e,t,n){var r=n(6728),a=n(7869);e.exports=n(7829)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},1015:function(e,t,n){var r=n(740).document;e.exports=r&&r.documentElement},8416:function(e,t,n){e.exports=!n(7829)&&!n(6705)((function(){return 7!=Object.defineProperty(n(6915)("div"),"a",{get:function(){return 7}}).a}))},2999:function(e,t,n){var r=n(9328);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},4683:function(e,t,n){var r=n(9328);e.exports=Array.isArray||function(e){return"Array"==r(e)}},7095:function(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},294:function(e,t,n){"use strict";var r=n(759),a=n(7869),i=n(9157),o={};n(9067)(o,n(102)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),i(e,t+" Iterator")}},3906:function(e,t,n){"use strict";var r=n(4159),a=n(3013),i=n(8004),o=n(9067),s=n(6469),u=n(294),l=n(9157),c=n(49),d=n(102)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){u(n,t,g);var x,A,w,k=function(e){if(!f&&e in E)return E[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",C=v==h,I=!1,E=e.prototype,T=E[d]||E["@@iterator"]||v&&E[v],N=T||k(v),O=v?C?k("entries"):N:void 0,P="Array"==t&&E.entries||T;if(P&&(w=c(P.call(new e)))!==Object.prototype&&w.next&&(l(w,S,!0),r||"function"==typeof w[d]||o(w,d,m)),C&&T&&T.name!==h&&(I=!0,N=function(){return T.call(this)}),r&&!b||!f&&!I&&E[d]||o(E,d,N),s[t]=N,s[S]=m,v)if(x={values:C?N:k(h),keys:y?N:k(p),entries:O},b)for(A in x)A in E||i(E,A,x[A]);else a(a.P+a.F*(f||I),t,x);return x}},7102:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},6469:function(e){e.exports={}},4159:function(e){e.exports=!0},9578:function(e,t,n){var r=n(7650)("meta"),a=n(7095),i=n(6139),o=n(6728).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(6705)((function(){return u(Object.preventExtensions({}))})),c=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!i(e,r)&&c(e),e}}},6293:function(e,t,n){"use strict";var r=n(7829),a=n(7282),i=n(9553),o=n(4863),s=n(6164),u=n(2999),l=Object.assign;e.exports=!l||n(6705)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,c=1,d=i.f,f=o.f;l>c;)for(var p,h=u(arguments[c++]),m=d?a(h).concat(d(h)):a(h),g=m.length,v=0;g>v;)p=m[v++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:l},759:function(e,t,n){var r=n(9516),a=n(4184),i=n(5773),o=n(906)("IE_PROTO"),s=function(){},u=function(){var e,t=n(6915)("iframe"),r=i.length;for(t.style.display="none",n(1015).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:a(n,t)}},6728:function(e,t,n){var r=n(9516),a=n(8416),i=n(6373),o=Object.defineProperty;t.f=n(7829)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},4184:function(e,t,n){var r=n(6728),a=n(9516),i=n(7282);e.exports=n(7829)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}},939:function(e,t,n){var r=n(4863),a=n(7869),i=n(2290),o=n(6373),s=n(6139),u=n(8416),l=Object.getOwnPropertyDescriptor;t.f=n(7829)?l:function(e,t){if(e=i(e),t=o(t,!0),u)try{return l(e,t)}catch(n){}if(s(e,t))return a(!r.f.call(e,t),e[t])}},2721:function(e,t,n){var r=n(2290),a=n(4740).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(t){return o.slice()}}(e):a(r(e))}},4740:function(e,t,n){var r=n(2760),a=n(5773).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},9553:function(e,t){t.f=Object.getOwnPropertySymbols},49:function(e,t,n){var r=n(6139),a=n(6164),i=n(906)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},2760:function(e,t,n){var r=n(6139),a=n(2290),i=n(7539)(!1),o=n(906)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},7282:function(e,t,n){var r=n(2760),a=n(5773);e.exports=Object.keys||function(e){return r(e,a)}},4863:function(e,t){t.f={}.propertyIsEnumerable},7869:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8004:function(e,t,n){e.exports=n(9067)},6832:function(e,t,n){var r=n(7095),a=n(9516),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(4569)(Function.call,n(939).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},9157:function(e,t,n){var r=n(6728).f,a=n(6139),i=n(102)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},906:function(e,t,n){var r=n(4297)("keys"),a=n(7650);e.exports=function(e){return r[e]||(r[e]=a(e))}},4297:function(e,t,n){var r=n(5754),a=n(740),i="__core-js_shared__",o=a[i]||(a[i]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4159)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},5940:function(e,t,n){var r=n(6257),a=n(5542);e.exports=function(e){return function(t,n){var i,o,s=String(a(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}}},1421:function(e,t,n){var r=n(6257),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t)}},6257:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2290:function(e,t,n){var r=n(2999),a=n(5542);e.exports=function(e){return r(a(e))}},2957:function(e,t,n){var r=n(6257),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},6164:function(e,t,n){var r=n(5542);e.exports=function(e){return Object(r(e))}},6373:function(e,t,n){var r=n(7095);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},7650:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},7696:function(e,t,n){var r=n(740),a=n(5754),i=n(4159),o=n(7891),s=n(6728).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},7891:function(e,t,n){t.f=n(102)},102:function(e,t,n){var r=n(4297)("wks"),a=n(7650),i=n(740).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=r},9358:function(e,t,n){"use strict";var r=n(4223),a=n(7102),i=n(6469),o=n(2290);e.exports=n(3906)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},3524:function(e,t,n){var r=n(3013);r(r.S+r.F,"Object",{assign:n(6293)})},7449:function(e,t,n){var r=n(3013);r(r.S,"Object",{create:n(759)})},2879:function(e,t,n){var r=n(3013);r(r.S+r.F*!n(7829),"Object",{defineProperty:n(6728).f})},8338:function(e,t,n){var r=n(3013);r(r.S,"Object",{setPrototypeOf:n(6832).set})},801:function(){},7445:function(e,t,n){"use strict";var r=n(5940)(!0);n(3906)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},9028:function(e,t,n){"use strict";var r=n(740),a=n(6139),i=n(7829),o=n(3013),s=n(8004),u=n(9578).KEY,l=n(6705),c=n(4297),d=n(9157),f=n(7650),p=n(102),h=n(7891),m=n(7696),g=n(8526),v=n(4683),y=n(9516),b=n(7095),x=n(6164),A=n(2290),w=n(6373),k=n(7869),S=n(759),C=n(2721),I=n(939),E=n(9553),T=n(6728),N=n(7282),O=I.f,P=T.f,_=C.f,M=r.Symbol,R=r.JSON,F=R&&R.stringify,D=p("_hidden"),L=p("toPrimitive"),z={}.propertyIsEnumerable,Z=c("symbol-registry"),W=c("symbols"),B=c("op-symbols"),j=Object.prototype,V="function"==typeof M&&!!E.f,H=r.QObject,U=!H||!H.prototype||!H.prototype.findChild,G=i&&l((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(j,t);r&&delete j[t],P(e,t,n),r&&e!==j&&P(j,t,r)}:P,X=function(e){var t=W[e]=S(M.prototype);return t._k=e,t},Y=V&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},q=function(e,t,n){return e===j&&q(B,t,n),y(e),t=w(t,!0),y(n),a(W,t)?(n.enumerable?(a(e,D)&&e[D][t]&&(e[D][t]=!1),n=S(n,{enumerable:k(0,!1)})):(a(e,D)||P(e,D,k(1,{})),e[D][t]=!0),G(e,t,n)):P(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=A(t)),a=0,i=r.length;i>a;)q(e,n=r[a++],t[n]);return e},J=function(e){var t=z.call(this,e=w(e,!0));return!(this===j&&a(W,e)&&!a(B,e))&&(!(t||!a(this,e)||!a(W,e)||a(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=A(e),t=w(t,!0),e!==j||!a(W,t)||a(B,t)){var n=O(e,t);return!n||!a(W,t)||a(e,D)&&e[D][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=_(A(e)),r=[],i=0;n.length>i;)a(W,t=n[i++])||t==D||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===j,r=_(n?B:A(e)),i=[],o=0;r.length>o;)!a(W,t=r[o++])||n&&!a(j,t)||i.push(W[t]);return i};V||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function t(n){this===j&&t.call(B,n),a(this,D)&&a(this[D],e)&&(this[D][e]=!1),G(this,e,k(1,n))};return i&&U&&G(j,e,{configurable:!0,set:t}),X(e)},s(M.prototype,"toString",(function(){return this._k})),I.f=Q,T.f=q,n(4740).f=C.f=$,n(4863).f=J,E.f=ee,i&&!n(4159)&&s(j,"propertyIsEnumerable",J,!0),h.f=function(e){return X(p(e))}),o(o.G+o.W+o.F*!V,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=N(p.store),ae=0;re.length>ae;)m(re[ae++]);o(o.S+o.F*!V,"Symbol",{for:function(e){return a(Z,e+="")?Z[e]:Z[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in Z)if(Z[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!V,"Object",{create:function(e,t){return void 0===t?S(e):K(S(e),t)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ie=l((function(){E.f(1)}));o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return E.f(x(e))}}),R&&o(o.S+o.F*(!V||l((function(){var e=M();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,F.apply(R,r)}}),M.prototype[L]||n(9067)(M.prototype,L,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},4819:function(e,t,n){n(7696)("asyncIterator")},9309:function(e,t,n){n(7696)("observable")},1450:function(e,t,n){n(9358);for(var r=n(740),a=n(9067),i=n(6469),o=n(102)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],d=c&&c.prototype;d&&!d[o]&&a(d,o,l),i[l]=i.Array}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},3061:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,{default:function(){return a}})},3105:function(e,t,n){try{var r=n(2447)}catch(s){r=n(2447)}var a=/\s+/,i=Object.prototype.toString;function o(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new o(e)},o.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},o.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},o.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},o.prototype.toggle=function(e,t){return this.list?("undefined"!==typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!==typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},o.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(a);return""===e[0]&&e.shift(),e},o.prototype.has=o.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},2447:function(e){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},5596:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s;n.d(t,{E3:function(){return ne},zy:function(){return re}});var u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function l(){if(void 0!==s)return s;s="";var e=document.createElement("p").style;for(var t in u)t+"Transform"in e&&(s=t);return s}function c(){return l()?"".concat(l(),"TransitionProperty"):"transitionProperty"}function d(){return l()?"".concat(l(),"Transform"):"transform"}function f(e,t){var n=c();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function p(e,t){var n=d();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var h,m=/matrix\((.*)\)/,g=/matrix3d\((.*)\)/;function v(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function y(e,t,n){var r=n;if("object"!==i(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):h(e,t);for(var a in t)t.hasOwnProperty(a)&&y(e,a,t[a])}function b(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var a=e.document;"number"!==typeof(n=a.documentElement[r])&&(n=a.body[r])}return n}function x(e){return b(e)}function A(e){return b(e,!0)}function w(e){var t=function(e){var t,n,r,a=e.ownerDocument,i=a.body,o=a&&a.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||i.clientLeft||0,top:r-=o.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=x(r),t.top+=A(r),t}function k(e){return null!==e&&void 0!==e&&e==e.window}function S(e){return k(e)?e.document:9===e.nodeType?e:e.ownerDocument}var C=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),I=/^(top|right|bottom|left)$/;function E(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function T(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function N(e,t,n){"static"===y(e,"position")&&(e.style.position="relative");var r=-999,a=-999,i=E("left",n),o=E("top",n),s=T(i),u=T(o);"left"!==i&&(r=999),"top"!==o&&(a=999);var l,d="",p=w(e);("left"in t||"top"in t)&&(d=(l=e).style.transitionProperty||l.style[c()]||"",f(e,"none")),"left"in t&&(e.style[s]="",e.style[i]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[o]="".concat(a,"px")),v(e);var h=w(e),m={};for(var g in t)if(t.hasOwnProperty(g)){var b=E(g,n),x="left"===g?r:a,A=p[g]-h[g];m[b]=b===g?x+A:x-A}y(e,m),v(e),("left"in t||"top"in t)&&f(e,d);var k={};for(var S in t)if(t.hasOwnProperty(S)){var C=E(S,n),I=t[S]-p[S];k[C]=S===C?m[C]+I:m[C]-I}y(e,k)}function O(e,t){var n=w(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(d());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),a={x:r.x,y:r.y};"left"in t&&(a.x=r.x+t.left-n.left),"top"in t&&(a.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(d());if(r&&"none"!==r){var a,i=r.match(m);i?((a=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,a[5]=t.y,p(e,"matrix(".concat(a.join(","),")"))):((a=r.match(g)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,a[13]=t.y,p(e,"matrix3d(".concat(a.join(","),")")))}else p(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,a)}function P(e,t){for(var n=0;n<e.length;n++)t(e[n])}function _(e){return"border-box"===h(e,"boxSizing")}"undefined"!==typeof window&&(h=window.getComputedStyle?function(e,t,n){var r=n,a="",i=S(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(a=r.getPropertyValue(t)||r[t]),a}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(C.test(n)&&!I.test(t)){var r=e.style,a=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=a,e.runtimeStyle.left=i}return""===n?"auto":n});var M=["margin","border","padding"];function R(e,t,n){var r,a={},i=e.style;for(r in t)t.hasOwnProperty(r)&&(a[r]=i[r],i[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(i[r]=a[r])}function F(e,t,n){var r,a,i,o=0;for(a=0;a<t.length;a++)if(r=t[a])for(i=0;i<n.length;i++){var s=void 0;s="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i],o+=parseFloat(h(e,s))||0}return o}var D={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function L(e,t,n){var r=n;if(k(e))return"width"===t?D.viewportWidth(e):D.viewportHeight(e);if(9===e.nodeType)return"width"===t?D.docWidth(e):D.docHeight(e);var a="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=_(e),s=0;(null===i||void 0===i||i<=0)&&(i=void 0,(null===(s=h(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?1:-1);var u=void 0!==i||o,l=i||s;return-1===r?u?l-F(e,["border","padding"],a):s:u?1===r?l:l+(2===r?-F(e,["border"],a):F(e,["margin"],a)):s+F(e,M.slice(r),a)}P(["Width","Height"],(function(e){D["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],D["viewport".concat(e)](n))},D["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,a=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||a&&a[n]||i}}));var z={position:"absolute",visibility:"hidden",display:"block"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=t[0];return 0!==a.offsetWidth?r=L.apply(void 0,t):R(a,z,(function(){r=L.apply(void 0,t)})),r}function W(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}P(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);D["outer".concat(t)]=function(t,n){return t&&Z(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];D[e]=function(t,r){var a=r;return void 0!==a?t?(_(t)&&(a+=F(t,["padding","border"],n)),y(t,e,a)):void 0:t&&Z(t,e,-1)}}));var B={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:S,offset:function(e,t,n){if("undefined"===typeof t)return w(e);!function(e,t,n){if(n.ignoreShake){var r=w(e),a=r.left.toFixed(0),i=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(a===o&&i===s)return}n.useCssRight||n.useCssBottom?N(e,t,n):n.useCssTransform&&d()in document.body.style?O(e,t):N(e,t,n)}(e,t,n||{})},isWindow:k,each:P,css:y,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:W,getWindowScrollLeft:function(e){return x(e)},getWindowScrollTop:function(e){return A(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)B.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};W(B,D);var j=B.getParent;function V(e){if(B.isWindow(e)||9===e.nodeType)return null;var t,n=B.getDocument(e).body,r=B.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:j(e);for(t=j(e);t&&t!==n&&9!==t.nodeType;t=j(t))if("static"!==(r=B.css(t,"position")))return t;return null}var H=B.getParent;function U(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=V(e),a=B.getDocument(e),i=a.defaultView||a.parentWindow,o=a.body,s=a.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===B.css(r,"overflow")){if(r===o||r===s)break}else{var u=B.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=V(r)}var l=null;B.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===B.css(e,"position")&&(e.style.position="fixed"));var c=B.getWindowScrollLeft(i),d=B.getWindowScrollTop(i),f=B.viewportWidth(i),p=B.viewportHeight(i),h=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(o);if("hidden"===g.overflowX&&(h=i.innerWidth),"hidden"===g.overflowY&&(m=i.innerHeight),e.style&&(e.style.position=l),t||function(e){if(B.isWindow(e)||9===e.nodeType)return!1;var t=B.getDocument(e),n=t.body,r=null;for(r=H(e);r&&r!==n&&r!==t;r=H(r))if("fixed"===B.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,d),n.right=Math.min(n.right,c+f),n.bottom=Math.min(n.bottom,d+p);else{var v=Math.max(h,c+f);n.right=Math.min(n.right,v);var y=Math.max(m,d+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function G(e){var t,n,r;if(B.isWindow(e)||9===e.nodeType){var a=B.getWindow(e);t={left:B.getWindowScrollLeft(a),top:B.getWindowScrollTop(a)},n=B.viewportWidth(a),r=B.viewportHeight(a)}else t=B.offset(e),n=B.outerWidth(e),r=B.outerHeight(e);return t.width=n,t.height=r,t}function X(e,t){var n=t.charAt(0),r=t.charAt(1),a=e.width,i=e.height,o=e.left,s=e.top;return"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?o+=a/2:"r"===r&&(o+=a),{left:o,top:s}}function Y(e,t,n,r,a){var i=X(t,n[1]),o=X(e,n[0]),s=[o.left-i.left,o.top-i.top];return{left:Math.round(e.left-s[0]+r[0]-a[0]),top:Math.round(e.top-s[1]+r[1]-a[1])}}function q(e,t,n){return e.left<n.left||e.left+t.width>n.right}function K(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function J(e,t,n){var r=[];return B.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Q(e,t){return e[t]=-e[t],e}function $(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function ee(e,t){e[0]=$(e[0],t.width),e[1]=$(e[1],t.height)}function te(e,t,n,r){var a=n.points,i=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;i=[].concat(i),o=[].concat(o);var l={},c=0,d=U(u,!(!(s=s||{})||!s.alwaysByViewport)),f=G(u);ee(i,f),ee(o,t);var p=Y(f,t,a,i,o),h=B.merge(f,p);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&q(p,f,d)){var m=J(a,/[lr]/gi,{l:"r",r:"l"}),g=Q(i,0),v=Q(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Y(f,t,m,g,v),f,d)||(c=1,a=m,i=g,o=v)}if(s.adjustY&&K(p,f,d)){var y=J(a,/[tb]/gi,{t:"b",b:"t"}),b=Q(i,1),x=Q(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Y(f,t,y,b,x),f,d)||(c=1,a=y,i=b,o=x)}c&&(p=Y(f,t,a,i,o),B.mix(h,p));var A=q(p,f,d),w=K(p,f,d);if(A||w){var k=a;A&&(k=J(a,/[lr]/gi,{l:"r",r:"l"})),w&&(k=J(a,/[tb]/gi,{t:"b",b:"t"})),a=k,i=n.offset||[0,0],o=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&A,l.adjustY=s.adjustY&&w,(l.adjustX||l.adjustY)&&(h=function(e,t,n,r){var a=B.clone(e),i={width:t.width,height:t.height};return r.adjustX&&a.left<n.left&&(a.left=n.left),r.resizeWidth&&a.left>=n.left&&a.left+i.width>n.right&&(i.width-=a.left+i.width-n.right),r.adjustX&&a.left+i.width>n.right&&(a.left=Math.max(n.right-i.width,n.left)),r.adjustY&&a.top<n.top&&(a.top=n.top),r.resizeHeight&&a.top>=n.top&&a.top+i.height>n.bottom&&(i.height-=a.top+i.height-n.bottom),r.adjustY&&a.top+i.height>n.bottom&&(a.top=Math.max(n.bottom-i.height,n.top)),B.mix(a,i)}(p,f,d,l))}return h.width!==f.width&&B.css(u,"width",B.width(u)+h.width-f.width),h.height!==f.height&&B.css(u,"height",B.height(u)+h.height-f.height),B.offset(u,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:a,offset:i,targetOffset:o,overflow:l}}function ne(e,t,n){var r=n.target||t,a=G(r),i=!function(e,t){var n=U(e,t),r=G(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return te(e,a,n,i)}function re(e,t,n){var r,i,o=B.getDocument(e),s=o.defaultView||o.parentWindow,u=B.getWindowScrollLeft(s),l=B.getWindowScrollTop(s),c=B.viewportWidth(s),d=B.viewportHeight(s),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},p=r>=0&&r<=u+c&&i>=0&&i<=l+d,h=[n.points[0],"cc"];return te(e,f,a(a({},n),{},{points:h}),p)}ne.__getOffsetParent=V,ne.__getVisibleRectForElement=U},9994:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,a=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!a&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},s=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(a)return a(e,n).value}return e[n]};e.exports=function e(){var t,n,r,a,l,c,d=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"===typeof d&&(h=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<p;++f)if(null!=(t=arguments[f]))for(n in t)r=u(d,n),d!==(a=u(t,n))&&(h&&a&&(o(a)||(l=i(a)))?(l?(l=!1,c=r&&i(r)?r:[]):c=r&&o(r)?r:{},s(d,{name:n,newValue:e(h,c,a)})):"undefined"!==typeof a&&s(d,{name:n,newValue:a}));return d}},9806:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},1465:function(e){e.exports=function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&o(a,n.prototype),a},u.apply(null,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?l(e):t}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function f(e,t,n){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},f(e,t,n||e)}function p(e){throw Error(e)}function h(e){if(O(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.call.apply(e,[this].concat(n))}}function m(e){return w(e=k(e)?Math.ceil(e):Math.floor(e))?("-"+e).toString():e}function g(e){return!C(e)&&!S(e)}function v(e,t){return function(){return t(e())}}function y(e){return function(t){return t.map(e).reduce((function(e,t){return e.concat(t)}),[])}}function b(e){return y((function(e){return e}))(e)}function x(e){return y((function(e){return Array.isArray(e)?x(e):e}))(e)}function A(e){return x(e).length}function w(e){return 1/Math.round(e)===-1/0}function k(e){return w(e)||e<0}function S(e){return null===e}function C(e){return"undefined"===typeof e}function I(e){return e instanceof Function&&!!e.name}function E(e){return"string"===typeof e}function T(e){return e instanceof Array}function N(t){var n=e(t);return null!=t&&!T(t)&&("object"==n||"function"==n)}function O(e){return e instanceof Function}function P(e){return!isNaN(e)}function _(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}var M=function(){function e(n){t(this,e),this.setAttribute(Object.assign({events:{}},n))}return r(e,[{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.events[e]&&this.events[e].forEach((function(e){e.apply(t,r)})),this}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}},{key:"off",value:function(e,t){return this.events[e]&&t?this.events[e]=this.events[e].filter((function(e){return e!==t})):this.events[e]=[],this}},{key:"once",value:function(e,t){var n=this;return t=v(t,(function(){return n.off(e,t)})),this.on(e,t,!0)}},{key:"getAttribute",value:function(e){return this.hasOwnProperty(e)?this[e]:null}},{key:"getAttributes",value:function(){var e=this,t={};return Object.getOwnPropertyNames(this).forEach((function(n){t[n]=e.getAttribute(n)})),t}},{key:"getPublicAttributes",value:function(){var e=this;return Object.keys(this.getAttributes()).filter((function(e){return!e.match(/^\$/)})).reduce((function(t,n){return t[n]=e.getAttribute(n),t}),{})}},{key:"setAttribute",value:function(e,t){N(e)?this.setAttributes(e):this[e]=t}},{key:"setAttributes",value:function(e){for(var t in e)this.setAttribute(t,e[t])}},{key:"callback",value:function(e){return h.call(this,e)}},{key:"name",get:function(){return this.constructor.defineName instanceof Function||p("Every class must define its name."),this.constructor.defineName()}},{key:"events",get:function(){return this.$events||{}},set:function(e){this.$events=e}}],[{key:"make",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(this,t)}}]),e}();function R(e,t){function n(e){return(t.prependLeadingZero&&1===e.toString().split("").length?"0":"").concat(e)}function r(e,t){var n=x(e).length;if(n<t)for(var r=0;r<t-n;r++)e[0].unshift("0");return e}return t=Object.assign({minimumDigits:0,prependLeadingZero:!0},t),r(b([e]).map((function(e){return b(x([e]).map((function(e){return n(e).split("")})))})),t.minimumDigits||0)}var F=[{min:48,max:57},{min:65,max:90},{min:97,max:122}];function D(e,t){return"number"===t?parseFloat(e):e}function L(e){for(var t in F){var n=e.toString().charCodeAt(0);if(F[t].min<=n&&F[t].max>=n)return F[t]}return null}function z(e,t){return String.fromCharCode(t(L(e),e.charCodeAt(0)))}function Z(t){return D(t.toString().split("").map((function(e){return z(e,(function(e,t){return!e||t<e.max?t+1:e.min}))})).join(""),e(t))}function W(t){return D(t.toString().split("").map((function(e){return z(e,(function(e,t){return!e||t>e.min?t-1:e.max}))})).join(""),e(t))}var B=function(e){function n(e,r){var a;return t(this,n),a=c(this,i(n).call(this,Object.assign({format:function(e){return e},prependLeadingZero:!0,minimumDigits:0},r))),a.value||(a.value=e),a}return a(n,e),r(n,[{key:"isNaN",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNaN(this.value)}))},{key:"isNumber",value:function(){return P()}},{key:"clone",value:function(e,t){return new this.constructor(e,Object.assign(this.getPublicAttributes(),t))}},{key:"digits",get:function(){return this.$digits},set:function(e){this.$digits=e,this.minimumDigits=Math.max(this.minimumDigits,A(e))}},{key:"value",get:function(){return this.$value},set:function(e){this.$value=e,this.digits=R(this.format(e),{minimumDigits:this.minimumDigits,prependLeadingZero:this.prependLeadingZero})}}],[{key:"defineName",value:function(){return"FaceValue"}}]),n}(M);function j(t){for(var n=!1,r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return b(a).forEach((function(r){(S(t)&&S(r)||N(r)&&t instanceof r||O(r)&&!I(r)&&!0===r(t)||E(r)&&e(t)===r)&&(n=!0)})),n}var V={className:"The className() is not defined.",items:"The items property must be an array.",theme:"The theme property must be an object.",language:"The language must be an object.",date:"The value must be an instance of a Date.",face:"The face must be an instance of a Face class.",element:"The element must be an instance of an HTMLElement",faceValue:"The face must be an instance of a FaceValue class.",timer:"The timer property must be an instance of a Timer class."},H=function(e){function n(e,r){var a;return t(this,n),e instanceof B||!N(e)||(r=e,e=void 0),(a=c(this,i(n).call(this))).setAttributes(Object.assign({autoStart:!0,countdown:!1,animationRate:500},a.defaultAttributes(),r||{})),(S(e)||C(e))&&(e=a.defaultValue()),e&&(a.value=e),a}return a(n,e),r(n,[{key:"interval",value:function(e,t){return this.countdown?this.decrement(e):this.increment(e),h.call(this,t),this.shouldStop(e)&&e.stop(),this.emit("interval")}},{key:"shouldStop",value:function(e){return!C(this.stopAt)&&this.stopAt===e.value.value}},{key:"format",value:function(e,t){return t}},{key:"defaultValue",value:function(){}},{key:"defaultAttributes",value:function(){}},{key:"defaultDataType",value:function(){}},{key:"increment",value:function(e,t){}},{key:"decrement",value:function(e,t){}},{key:"started",value:function(e){}},{key:"stopped",value:function(e){}},{key:"reset",value:function(e){}},{key:"initialized",value:function(e){}},{key:"rendered",value:function(e){}},{key:"mounted",value:function(e){this.autoStart&&e.timer.isStopped&&window.requestAnimationFrame((function(){return e.start(e)}))}},{key:"createFaceValue",value:function(e,t){var n=this;return B.make(O(t)&&!t.name?t():t,{minimumDigits:this.minimumDigits,format:function(t){return n.format(e,t)}})}},{key:"dataType",get:function(){return this.defaultDataType()}},{key:"value",get:function(){return this.$value},set:function(e){e instanceof B||(e=this.createFaceValue(e)),this.$value=e}},{key:"stopAt",get:function(){return this.$stopAt},set:function(e){this.$stopAt=e}},{key:"originalValue",get:function(){return this.$originalValue},set:function(e){this.$originalValue=e}}]),n}(M),U={years:"\u0633\u0646\u0648\u0627\u062a",months:"\u0634\u0647\u0648\u0631",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",seconds:"\u062b\u0648\u0627\u0646\u064a"},G=["ar","ar-ar","arabic"],X=Object.freeze({dictionary:U,aliases:G}),Y={years:"Anys",months:"Mesos",days:"Dies",hours:"Hores",minutes:"Minuts",seconds:"Segons"},q=["ca","ca-es","catalan"],K=Object.freeze({dictionary:Y,aliases:q}),J={years:"Roky",months:"M\u011bs\xedce",days:"Dny",hours:"Hodiny",minutes:"Minuty",seconds:"Sekundy"},Q=["cs","cs-cz","cz","cz-cs","czech"],$=Object.freeze({dictionary:J,aliases:Q}),ee={years:"\xc5r",months:"M\xe5neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},te=["da","da-dk","danish"],ne=Object.freeze({dictionary:ee,aliases:te}),re={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},ae=["de","de-de","german"],ie=Object.freeze({dictionary:re,aliases:ae}),oe={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},se=["en","en-us","english"],ue=Object.freeze({dictionary:oe,aliases:se}),le={years:"A\xf1os",months:"Meses",days:"D\xedas",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},ce=["es","es-es","spanish"],de=Object.freeze({dictionary:le,aliases:ce}),fe={years:"\u0633\u0627\u0644",months:"\u0645\u0627\u0647",days:"\u0631\u0648\u0632",hours:"\u0633\u0627\u0639\u062a",minutes:"\u062f\u0642\u06cc\u0642\u0647",seconds:"\u062b\u0627\u0646\u06cc\u0647"},pe=["fa","fa-ir","persian"],he=Object.freeze({dictionary:fe,aliases:pe}),me={years:"Vuotta",months:"Kuukautta",days:"P\xe4iv\xe4\xe4",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},ge=["fi","fi-fi","finnish"],ve=Object.freeze({dictionary:me,aliases:ge}),ye={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},be=["fr","fr-ca","french"],xe=Object.freeze({dictionary:ye,aliases:be}),Ae={years:"\u05e9\u05e0\u05d9\u05dd",months:"\u05d7\u05d5\u05d3\u05e9",days:"\u05d9\u05de\u05d9\u05dd",hours:"\u05e9\u05e2\u05d5\u05ea",minutes:"\u05d3\u05e7\u05d5\u05ea",seconds:"\u05e9\u05e0\u05d9\u05d5\u05ea"},we=["il","he-il","hebrew"],ke=Object.freeze({dictionary:Ae,aliases:we}),Se={years:"\xc9v",months:"H\xf3nap",days:"Nap",hours:"\xd3ra",minutes:"Perc",seconds:"M\xe1sodperc"},Ce=["hu","hu-hu","hungarian"],Ie=Object.freeze({dictionary:Se,aliases:Ce}),Ee={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},Te=["da","da-dk","danish"],Ne=Object.freeze({dictionary:Ee,aliases:Te}),Oe={years:"\u5e74",months:"\u6708",days:"\u65e5",hours:"\u6642",minutes:"\u5206",seconds:"\u79d2"},Pe=["jp","ja-jp","japanese"],_e=Object.freeze({dictionary:Oe,aliases:Pe}),Me={years:"\ub144",months:"\uc6d4",days:"\uc77c",hours:"\uc2dc",minutes:"\ubd84",seconds:"\ucd08"},Re=["ko","ko-kr","korean"],Fe=Object.freeze({dictionary:Me,aliases:Re}),De={years:"Gadi",months:"M\u0113ne\u0161i",days:"Dienas",hours:"Stundas",minutes:"Min\u016btes",seconds:"Sekundes"},Le=["lv","lv-lv","latvian"],ze=Object.freeze({dictionary:De,aliases:Le}),Ze={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},We=["nl","nl-be","dutch"],Be=Object.freeze({dictionary:Ze,aliases:We}),je={years:"\xc5r",months:"M\xe5neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},Ve=["no","nb","no-nb","norwegian"],He=Object.freeze({dictionary:je,aliases:Ve}),Ue={years:"Lat",months:"Miesi\u0119cy",days:"Dni",hours:"Godziny",minutes:"Minuty",seconds:"Sekundy"},Ge=["pl","pl-pl","polish"],Xe=Object.freeze({dictionary:Ue,aliases:Ge}),Ye={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},qe=["pt","pt-br","portuguese"],Ke=Object.freeze({dictionary:Ye,aliases:qe}),Je={years:"Ani",months:"Luni",days:"Zile",hours:"Ore",minutes:"Minute",seconds:"sSecunde"},Qe=["ro","ro-ro","romana"],$e=Object.freeze({dictionary:Je,aliases:Qe}),et={years:"\u043b\u0435\u0442",months:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432",days:"\u0434\u043d\u0435\u0439",hours:"\u0447\u0430\u0441\u043e\u0432",minutes:"\u043c\u0438\u043d\u0443\u0442",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434"},tt=["ru","ru-ru","russian"],nt=Object.freeze({dictionary:et,aliases:tt}),rt={years:"Roky",months:"Mesiace",days:"Dni",hours:"Hodiny",minutes:"Min\xfaty",seconds:"Sekundy"},at=["sk","sk-sk","slovak"],it=Object.freeze({dictionary:rt,aliases:at}),ot={years:"\xc5r",months:"M\xe5nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},st=["sv","sv-se","swedish"],ut=Object.freeze({dictionary:ot,aliases:st}),lt={years:"\u0e1b\u0e35",months:"\u0e40\u0e14\u0e37\u0e2d\u0e19",days:"\u0e27\u0e31\u0e19",hours:"\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",minutes:"\u0e19\u0e32\u0e17\u0e35",seconds:"\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35"},ct=["th","th-th","thai"],dt=Object.freeze({dictionary:lt,aliases:ct}),ft={years:"Y\u0131l",months:"Ay",days:"G\xfcn",hours:"Saat",minutes:"Dakika",seconds:"Saniye"},pt=["tr","tr-tr","turkish"],ht=Object.freeze({dictionary:ft,aliases:pt}),mt={years:"\u0440\u043e\u043a\u0438",months:"\u043c\u0456\u0441\u044f\u0446\u0456",days:"\u0434\u043d\u0456",hours:"\u0433\u043e\u0434\u0438\u043d\u0438",minutes:"\u0445\u0432\u0438\u043b\u0438\u043d\u0438",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434\u0438"},gt=["ua","ua-ua","ukraine"],vt=Object.freeze({dictionary:mt,aliases:gt}),yt={years:"N\u0103m",months:"Th\xe1ng",days:"Ng\xe0y",hours:"Gi\u1edd",minutes:"Ph\xfat",seconds:"Gi\xe2y"},bt=["vn","vn-vn","vietnamese"],xt=Object.freeze({dictionary:yt,aliases:bt}),At={years:"\u5e74",months:"\u6708",days:"\u65e5",hours:"\u65f6",minutes:"\u5206",seconds:"\u79d2"},wt=["zh","zh-cn","chinese"],kt=Object.freeze({dictionary:At,aliases:wt}),St={years:"\u5e74",months:"\u6708",days:"\u65e5",hours:"\u6642",minutes:"\u5206",seconds:"\u79d2"},Ct=["zh-tw"],It=Object.freeze({dictionary:St,aliases:Ct}),Et=Object.freeze({Arabic:X,Catalan:K,Czech:$,Danish:ne,German:ie,English:ue,Spanish:de,Persian:he,Finnish:ve,French:xe,Hebrew:ke,Hungarian:Ie,Italian:Ne,Japanese:_e,Korean:Fe,Latvian:ze,Dutch:Be,Norwegian:He,Polish:Xe,Portuguese:Ke,Romanian:$e,Russian:nt,Slovak:it,Swedish:ut,Thai:dt,Turkish:ht,Ukrainian:vt,Vietnamese:xt,Chinese:kt,TraditionalChinese:It});function Tt(e){return e?Et[e.toLowerCase()]||Object.values(Et).find((function(t){return-1!==t.aliases.indexOf(e)})):null}function Nt(e,t){var n=E(t)?Tt(t):t;return(n.dictionary||n)[e]||e}function Ot(e,t){return t.parentNode?(t.parentNode.replaceChild(e,t),e):t}function Pt(e,t){if(N(t))for(var n in t)e.setAttribute(n,t[n]);return e}function _t(e,t){return T(t)&&t.filter(g).forEach((function(t){t instanceof HTMLElement&&e.appendChild(t)})),e}function Mt(e,t,n){return e instanceof HTMLElement||(e=document.createElement(e)),Pt(e,N(t)?t:n),N(t)||T(t)?_t(e,t):e.innerHTML=t,e}var Rt=function(e){function n(e){var r;if(t(this,n),(r=c(this,i(n).call(this,Object.assign({parent:null},e)))).theme||p("".concat(r.name," does not have a theme defined.")),r.language||p("".concat(r.name," does not have a language defined.")),!r.theme[r.name])throw new Error("".concat(r.name," cannot be rendered because it has no template."));return r}return a(n,e),r(n,[{key:"translate",value:function(e){return Nt(e,this.language)}},{key:"t",value:function(e){return this.translate(e)}},{key:"render",value:function(){var e=Mt("div",{class:"flip-clock"===this.className?this.className:"flip-clock-"+this.className});return this.theme[this.name](e,this),this.el?this.el.innerHTML!==e.innerHTML&&(this.el=Ot(e,this.el)):this.el=e,this.el}},{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.render(),this.parent=e,t?this.parent.insertBefore(this.el,t):this.parent.appendChild(this.el),this.el}},{key:"className",get:function(){return _(this.constructor.defineName())}},{key:"el",get:function(){return this.$el},set:function(e){j(e,null,HTMLElement)||p(V.element),this.$el=e}},{key:"parent",get:function(){return this.$parent},set:function(e){this.$parent=e}},{key:"theme",get:function(){return this.$theme},set:function(e){j(e,"object")||p(V.value),this.$theme=e}},{key:"language",get:function(){return this.$language},set:function(e){E(e)&&(e=Tt(e)),j(e,"object")||p(V.language),this.$language=e}}]),n}(M),Ft=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,null,[{key:"defineName",value:function(){return"Divider"}}]),n}(Rt),Dt=function(e){function n(e,r){return t(this,n),c(this,i(n).call(this,Object.assign({value:e},N(e)?e:null,r)))}return a(n,e),r(n,null,[{key:"defineName",value:function(){return"ListItem"}}]),n}(Rt),Lt=function(e){function n(e,r){return t(this,n),c(this,i(n).call(this,Object.assign({value:e,items:[]},N(e)?e:null,r)))}return a(n,e),r(n,[{key:"createListItem",value:function(e,t){var n=new Dt(e,Object.assign({theme:this.theme,language:this.language},t));return this.$items.push(n),n}},{key:"value",get:function(){return this.$value},set:function(e){this.$value=e}},{key:"items",get:function(){return this.$items},set:function(e){this.$items=e}}],[{key:"defineName",value:function(){return"List"}}]),n}(Rt),zt=function(e){function n(e,r){return t(this,n),c(this,i(n).call(this,Object.assign({items:T(e)?e:[]},N(e)?e:null,r)))}return a(n,e),r(n,null,[{key:"defineName",value:function(){return"Group"}}]),n}(Rt),Zt=function(e){function n(e,r){return t(this,n),c(this,i(n).call(this,Object.assign({label:e},N(e)?e:null,r)))}return a(n,e),r(n,null,[{key:"defineName",value:function(){return"Label"}}]),n}(Rt),Wt=function(e){function n(e){return t(this,n),c(this,i(n).call(this,Object.assign({count:0,handle:null,started:null,running:!1,interval:P(e)?e:null},N(e)?e:null)))}return a(n,e),r(n,[{key:"reset",value:function(e){var t=this;return this.stop((function(){t.count=0,t.start((function(){return h.call(t,e)})),t.emit("reset")})),this}},{key:"start",value:function(e){var t=this;return this.started=new Date,this.lastLoop=Date.now(),this.running=!0,this.emit("start"),function n(){return Date.now()-t.lastLoop>=t.interval&&(h.call(t,e),t.lastLoop=Date.now(),t.emit("interval"),t.count++),t.handle=window.requestAnimationFrame(n),t}()}},{key:"stop",value:function(e){var t=this;return this.isRunning&&setTimeout((function(){window.cancelAnimationFrame(t.handle),t.running=!1,h.call(t,e),t.emit("stop")})),this}},{key:"elapsed",get:function(){return this.lastLoop?this.lastLoop-(this.started?this.started.getTime():(new Date).getTime()):0}},{key:"isRunning",get:function(){return!0===this.running}},{key:"isStopped",get:function(){return!1===this.running}}],[{key:"defineName",value:function(){return"Timer"}}]),n}(M),Bt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"increment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.value=this.value.value+t}},{key:"decrement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.value=this.value.value-t}}],[{key:"defineName",value:function(){return"Counter"}}]),n}(H),jt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"defaultDataType",value:function(){return Date}},{key:"defaultAttributes",value:function(){return{showSeconds:!0,showLabels:!0}}},{key:"shouldStop",value:function(e){if(S(e.stopAt)||C(e.stopAt))return!1;if(this.stopAt instanceof Date)return this.countdown?this.stopAt.getTime()>=this.value.value.getTime():this.stopAt.getTime()<=this.value.value.getTime();if(P(this.stopAt)){var t=Math.floor((this.value.value.getTime()-this.originalValue.getTime())/1e3);return this.countdown?this.stopAt>=t:this.stopAt<=t}throw new Error("the stopAt property must be an instance of Date or Number.")}},{key:"increment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.value=new Date(this.value.value.getTime()+t+((new Date).getTime()-e.timer.lastLoop))}},{key:"decrement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.value=new Date(this.value.value.getTime()-t-((new Date).getTime()-e.timer.lastLoop))}},{key:"format",value:function(e,t){var n=e.timer.isRunning?e.timer.started:new Date(Date.now()-50);return[[this.getMinutes(t,n)],this.showSeconds?[this.getSeconds(t,n)]:null].filter(g)}},{key:"getMinutes",value:function(e,t){return m(this.getTotalSeconds(e,t)/60)}},{key:"getSeconds",value:function(e,t){var n=this.getTotalSeconds(e,t);return Math.abs(Math.ceil(60===n?0:n%60))}},{key:"getTotalSeconds",value:function(e,t){return e.getTime()===t.getTime()?0:Math.round((e.getTime()-t.getTime())/1e3)}}],[{key:"defineName",value:function(){return"MinuteCounter"}}]),n}(H),Vt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"format",value:function(e,t){var n=e.timer.started?t:new Date,r=e.originalValue||t,a=this.countdown?r:n,i=this.countdown?n:r,o=[[this.getHours(a,i)],[this.getMinutes(a,i)]];return this.showSeconds&&o.push([this.getSeconds(a,i)]),o}},{key:"getMinutes",value:function(e,t){return Math.abs(f(i(n.prototype),"getMinutes",this).call(this,e,t)%60)}},{key:"getHours",value:function(e,t){return Math.floor(this.getTotalSeconds(e,t)/60/60)}}],[{key:"defineName",value:function(){return"HourCounter"}}]),n}(jt),Ht=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"format",value:function(e,t){var n=e.started?t:new Date,r=e.originalValue||t,a=this.countdown?r:n,i=this.countdown?n:r,o=[[this.getDays(a,i)],[this.getHours(a,i)],[this.getMinutes(a,i)]];return this.showSeconds&&o.push([this.getSeconds(a,i)]),o}},{key:"getDays",value:function(e,t){return Math.floor(this.getTotalSeconds(e,t)/60/60/24)}},{key:"getHours",value:function(e,t){return Math.abs(f(i(n.prototype),"getHours",this).call(this,e,t)%24)}}],[{key:"defineName",value:function(){return"DayCounter"}}]),n}(Vt),Ut=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"defaultDataType",value:function(){return Date}},{key:"defaultValue",value:function(){return new Date}},{key:"defaultAttributes",value:function(){return{showSeconds:!0,showLabels:!1}}},{key:"format",value:function(e,t){t||(t=new Date);var n=[[t.getHours()],[t.getMinutes()]];return this.showSeconds&&n.push([t.getSeconds()]),n}},{key:"increment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.value=new Date(this.value.value.getTime()+t+((new Date).getTime()-e.timer.lastLoop))}},{key:"decrement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.value=new Date(this.value.value.getTime()-t-((new Date).getTime()-e.timer.lastLoop))}}],[{key:"defineName",value:function(){return"TwentyFourHourClock"}}]),n}(H),Gt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"defaultAttributes",value:function(){return{showLabels:!1,showSeconds:!0,showMeridium:!0}}},{key:"format",value:function(e,t){t||(t=new Date);var n=t.getHours(),r=[n>12?n-12:0===n?12:n,t.getMinutes()];return this.meridium=n>12?"pm":"am",this.showSeconds&&r.push(t.getSeconds()),r}}],[{key:"defineName",value:function(){return"TwelveHourClock"}}]),n}(Ut),Xt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"format",value:function(e,t){var n=e.timer.started?t:new Date,r=e.originalValue||t,a=this.countdown?r:n,i=this.countdown?n:r,o=[[this.getWeeks(a,i)],[this.getDays(a,i)],[this.getHours(a,i)],[this.getMinutes(a,i)]];return this.showSeconds&&o.push([this.getSeconds(a,i)]),o}},{key:"getWeeks",value:function(e,t){return Math.floor(this.getTotalSeconds(e,t)/60/60/24/7)}},{key:"getDays",value:function(e,t){return Math.abs(f(i(n.prototype),"getDays",this).call(this,e,t)%7)}}],[{key:"defineName",value:function(){return"WeekCounter"}}]),n}(Ht),Yt=function(e){function n(){return t(this,n),c(this,i(n).apply(this,arguments))}return a(n,e),r(n,[{key:"format",value:function(e,t){var n=e.timer.started?t:new Date,r=e.originalValue||t,a=this.countdown?r:n,i=this.countdown?n:r,o=[[this.getYears(a,i)],[this.getWeeks(a,i)],[this.getDays(a,i)],[this.getHours(a,i)],[this.getMinutes(a,i)]];return this.showSeconds&&o.push([this.getSeconds(a,i)]),o}},{key:"getYears",value:function(e,t){return Math.floor(Math.max(0,this.getTotalSeconds(e,t)/60/60/24/7/52))}},{key:"getWeeks",value:function(e,t){return Math.abs(f(i(n.prototype),"getWeeks",this).call(this,e,t)%52)}}],[{key:"defineName",value:function(){return"YearCounter"}}]),n}(Xt),qt=Object.freeze({Counter:Bt,DayCounter:Ht,MinuteCounter:jt,HourCounter:Vt,TwelveHourClock:Gt,TwentyFourHourClock:Ut,WeekCounter:Xt,YearCounter:Yt});function Kt(e,t){_t(e,[Mt("div",{class:"flip-clock-dot top"}),Mt("div",{class:"flip-clock-dot bottom"})])}function Jt(e,t){return e?e.childNodes?e.childNodes[t]:e[t]:null}function Qt(e){return e?e.querySelector(".flip-clock-list-item:first-child .top").innerHTML:null}function $t(e,t){_t(e,t.value.digits.map((function(e,n){var r=Jt(t.el?t.el.querySelectorAll(".flip-clock-group"):null,n),a=e.map((function(e,n){var a=Qt(Jt(r?r.querySelectorAll(".flip-clock-list"):null,n));return t.createList(e,{domValue:a,countdown:t.countdown,animationRate:t.face.animationRate||t.face.delay})}));return t.createGroup(a)})).map((function(e){return e.render()})))}function en(e,t){_t(e,t.items.map((function(e){return e.render()})))}function tn(e,t){e.innerHTML=t.t(t.label)}function nn(e,t){var n=t.domValue||(t.countdown?Z(t.value):W(t.value));t.domValue&&t.domValue!==t.value&&e.classList.add("flip"),e.style.animationDelay="".concat(t.animationRate/2,"ms"),e.style.animationDuration="".concat(t.animationRate/2,"ms"),t.items=[t.createListItem(t.value,{active:!0}),t.createListItem(n,{active:!1})],_t(e,t.items.map((function(e){return e.render()})))}function rn(e,t){var n=!0===t.active?"active":!1===t.active?"before":null;e.classList.add(n),_t(e,[Mt("div",[Mt("div",t.value,{class:"top"}),Mt("div",t.value,{class:"bottom"})],{class:"flip-clock-list-item-inner"})])}function an(e,t){t.createDivider().mount(e,e.childNodes[1]),t.createDivider().mount(e,e.childNodes[3]),t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[5]),t.face.showLabels&&(t.createLabel("days").mount(e.childNodes[0]),t.createLabel("hours").mount(e.childNodes[2]),t.createLabel("minutes").mount(e.childNodes[4]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[6]))}function on(e,t){t.createDivider().mount(e,e.childNodes[1]),t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[3]),t.face.showLabels&&(t.createLabel("hours").mount(e.childNodes[0]),t.createLabel("minutes").mount(e.childNodes[2]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[4]))}function sn(e,t){t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[1]),t.face.showLabels&&(t.createLabel("minutes").mount(e.childNodes[0]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[2]))}function un(e,t){t.createDivider().mount(e,e.childNodes[1]),t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[3]),t.face.showLabels&&(t.createLabel("hours").mount(e.childNodes[0]),t.createLabel("minutes").mount(e.childNodes[2]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[4]))}function ln(e,t){if(un(e,t),t.face.showMeridium&&t.face.meridium){var n=t.createLabel(t.face.meridium),r=e.childNodes[e.childNodes.length-1];n.mount(r).classList.add("flip-clock-meridium")}}function cn(e,t){t.createDivider().mount(e,e.childNodes[1]),t.createDivider().mount(e,e.childNodes[3]),t.createDivider().mount(e,e.childNodes[5]),t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[7]),t.face.showLabels&&(t.createLabel("weeks").mount(e.childNodes[0]),t.createLabel("days").mount(e.childNodes[2]),t.createLabel("hours").mount(e.childNodes[4]),t.createLabel("minutes").mount(e.childNodes[6]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[8]))}function dn(e,t){t.createDivider().mount(e,e.childNodes[1]),t.createDivider().mount(e,e.childNodes[3]),t.createDivider().mount(e,e.childNodes[5]),t.createDivider().mount(e,e.childNodes[7]),t.face.showSeconds&&t.createDivider().mount(e,e.childNodes[9]),t.face.showLabels&&(t.createLabel("years").mount(e.childNodes[0]),t.createLabel("weeks").mount(e.childNodes[2]),t.createLabel("days").mount(e.childNodes[4]),t.createLabel("hours").mount(e.childNodes[6]),t.createLabel("minutes").mount(e.childNodes[8]),t.face.showSeconds&&t.createLabel("seconds").mount(e.childNodes[10]))}var fn={face:Bt,theme:{Divider:Kt,FlipClock:$t,Group:en,Label:tn,List:nn,ListItem:rn,faces:Object.freeze({DayCounter:an,HourCounter:on,MinuteCounter:sn,TwelveHourClock:ln,TwentyFourHourClock:un,WeekCounter:cn,YearCounter:dn})},language:ue},pn=function(e){function n(e,r,a){var o;t(this,n),j(e,HTMLElement)||p(V.element),N(r)&&!a&&(a=r,r=void 0);var s=a.face||fn.face;return delete a.face,(o=c(this,i(n).call(this,Object.assign({originalValue:r,theme:fn.theme,language:fn.language,timer:Wt.make(a.interval||1e3)},a)))).face||(o.face=s),o.mount(e),o}return a(n,e),r(n,[{key:"mount",value:function(e){return f(i(n.prototype),"mount",this).call(this,e),this.face.mounted(this),this}},{key:"render",value:function(){return f(i(n.prototype),"render",this).call(this),this.theme.faces[this.face.name]&&this.theme.faces[this.face.name](this.el,this),this.face.rendered(this),this.el}},{key:"start",value:function(e){var t=this;return this.timer.started||(this.value=this.originalValue),C(this.face.stopAt)&&(this.face.stopAt=this.stopAt),C(this.face.originalValue)&&(this.face.originalValue=this.originalValue),this.timer.start((function(){t.face.interval(t,e)})),this.face.started(this),this.emit("start")}},{key:"stop",value:function(e){return this.timer.stop(e),this.face.stopped(this),this.emit("stop")}},{key:"reset",value:function(e){var t=this;return this.value=this.originalValue,this.timer.reset((function(){return t.interval(t,e)})),this.face.reset(this),this.emit("reset")}},{key:"increment",value:function(e){return this.face.increment(this,e),this}},{key:"decrement",value:function(e){return this.face.decrement(this,e),this}},{key:"createDivider",value:function(e){return Ft.make(Object.assign({theme:this.theme,language:this.language},e))}},{key:"createList",value:function(e,t){return Lt.make(e,Object.assign({theme:this.theme,language:this.language},t))}},{key:"createLabel",value:function(e,t){return Zt.make(e,Object.assign({theme:this.theme,language:this.language},t))}},{key:"createGroup",value:function(e,t){return zt.make(e,Object.assign({theme:this.theme,language:this.language},t))}},{key:"face",get:function(){return this.$face},set:function(e){j(e,[H,"string","function"])||p(V.face),this.$face=(qt[e]||e).make(Object.assign(this.getPublicAttributes(),{originalValue:this.face?this.face.originalValue:void 0})),this.$face.initialized(this),this.value?this.$face.value=this.face.createFaceValue(this,this.value.value):this.value||(this.value=this.originalValue),this.el&&this.render()}},{key:"stopAt",get:function(){return O(this.$stopAt)?this.$stopAt(this):this.$stopAt},set:function(e){this.$stopAt=e}},{key:"timer",get:function(){return this.$timer},set:function(e){j(e,Wt)||p(V.timer),this.$timer=e}},{key:"value",get:function(){return this.face?this.face.value:null},set:function(e){if(!this.face)throw new Error("A face must be set before setting a value.");e instanceof B?this.face.value=e:this.value?this.face.value=this.face.value.clone(e):this.face.value=this.face.createFaceValue(this,e),this.el&&this.render()}},{key:"originalValue",get:function(){return O(this.$originalValue)&&!this.$originalValue.name?this.$originalValue():C(this.$originalValue)||S(this.$originalValue)?this.face?this.face.defaultValue():void 0:this.$originalValue},set:function(e){this.$originalValue=e}}],[{key:"defineName",value:function(){return"FlipClock"}},{key:"setDefaultFace",value:function(e){j(e,H)||p(V.face),fn.face=e}},{key:"setDefaultTheme",value:function(e){j(e,"object")||p(V.theme),fn.theme=e}},{key:"setDefaultLanguage",value:function(e){j(e,"object")||p(V.language),fn.language=e}},{key:"defaults",get:function(){return fn}}]),n}(Rt);return pn}()},6949:function(e){var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,u=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(u,l):l}e.exports=function(e,u){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];u=u||{};var d=1,f=1;function p(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");f=~r?e.length-r:f+e.length}function h(){var e={line:d,column:f};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:f},this.source=u.source}m.prototype.content=e;var g=[];function v(t){var n=new Error(u.source+":"+d+":"+f+": "+t);if(n.reason=t,n.filename=u.source,n.line=d,n.column=f,n.source=e,!u.silent)throw n;g.push(n)}function y(t){var n=t.exec(e);if(n){var r=n[0];return p(r),e=e.slice(r.length),n}}function b(){y(r)}function x(e){var t;for(e=e||[];t=A();)!1!==t&&e.push(t);return e}function A(){var t=h();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;l!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,l===e.charAt(n-1))return v("End of comment missing");var r=e.slice(2,n-2);return f+=2,p(r),e=e.slice(n),f+=2,t({type:"comment",comment:r})}}function w(){var e=h(),n=y(a);if(n){if(A(),!y(i))return v("property missing ':'");var r=y(o),u=e({type:"declaration",property:c(n[0].replace(t,l)),value:r?c(r[0].replace(t,l)):l});return y(s),u}}return b(),function(){var e,t=[];for(x(t);e=w();)!1!==e&&(t.push(e),x(t));return t}()}},3110:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},8630:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,a){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(a=r,r={}),r=r||{},a=a||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,a),o.onload||t(o,a),i.appendChild(o)}},1725:function(e,t,n){var r=n(781)(n(7289),"DataView");e.exports=r},9748:function(e,t,n){var r=n(6545),a=n(9843),i=n(6266),o=n(7364),s=n(4156);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,e.exports=u},5745:function(e,t,n){var r=n(329),a=n(9666),i=n(2523),o=n(4397),s=n(3316);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,e.exports=u},8579:function(e,t,n){var r=n(781)(n(7289),"Map");e.exports=r},3109:function(e,t,n){var r=n(9e3),a=n(7240),i=n(3414),o=n(7140),s=n(5429);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,e.exports=u},9946:function(e,t,n){var r=n(781)(n(7289),"Promise");e.exports=r},4199:function(e,t,n){var r=n(781)(n(7289),"Set");e.exports=r},4526:function(e,t,n){var r=n(3109),a=n(5845),i=n(5544);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},7016:function(e,t,n){var r=n(5745),a=n(3653),i=n(3359),o=n(2571),s=n(1698),u=n(5883);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,e.exports=l},8624:function(e,t,n){var r=n(7289).Symbol;e.exports=r},6759:function(e,t,n){var r=n(7289).Uint8Array;e.exports=r},3289:function(e,t,n){var r=n(781)(n(7289),"WeakMap");e.exports=r},4951:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},3200:function(e,t,n){var r=n(4499),a=n(2794),i=n(5585),o=n(667),s=n(674),u=n(3153),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&a(e),d=!n&&!c&&o(e),f=!n&&!c&&!d&&u(e),p=n||c||d||f,h=p?r(e.length,String):[],m=h.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},5349:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},9330:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},9194:function(e,t,n){var r=n(3666);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2606:function(e,t,n){var r=n(5349),a=n(5585);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},8665:function(e,t,n){var r=n(8624),a=n(3596),i=n(8186),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},1276:function(e,t,n){var r=n(8665),a=n(9752);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},7081:function(e,t,n){var r=n(9110),a=n(9752);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,s))}},9110:function(e,t,n){var r=n(7016),a=n(4132),i=n(9820),o=n(6353),s=n(8466),u=n(5585),l=n(667),c=n(3153),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=u(e),b=u(t),x=y?f:s(e),A=b?f:s(t),w=(x=x==d?p:x)==p,k=(A=A==d?p:A)==p,S=x==A;if(S&&l(e)){if(!l(t))return!1;y=!0,w=!1}if(S&&!w)return v||(v=new r),y||c(e)?a(e,t,n,m,g,v):i(e,t,x,n,m,g,v);if(!(1&n)){var C=w&&h.call(e,"__wrapped__"),I=k&&h.call(t,"__wrapped__");if(C||I){var E=C?e.value():e,T=I?t.value():t;return v||(v=new r),g(E,T,n,m,v)}}return!!S&&(v||(v=new r),o(e,t,n,m,g,v))}},3186:function(e,t,n){var r=n(375),a=n(5401),i=n(1845),o=n(2043),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?f:s).test(o(e))}},7499:function(e,t,n){var r=n(8665),a=n(4276),i=n(9752),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},3409:function(e,t,n){var r=n(6132),a=n(8723),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},4499:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6902:function(e){e.exports=function(e){return function(t){return e(t)}}},8905:function(e){e.exports=function(e,t){return e.has(t)}},7683:function(e,t,n){var r=n(7289)["__core-js_shared__"];e.exports=r},4132:function(e,t,n){var r=n(4526),a=n(9330),i=n(8905);e.exports=function(e,t,n,o,s,u){var l=1&n,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var f=u.get(e),p=u.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<c;){var v=e[h],y=t[h];if(o)var b=l?o(y,v,h,t,e,u):o(v,y,h,e,t,u);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,o,u)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,o,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},9820:function(e,t,n){var r=n(8624),a=n(6759),i=n(3666),o=n(4132),s=n(258),u=n(3671),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=o(p(e),p(t),r,l,d,f);return f.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6353:function(e,t,n){var r=n(7253),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var d=c;d--;){var f=l[d];if(!(u?f in t:a.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=u;++d<c;){var v=e[f=l[d]],y=t[f];if(i)var b=u?i(y,v,f,t,e,s):i(v,y,f,e,t,s);if(!(void 0===b?v===y||o(v,y,n,i,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var x=e.constructor,A=t.constructor;x==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof A&&A instanceof A||(m=!1)}return s.delete(e),s.delete(t),m}},2692:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7253:function(e,t,n){var r=n(2606),a=n(6504),i=n(6385);e.exports=function(e){return r(e,i,a)}},6911:function(e,t,n){var r=n(1591);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},781:function(e,t,n){var r=n(3186),a=n(760);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},3596:function(e,t,n){var r=n(8624),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},6504:function(e,t,n){var r=n(4951),a=n(1288),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return i.call(e,t)})))}:a;e.exports=s},8466:function(e,t,n){var r=n(1725),a=n(8579),i=n(9946),o=n(4199),s=n(3289),u=n(8665),l=n(2043),c="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=l(r),g=l(a),v=l(i),y=l(o),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=h||a&&x(new a)!=c||i&&x(i.resolve())!=d||o&&x(new o)!=f||s&&x(new s)!=p)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return h;case g:return c;case v:return d;case y:return f;case b:return p}return t}),e.exports=x},760:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6545:function(e,t,n){var r=n(1353);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9843:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6266:function(e,t,n){var r=n(1353),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},7364:function(e,t,n){var r=n(1353),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},4156:function(e,t,n){var r=n(1353);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},674:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},1591:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5401:function(e,t,n){var r=n(7683),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},6132:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},329:function(e){e.exports=function(){this.__data__=[],this.size=0}},9666:function(e,t,n){var r=n(9194),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},2523:function(e,t,n){var r=n(9194);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4397:function(e,t,n){var r=n(9194);e.exports=function(e){return r(this.__data__,e)>-1}},3316:function(e,t,n){var r=n(9194);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},9e3:function(e,t,n){var r=n(9748),a=n(5745),i=n(8579);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7240:function(e,t,n){var r=n(6911);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},3414:function(e,t,n){var r=n(6911);e.exports=function(e){return r(this,e).get(e)}},7140:function(e,t,n){var r=n(6911);e.exports=function(e){return r(this,e).has(e)}},5429:function(e,t,n){var r=n(6911);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},258:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1353:function(e,t,n){var r=n(781)(Object,"create");e.exports=r},8723:function(e,t,n){var r=n(9698)(Object.keys,Object);e.exports=r},7785:function(e,t,n){e=n.nmd(e);var r=n(2692),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},8186:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7289:function(e,t,n){var r=n(2692),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},5845:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},5544:function(e){e.exports=function(e){return this.__data__.has(e)}},3671:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},3653:function(e,t,n){var r=n(5745);e.exports=function(){this.__data__=new r,this.size=0}},3359:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},2571:function(e){e.exports=function(e){return this.__data__.get(e)}},1698:function(e){e.exports=function(e){return this.__data__.has(e)}},5883:function(e,t,n){var r=n(5745),a=n(8579),i=n(3109);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},2043:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},3666:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},2794:function(e,t,n){var r=n(1276),a=n(9752),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},5585:function(e){var t=Array.isArray;e.exports=t},2114:function(e,t,n){var r=n(375),a=n(4276);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},667:function(e,t,n){e=n.nmd(e);var r=n(7289),a=n(5535),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||a;e.exports=u},1905:function(e,t,n){var r=n(7081);e.exports=function(e,t){return r(e,t)}},375:function(e,t,n){var r=n(8665),a=n(1845);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4276:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1845:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9752:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3153:function(e,t,n){var r=n(7499),a=n(6902),i=n(7785),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},6385:function(e,t,n){var r=n(3200),a=n(3409),i=n(2114);e.exports=function(e){return i(e)?r(e):a(e)}},1288:function(e){e.exports=function(){return[]}},5535:function(e){e.exports=function(){return!1}},1970:function(e){"use strict";var t={};function n(e,r,a){var i,o,s,u,l,c="";for("string"!==typeof r&&(a=r,r=n.defaultChars),"undefined"===typeof a&&(a=!0),l=function(e){var n,r,a=t[e];if(a)return a;for(a=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?a.push(r):a.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)a[e.charCodeAt(n)]=e[n];return a}(r),i=0,o=e.length;i<o;i++)if(s=e.charCodeAt(i),a&&37===s&&i+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(s<128)c+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<o&&(u=e.charCodeAt(i+1))>=56320&&u<=57343){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},6912:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],i=t[n],!(a===i||r(a)&&r(i)))return!1;var a,i;return!0}function i(e,t){void 0===t&&(t=a);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},1843:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,i){for(var o,s,u=a(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}},1729:function(e,t,n){"use strict";var r=n(9165);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3529:function(e,t,n){"use strict";n.r(t),n.d(t,{Field:function(){return Se},FieldContext:function(){return y},FormProvider:function(){return De},List:function(){return Ie},ListContext:function(){return Ce},default:function(){return Ve},useForm:function(){return Re},useWatch:function(){return Be}});var r=n(7313),a=n(7462),i=n(4925),o=n(4942),s=n(1413),u=n(3433),l=n(5671),c=n(3144),d=n(7326),f=n(136),p=n(9388),h=n(4903),m=n(8240),g="RC_FORM_INTERNAL_HOOKS",v=function(){(0,m.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},y=r.createContext({getFieldValue:v,getFieldsValue:v,getFieldError:v,getFieldWarning:v,getFieldsError:v,isFieldsTouched:v,isFieldTouched:v,isFieldValidating:v,isFieldsValidating:v,resetFields:v,setFields:v,setFieldsValue:v,validateFields:v,submit:v,getInternalHooks:function(){return v(),{dispatch:v,initEntityValue:v,registerField:v,useSubscribe:v,setInitialValues:v,destroyForm:v,setCallbacks:v,registerWatch:v,getFields:v,setValidateMessages:v,setPreserve:v,getInitialValue:v}}});function b(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var x=n(4165),A=n(5861);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function I(e,t,n){return I=C()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&S(a,n.prototype),a},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,e)},E(e)}var T=/%[sdj%]/g;function N(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,i=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(T,(function(e){if("%%"===e)return"%";if(a>=i)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function P(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function _(e,t,n){var r=0,a=e.length;!function i(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<a?t(e[s],i):n([])}}([])}var M=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n),r}(E(Error));function R(e,t,n,r,a){if(t.first){var i=new Promise((function(t,i){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);_(o,n,(function(e){return r(e),e.length?i(new M(e,N(e))):t(a)}))}));return i.catch((function(e){return e})),i}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,l=0,c=[],d=new Promise((function(t,i){var d=function(e){if(c.push.apply(c,e),++l===u)return r(c),c.length?i(new M(c,N(c))):t(a)};s.length||(r(c),t(a)),s.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?_(r,n,d):function(e,t,n){var r=[],a=0,i=e.length;function o(e){r.push.apply(r,e||[]),++a===i&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function F(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function D(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=w({},e[n],r):e[n]=r}return e}var L=function(e,t,n,r,a,i){!e.required||n.hasOwnProperty(e.field)&&!P(t,i||e.type)||r.push(O(a.messages.required,e.fullField))},z={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Z={integer:function(e){return Z.number(e)&&parseInt(e,10)===e},float:function(e){return Z.number(e)&&!Z.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Z.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(z.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(z.url)},hex:function(e){return"string"===typeof e&&!!e.match(z.hex)}},W={required:L,whitespace:function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(O(a.messages.whitespace,e.fullField))},type:function(e,t,n,r,a){if(e.required&&void 0===t)L(e,t,n,r,a);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Z[i](t)||r.push(O(a.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(O(a.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,a){var i="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,u=t,l=null,c="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(c?l="number":d?l="string":f&&(l="array"),!l)return!1;f&&(u=t.length),d&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?u!==e.len&&r.push(O(a.messages[l].len,e.fullField,e.len)):o&&!s&&u<e.min?r.push(O(a.messages[l].min,e.fullField,e.min)):s&&!o&&u>e.max?r.push(O(a.messages[l].max,e.fullField,e.max)):o&&s&&(u<e.min||u>e.max)&&r.push(O(a.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,a){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(O(a.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(O(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(O(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},B=function(e,t,n,r,a){var i=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t,i)&&!e.required)return n();W.required(e,t,r,o,a,i),P(t,i)||W.type(e,t,r,o,a)}n(o)},j={string:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t,"string")&&!e.required)return n();W.required(e,t,r,i,a,"string"),P(t,"string")||(W.type(e,t,r,i,a),W.range(e,t,r,i,a),W.pattern(e,t,r,i,a),!0===e.whitespace&&W.whitespace(e,t,r,i,a))}n(i)},method:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&W.type(e,t,r,i,a)}n(i)},number:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&(W.type(e,t,r,i,a),W.range(e,t,r,i,a))}n(i)},boolean:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&W.type(e,t,r,i,a)}n(i)},regexp:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),P(t)||W.type(e,t,r,i,a)}n(i)},integer:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&(W.type(e,t,r,i,a),W.range(e,t,r,i,a))}n(i)},float:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&(W.type(e,t,r,i,a),W.range(e,t,r,i,a))}n(i)},array:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();W.required(e,t,r,i,a,"array"),void 0!==t&&null!==t&&(W.type(e,t,r,i,a),W.range(e,t,r,i,a))}n(i)},object:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&W.type(e,t,r,i,a)}n(i)},enum:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a),void 0!==t&&W.enum(e,t,r,i,a)}n(i)},pattern:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t,"string")&&!e.required)return n();W.required(e,t,r,i,a),P(t,"string")||W.pattern(e,t,r,i,a)}n(i)},date:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t,"date")&&!e.required)return n();var o;if(W.required(e,t,r,i,a),!P(t,"date"))o=t instanceof Date?t:new Date(t),W.type(e,o,r,i,a),o&&W.range(e,o.getTime(),r,i,a)}n(i)},url:B,hex:B,email:B,required:function(e,t,n,r,a){var i=[],o=Array.isArray(t)?"array":typeof t;W.required(e,t,r,i,a,o),n(i)},any:function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(P(t)&&!e.required)return n();W.required(e,t,r,i,a)}n(i)}};function V(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var H=V(),U=function(){function e(e){this.rules=null,this._messages=H,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=D(V(),e)),this._messages},t.validate=function(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,o=n,s=r;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);if(o.messages){var u=this.messages();u===H&&(u=V()),D(u,o.messages),o.messages=u}else o.messages=this.messages();var l={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],r=i[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(i===t&&(i=w({},i)),r=i[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:w({},o)).validator=a.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=a.getType(o),l[e]=l[e]||[],l[e].push({rule:o,value:r,source:i,field:e}))}))}));var c={};return R(l,o,(function(t,n){var r,a=t.rule,s=("object"===a.type||"array"===a.type)&&("object"===typeof a.fields||"object"===typeof a.defaultField);function u(e,t){return w({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!o.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==a.message&&(l=[].concat(a.message));var d=l.map(F(a,i));if(o.first&&d.length)return c[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(F(a,i)):o.error&&(d=[o.error(a,O(o.messages.required,a.field))]),n(d);var f={};a.defaultField&&Object.keys(t.value).map((function(e){f[e]=a.defaultField})),f=w({},f,t.rule.fields);var p={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];p[e]=n.map(u.bind(null,e))}));var h=new e(p);h.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),h.validate(t.value,t.rule.options||o,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)r=a.asyncValidator(a,t.value,l,t.source,o);else if(a.validator){try{r=a.validator(a,t.value,l,t.source,o)}catch(d){null==console.error||console.error(d),setTimeout((function(){throw d}),0),l(d.message)}!0===r?l():!1===r?l("function"===typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)}r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var a=0;a<e.length;a++)r(e[a]);t.length?(n=N(t),s(t,n)):s(null,i)}(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!j.hasOwnProperty(e.type))throw new Error(O("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?j.required:j[this.getType(e)]||void 0},e}();U.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");j[e]=t},U.warning=function(){},U.messages=H,U.validators=j;var G="'${name}' is not a valid ${type}",X={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:G,method:G,array:G,object:G,number:G,date:G,boolean:G,integer:G,float:G,regexp:G,email:G,url:G,hex:G},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Y=n(1002);function q(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var K=n(4506);function J(e,t,n,r){if(!t.length)return n;var a,i=(0,K.Z)(t),o=i[0],l=i.slice(1);return a=e||"number"!==typeof o?Array.isArray(e)?(0,u.Z)(e):(0,s.Z)({},e):[],r&&void 0===n&&1===l.length?delete a[o][l[0]]:a[o]=J(a[o],l,n,r),a}function Q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!q(e,t.slice(0,-1))?e:J(e,t,n,r)}function $(e){return Array.isArray(e)?function(e){return e.map((function(e){return $(e)}))}(e):"object"===(0,Y.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=$(e[n]);return t}return e}(e):e}var ee=$;function te(e){return b(e)}function ne(e,t){return q(e,t)}function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Q(e,t,n,r);return a}function ae(e,t){var n={};return t.forEach((function(t){var r=ne(e,t);n=re(n,t,r)})),n}function ie(e,t){return e&&e.some((function(e){return le(e,t)}))}function oe(e){return"object"===(0,Y.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function se(e,t){var n=Array.isArray(e)?(0,u.Z)(e):(0,s.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],a=t[e],i=oe(r)&&oe(a);n[e]=i?se(r,a||{}):ee(a)})),n):n}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return se(e,t)}),e)}function le(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function ce(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,Y.Z)(t.target)&&e in t.target?t.target[e]:t}function de(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],i=t-n;return i>0?[].concat((0,u.Z)(e.slice(0,n)),[a],(0,u.Z)(e.slice(n,t)),(0,u.Z)(e.slice(t+1,r))):i<0?[].concat((0,u.Z)(e.slice(0,t)),(0,u.Z)(e.slice(t+1,n+1)),[a],(0,u.Z)(e.slice(n+1,r))):e}var fe=U;function pe(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var he="CODE_LOGIC_ERROR";function me(e,t,n,r,a){return ge.apply(this,arguments)}function ge(){return ge=(0,A.Z)((0,x.Z)().mark((function e(t,n,a,i,l){var c,d,f,p,h,m,g,v,y;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(c=(0,s.Z)({},a)).ruleIndex,c.validator&&(d=c.validator,c.validator=function(){try{return d.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(he)}}),f=null,c&&"array"===c.type&&c.defaultField&&(f=c.defaultField,delete c.defaultField),p=new fe((0,o.Z)({},t,[c])),h=ue({},X,i.validateMessages),p.messages(h),m=[],e.prev=9,e.next=12,Promise.resolve(p.validate((0,o.Z)({},t,n),(0,s.Z)({},i)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(m=e.t0.errors.map((function(e,t){var n=e.message,a=n===he?h.default:n;return r.isValidElement(a)?r.cloneElement(a,{key:"error_".concat(t)}):a})));case 17:if(m.length||!f){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return me("".concat(t,".").concat(n),e,f,i,l)})));case 20:return g=e.sent,e.abrupt("return",g.reduce((function(e,t){return[].concat((0,u.Z)(e),(0,u.Z)(t))}),[]));case 22:return v=(0,s.Z)((0,s.Z)({},a),{},{name:t,enum:(a.enum||[]).join(", ")},l),y=m.map((function(e){return"string"===typeof e?pe(e,v):e})),e.abrupt("return",y);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),ge.apply(this,arguments)}function ve(e,t,n,r,a,i){var o,u=e.join("."),l=n.map((function(e,t){var n=e.validator,r=(0,s.Z)((0,s.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,i=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){(0,m.ZP)(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)}))}));a=i&&"function"===typeof i.then&&"function"===typeof i.catch,(0,m.ZP)(a,"`callback` is deprecated. Please return a promise instead."),a&&i.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,i=t.ruleIndex;return!!n===!!a?r-i:n?1:-1}));if(!0===a)o=new Promise(function(){var e=(0,A.Z)((0,x.Z)().mark((function e(n,a){var o,s,c;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=12;break}return s=l[o],e.next=5,me(u,t,s,r,i);case 5:if(!(c=e.sent).length){e.next=9;break}return a([{errors:c,rule:s}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return me(u,t,e,r,i).then((function(t){return{errors:t,rule:e}}))}));o=(a?function(e){return be.apply(this,arguments)}(c):function(e){return ye.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function ye(){return(ye=(0,A.Z)((0,x.Z)().mark((function e(t){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,u.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=(0,A.Z)((0,x.Z)().mark((function e(t){var n;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=["name"],Ae=[];function we(e,t,n,r,a,i){return"function"===typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==a}var ke=function(e){(0,f.Z)(n,e);var t=(0,p.Z)(n);function n(e){var a;((0,l.Z)(this,n),(a=t.call(this,e)).state={resetCount:0},a.cancelRegisterFunc=null,a.mounted=!1,a.touched=!1,a.dirty=!1,a.validatePromise=null,a.prevValidating=void 0,a.errors=Ae,a.warnings=Ae,a.cancelRegister=function(){var e=a.props,t=e.preserve,n=e.isListField,r=e.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(n,t,te(r)),a.cancelRegisterFunc=null},a.getNamePath=function(){var e=a.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,u.Z)(r),(0,u.Z)(t)):[]},a.getRules=function(){var e=a.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},a.refresh=function(){a.mounted&&a.setState((function(e){return{resetCount:e.resetCount+1}}))},a.triggerMetaEvent=function(e){var t=a.props.onMetaChange;null===t||void 0===t||t((0,s.Z)((0,s.Z)({},a.getMeta()),{},{destroy:e}))},a.onStoreChange=function(e,t,n){var r=a.props,i=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,u=r.onReset,l=n.store,c=a.getNamePath(),d=a.getValue(e),f=a.getValue(l),p=t&&ie(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Ae,a.warnings=Ae,a.triggerMetaEvent()),n.type){case"reset":if(!t||p)return a.touched=!1,a.dirty=!1,a.validatePromise=null,a.errors=Ae,a.warnings=Ae,a.triggerMetaEvent(),null===u||void 0===u||u(),void a.refresh();break;case"remove":if(i)return void a.reRender();break;case"setField":if(p){var h=n.data;return"touched"in h&&(a.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(a.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(a.errors=h.errors||Ae),"warnings"in h&&(a.warnings=h.warnings||Ae),a.dirty=!0,a.triggerMetaEvent(),void a.reRender()}if(i&&!c.length&&we(i,e,l,d,f,n))return void a.reRender();break;case"dependenciesUpdate":if(s.map(te).some((function(e){return ie(n.relatedFields,e)})))return void a.reRender();break;default:if(p||(!s.length||c.length||i)&&we(i,e,l,d,f,n))return void a.reRender()}!0===i&&a.reRender()},a.validateRules=function(e){var t=a.getNamePath(),n=a.getValue(),r=Promise.resolve().then((function(){if(!a.mounted)return[];var i=a.props,o=i.validateFirst,s=void 0!==o&&o,l=i.messageVariables,c=(e||{}).triggerName,d=a.getRules();c&&(d=d.filter((function(e){var t=e.validateTrigger;return!t||b(t).includes(c)})));var f=ve(t,n,d,e,s,l);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae;if(a.validatePromise===r){a.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,a=e.errors,i=void 0===a?Ae:a;r?n.push.apply(n,(0,u.Z)(i)):t.push.apply(t,(0,u.Z)(i))})),a.errors=t,a.warnings=n,a.triggerMetaEvent(),a.reRender()}})),f}));return a.validatePromise=r,a.dirty=!0,a.errors=Ae,a.warnings=Ae,a.triggerMetaEvent(),a.reRender(),r},a.isFieldValidating=function(){return!!a.validatePromise},a.isFieldTouched=function(){return a.touched},a.isFieldDirty=function(){return!(!a.dirty&&void 0===a.props.initialValue)||void 0!==(0,a.props.fieldContext.getInternalHooks(g).getInitialValue)(a.getNamePath())},a.getErrors=function(){return a.errors},a.getWarnings=function(){return a.warnings},a.isListField=function(){return a.props.isListField},a.isList=function(){return a.props.isList},a.isPreserve=function(){return a.props.preserve},a.getMeta=function(){return a.prevValidating=a.isFieldValidating(),{touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath()}},a.getOnlyChild=function(e){if("function"===typeof e){var t=a.getMeta();return(0,s.Z)((0,s.Z)({},a.getOnlyChild(e(a.getControlled(),t,a.props.fieldContext))),{},{isFunction:!0})}var n=(0,h.Z)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},a.getValue=function(e){var t=a.props.fieldContext.getFieldsValue,n=a.getNamePath();return ne(e||t(!0),n)},a.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,n=t.trigger,r=t.validateTrigger,i=t.getValueFromEvent,u=t.normalize,l=t.valuePropName,c=t.getValueProps,d=t.fieldContext,f=void 0!==r?r:d.validateTrigger,p=a.getNamePath(),h=d.getInternalHooks,m=d.getFieldsValue,v=h(g),y=v.dispatch,x=a.getValue(),A=c||function(e){return(0,o.Z)({},l,e)},w=e[n],k=(0,s.Z)((0,s.Z)({},e),A(x));k[n]=function(){var e;a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=i?i.apply(void 0,n):ce.apply(void 0,[l].concat(n)),u&&(e=u(e,x,m(!0))),y({type:"updateValue",namePath:p,value:e}),w&&w.apply(void 0,n)};var S=b(f||[]);return S.forEach((function(e){var t=k[e];k[e]=function(){t&&t.apply(void 0,arguments);var n=a.props.rules;n&&n.length&&y({type:"validateField",namePath:p,triggerName:e})}})),k},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(g).initEntityValue)((0,d.Z)(a));return a}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(g).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,a=this.getOnlyChild(n),i=a.child;return a.isFunction?e=i:r.isValidElement(i)?e=r.cloneElement(i,this.getControlled(i.props)):((0,m.ZP)(!i,"`children` of Field is not validate ReactElement."),e=i),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);ke.contextType=y,ke.defaultProps={trigger:"onChange",valuePropName:"value"};var Se=function(e){var t=e.name,n=(0,i.Z)(e,xe),o=r.useContext(y),s=void 0!==t?te(t):void 0,u="keep";return n.isListField||(u="_".concat((s||[]).join("_"))),r.createElement(ke,(0,a.Z)({key:u,name:s},n,{fieldContext:o}))},Ce=r.createContext(null),Ie=function(e){var t=e.name,n=e.initialValue,a=e.children,i=e.rules,o=e.validateTrigger,l=r.useContext(y),c=r.useRef({keys:[],id:0}).current,d=r.useMemo((function(){var e=te(l.prefixName)||[];return[].concat((0,u.Z)(e),(0,u.Z)(te(t)))}),[l.prefixName,t]),f=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},l),{},{prefixName:d})}),[l,d]),p=r.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}}),[d]);if("function"!==typeof a)return(0,m.ZP)(!1,"Form.List only accepts function as children."),null;return r.createElement(Ce.Provider,{value:p},r.createElement(y.Provider,{value:f},r.createElement(Se,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,i=e.onChange,o=l.getFieldValue,s=function(){return o(d||[])||[]},f={add:function(e,t){var n=s();t>=0&&t<=n.length?(c.keys=[].concat((0,u.Z)(c.keys.slice(0,t)),[c.id],(0,u.Z)(c.keys.slice(t))),i([].concat((0,u.Z)(n.slice(0,t)),[e],(0,u.Z)(n.slice(t))))):(c.keys=[].concat((0,u.Z)(c.keys),[c.id]),i([].concat((0,u.Z)(n),[e]))),c.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),i(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(c.keys=de(c.keys,e,t),i(de(n,e,t)))}}},p=r||[];return Array.isArray(p)||(p=[]),a(p.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))},Ee=n(9439);var Te="__@field_split__";function Ne(e){return e.map((function(e){return"".concat((0,Y.Z)(e),":").concat(e)})).join(Te)}var Oe=function(){function e(){(0,l.Z)(this,e),this.kvs=new Map}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(Ne(e),t)}},{key:"get",value:function(e){return this.kvs.get(Ne(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Ne(e))}},{key:"map",value:function(e){return(0,u.Z)(this.kvs.entries()).map((function(t){var n=(0,Ee.Z)(t,2),r=n[0],a=n[1],i=r.split(Te);return e({key:i.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Ee.Z)(t,3),r=n[1],a=n[2];return"number"===r?Number(a):a})),value:a})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),Pe=Oe,_e=["name","errors"],Me=(0,c.Z)((function e(t){var n=this;(0,l.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===g?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,m.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,a=ue({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;a=re(a,n,ne(e,n))})),n.prevWithoutPreserves=null,n.updateStore(a)}},this.destroyForm=function(){var e=new Pe;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=ne(n.initialValues,e);return e.length?ee(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Pe;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=te(e);return t.get(n)||{INVALIDATE_NAME_PATH:te(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),a=[];return r.forEach((function(n){var r,i="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&a.push(i)}else a.push(i)})),ae(n.store,a.map(te))},this.getFieldValue=function(e){n.warningUnhooked();var t=te(e);return ne(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:te(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=te(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=te(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,i=t[0],o=t[1],s=!1;0===t.length?a=null:1===t.length?Array.isArray(i)?(a=i.map(te),s=!1):(a=null,s=i):(a=i.map(te),s=o);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!a)return s?l.every(c):l.some(c);var d=new Pe;a.forEach((function(e){d.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();a.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&d.update(n,(function(t){return[].concat((0,u.Z)(t),[e])}))}))}));var f=function(e){return e.some(c)},p=d.map((function(e){return e.value}));return s?p.every(f):p.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(te);return t.some((function(e){var t=e.getNamePath();return ie(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Pe,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}}));var a,i=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var a=r.getNamePath();if(void 0!==n.getInitialValue(a))(0,m.ZP)(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var i=t.get(a);if(i&&i.size>1)(0,m.ZP)(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var o=n.getFieldValue(a);e.skipExist&&void 0!==o||n.updateStore(re(n.store,a,(0,u.Z)(i)[0].value))}}}}))};e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=a).push.apply(n,(0,u.Z)((0,u.Z)(r).map((function(e){return e.entity}))))}))):a=r,i(a)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(ue({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(te);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(re(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var a=e.name,o=(e.errors,(0,i.Z)(e,_e)),s=te(a);r.push(s),"value"in o&&n.updateStore(re(n.store,s,o.value)),n.notifyObservers(t,[s],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),a=(0,s.Z)((0,s.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(a,"originRCField",{value:!0}),a}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===ne(n.store,r)&&n.updateStore(re(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(a)&&(!r||i.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!le(e.getNamePath(),t)}))){var s=n.store;n.updateStore(re(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,i=e.triggerName;n.validateFields([a],{triggerName:i})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var a=(0,s.Z)((0,s.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,a)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,u.Z)(r))}),r},this.updateValue=function(e,t){var r=te(e),a=n.store;n.updateStore(re(n.store,r,t)),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(a,r),o=n.callbacks.onValuesChange;o&&o(ae(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,u.Z)(i)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=ue(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],a=new Pe;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=te(t);a.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(a.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var i=new Pe;t.forEach((function(e){var t=e.name,n=e.errors;i.set(t,n)})),a.forEach((function(e){e.errors=i.get(e.name)||e.errors}))}r(a.filter((function(t){var n=t.name;return ie(e,n)})),a)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,a=r?e.map(te):[],i=[];n.getFieldEntities(!0).forEach((function(o){if(r||a.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var l=o.getNamePath();l.every((function(t,n){return e[n]===t||void 0===e[n]}))&&a.push(l)}if(o.props.rules&&o.props.rules.length){var c=o.getNamePath();if(!r||ie(a,c)){var d=o.validateRules((0,s.Z)({validateMessages:(0,s.Z)((0,s.Z)({},X),n.validateMessages)},t));i.push(d.then((function(){return{name:c,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,a=e.errors;r?n.push.apply(n,(0,u.Z)(a)):t.push.apply(t,(0,u.Z)(a))})),t.length?Promise.reject({name:c,errors:t,warnings:n}):{name:c,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(a,i){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&i(r),a(r))}))}))})):Promise.resolve([])}(i);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var l=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return l.catch((function(e){return e})),l},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var Re=function(e){var t=r.useRef(),n=r.useState({}),a=(0,Ee.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new Me((function(){a({})}));t.current=i.getForm()}return[t.current]},Fe=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),De=function(e){var t=e.validateMessages,n=e.onFormChange,a=e.onFormFinish,i=e.children,u=r.useContext(Fe),l=r.useRef({});return r.createElement(Fe.Provider,{value:(0,s.Z)((0,s.Z)({},u),{},{validateMessages:(0,s.Z)((0,s.Z)({},u.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:l.current}),u.triggerFormChange(e,t)},triggerFormFinish:function(e,t){a&&a(e,{values:t,forms:l.current}),u.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=(0,s.Z)((0,s.Z)({},l.current),{},(0,o.Z)({},e,t))),u.registerForm(e,t)},unregisterForm:function(e){var t=(0,s.Z)({},l.current);delete t[e],l.current=t,u.unregisterForm(e)}})},i)},Le=Fe,ze=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ze=function(e,t){var n=e.name,o=e.initialValues,l=e.fields,c=e.form,d=e.preserve,f=e.children,p=e.component,h=void 0===p?"form":p,m=e.validateMessages,v=e.validateTrigger,b=void 0===v?"onChange":v,x=e.onValuesChange,A=e.onFieldsChange,w=e.onFinish,k=e.onFinishFailed,S=(0,i.Z)(e,ze),C=r.useContext(Le),I=Re(c),E=(0,Ee.Z)(I,1)[0],T=E.getInternalHooks(g),N=T.useSubscribe,O=T.setInitialValues,P=T.setCallbacks,_=T.setValidateMessages,M=T.setPreserve,R=T.destroyForm;r.useImperativeHandle(t,(function(){return E})),r.useEffect((function(){return C.registerForm(n,E),function(){C.unregisterForm(n)}}),[C,E,n]),_((0,s.Z)((0,s.Z)({},C.validateMessages),m)),P({onValuesChange:x,onFieldsChange:function(e){if(C.triggerFormChange(n,e),A){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];A.apply(void 0,[e].concat(r))}},onFinish:function(e){C.triggerFormFinish(n,e),w&&w(e)},onFinishFailed:k}),M(d);var F,D=r.useRef(null);O(o,!D.current),D.current||(D.current=!0),r.useEffect((function(){return R}),[]);var L="function"===typeof f;L?F=f(E.getFieldsValue(!0),E):F=f;N(!L);var z=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,Y.Z)(e)||"object"!==(0,Y.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),a=new Set([].concat((0,u.Z)(n),(0,u.Z)(r)));return(0,u.Z)(a).every((function(n){var r=e[n],a=t[n];return"function"===typeof r&&"function"===typeof a||r===a}))})(z.current||[],l||[])||E.setFields(l||[]),z.current=l}),[l,E]);var Z=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},E),{},{validateTrigger:b})}),[E,b]),W=r.createElement(y.Provider,{value:Z},F);return!1===h?W:r.createElement(h,(0,a.Z)({},S,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),E.submit()},onReset:function(e){var t;e.preventDefault(),E.resetFields(),null===(t=S.onReset)||void 0===t||t.call(S,e)}}),W)};function We(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),a=(0,Ee.Z)(n,2),i=a[0],o=a[1],s=(0,r.useMemo)((function(){return We(i)}),[i]),u=(0,r.useRef)(s);u.current=s;var l=(0,r.useContext)(y),c=t||l,d=c&&c._init,f=te(e),p=(0,r.useRef)(f);return p.current=f,(0,r.useEffect)((function(){if(d){var e=c.getFieldsValue,t=(0,(0,c.getInternalHooks)(g).registerWatch)((function(e){var t=ne(e,p.current),n=We(t);u.current!==n&&(u.current=n,o(t))})),n=ne(e(),p.current);return o(n),t}}),[]),i},je=r.forwardRef(Ze);je.FormProvider=De,je.Field=Se,je.List=Ie,je.useForm=Re,je.useWatch=Be;var Ve=je},1293:function(e,t,n){"use strict";n.d(t,{V:function(){return oe},Z:function(){return se}});var r=n(4942),a=n(1413),i=n(9439),o=n(1002),s=n(7313),u=n(3879),l=n(6945),c=n(6123),d=n.n(c),f=n(3233);function p(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var h=function(e,t){var n={animationend:p("Animation","AnimationEnd"),transitionend:p("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}((0,f.Z)(),"undefined"!==typeof window?window:{}),m={};if((0,f.Z)()){var g=document.createElement("div");m=g.style}var v={};function y(e){if(v[e])return v[e];var t=h[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var i=n[a];if(Object.prototype.hasOwnProperty.call(t,i)&&i in m)return v[e]=t[i],v[e]}return""}var b=y("animationend"),x=y("transitionend"),A=!(!b||!x),w=b||"animationend",k=x||"transitionend";function S(e,t){return e?"object"===(0,o.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var C="none",I="appear",E="enter",T="leave",N="none",O="prepare",P="start",_="active",M="end",R=n(1114),F=n(5557),D=(0,f.Z)()?s.useLayoutEffect:s.useEffect,L=[O,P,_,M];function z(e){return e===_||e===M}var Z=function(e,t){var n=(0,R.Z)(N),r=(0,i.Z)(n,2),a=r[0],o=r[1],u=function(){var e=s.useRef(null);function t(){F.Z.cancel(e.current)}return s.useEffect((function(){return function(){t()}}),[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=(0,F.Z)((function(){a<=1?r({isCanceled:function(){return i!==e.current}}):n(r,a-1)}));e.current=i},t]}(),l=(0,i.Z)(u,2),c=l[0],d=l[1];return D((function(){if(a!==N&&a!==M){var e=L.indexOf(a),n=L[e+1],r=t(a);false===r?o(n,!0):c((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,a]),s.useEffect((function(){return function(){d()}}),[]),[function(){o(O,!0)},a]};function W(e,t,n,o){var u=o.motionEnter,l=void 0===u||u,c=o.motionAppear,d=void 0===c||c,f=o.motionLeave,p=void 0===f||f,h=o.motionDeadline,m=o.motionLeaveImmediately,g=o.onAppearPrepare,v=o.onEnterPrepare,y=o.onLeavePrepare,b=o.onAppearStart,x=o.onEnterStart,A=o.onLeaveStart,S=o.onAppearActive,N=o.onEnterActive,M=o.onLeaveActive,F=o.onAppearEnd,L=o.onEnterEnd,W=o.onLeaveEnd,B=o.onVisibleChanged,j=(0,R.Z)(),V=(0,i.Z)(j,2),H=V[0],U=V[1],G=(0,R.Z)(C),X=(0,i.Z)(G,2),Y=X[0],q=X[1],K=(0,R.Z)(null),J=(0,i.Z)(K,2),Q=J[0],$=J[1],ee=(0,s.useRef)(!1),te=(0,s.useRef)(null);function ne(){return n()}var re=(0,s.useRef)(!1);function ae(e){var t=ne();if(!e||e.deadline||e.target===t){var n,r=re.current;Y===I&&r?n=null===F||void 0===F?void 0:F(t,e):Y===E&&r?n=null===L||void 0===L?void 0:L(t,e):Y===T&&r&&(n=null===W||void 0===W?void 0:W(t,e)),Y!==C&&r&&!1!==n&&(q(C,!0),$(null,!0))}}var ie=function(e){var t=(0,s.useRef)(),n=(0,s.useRef)(e);n.current=e;var r=s.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(k,r),e.removeEventListener(w,r))}return s.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(k,r),e.addEventListener(w,r),t.current=e)},a]}(ae),oe=(0,i.Z)(ie,1)[0],se=s.useMemo((function(){var e,t,n;switch(Y){case I:return e={},(0,r.Z)(e,O,g),(0,r.Z)(e,P,b),(0,r.Z)(e,_,S),e;case E:return t={},(0,r.Z)(t,O,v),(0,r.Z)(t,P,x),(0,r.Z)(t,_,N),t;case T:return n={},(0,r.Z)(n,O,y),(0,r.Z)(n,P,A),(0,r.Z)(n,_,M),n;default:return{}}}),[Y]),ue=Z(Y,(function(e){if(e===O){var t=se.prepare;return!!t&&t(ne())}var n;de in se&&$((null===(n=se[de])||void 0===n?void 0:n.call(se,ne(),null))||null);return de===_&&(oe(ne()),h>0&&(clearTimeout(te.current),te.current=setTimeout((function(){ae({deadline:!0})}),h))),true})),le=(0,i.Z)(ue,2),ce=le[0],de=le[1],fe=z(de);re.current=fe,D((function(){U(t);var n,r=ee.current;(ee.current=!0,e)&&(!r&&t&&d&&(n=I),r&&t&&l&&(n=E),(r&&!t&&p||!r&&m&&!t&&p)&&(n=T),n&&(q(n),ce()))}),[t]),(0,s.useEffect)((function(){(Y===I&&!d||Y===E&&!l||Y===T&&!p)&&q(C)}),[d,l,p]),(0,s.useEffect)((function(){return function(){ee.current=!1,clearTimeout(te.current)}}),[]),(0,s.useEffect)((function(){void 0!==H&&Y===C&&(null===B||void 0===B||B(H))}),[H,Y]);var pe=Q;return se.prepare&&de===P&&(pe=(0,a.Z)({transition:"none"},pe)),[Y,de,pe,null!==H&&void 0!==H?H:t]}var B=n(5671),j=n(3144),V=n(136),H=n(9388),U=function(e){(0,V.Z)(n,e);var t=(0,H.Z)(n);function n(){return(0,B.Z)(this,n),t.apply(this,arguments)}return(0,j.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(s.Component),G=U;var X=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,o.Z)(e)&&(t=e.transitionSupport);var c=s.forwardRef((function(e,t){var o=e.visible,c=void 0===o||o,f=e.removeOnLeave,p=void 0===f||f,h=e.forceRender,m=e.children,g=e.motionName,v=e.leavedClassName,y=e.eventProps,b=n(e),x=(0,s.useRef)(),A=(0,s.useRef)();var w=W(b,c,(function(){try{return x.current instanceof HTMLElement?x.current:(0,u.Z)(A.current)}catch(e){return null}}),e),k=(0,i.Z)(w,4),I=k[0],E=k[1],T=k[2],N=k[3],_=s.useRef(N);N&&(_.current=!0);var M,R=s.useCallback((function(e){x.current=e,(0,l.mH)(t,e)}),[t]),F=(0,a.Z)((0,a.Z)({},y),{},{visible:c});if(m)if(I!==C&&n(e)){var D,L;E===O?L="prepare":z(E)?L="active":E===P&&(L="start"),M=m((0,a.Z)((0,a.Z)({},F),{},{className:d()(S(g,I),(D={},(0,r.Z)(D,S(g,"".concat(I,"-").concat(L)),L),(0,r.Z)(D,g,"string"===typeof g),D)),style:T}),R)}else M=N?m((0,a.Z)({},F),R):!p&&_.current?m((0,a.Z)((0,a.Z)({},F),{},{className:v}),R):h?m((0,a.Z)((0,a.Z)({},F),{},{style:{display:"none"}}),R):null;else M=null;s.isValidElement(M)&&(0,l.Yr)(M)&&(M.ref||(M=s.cloneElement(M,{ref:R})));return s.createElement(G,{ref:A},M)}));return c.displayName="CSSMotion",c}(A),Y=n(7462),q=n(4925),K="add",J="keep",Q="remove",$="removed";function ee(e){var t;return t=e&&"object"===(0,o.Z)(e)&&"key"in e?e:{key:e},(0,a.Z)((0,a.Z)({},t),{},{key:String(t.key)})}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(ee)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=te(e),s=te(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var u=s[o];if(u.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{status:K})}))),r=o),n.push((0,a.Z)((0,a.Z)({},u),{},{status:J})),r+=1,t=!0;break}}t||n.push((0,a.Z)((0,a.Z)({},e),{},{status:Q}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{status:K})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var l=Object.keys(u).filter((function(e){return u[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Q}))).forEach((function(t){t.key===e&&(t.status=J)}))})),n}var re=["component","children","onVisibleChanged","onAllRemoved"],ae=["status"],ie=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=function(e){(0,V.Z)(r,e);var n=(0,H.Z)(r);function r(){var e;(0,B.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,a.Z)((0,a.Z)({},e),{},{status:$})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==$})).length},e}return(0,j.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,o=r.onVisibleChanged,u=r.onAllRemoved,l=(0,q.Z)(r,re),c=a||s.Fragment,d={};return ie.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,s.createElement(c,l,n.map((function(n){var r=n.status,a=(0,q.Z)(n,ae),l=r===K||r===J;return s.createElement(t,(0,Y.Z)({},d,{key:a.key,visible:l,eventProps:a,onVisibleChanged:function(t){(null===o||void 0===o||o(t,{key:a.key}),t)||0===e.removeKey(a.key)&&u&&u()}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=te(n);return{keyEntities:ne(r,a).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==$||e.status!==Q}))}}}]),r}(s.Component);return n.defaultProps={component:"div"},n}(A),se=X},8463:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r,a=n(4925),i=n(7462),o=n(1413),s=n(5671),u=n(3144),l=n(136),c=n(9388),d=n(7313),f=n(4165),p=n(5861),h=n(1002),m=n(1168),g=n.t(m,2),v=(0,o.Z)({},g),y=v.version,b=v.render,x=v.unmountComponentAtNode;try{Number((y||"").split(".")[0])>=18&&(r=v.createRoot)}catch(B){}function A(e){var t=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,h.Z)(t)&&(t.usingClientEntryPoint=e)}var w="__rc_react_root__";function k(e,t){r?function(e,t){A(!0);var n=t[w]||r(t);A(!1),n.render(e),t[w]=n}(e,t):function(e,t){b(e,t)}(e,t)}function S(e){return C.apply(this,arguments)}function C(){return(C=(0,p.Z)((0,f.Z)().mark((function e(t){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[w])||void 0===e||e.unmount(),delete t[w]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){x(e)}function E(){return(E=(0,p.Z)((0,f.Z)().mark((function e(t){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",S(t));case 2:I(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(6123),N=n.n(T),O=n(1293),P=n(4942),_=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,a=n.noticeKey;r&&r(a)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,a=t.closable,o=t.closeIcon,s=t.style,u=t.onClick,l=t.children,c=t.holder,f="".concat(n,"-notice"),p=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),h=d.createElement("div",(0,i.Z)({className:N()(f,r,(0,P.Z)({},"".concat(f,"-closable"),a)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},p),d.createElement("div",{className:"".concat(f,"-content")},l),a?d.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(f,"-close")},o||d.createElement("span",{className:"".concat(f,"-close-x")})):null);return c?m.createPortal(h,c):h}}]),n}(d.Component);_.defaultProps={onClose:function(){},duration:1.5};var M=n(3433),R=n(9439);var F=["getContainer"],D=0,L=Date.now();function z(){var e=D;return D+=1,"rcNotification_".concat(L,"_").concat(e)}var Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||z(),a=(0,o.Z)((0,o.Z)({},t),{},{key:r}),i=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==o?s.splice(o,1,{notice:a,holderCallback:n}):(i&&t.length>=i&&(a.key=s[0].notice.key,a.updateMark=z(),a.userPassKey=r,s.shift()),s.push({notice:a,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,u.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,a=n.className,s=n.closeIcon,u=n.style,l=[];return t.forEach((function(n,a){var i=n.notice,u=n.holderCallback,c=a===t.length-1?i.updateMark:void 0,d=i.key,f=i.userPassKey,p=(0,o.Z)((0,o.Z)((0,o.Z)({prefixCls:r,closeIcon:s},i),i.props),{},{key:d,noticeKey:f||d,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=i.onClose)||void 0===n||n.call(i)},onClick:i.onClick,children:i.content});l.push(d),e.noticePropsMap[d]={props:p,holderCallback:u}})),d.createElement("div",{className:N()(r,a),style:u},d.createElement(O.V,{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,a=t.className,s=t.style,u=t.visible,l=e.noticePropsMap[n],c=l.props,f=l.holderCallback;return f?d.createElement("div",{key:n,className:N()(a,"".concat(r,"-hook-holder")),style:(0,o.Z)({},s),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),f(t,c)):e.hookRefs.delete(n))}}):d.createElement(_,(0,i.Z)({},c,{className:N()(a,null===c||void 0===c?void 0:c.className),style:(0,o.Z)((0,o.Z)({},s),null===c||void 0===c?void 0:c.style),visible:u}))})))}}]),n}(d.Component);Z.newInstance=void 0,Z.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},Z.newInstance=function(e,t){var n=e||{},r=n.getContainer,o=(0,a.Z)(n,F),s=document.createElement("div");r?r().appendChild(s):document.body.appendChild(s);var u=!1;k(d.createElement(Z,(0,i.Z)({},o,{ref:function(e){u||(u=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){E.apply(this,arguments)}(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return function(e){var t=d.useRef({}),n=d.useState([]),r=(0,R.Z)(n,2),a=r[0],o=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||r)){var s=d.createElement(_,(0,i.Z)({},n,{holder:e}));t.current[a]=s,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,M.Z)(e),[s]);var r=(0,M.Z)(e);return r[t]=s,r}))}r=!1}))},d.createElement(d.Fragment,null,a)]}(e)}}))}})),s)};var W=Z},7704:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7154)),o=a(n(9713)),s=a(n(4575)),u=a(n(3913)),l=a(n(2205)),c=a(n(9842)),d=r(n(7313)),f=a(n(1168)),p=a(n(6123)),h=function(e){(0,l.default)(n,e);var t=(0,c.default)(n);function n(){var e;(0,s.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,a=n.noticeKey;r&&r(a)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,u.default)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,a=t.closable,s=t.closeIcon,u=t.style,l=t.onClick,c=t.children,h=t.holder,m="".concat(n,"-notice"),g=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),v=d.createElement("div",(0,i.default)({className:(0,p.default)(m,r,(0,o.default)({},"".concat(m,"-closable"),a)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},g),d.createElement("div",{className:"".concat(m,"-content")},c),a?d.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(m,"-close")},s||d.createElement("span",{className:"".concat(m,"-close-x")})):null);return h?f.default.createPortal(v,h):v}}]),n}(d.Component);t.default=h,h.defaultProps={onClose:function(){},duration:1.5}},6408:function(e,t,n){"use strict";var r=n(862),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=u.useRef({}),n=u.useState([]),r=(0,s.default)(n,2),a=r[0],c=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||r)){var s=u.createElement(l.default,(0,o.default)({},n,{holder:e}));t.current[a]=s,c((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,i.default)(e),[s]);var r=(0,i.default)(e);return r[t]=s,r}))}r=!1}))},u.createElement(u.Fragment,null,a)]};var i=a(n(319)),o=a(n(7154)),s=a(n(3038)),u=r(n(7313)),l=a(n(7704))},9956:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},3143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};t.default=n},6932:function(e,t,n){"use strict";n.r(t),n.d(t,{TabPane:function(){return $n},default:function(){return ar}});var r=n(7462),a=n(4942),i=n(9439),o=n(1002),s=n(4925),u=n(1413),l=n(7313),c=n(6123),d=n.n(c),f=n(4903),p=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))},h=n(1114);function m(e,t){var n=t||{},r=n.defaultValue,a=n.value,o=n.onChange,s=n.postState,u=(0,h.Z)((function(){return void 0!==a?a:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),c=(0,i.Z)(u,2),d=c[0],f=c[1],p=void 0!==a?a:d;s&&(p=s(p));var m=l.useRef(o);m.current=o;var g=l.useCallback((function(e,t){f(e,t),p!==e&&m.current&&m.current(e,p)}),[p,m]),v=l.useRef(a);return l.useEffect((function(){void 0===a&&a!==v.current&&f(a),v.current=a}),[a]),[p,g]}var g=n(3433),v=n(5557),y=n(8240),b=n(6945),x=n(3879),A=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),w="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,k="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),S="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(k):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var C=["top","right","bottom","left","width","height","size","weight"],I="undefined"!==typeof MutationObserver,E=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&s()}function o(){S(i)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){w&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),I?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){w&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;C.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),T=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},N=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||k},O=D(0,0,0,0);function P(e){return parseFloat(e)||0}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+P(e["border-"+n+"-width"])}),0)}function M(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return O;var r=N(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=P(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,s=P(r.width),u=P(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=_(r,"left","right")+i),Math.round(u+o)!==n&&(u-=_(r,"top","bottom")+o)),!function(e){return e===N(e).document.documentElement}(e)){var l=Math.round(s+i)-t,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return D(a.left,a.top,s,u)}var R="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof N(e).SVGGraphicsElement}:function(e){return e instanceof N(e).SVGElement&&"function"===typeof e.getBBox};function F(e){return w?R(e)?function(e){var t=e.getBBox();return D(0,0,t.width,t.height)}(e):M(e):O}function D(e,t,n,r){return{x:e,y:t,width:n,height:r}}var L=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=F(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),z=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(i.prototype);return T(o,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),o}(t);T(this,{target:e,contentRect:n})},Z=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new A,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof N(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new L(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof N(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new z(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),W="undefined"!==typeof WeakMap?new WeakMap:new A,B=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=E.getInstance(),r=new Z(t,n,this);W.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){B.prototype[e]=function(){var t;return(t=W.get(this))[e].apply(t,arguments)}}));var j="undefined"!==typeof k.ResizeObserver?k.ResizeObserver:B,V=new Map;var H=new j((function(e){e.forEach((function(e){var t,n=e.target;null===(t=V.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var U=n(5671),G=n(3144),X=n(136),Y=n(9388),q=function(e){(0,X.Z)(n,e);var t=(0,Y.Z)(n);function n(){return(0,U.Z)(this,n),t.apply(this,arguments)}return(0,G.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(l.Component),K=l.createContext(null);function J(e){var t=e.children,n=e.disabled,r=l.useRef(null),a=l.useRef(null),i=l.useContext(K),o="function"===typeof t,s=o?t(r):t,c=l.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!o&&l.isValidElement(s)&&(0,b.Yr)(s),f=d?s.ref:null,p=l.useMemo((function(){return(0,b.sQ)(f,r)}),[f,r]),h=l.useRef(e);h.current=e;var m=l.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,s=a.height,l=e.offsetWidth,d=e.offsetHeight,f=Math.floor(o),p=Math.floor(s);if(c.current.width!==f||c.current.height!==p||c.current.offsetWidth!==l||c.current.offsetHeight!==d){var m={width:f,height:p,offsetWidth:l,offsetHeight:d};c.current=m;var g=l===Math.round(o)?o:l,v=d===Math.round(s)?s:d,y=(0,u.Z)((0,u.Z)({},m),{},{offsetWidth:g,offsetHeight:v});null===i||void 0===i||i(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return l.useEffect((function(){var e,t,i=(0,x.Z)(r.current)||(0,x.Z)(a.current);return i&&!n&&(e=i,t=m,V.has(e)||(V.set(e,new Set),H.observe(e)),V.get(e).add(t)),function(){return function(e,t){V.has(e)&&(V.get(e).delete(t),V.get(e).size||(H.unobserve(e),V.delete(e)))}(i,m)}}),[r.current,n]),l.createElement(q,{ref:a},d?l.cloneElement(s,{ref:p}):s)}function Q(e){var t=e.children;return("function"===typeof t?[t]:(0,f.Z)(t)).map((function(t,n){var a=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return l.createElement(J,(0,r.Z)({},e,{key:a}),t)}))}Q.Collection=function(e){var t=e.children,n=e.onBatchResize,r=l.useRef(0),a=l.useRef([]),i=l.useContext(K),o=l.useCallback((function(e,t,o){r.current+=1;var s=r.current;a.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===i||void 0===i||i(e,t,o)}),[n,i]);return l.createElement(K.Provider,{value:o},t)};var $=Q;function ee(e){var t=(0,l.useRef)(),n=(0,l.useRef)(!1);return(0,l.useEffect)((function(){return n.current=!1,function(){n.current=!0,v.Z.cancel(t.current)}}),[]),function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];n.current||(v.Z.cancel(t.current),t.current=(0,v.Z)((function(){e.apply(void 0,a)})))}}var te={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=te.F1&&t<=te.F12)return!1;switch(t){case te.ALT:case te.CAPS_LOCK:case te.CONTEXT_MENU:case te.CTRL:case te.DOWN:case te.END:case te.ESC:case te.HOME:case te.INSERT:case te.LEFT:case te.MAC_FF_META:case te.META:case te.NUMLOCK:case te.NUM_CENTER:case te.PAGE_DOWN:case te.PAGE_UP:case te.PAUSE:case te.PRINT_SCREEN:case te.RIGHT:case te.SHIFT:case te.UP:case te.WIN_KEY:case te.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=te.ZERO&&e<=te.NINE)return!0;if(e>=te.NUM_ZERO&&e<=te.NUM_MULTIPLY)return!0;if(e>=te.A&&e<=te.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case te.SPACE:case te.QUESTION_MARK:case te.NUM_PLUS:case te.NUM_MINUS:case te.NUM_PERIOD:case te.NUM_DIVISION:case te.SEMICOLON:case te.DASH:case te.EQUALS:case te.COMMA:case te.PERIOD:case te.SLASH:case te.APOSTROPHE:case te.SINGLE_QUOTE:case te.OPEN_SQUARE_BRACKET:case te.BACKSLASH:case te.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ne=te;function re(e,t){var n,r=e.prefixCls,i=e.id,o=e.active,s=e.tab,u=s.key,c=s.tab,f=s.disabled,p=s.closeIcon,h=e.closable,m=e.renderWrapper,g=e.removeAriaLabel,v=e.editable,y=e.onClick,b=e.onRemove,x=e.onFocus,A=e.style,w="".concat(r,"-tab");l.useEffect((function(){return b}),[]);var k=v&&!1!==h&&!f;function S(e){f||y(e)}var C=l.createElement("div",{key:u,ref:t,className:d()(w,(n={},(0,a.Z)(n,"".concat(w,"-with-remove"),k),(0,a.Z)(n,"".concat(w,"-active"),o),(0,a.Z)(n,"".concat(w,"-disabled"),f),n)),style:A,onClick:S},l.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(u),className:"".concat(w,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(u),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),S(e)},onKeyDown:function(e){[ne.SPACE,ne.ENTER].includes(e.which)&&(e.preventDefault(),S(e))},onFocus:x},c),k&&l.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:u,event:t})}},p||v.removeIcon||"\xd7"));return m?m(C):C}var ae=l.forwardRef(re),ie={width:0,height:0,left:0,top:0};var oe={width:0,height:0,left:0,top:0,right:0};var se=n(9767),ue=n.n(se),le=n(3233),ce=(0,le.Z)()?l.useLayoutEffect:l.useEffect,de=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],fe=void 0;function pe(e,t){var n=e.prefixCls,a=e.invalidate,i=e.item,o=e.renderItem,c=e.responsive,f=e.responsiveDisabled,p=e.registerSize,h=e.itemKey,m=e.className,g=e.style,v=e.children,y=e.display,b=e.order,x=e.component,A=void 0===x?"div":x,w=(0,s.Z)(e,de),k=c&&!y;function S(e){p(h,e)}l.useEffect((function(){return function(){S(null)}}),[]);var C,I=o&&i!==fe?o(i):v;a||(C={opacity:k?0:1,height:k?0:fe,overflowY:k?"hidden":fe,order:c?b:fe,pointerEvents:k?"none":fe,position:k?"absolute":fe});var E={};k&&(E["aria-hidden"]=!0);var T=l.createElement(A,(0,r.Z)({className:d()(!a&&n,m),style:(0,u.Z)((0,u.Z)({},C),g)},E,w,{ref:t}),I);return c&&(T=l.createElement($,{onResize:function(e){S(e.offsetWidth)},disabled:f},T)),T}var he=l.forwardRef(pe);he.displayName="Item";var me=he;var ge=["component"],ve=["className"],ye=["className"],be=function(e,t){var n=l.useContext(ke);if(!n){var a=e.component,i=void 0===a?"div":a,o=(0,s.Z)(e,ge);return l.createElement(i,(0,r.Z)({},o,{ref:t}))}var u=n.className,c=(0,s.Z)(n,ve),f=e.className,p=(0,s.Z)(e,ye);return l.createElement(ke.Provider,{value:null},l.createElement(me,(0,r.Z)({ref:t,className:d()(u,f)},c,p)))},xe=l.forwardRef(be);xe.displayName="RawItem";var Ae=xe,we=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],ke=l.createContext(null),Se="responsive",Ce="invalidate";function Ie(e){return"+ ".concat(e.length," ...")}function Ee(e,t){var n=e.prefixCls,a=void 0===n?"rc-overflow":n,o=e.data,c=void 0===o?[]:o,f=e.renderItem,p=e.renderRawItem,m=e.itemKey,g=e.itemWidth,y=void 0===g?10:g,b=e.ssr,x=e.style,A=e.className,w=e.maxCount,k=e.renderRest,S=e.renderRawRest,C=e.suffix,I=e.component,E=void 0===I?"div":I,T=e.itemComponent,N=e.onVisibleChange,O=(0,s.Z)(e,we),P=function(){var e=(0,h.Z)({}),t=(0,i.Z)(e,2)[1],n=(0,l.useRef)([]),r=0,a=0;return function(e){var i=r;return r+=1,n.current.length<i+1&&(n.current[i]=e),[n.current[i],function(e){n.current[i]="function"===typeof e?e(n.current[i]):e,v.Z.cancel(a),a=(0,v.Z)((function(){t({},!0)}))}]}}(),_="full"===b,M=P(null),R=(0,i.Z)(M,2),F=R[0],D=R[1],L=F||0,z=P(new Map),Z=(0,i.Z)(z,2),W=Z[0],B=Z[1],j=P(0),V=(0,i.Z)(j,2),H=V[0],U=V[1],G=P(0),X=(0,i.Z)(G,2),Y=X[0],q=X[1],K=P(0),J=(0,i.Z)(K,2),Q=J[0],ee=J[1],te=(0,l.useState)(null),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ie=(0,l.useState)(null),oe=(0,i.Z)(ie,2),se=oe[0],ue=oe[1],le=l.useMemo((function(){return null===se&&_?Number.MAX_SAFE_INTEGER:se||0}),[se,F]),de=(0,l.useState)(!1),fe=(0,i.Z)(de,2),pe=fe[0],he=fe[1],ge="".concat(a,"-item"),ve=Math.max(H,Y),ye=w===Se,be=c.length&&ye,xe=w===Ce,Ae=be||"number"===typeof w&&c.length>w,Ee=(0,l.useMemo)((function(){var e=c;return be?e=null===F&&_?c:c.slice(0,Math.min(c.length,L/y)):"number"===typeof w&&(e=c.slice(0,w)),e}),[c,y,F,w,be]),Te=(0,l.useMemo)((function(){return be?c.slice(le+1):c.slice(Ee.length)}),[c,Ee,be,le]),Ne=(0,l.useCallback)((function(e,t){var n;return"function"===typeof m?m(e):null!==(n=m&&(null===e||void 0===e?void 0:e[m]))&&void 0!==n?n:t}),[m]),Oe=(0,l.useCallback)(f||function(e){return e},[f]);function Pe(e,t){ue(e),t||(he(e<c.length-1),null===N||void 0===N||N(e))}function _e(e,t){B((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function Me(e){return W.get(Ne(Ee[e],e))}ce((function(){if(L&&ve&&Ee){var e=Q,t=Ee.length,n=t-1;if(!t)return Pe(0),void ae(null);for(var r=0;r<t;r+=1){var a=Me(r);if(_&&(a=a||0),void 0===a){Pe(r-1,!0);break}if(e+=a,0===n&&e<=L||r===n-1&&e+Me(n)<=L){Pe(n),ae(null);break}if(e+ve>L){Pe(r-1),ae(e-a-Q+Y);break}}C&&Me(0)+Q>L&&ae(null)}}),[L,W,Y,Q,Ne,Ee]);var Re=pe&&!!Te.length,Fe={};null!==re&&be&&(Fe={position:"absolute",left:re,top:0});var De,Le={prefixCls:ge,responsive:be,component:T,invalidate:xe},ze=p?function(e,t){var n=Ne(e,t);return l.createElement(ke.Provider,{key:n,value:(0,u.Z)((0,u.Z)({},Le),{},{order:t,item:e,itemKey:n,registerSize:_e,display:t<=le})},p(e,t))}:function(e,t){var n=Ne(e,t);return l.createElement(me,(0,r.Z)({},Le,{order:t,key:n,item:e,renderItem:Oe,itemKey:n,registerSize:_e,display:t<=le}))},Ze={order:Re?le:Number.MAX_SAFE_INTEGER,className:"".concat(ge,"-rest"),registerSize:function(e,t){q(t),U(Y)},display:Re};if(S)S&&(De=l.createElement(ke.Provider,{value:(0,u.Z)((0,u.Z)({},Le),Ze)},S(Te)));else{var We=k||Ie;De=l.createElement(me,(0,r.Z)({},Le,Ze),"function"===typeof We?We(Te):We)}var Be=l.createElement(E,(0,r.Z)({className:d()(!xe&&a,A),style:x,ref:t},O),Ee.map(ze),Ae?De:null,C&&l.createElement(me,(0,r.Z)({},Le,{responsive:ye,responsiveDisabled:!be,order:le,className:"".concat(ge,"-suffix"),registerSize:function(e,t){ee(t)},display:!0,style:Fe}),C));return ye&&(Be=l.createElement($,{onResize:function(e,t){D(t.clientWidth)},disabled:!be},Be)),Be}var Te=l.forwardRef(Ee);Te.displayName="Overflow",Te.Item=Ae,Te.RESPONSIVE=Se,Te.INVALIDATE=Ce;var Ne=Te;function Oe(e,t){var n=(0,u.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var Pe=n(727),_e=["children","locked"],Me=l.createContext(null);function Re(e){var t=e.children,n=e.locked,r=(0,s.Z)(e,_e),a=l.useContext(Me),i=(0,Pe.Z)((function(){return function(e,t){var n=(0,u.Z)({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,r)}),[a,r],(function(e,t){return!n&&(e[0]!==t[0]||!ue()(e[1],t[1]))}));return l.createElement(Me.Provider,{value:i},t)}function Fe(e,t,n,r){var a=l.useContext(Me),i=a.activeKey,o=a.onActive,s=a.onInactive,u={active:i===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),o(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var De=["item"];function Le(e){var t=e.item,n=(0,s.Z)(e,De);return Object.defineProperty(n,"item",{get:function(){return(0,y.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function ze(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?l.createElement(t,(0,u.Z)({},n)):t)||r||null}function Ze(e){var t=l.useContext(Me),n=t.mode,r=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*a}:{paddingLeft:e*a}}var We=[],Be=l.createContext(null);function je(){return l.useContext(Be)}var Ve=l.createContext(We);function He(e){var t=l.useContext(Ve);return l.useMemo((function(){return void 0!==e?[].concat((0,g.Z)(t),[e]):t}),[t,e])}var Ue=l.createContext(null),Ge=l.createContext(null);function Xe(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Ye(e){return Xe(l.useContext(Ge),e)}var qe=l.createContext({}),Ke=["title","attribute","elementRef"],Je=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Qe=["active"],$e=function(e){(0,X.Z)(n,e);var t=(0,Y.Z)(n);function n(){return(0,U.Z)(this,n),t.apply(this,arguments)}return(0,G.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,a=e.elementRef,i=Oe((0,s.Z)(e,Ke),["eventKey"]);return(0,y.ZP)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),l.createElement(Ne.Item,(0,r.Z)({},n,{title:"string"===typeof t?t:void 0},i,{ref:a}))}}]),n}(l.Component),et=function(e){var t,n=e.style,i=e.className,o=e.eventKey,c=(e.warnKey,e.disabled),f=e.itemIcon,p=e.children,h=e.role,m=e.onMouseEnter,v=e.onMouseLeave,y=e.onClick,b=e.onKeyDown,x=e.onFocus,A=(0,s.Z)(e,Je),w=Ye(o),k=l.useContext(Me),S=k.prefixCls,C=k.onItemClick,I=k.disabled,E=k.overflowDisabled,T=k.itemIcon,N=k.selectedKeys,O=k.onActive,P=l.useContext(qe)._internalRenderMenuItem,_="".concat(S,"-item"),M=l.useRef(),R=l.useRef(),F=I||c,D=He(o);var L=function(e){return{key:o,keyPath:(0,g.Z)(D).reverse(),item:M.current,domEvent:e}},z=f||T,Z=Fe(o,F,m,v),W=Z.active,B=(0,s.Z)(Z,Qe),j=N.includes(o),V=Ze(D.length),H={};"option"===e.role&&(H["aria-selected"]=j);var U=l.createElement($e,(0,r.Z)({ref:M,elementRef:R,role:null===h?"none":h||"menuitem",tabIndex:c?null:-1,"data-menu-id":E&&w?null:w},A,B,H,{component:"li","aria-disabled":c,style:(0,u.Z)((0,u.Z)({},V),n),className:d()(_,(t={},(0,a.Z)(t,"".concat(_,"-active"),W),(0,a.Z)(t,"".concat(_,"-selected"),j),(0,a.Z)(t,"".concat(_,"-disabled"),F),t),i),onClick:function(e){if(!F){var t=L(e);null===y||void 0===y||y(Le(t)),C(t)}},onKeyDown:function(e){if(null===b||void 0===b||b(e),e.which===ne.ENTER){var t=L(e);null===y||void 0===y||y(Le(t)),C(t)}},onFocus:function(e){O(o),null===x||void 0===x||x(e)}}),p,l.createElement(ze,{props:(0,u.Z)((0,u.Z)({},e),{},{isSelected:j}),icon:z}));return P&&(U=P(U,e,{selected:j})),U};var tt=function(e){var t=e.eventKey,n=je(),r=He(t);return l.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:l.createElement(et,e)},nt=["label","children","key","type"];function rt(e,t){return(0,f.Z)(e).map((function(e,n){if(l.isValidElement(e)){var r,a,i=e.key,o=null!==(r=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==r?r:i;(null===o||void 0===o)&&(o="tmp_key-".concat([].concat((0,g.Z)(t),[n]).join("-")));var s={key:o,eventKey:o};return l.cloneElement(e,s)}return e}))}function at(e){return(e||[]).map((function(e,t){if(e&&"object"===(0,o.Z)(e)){var n=e.label,a=e.children,i=e.key,u=e.type,c=(0,s.Z)(e,nt),d=null!==i&&void 0!==i?i:"tmp-".concat(t);return a||"group"===u?"group"===u?l.createElement(On,(0,r.Z)({key:d},c,{title:n}),at(a)):l.createElement(nn,(0,r.Z)({key:d},c,{title:n}),at(a)):"divider"===u?l.createElement(Pn,(0,r.Z)({key:d},c)):l.createElement(tt,(0,r.Z)({key:d},c),n)}return null})).filter((function(e){return e}))}function it(e,t,n){var r=e;return t&&(r=at(t)),rt(r,n)}function ot(e){var t=l.useRef(e);t.current=e;var n=l.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var st=["className","children"],ut=function(e,t){var n=e.className,a=e.children,i=(0,s.Z)(e,st),o=l.useContext(Me),u=o.prefixCls,c=o.mode,f=o.rtl;return l.createElement("ul",(0,r.Z)({className:d()(u,f&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===c?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:t}),a)},lt=l.forwardRef(ut);lt.displayName="SubMenuList";var ct=lt,dt=n(7326),ft=n(1168);function pt(e,t){return!!e&&e.contains(t)}function ht(e,t,n,r){var a=ft.unstable_batchedUpdates?function(e){ft.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,a,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,a,r)}}}var mt=(0,l.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,a=e.children,i=(0,l.useRef)(),o=(0,l.useRef)();(0,l.useImperativeHandle)(t,(function(){return{}}));var s=(0,l.useRef)(!1);return!s.current&&(0,le.Z)()&&(o.current=r(),i.current=o.current.parentNode,s.current=!0),(0,l.useEffect)((function(){null===n||void 0===n||n(e)})),(0,l.useEffect)((function(){return null===o.current.parentNode&&null!==i.current&&i.current.appendChild(o.current),function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?ft.createPortal(a,o.current):null}));function gt(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var vt=n(1293);function yt(e){var t=e.prefixCls,n=e.motion,r=e.animation,a=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:a?{motionName:a}:null)}function bt(e){var t=e.prefixCls,n=e.visible,a=e.zIndex,i=e.mask,o=e.maskMotion,s=e.maskAnimation,c=e.maskTransitionName;if(!i)return null;var f={};return(o||c||s)&&(f=(0,u.Z)({motionAppear:!0},yt({motion:o,prefixCls:t,transitionName:c,animation:s}))),l.createElement(vt.Z,(0,r.Z)({},f,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return l.createElement("div",{style:{zIndex:a},className:d()("".concat(t,"-mask"),n)})}))}var xt=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1},At=n(5596),wt=n(1905),kt=n.n(wt);function St(e,t){var n=null,r=null;var a=new j((function(e){var a=(0,i.Z)(e,1)[0].target;if(document.documentElement.contains(a)){var o=a.getBoundingClientRect(),s=o.width,u=o.height,l=Math.floor(s),c=Math.floor(u);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&a.observe(e),function(){a.disconnect()}}function Ct(e){return"function"!==typeof e?null:e()}function It(e){return"object"===(0,o.Z)(e)&&e?e:null}var Et=function(e,t){var n=e.children,r=e.disabled,a=e.target,o=e.align,s=e.onAlign,u=e.monitorWindowResize,c=e.monitorBufferTime,d=void 0===c?0:c,f=l.useRef({}),p=l.useRef(),h=l.Children.only(n),m=l.useRef({});m.current.disabled=r,m.current.target=a,m.current.align=o,m.current.onAlign=s;var g=function(e,t){var n=l.useRef(!1),r=l.useRef(null);function a(){window.clearTimeout(r.current)}return[function i(o){if(a(),n.current&&!0!==o)r.current=window.setTimeout((function(){n.current=!1,i()}),t);else{if(!1===e())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=m.current,t=e.disabled,n=e.target,r=e.align,a=e.onAlign;if(!t&&n){var i,o=p.current,s=Ct(n),u=It(n);f.current.element=s,f.current.point=u,f.current.align=r;var l=document.activeElement;return s&&xt(s)?i=(0,At.E3)(o,s,r):u&&(i=(0,At.zy)(o,u,r)),function(e,t){e!==document.activeElement&&pt(t,e)&&"function"===typeof e.focus&&e.focus()}(l,o),a&&i&&a(o,i),!0}return!1}),d),v=(0,i.Z)(g,2),y=v[0],x=v[1],A=l.useRef({cancel:function(){}}),w=l.useRef({cancel:function(){}});l.useEffect((function(){var e,t,n=Ct(a),r=It(a);p.current!==w.current.element&&(w.current.cancel(),w.current.element=p.current,w.current.cancel=St(p.current,y)),f.current.element===n&&((e=f.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&kt()(f.current.align,o)||(y(),A.current.element!==n&&(A.current.cancel(),A.current.element=n,A.current.cancel=St(n,y)))})),l.useEffect((function(){r?x():y()}),[r]);var k=l.useRef(null);return l.useEffect((function(){u?k.current||(k.current=ht(window,"resize",y)):k.current&&(k.current.remove(),k.current=null)}),[u]),l.useEffect((function(){return function(){A.current.cancel(),w.current.cancel(),k.current&&k.current.remove(),x()}}),[]),l.useImperativeHandle(t,(function(){return{forceAlign:function(){return y(!0)}}})),l.isValidElement(h)&&(h=l.cloneElement(h,{ref:(0,b.sQ)(h.ref,p)})),h},Tt=l.forwardRef(Et);Tt.displayName="Align";var Nt=Tt,Ot=n(4165),Pt=n(5861),_t=["measure","alignPre","align",null,"motion"],Mt=l.forwardRef((function(e,t){var n=e.visible,a=e.prefixCls,o=e.className,s=e.style,c=e.children,f=e.zIndex,p=e.stretch,m=e.destroyPopupOnHide,g=e.forceRender,y=e.align,b=e.point,x=e.getRootDomNode,A=e.getClassNameFromAlign,w=e.onAlign,k=e.onMouseEnter,S=e.onMouseLeave,C=e.onMouseDown,I=e.onTouchStart,E=e.onClick,T=(0,l.useRef)(),N=(0,l.useRef)(),O=(0,l.useState)(),P=(0,i.Z)(O,2),_=P[0],M=P[1],R=function(e){var t=l.useState({width:0,height:0}),n=(0,i.Z)(t,2),r=n[0],a=n[1];return[l.useMemo((function(){var t={};if(e){var n=r.width,a=r.height;-1!==e.indexOf("height")&&a?t.height=a:-1!==e.indexOf("minHeight")&&a&&(t.minHeight=a),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){a({width:e.offsetWidth,height:e.offsetHeight})}]}(p),F=(0,i.Z)(R,2),D=F[0],L=F[1];var z=function(e,t){var n=(0,h.Z)(null),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,l.useRef)();function u(e){o(e,!0)}function c(){v.Z.cancel(s.current)}return(0,l.useEffect)((function(){u("measure")}),[e]),(0,l.useEffect)((function(){"measure"===a&&t(),a&&(s.current=(0,v.Z)((0,Pt.Z)((0,Ot.Z)().mark((function e(){var t,n;return(0,Ot.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_t.indexOf(a),(n=_t[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[a]),(0,l.useEffect)((function(){return function(){c()}}),[]),[a,function(e){c(),s.current=(0,v.Z)((function(){u((function(e){switch(a){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){p&&L(x())})),Z=(0,i.Z)(z,2),W=Z[0],B=Z[1],j=(0,l.useState)(0),V=(0,i.Z)(j,2),H=V[0],U=V[1],G=(0,l.useRef)();function X(){var e;null===(e=T.current)||void 0===e||e.forceAlign()}function Y(e,t){var n=A(t);_!==n&&M(n),U((function(e){return e+1})),"align"===W&&(null===w||void 0===w||w(e,t))}ce((function(){"alignPre"===W&&U(0)}),[W]),ce((function(){"align"===W&&(H<2?X():B((function(){var e;null===(e=G.current)||void 0===e||e.call(G)})))}),[H]);var q=(0,u.Z)({},yt(e));function K(){return new Promise((function(e){G.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return B(),null===t||void 0===t?void 0:t(e,n)}})),l.useEffect((function(){q.motionName||"motion"!==W||B()}),[q.motionName,W]),l.useImperativeHandle(t,(function(){return{forceAlign:X,getElement:function(){return N.current}}}));var J=(0,u.Z)((0,u.Z)({},D),{},{zIndex:f,opacity:"motion"!==W&&"stable"!==W&&n?0:void 0,pointerEvents:n||"stable"===W?void 0:"none"},s),Q=!0;!(null===y||void 0===y?void 0:y.points)||"align"!==W&&"stable"!==W||(Q=!1);var $=c;return l.Children.count(c)>1&&($=l.createElement("div",{className:"".concat(a,"-content")},c)),l.createElement(vt.Z,(0,r.Z)({visible:n,ref:N,leavedClassName:"".concat(a,"-hidden")},q,{onAppearPrepare:K,onEnterPrepare:K,removeOnLeave:m,forceRender:g}),(function(e,t){var n=e.className,r=e.style,i=d()(a,o,_,n);return l.createElement(Nt,{target:b||x,key:"popup",ref:T,monitorWindowResize:!0,disabled:Q,align:y,onAlign:Y},l.createElement("div",{ref:t,className:i,onMouseEnter:k,onMouseLeave:S,onMouseDownCapture:C,onTouchStartCapture:I,onClick:E,style:(0,u.Z)((0,u.Z)({},r),J)},$))}))}));Mt.displayName="PopupInner";var Rt=Mt,Ft=l.forwardRef((function(e,t){var n=e.prefixCls,a=e.visible,i=e.zIndex,o=e.children,s=e.mobile,c=(s=void 0===s?{}:s).popupClassName,f=s.popupStyle,p=s.popupMotion,h=void 0===p?{}:p,m=s.popupRender,g=e.onClick,v=l.useRef();l.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var y=(0,u.Z)({zIndex:i},f),b=o;return l.Children.count(o)>1&&(b=l.createElement("div",{className:"".concat(n,"-content")},o)),m&&(b=m(b)),l.createElement(vt.Z,(0,r.Z)({visible:a,ref:v,removeOnLeave:!0},h),(function(e,t){var r=e.className,a=e.style,i=d()(n,c,r);return l.createElement("div",{ref:t,className:i,onClick:g,style:(0,u.Z)((0,u.Z)({},a),y)},b)}))}));Ft.displayName="MobilePopupInner";var Dt=Ft,Lt=["visible","mobile"],zt=l.forwardRef((function(e,t){var n=e.visible,a=e.mobile,o=(0,s.Z)(e,Lt),c=(0,l.useState)(n),d=(0,i.Z)(c,2),f=d[0],h=d[1],m=(0,l.useState)(!1),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=(0,u.Z)((0,u.Z)({},o),{},{visible:f});(0,l.useEffect)((function(){h(n),n&&a&&y(p())}),[n,a]);var x=v?l.createElement(Dt,(0,r.Z)({},b,{mobile:a,ref:t})):l.createElement(Rt,(0,r.Z)({},b,{ref:t}));return l.createElement("div",null,l.createElement(bt,b),x)}));zt.displayName="Popup";var Zt=zt,Wt=l.createContext(null);function Bt(){}function jt(){return""}function Vt(e){return e?e.ownerDocument:window.document}var Ht=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Ut=function(e){var t=function(t){(0,X.Z)(a,t);var n=(0,Y.Z)(a);function a(e){var t,i;return(0,U.Z)(this,a),(t=n.call(this,e)).popupRef=l.createRef(),t.triggerRef=l.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&pt(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),a=t.getPopupDomNode();pt(r,n)&&!t.isContextMenuOnly()||pt(a,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=(0,x.Z)(t.triggerRef.current);if(n)return n}catch(r){}return ft.findDOMNode((0,dt.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,a=r.popupPlacement,i=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return a&&i&&n.push(function(e,t,n,r){for(var a=n.points,i=Object.keys(e),o=0;o<i.length;o+=1){var s=i[o];if(gt(e[s].points,a,r))return"".concat(t,"-placement-").concat(s)}return""}(i,o,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,a=e.destroyPopupOnHide,i=e.popupClassName,o=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,c=e.popupTransitionName,d=e.popupStyle,f=e.mask,p=e.maskAnimation,h=e.maskTransitionName,m=e.maskMotion,g=e.zIndex,v=e.popup,y=e.stretch,b=e.alignPoint,x=e.mobile,A=e.forceRender,w=e.onPopupClick,k=t.state,S=k.popupVisible,C=k.point,I=t.getPopupAlign(),E={};return t.isMouseEnterToShow()&&(E.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(E.onMouseLeave=t.onPopupMouseLeave),E.onMouseDown=t.onPopupMouseDown,E.onTouchStart=t.onPopupMouseDown,l.createElement(Zt,(0,r.Z)({prefixCls:n,destroyPopupOnHide:a,visible:S,point:b&&C,className:i,align:I,onAlign:o,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},E,{stretch:y,getRootDomNode:t.getRootDomNode,style:d,mask:f,zIndex:g,transitionName:c,maskAnimation:p,maskTransitionName:h,maskMotion:m,ref:t.popupRef,motion:s,mobile:x,forceRender:A,onClick:w}),"function"===typeof v?v():v)},t.attachParent=function(e){v.Z.cancel(t.attachId);var n,r=t.props,a=r.getPopupContainer,i=r.getDocument,o=t.getRootDomNode();a?(o||0===a.length)&&(n=a(o)):n=i(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=(0,v.Z)((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:i,popupVisible:i},Ht.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,G.Z)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=ht(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=ht(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=ht(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=ht(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),v.Z.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return(0,u.Z)((0,u.Z)({},r),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,a=1e3*t;if(this.clearDelayTimer(),a){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),a)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,a=n.forceRender,i=n.alignPoint,o=n.className,s=n.autoDestroy,c=l.Children.only(r),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,i&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=d()(c&&c.props&&c.props.className,o);p&&(f.className=p);var h=(0,u.Z)({},f);(0,b.Yr)(c)&&(h.ref=(0,b.sQ)(this.triggerRef,c.ref));var m,g=l.cloneElement(c,h);return(t||this.popupRef.current||a)&&(m=l.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(m=null),l.createElement(Wt.Provider,{value:this.triggerContextValue},g,m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),a}(l.Component);return t.contextType=Wt,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:jt,getDocument:Vt,onPopupVisibleChange:Bt,afterPopupVisibleChange:Bt,onPopupAlign:Bt,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(mt),Gt={adjustX:1,adjustY:1},Xt={topLeft:{points:["bl","tl"],overflow:Gt,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Gt,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Gt,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Gt,offset:[4,0]}},Yt={topLeft:{points:["bl","tl"],overflow:Gt,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Gt,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Gt,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Gt,offset:[4,0]}};function qt(e,t,n){return t||(n?n[e]||n.other:void 0)}var Kt={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Jt(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,s=e.popupClassName,c=e.popupOffset,f=e.disabled,p=e.mode,h=e.onVisibleChange,m=l.useContext(Me),g=m.getPopupContainer,y=m.rtl,b=m.subMenuOpenDelay,x=m.subMenuCloseDelay,A=m.builtinPlacements,w=m.triggerSubMenuAction,k=m.forceSubMenuRender,S=m.rootClassName,C=m.motion,I=m.defaultMotions,E=l.useState(!1),T=(0,i.Z)(E,2),N=T[0],O=T[1],P=y?(0,u.Z)((0,u.Z)({},Yt),A):(0,u.Z)((0,u.Z)({},Xt),A),_=Kt[p],M=qt(p,C,I),R=(0,u.Z)((0,u.Z)({},M),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),F=l.useRef();return l.useEffect((function(){return F.current=(0,v.Z)((function(){O(n)})),function(){v.Z.cancel(F.current)}}),[n]),l.createElement(Ut,{prefixCls:t,popupClassName:d()("".concat(t,"-popup"),(0,a.Z)({},"".concat(t,"-rtl"),y),s,S),stretch:"horizontal"===p?"minWidth":null,getPopupContainer:g,builtinPlacements:P,popupPlacement:_,popupVisible:N,popup:o,popupAlign:c&&{offset:c},action:f?[]:[w],mouseEnterDelay:b,mouseLeaveDelay:x,onPopupVisibleChange:h,forceRender:k,popupMotion:R},r)}function Qt(e){var t=e.id,n=e.open,a=e.keyPath,o=e.children,s="inline",c=l.useContext(Me),d=c.prefixCls,f=c.forceSubMenuRender,p=c.motion,h=c.defaultMotions,m=c.mode,g=l.useRef(!1);g.current=m===s;var v=l.useState(!g.current),y=(0,i.Z)(v,2),b=y[0],x=y[1],A=!!g.current&&n;l.useEffect((function(){g.current&&x(!1)}),[m]);var w=(0,u.Z)({},qt(s,p,h));a.length>1&&(w.motionAppear=!1);var k=w.onVisibleChanged;return w.onVisibleChanged=function(e){return g.current||e||x(!0),null===k||void 0===k?void 0:k(e)},b?null:l.createElement(Re,{mode:s,locked:!g.current},l.createElement(vt.Z,(0,r.Z)({visible:A},w,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(d,"-hidden")}),(function(e){var n=e.className,r=e.style;return l.createElement(ct,{id:t,className:n,style:r},o)})))}var $t=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],en=["active"],tn=function(e){var t,n=e.style,o=e.className,c=e.title,f=e.eventKey,p=(e.warnKey,e.disabled),h=e.internalPopupClose,m=e.children,g=e.itemIcon,v=e.expandIcon,y=e.popupClassName,b=e.popupOffset,x=e.onClick,A=e.onMouseEnter,w=e.onMouseLeave,k=e.onTitleClick,S=e.onTitleMouseEnter,C=e.onTitleMouseLeave,I=(0,s.Z)(e,$t),E=Ye(f),T=l.useContext(Me),N=T.prefixCls,O=T.mode,P=T.openKeys,_=T.disabled,M=T.overflowDisabled,R=T.activeKey,F=T.selectedKeys,D=T.itemIcon,L=T.expandIcon,z=T.onItemClick,Z=T.onOpenChange,W=T.onActive,B=l.useContext(qe)._internalRenderSubMenuItem,j=l.useContext(Ue).isSubPathKey,V=He(),H="".concat(N,"-submenu"),U=_||p,G=l.useRef(),X=l.useRef();var Y=g||D,q=v||L,K=P.includes(f),J=!M&&K,Q=j(F,f),$=Fe(f,U,S,C),ee=$.active,te=(0,s.Z)($,en),ne=l.useState(!1),re=(0,i.Z)(ne,2),ae=re[0],ie=re[1],oe=function(e){U||ie(e)},se=l.useMemo((function(){return ee||"inline"!==O&&(ae||j([R],f))}),[O,ee,R,ae,f,j]),ue=Ze(V.length),le=ot((function(e){null===x||void 0===x||x(Le(e)),z(e)})),ce=E&&"".concat(E,"-popup"),de=l.createElement("div",(0,r.Z)({role:"menuitem",style:ue,className:"".concat(H,"-title"),tabIndex:U?null:-1,ref:G,title:"string"===typeof c?c:null,"data-menu-id":M&&E?null:E,"aria-expanded":J,"aria-haspopup":!0,"aria-controls":ce,"aria-disabled":U,onClick:function(e){U||(null===k||void 0===k||k({key:f,domEvent:e}),"inline"===O&&Z(f,!K))},onFocus:function(){W(f)}},te),c,l.createElement(ze,{icon:"horizontal"!==O?q:null,props:(0,u.Z)((0,u.Z)({},e),{},{isOpen:J,isSubMenu:!0})},l.createElement("i",{className:"".concat(H,"-arrow")}))),fe=l.useRef(O);if("inline"!==O&&(fe.current=V.length>1?"vertical":O),!M){var pe=fe.current;de=l.createElement(Jt,{mode:pe,prefixCls:H,visible:!h&&J&&"inline"!==O,popupClassName:y,popupOffset:b,popup:l.createElement(Re,{mode:"horizontal"===pe?"vertical":pe},l.createElement(ct,{id:ce,ref:X},m)),disabled:U,onVisibleChange:function(e){"inline"!==O&&Z(f,e)}},de)}var he=l.createElement(Ne.Item,(0,r.Z)({role:"none"},I,{component:"li",style:n,className:d()(H,"".concat(H,"-").concat(O),o,(t={},(0,a.Z)(t,"".concat(H,"-open"),J),(0,a.Z)(t,"".concat(H,"-active"),se),(0,a.Z)(t,"".concat(H,"-selected"),Q),(0,a.Z)(t,"".concat(H,"-disabled"),U),t)),onMouseEnter:function(e){oe(!0),null===A||void 0===A||A({key:f,domEvent:e})},onMouseLeave:function(e){oe(!1),null===w||void 0===w||w({key:f,domEvent:e})}}),de,!M&&l.createElement(Qt,{id:ce,open:J,keyPath:V},m));return B&&(he=B(he,e,{selected:Q,active:se,open:J,disabled:U})),l.createElement(Re,{onItemClick:le,mode:"horizontal"===O?"vertical":O,itemIcon:Y,expandIcon:q},he)};function nn(e){var t,n=e.eventKey,r=e.children,a=He(n),i=rt(r,a),o=je();return l.useEffect((function(){if(o)return o.registerPath(n,a),function(){o.unregisterPath(n,a)}}),[a]),t=o?i:l.createElement(tn,e,i),l.createElement(Ve.Provider,{value:a},t)}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(xt(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),i=Number(a),o=null;return a&&!Number.isNaN(i)?o=i:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function an(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,g.Z)(e.querySelectorAll("*")).filter((function(e){return rn(e,t)}));return rn(e,t)&&n.unshift(e),n}var on=ne.LEFT,sn=ne.RIGHT,un=ne.UP,ln=ne.DOWN,cn=ne.ENTER,dn=ne.ESC,fn=ne.HOME,pn=ne.END,hn=[un,ln,on,sn];function mn(e,t){return an(e,!0).filter((function(e){return t.has(e)}))}function gn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var a=mn(e,t),i=a.length,o=a.findIndex((function(e){return n===e}));return r<0?-1===o?o=i-1:o-=1:r>0&&(o+=1),a[o=(o+i)%i]}function vn(e,t,n,r,i,o,s,u,c,d){var f=l.useRef(),p=l.useRef();p.current=t;var h=function(){v.Z.cancel(f.current)};return l.useEffect((function(){return function(){h()}}),[]),function(l){var m=l.which;if([].concat(hn,[cn,dn,fn,pn]).includes(m)){var g,y,b,x=function(){return g=new Set,y=new Map,b=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Xe(r,e),"']"));t&&(g.add(t),b.set(t,e),y.set(e,t))})),g};x();var A=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(y.get(t),g),w=b.get(A),k=function(e,t,n,r){var i,o,s,u,l="prev",c="next",d="children",f="parent";if("inline"===e&&r===cn)return{inlineTrigger:!0};var p=(i={},(0,a.Z)(i,un,l),(0,a.Z)(i,ln,c),i),h=(o={},(0,a.Z)(o,on,n?c:l),(0,a.Z)(o,sn,n?l:c),(0,a.Z)(o,ln,d),(0,a.Z)(o,cn,d),o),m=(s={},(0,a.Z)(s,un,l),(0,a.Z)(s,ln,c),(0,a.Z)(s,cn,d),(0,a.Z)(s,dn,f),(0,a.Z)(s,on,n?d:f),(0,a.Z)(s,sn,n?f:d),s);switch(null===(u={inline:p,horizontal:h,vertical:m,inlineSub:p,horizontalSub:m,verticalSub:m}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case d:return{offset:1,sibling:!1};default:return null}}(e,1===s(w,!0).length,n,m);if(!k&&m!==fn&&m!==pn)return;(hn.includes(m)||[fn,pn].includes(m))&&l.preventDefault();var S=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=b.get(e);u(r),h(),f.current=(0,v.Z)((function(){p.current===r&&t.focus()}))}};if([fn,pn].includes(m)||k.sibling||!A){var C,I,E=mn(C=A&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(A):i.current,g);I=m===fn?E[0]:m===pn?E[E.length-1]:gn(C,g,A,k.offset),S(I)}else if(k.inlineTrigger)c(w);else if(k.offset>0)c(w,!0),h(),f.current=(0,v.Z)((function(){x();var e=A.getAttribute("aria-controls"),t=gn(document.getElementById(e),g);S(t)}),5);else if(k.offset<0){var T=s(w,!0),N=T[T.length-2],O=y.get(N);c(N,!1),S(O)}}null===d||void 0===d||d(l)}}var yn=Math.random().toFixed(5).toString().slice(2),bn=0;var xn="__RC_UTIL_PATH_SPLIT__",An=function(e){return e.join(xn)},wn="rc-menu-more";function kn(){var e=l.useState({}),t=(0,i.Z)(e,2)[1],n=(0,l.useRef)(new Map),r=(0,l.useRef)(new Map),a=l.useState([]),o=(0,i.Z)(a,2),s=o[0],u=o[1],c=(0,l.useRef)(0),d=(0,l.useRef)(!1),f=(0,l.useCallback)((function(e,a){var i=An(a);r.current.set(i,e),n.current.set(e,i),c.current+=1;var o,s=c.current;o=function(){s===c.current&&(d.current||t({}))},Promise.resolve().then(o)}),[]),p=(0,l.useCallback)((function(e,t){var a=An(t);r.current.delete(a),n.current.delete(e)}),[]),h=(0,l.useCallback)((function(e){u(e)}),[]),m=(0,l.useCallback)((function(e,t){var r=n.current.get(e)||"",a=r.split(xn);return t&&s.includes(a[0])&&a.unshift(wn),a}),[s]),v=(0,l.useCallback)((function(e,t){return e.some((function(e){return m(e,!0).includes(t)}))}),[m]),y=(0,l.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(xn),a=new Set;return(0,g.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&a.add(r.current.get(e))})),a}),[]);return l.useEffect((function(){return function(){d.current=!0}}),[]),{registerPath:f,unregisterPath:p,refreshOverflowKeys:h,isSubPathKey:v,getKeyPath:m,getKeys:function(){var e=(0,g.Z)(n.current.keys());return s.length&&e.push(wn),e},getSubPathKeys:y}}var Sn=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Cn=[],In=l.forwardRef((function(e,t){var n,o,c=e.prefixCls,f=void 0===c?"rc-menu":c,p=e.rootClassName,h=e.style,v=e.className,y=e.tabIndex,b=void 0===y?0:y,x=e.items,A=e.children,w=e.direction,k=e.id,S=e.mode,C=void 0===S?"vertical":S,I=e.inlineCollapsed,E=e.disabled,T=e.disabledOverflow,N=e.subMenuOpenDelay,O=void 0===N?.1:N,P=e.subMenuCloseDelay,_=void 0===P?.1:P,M=e.forceSubMenuRender,R=e.defaultOpenKeys,F=e.openKeys,D=e.activeKey,L=e.defaultActiveFirst,z=e.selectable,Z=void 0===z||z,W=e.multiple,B=void 0!==W&&W,j=e.defaultSelectedKeys,V=e.selectedKeys,H=e.onSelect,U=e.onDeselect,G=e.inlineIndent,X=void 0===G?24:G,Y=e.motion,q=e.defaultMotions,K=e.triggerSubMenuAction,J=void 0===K?"hover":K,Q=e.builtinPlacements,$=e.itemIcon,ee=e.expandIcon,te=e.overflowedIndicator,ne=void 0===te?"...":te,re=e.overflowedIndicatorPopupClassName,ae=e.getPopupContainer,ie=e.onClick,oe=e.onOpenChange,se=e.onKeyDown,le=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),ce=e._internalRenderSubMenuItem,de=(0,s.Z)(e,Sn),fe=l.useMemo((function(){return it(A,x,Cn)}),[A,x]),pe=l.useState(!1),he=(0,i.Z)(pe,2),me=he[0],ge=he[1],ve=l.useRef(),ye=function(e){var t=m(e,{value:e}),n=(0,i.Z)(t,2),r=n[0],a=n[1];return l.useEffect((function(){bn+=1;var e="".concat(yn,"-").concat(bn);a("rc-menu-uuid-".concat(e))}),[]),r}(k),be="rtl"===w;var xe=l.useMemo((function(){return"inline"!==C&&"vertical"!==C||!I?[C,!1]:["vertical",I]}),[C,I]),Ae=(0,i.Z)(xe,2),we=Ae[0],ke=Ae[1],Se=l.useState(0),Ce=(0,i.Z)(Se,2),Ie=Ce[0],Ee=Ce[1],Te=Ie>=fe.length-1||"horizontal"!==we||T,Oe=m(R,{value:F,postState:function(e){return e||Cn}}),Pe=(0,i.Z)(Oe,2),_e=Pe[0],Me=Pe[1],Fe=function(e){Me(e),null===oe||void 0===oe||oe(e)},De=l.useState(_e),ze=(0,i.Z)(De,2),Ze=ze[0],We=ze[1],je="inline"===we,Ve=l.useRef(!1);l.useEffect((function(){je&&We(_e)}),[_e]),l.useEffect((function(){Ve.current?je?Me(Ze):Fe(Cn):Ve.current=!0}),[je]);var He=kn(),Ye=He.registerPath,Ke=He.unregisterPath,Je=He.refreshOverflowKeys,Qe=He.isSubPathKey,$e=He.getKeyPath,et=He.getKeys,nt=He.getSubPathKeys,rt=l.useMemo((function(){return{registerPath:Ye,unregisterPath:Ke}}),[Ye,Ke]),at=l.useMemo((function(){return{isSubPathKey:Qe}}),[Qe]);l.useEffect((function(){Je(Te?Cn:fe.slice(Ie+1).map((function(e){return e.key})))}),[Ie,Te]);var st=m(D||L&&(null===(n=fe[0])||void 0===n?void 0:n.key),{value:D}),ut=(0,i.Z)(st,2),lt=ut[0],ct=ut[1],dt=ot((function(e){ct(e)})),ft=ot((function(){ct(void 0)}));(0,l.useImperativeHandle)(t,(function(){return{list:ve.current,focus:function(e){var t,n,r,a,i=null!==lt&&void 0!==lt?lt:null===(t=fe.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;i&&(null===(n=ve.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(Xe(ye,i),"']")))||void 0===r||null===(a=r.focus)||void 0===a||a.call(r,e))}}}));var pt=m(j||[],{value:V,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Cn:[e]}}),ht=(0,i.Z)(pt,2),mt=ht[0],gt=ht[1],vt=ot((function(e){null===ie||void 0===ie||ie(Le(e)),function(e){if(Z){var t,n=e.key,r=mt.includes(n);t=B?r?mt.filter((function(e){return e!==n})):[].concat((0,g.Z)(mt),[n]):[n],gt(t);var a=(0,u.Z)((0,u.Z)({},e),{},{selectedKeys:t});r?null===U||void 0===U||U(a):null===H||void 0===H||H(a)}!B&&_e.length&&"inline"!==we&&Fe(Cn)}(e)})),yt=ot((function(e,t){var n=_e.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==we){var r=nt(e);n=n.filter((function(e){return!r.has(e)}))}ue()(_e,n)||Fe(n)})),bt=ot(ae),xt=vn(we,lt,be,ye,ve,et,$e,ct,(function(e,t){var n=null!==t&&void 0!==t?t:!_e.includes(e);yt(e,n)}),se);l.useEffect((function(){ge(!0)}),[]);var At=l.useMemo((function(){return{_internalRenderMenuItem:le,_internalRenderSubMenuItem:ce}}),[le,ce]),wt="horizontal"!==we||T?fe:fe.map((function(e,t){return l.createElement(Re,{key:e.key,overflowDisabled:t>Ie},e)})),kt=l.createElement(Ne,(0,r.Z)({id:k,ref:ve,prefixCls:"".concat(f,"-overflow"),component:"ul",itemComponent:tt,className:d()(f,"".concat(f,"-root"),"".concat(f,"-").concat(we),v,(o={},(0,a.Z)(o,"".concat(f,"-inline-collapsed"),ke),(0,a.Z)(o,"".concat(f,"-rtl"),be),o),p),dir:w,style:h,role:"menu",tabIndex:b,data:wt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?fe.slice(-t):null;return l.createElement(nn,{eventKey:wn,title:ne,disabled:Te,internalPopupClose:0===t,popupClassName:re},n)},maxCount:"horizontal"!==we||T?Ne.INVALIDATE:Ne.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ee(e)},onKeyDown:xt},de));return l.createElement(qe.Provider,{value:At},l.createElement(Ge.Provider,{value:ye},l.createElement(Re,{prefixCls:f,rootClassName:p,mode:we,openKeys:_e,rtl:be,disabled:E,motion:me?Y:null,defaultMotions:me?q:null,activeKey:lt,onActive:dt,onInactive:ft,selectedKeys:mt,inlineIndent:X,subMenuOpenDelay:O,subMenuCloseDelay:_,forceSubMenuRender:M,builtinPlacements:Q,triggerSubMenuAction:J,getPopupContainer:bt,itemIcon:$,expandIcon:ee,onItemClick:vt,onOpenChange:yt},l.createElement(Ue.Provider,{value:at},kt),l.createElement("div",{style:{display:"none"},"aria-hidden":!0},l.createElement(Be.Provider,{value:rt},fe)))))})),En=["className","title","eventKey","children"],Tn=["children"],Nn=function(e){var t=e.className,n=e.title,a=(e.eventKey,e.children),i=(0,s.Z)(e,En),o=l.useContext(Me).prefixCls,u="".concat(o,"-item-group");return l.createElement("li",(0,r.Z)({},i,{onClick:function(e){return e.stopPropagation()},className:d()(u,t)}),l.createElement("div",{className:"".concat(u,"-title"),title:"string"===typeof n?n:void 0},n),l.createElement("ul",{className:"".concat(u,"-list")},a))};function On(e){var t=e.children,n=(0,s.Z)(e,Tn),r=rt(t,He(n.eventKey));return je()?r:l.createElement(Nn,Oe(n,["warnKey"]),r)}function Pn(e){var t=e.className,n=e.style,r=l.useContext(Me).prefixCls;return je()?null:l.createElement("li",{className:d()("".concat(r,"-item-divider"),t),style:n})}var _n=In;_n.Item=tt,_n.SubMenu=nn,_n.ItemGroup=On,_n.Divider=Pn;var Mn=_n,Rn={adjustX:1,adjustY:1},Fn=[0,0],Dn={topLeft:{points:["bl","tl"],overflow:Rn,offset:[0,-4],targetOffset:Fn},topCenter:{points:["bc","tc"],overflow:Rn,offset:[0,-4],targetOffset:Fn},topRight:{points:["br","tr"],overflow:Rn,offset:[0,-4],targetOffset:Fn},bottomLeft:{points:["tl","bl"],overflow:Rn,offset:[0,4],targetOffset:Fn},bottomCenter:{points:["tc","bc"],overflow:Rn,offset:[0,4],targetOffset:Fn},bottomRight:{points:["tr","br"],overflow:Rn,offset:[0,4],targetOffset:Fn}},Ln=ne.ESC,zn=ne.TAB;var Zn=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Wn(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.prefixCls,c=void 0===o?"rc-dropdown":o,f=e.transitionName,p=e.animation,h=e.align,m=e.placement,g=void 0===m?"bottomLeft":m,y=e.placements,b=void 0===y?Dn:y,x=e.getPopupContainer,A=e.showAction,w=e.hideAction,k=e.overlayClassName,S=e.overlayStyle,C=e.visible,I=e.trigger,E=void 0===I?["hover"]:I,T=e.autoFocus,N=(0,s.Z)(e,Zn),O=l.useState(),P=(0,i.Z)(O,2),_=P[0],M=P[1],R="visible"in e?C:_,F=l.useRef(null);l.useImperativeHandle(t,(function(){return F.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,a=e.onVisibleChange,i=e.autoFocus,o=l.useRef(!1),s=function(){var e,i,o,s;t&&r.current&&(null===(e=r.current)||void 0===e||null===(i=e.triggerRef)||void 0===i||null===(o=i.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),n(!1),"function"===typeof a&&a(!1))},u=function(){var e,t,n,a,i=an(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(a=n.getElement)||void 0===a?void 0:a.call(n))[0];return!!(null===i||void 0===i?void 0:i.focus)&&(i.focus(),o.current=!0,!0)},c=function(e){switch(e.keyCode){case Ln:s();break;case zn:var t=!1;o.current||(t=u()),t?e.preventDefault():s()}};l.useEffect((function(){return t?(window.addEventListener("keydown",c),i&&(0,v.Z)(u,3),function(){window.removeEventListener("keydown",c),o.current=!1}):function(){o.current=!1}}),[t])}({visible:R,setTriggerVisible:M,triggerRef:F,onVisibleChange:e.onVisibleChange,autoFocus:T});var D=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return l.createElement(l.Fragment,null,r&&l.createElement("div",{className:"".concat(c,"-arrow")}),t)},L=w;return L||-1===E.indexOf("contextMenu")||(L=["click"]),l.createElement(Ut,(0,u.Z)((0,u.Z)({builtinPlacements:b},N),{},{prefixCls:c,ref:F,popupClassName:d()(k,(0,a.Z)({},"".concat(c,"-show-arrow"),r)),popupStyle:S,action:E,showAction:A,hideAction:L||[],popupPlacement:g,popupAlign:h,popupTransitionName:f,popupAnimation:p,popupVisible:R,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?D:D(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;M(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;M(!1),n&&n(t)},getPopupContainer:x}),function(){var t=e.children,n=t.props?t.props:{},r=d()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(c,"-open")}());return R&&t?l.cloneElement(t,{className:r}):t}())}var Bn=l.forwardRef(Wn);function jn(e,t){var n=e.prefixCls,r=e.editable,a=e.locale,i=e.style;return r&&!1!==r.showAdd?l.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var Vn=l.forwardRef(jn);function Hn(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,s=e.locale,u=e.mobile,c=e.moreIcon,f=void 0===c?"More":c,p=e.moreTransitionName,h=e.style,m=e.className,g=e.editable,v=e.tabBarGutter,y=e.rtl,b=e.removeAriaLabel,x=e.onTabClick,A=e.popupClassName,w=(0,l.useState)(!1),k=(0,i.Z)(w,2),S=k[0],C=k[1],I=(0,l.useState)(null),E=(0,i.Z)(I,2),T=E[0],N=E[1],O="".concat(r,"-more-popup"),P="".concat(n,"-dropdown"),_=null!==T?"".concat(O,"-").concat(T):null,M=null===s||void 0===s?void 0:s.dropdownAriaLabel;var R=l.createElement(Mn,{onClick:function(e){var t=e.key,n=e.domEvent;x(t,n),C(!1)},prefixCls:"".concat(P,"-menu"),id:O,tabIndex:-1,role:"listbox","aria-activedescendant":_,selectedKeys:[T],"aria-label":void 0!==M?M:"expanded dropdown"},o.map((function(e){var t=g&&!1!==e.closable&&!e.disabled;return l.createElement(tt,{key:e.key,id:"".concat(O,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},l.createElement("span",null,e.tab),t&&l.createElement("button",{type:"button","aria-label":b||"remove",tabIndex:0,className:"".concat(P,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),g.onEdit("remove",{key:r,event:n})}},e.closeIcon||g.removeIcon||"\xd7"))})));function F(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===T}))||0,r=t.length,a=0;a<r;a+=1){var i=t[n=(n+e+r)%r];if(!i.disabled)return void N(i.key)}}(0,l.useEffect)((function(){var e=document.getElementById(_);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[T]),(0,l.useEffect)((function(){S||N(null)}),[S]);var D=(0,a.Z)({},y?"marginRight":"marginLeft",v);o.length||(D.visibility="hidden",D.order=1);var L=d()((0,a.Z)({},"".concat(P,"-rtl"),y)),z=u?null:l.createElement(Bn,{prefixCls:P,overlay:R,trigger:["hover"],visible:S,transitionName:p,onVisibleChange:C,overlayClassName:d()(L,A),mouseEnterDelay:.1,mouseLeaveDelay:.1},l.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:D,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":O,id:"".concat(r,"-more"),"aria-expanded":S,onKeyDown:function(e){var t=e.which;if(S)switch(t){case ne.UP:F(-1),e.preventDefault();break;case ne.DOWN:F(1),e.preventDefault();break;case ne.ESC:C(!1);break;case ne.SPACE:case ne.ENTER:null!==T&&x(T,e)}else[ne.DOWN,ne.SPACE,ne.ENTER].includes(t)&&(C(!0),e.preventDefault())}},f));return l.createElement("div",{className:d()("".concat(n,"-nav-operations"),m),style:h,ref:t},z,l.createElement(Vn,{prefixCls:n,locale:s,editable:g}))}var Un=l.memo(l.forwardRef(Hn),(function(e,t){return t.tabMoving})),Gn=(0,l.createContext)(null),Xn=Math.pow(.995,20);function Yn(e,t){var n=l.useRef(e),r=l.useState({}),a=(0,i.Z)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,a({})}]}var qn=function(e){var t,n=e.position,r=e.prefixCls,a=e.extra;if(!a)return null;var i={};return a&&"object"===(0,o.Z)(a)&&!l.isValidElement(a)?i=a:i.right=a,"right"===n&&(t=i.right),"left"===n&&(t=i.left),t?l.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function Kn(e,t){var n,o=l.useContext(Gn),s=o.prefixCls,c=o.tabs,f=e.className,p=e.style,h=e.id,m=e.animated,y=e.activeKey,b=e.rtl,x=e.extra,A=e.editable,w=e.locale,k=e.tabPosition,S=e.tabBarGutter,C=e.children,I=e.onTabClick,E=e.onTabScroll,T=(0,l.useRef)(),N=(0,l.useRef)(),O=(0,l.useRef)(),P=(0,l.useRef)(),_=function(){var e=(0,l.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,l.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),M=(0,i.Z)(_,2),R=M[0],F=M[1],D="top"===k||"bottom"===k,L=Yn(0,(function(e,t){D&&E&&E({direction:e>t?"left":"right"})})),z=(0,i.Z)(L,2),Z=z[0],W=z[1],B=Yn(0,(function(e,t){!D&&E&&E({direction:e>t?"top":"bottom"})})),j=(0,i.Z)(B,2),V=j[0],H=j[1],U=(0,l.useState)(0),G=(0,i.Z)(U,2),X=G[0],Y=G[1],q=(0,l.useState)(0),K=(0,i.Z)(q,2),J=K[0],Q=K[1],te=(0,l.useState)(null),ne=(0,i.Z)(te,2),re=ne[0],se=ne[1],ue=(0,l.useState)(null),le=(0,i.Z)(ue,2),ce=le[0],de=le[1],fe=(0,l.useState)(0),pe=(0,i.Z)(fe,2),he=pe[0],me=pe[1],ge=(0,l.useState)(0),ve=(0,i.Z)(ge,2),ye=ve[0],be=ve[1],xe=function(e){var t=(0,l.useRef)([]),n=(0,l.useState)({}),r=(0,i.Z)(n,2)[1],a=(0,l.useRef)("function"===typeof e?e():e),o=ee((function(){var e=a.current;t.current.forEach((function(t){e=t(e)})),t.current=[],a.current=e,r({})}));return[a.current,function(e){t.current.push(e),o()}]}(new Map),Ae=(0,i.Z)(xe,2),we=Ae[0],ke=Ae[1],Se=function(e,t,n){return(0,l.useMemo)((function(){for(var n,r=new Map,a=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||ie,i=a.left+a.width,o=0;o<e.length;o+=1){var s,l=e[o].key,c=t.get(l);c||(c=t.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||ie);var d=r.get(l)||(0,u.Z)({},c);d.right=i-d.left-d.width,r.set(l,d)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(c,we,X),Ce="".concat(s,"-nav-operations-hidden"),Ie=0,Ee=0;function Te(e){return e<Ie?Ie:e>Ee?Ee:e}D?b?(Ie=0,Ee=Math.max(0,X-re)):(Ie=Math.min(0,re-X),Ee=0):(Ie=Math.min(0,ce-J),Ee=0);var Ne=(0,l.useRef)(),Oe=(0,l.useState)(),Pe=(0,i.Z)(Oe,2),_e=Pe[0],Me=Pe[1];function Re(){Me(Date.now())}function Fe(){window.clearTimeout(Ne.current)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=Se.get(e)||{width:0,height:0,left:0,right:0,top:0};if(D){var n=Z;b?t.right<Z?n=t.right:t.right+t.width>Z+re&&(n=t.right+t.width-re):t.left<-Z?n=-t.left:t.left+t.width>-Z+re&&(n=-(t.left+t.width-re)),H(0),W(Te(n))}else{var r=V;t.top<-V?r=-t.top:t.top+t.height>-V+ce&&(r=-(t.top+t.height-ce)),W(0),H(Te(r))}}!function(e,t){var n=(0,l.useState)(),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,l.useState)(0),u=(0,i.Z)(s,2),c=u[0],d=u[1],f=(0,l.useState)(0),p=(0,i.Z)(f,2),h=p[0],m=p[1],g=(0,l.useState)(),v=(0,i.Z)(g,2),y=v[0],b=v[1],x=(0,l.useRef)(),A=(0,l.useRef)(),w=(0,l.useRef)(null);w.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(x.current)},onTouchMove:function(e){if(a){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;o({x:r,y:i});var s=r-a.x,u=i-a.y;t(s,u);var l=Date.now();d(l),m(l-c),b({x:s,y:u})}},onTouchEnd:function(){if(a&&(o(null),b(null),y)){var e=y.x/h,n=y.y/h,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<.1)return;var s=e,u=n;x.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(u)<.01?window.clearInterval(x.current):t(20*(s*=Xn),20*(u*=Xn))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,a=0,i=Math.abs(n),o=Math.abs(r);i===o?a="x"===A.current?n:r:i>o?(a=n,A.current="x"):(a=r,A.current="y"),t(-a,-a)&&e.preventDefault()}},l.useEffect((function(){function t(e){w.current.onTouchMove(e)}function n(e){w.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){w.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){w.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(T,(function(e,t){function n(e,t){e((function(e){return Te(e+t)}))}if(D){if(re>=X)return!1;n(W,e)}else{if(ce>=J)return!1;n(H,t)}return Fe(),Re(),!0})),(0,l.useEffect)((function(){return Fe(),_e&&(Ne.current=window.setTimeout((function(){Me(0)}),100)),Fe}),[_e]);var Le=function(e,t,n,r,a){var i,o,s,u=a.tabs,c=a.tabPosition,d=a.rtl;["top","bottom"].includes(c)?(i="width",o=d?"right":"left",s=Math.abs(t.left)):(i="height",o="top",s=-t.top);var f=t[i],p=n[i],h=r[i],m=f;return p+h>f&&p<f&&(m=f-h),(0,l.useMemo)((function(){if(!u.length)return[0,0];for(var t=u.length,n=t,r=0;r<t;r+=1){var a=e.get(u[r].key)||oe;if(a[o]+a[i]>s+m){n=r-1;break}}for(var l=0,c=t-1;c>=0;c-=1)if((e.get(u[c].key)||oe)[o]<s){l=c+1;break}return[l,n]}),[e,s,m,c,u.map((function(e){return e.key})).join("_"),d])}(Se,{width:re,height:ce,left:Z,top:V},{width:X,height:J},{width:he,height:ye},(0,u.Z)((0,u.Z)({},e),{},{tabs:c})),ze=(0,i.Z)(Le,2),Ze=ze[0],We=ze[1],Be={};"top"===k||"bottom"===k?Be[b?"marginRight":"marginLeft"]=S:Be.marginTop=S;var je=c.map((function(e,t){var n=e.key;return l.createElement(ae,{id:h,prefixCls:s,key:n,tab:e,style:0===t?void 0:Be,closable:e.closable,editable:A,active:n===y,renderWrapper:C,removeAriaLabel:null===w||void 0===w?void 0:w.removeAriaLabel,ref:R(n),onClick:function(e){I(n,e)},onRemove:function(){F(n)},onFocus:function(){De(n),Re(),T.current&&(b||(T.current.scrollLeft=0),T.current.scrollTop=0)}})})),Ve=ee((function(){var e,t,n,r,a,i,o=(null===(e=T.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=T.current)||void 0===t?void 0:t.offsetHeight)||0,u=(null===(n=P.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=P.current)||void 0===r?void 0:r.offsetHeight)||0;se(o),de(s),me(u),be(l);var d=((null===(a=N.current)||void 0===a?void 0:a.offsetWidth)||0)-u,f=((null===(i=N.current)||void 0===i?void 0:i.offsetHeight)||0)-l;Y(d),Q(f),ke((function(){var e=new Map;return c.forEach((function(t){var n=t.key,r=R(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),He=c.slice(0,Ze),Ue=c.slice(We+1),Ge=[].concat((0,g.Z)(He),(0,g.Z)(Ue)),Xe=(0,l.useState)(),Ye=(0,i.Z)(Xe,2),qe=Ye[0],Ke=Ye[1],Je=Se.get(y),Qe=(0,l.useRef)();function $e(){v.Z.cancel(Qe.current)}(0,l.useEffect)((function(){var e={};return Je&&(D?(b?e.right=Je.right:e.left=Je.left,e.width=Je.width):(e.top=Je.top,e.height=Je.height)),$e(),Qe.current=(0,v.Z)((function(){Ke(e)})),$e}),[Je,D,b]),(0,l.useEffect)((function(){De()}),[y,Je,Se,D]),(0,l.useEffect)((function(){Ve()}),[b,S,y,c.map((function(e){return e.key})).join("_")]);var et,tt,nt,rt,at=!!Ge.length,it="".concat(s,"-nav-wrap");return D?b?(tt=Z>0,et=Z+re<X):(et=Z<0,tt=-Z+re<X):(nt=V<0,rt=-V+ce<J),l.createElement("div",{ref:t,role:"tablist",className:d()("".concat(s,"-nav"),f),style:p,onKeyDown:function(){Re()}},l.createElement(qn,{position:"left",extra:x,prefixCls:s}),l.createElement($,{onResize:Ve},l.createElement("div",{className:d()(it,(n={},(0,a.Z)(n,"".concat(it,"-ping-left"),et),(0,a.Z)(n,"".concat(it,"-ping-right"),tt),(0,a.Z)(n,"".concat(it,"-ping-top"),nt),(0,a.Z)(n,"".concat(it,"-ping-bottom"),rt),n)),ref:T},l.createElement($,{onResize:Ve},l.createElement("div",{ref:N,className:"".concat(s,"-nav-list"),style:{transform:"translate(".concat(Z,"px, ").concat(V,"px)"),transition:_e?"none":void 0}},je,l.createElement(Vn,{ref:P,prefixCls:s,locale:w,editable:A,style:(0,u.Z)((0,u.Z)({},0===je.length?void 0:Be),{},{visibility:at?"hidden":null})}),l.createElement("div",{className:d()("".concat(s,"-ink-bar"),(0,a.Z)({},"".concat(s,"-ink-bar-animated"),m.inkBar)),style:qe}))))),l.createElement(Un,(0,r.Z)({},e,{removeAriaLabel:null===w||void 0===w?void 0:w.removeAriaLabel,ref:O,prefixCls:s,tabs:Ge,className:!at&&Ce,tabMoving:!!_e})),l.createElement(qn,{position:"right",extra:x,prefixCls:s}))}var Jn=l.forwardRef(Kn);function Qn(e){var t=e.id,n=e.activeKey,r=e.animated,i=e.tabPosition,o=e.rtl,s=e.destroyInactiveTabPane,u=l.useContext(Gn),c=u.prefixCls,f=u.tabs,p=r.tabPane,h=f.findIndex((function(e){return e.key===n}));return l.createElement("div",{className:d()("".concat(c,"-content-holder"))},l.createElement("div",{className:d()("".concat(c,"-content"),"".concat(c,"-content-").concat(i),(0,a.Z)({},"".concat(c,"-content-animated"),p)),style:h&&p?(0,a.Z)({},o?"marginRight":"marginLeft","-".concat(h,"00%")):null},f.map((function(e){return l.cloneElement(e.node,{key:e.key,prefixCls:c,tabKey:e.key,id:t,animated:p,active:e.key===n,destroyInactiveTabPane:s})}))))}function $n(e){var t=e.prefixCls,n=e.forceRender,r=e.className,a=e.style,o=e.id,s=e.active,c=e.animated,f=e.destroyInactiveTabPane,p=e.tabKey,h=e.children,m=l.useState(n),g=(0,i.Z)(m,2),v=g[0],y=g[1];l.useEffect((function(){s?y(!0):f&&y(!1)}),[s,f]);var b={};return s||(c?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),l.createElement("div",{id:o&&"".concat(o,"-panel-").concat(p),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(p),"aria-hidden":!s,style:(0,u.Z)((0,u.Z)({},b),a),className:d()("".concat(t,"-tabpane"),s&&"".concat(t,"-tabpane-active"),r)},(s||v||n)&&h)}var er=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","popupClassName"],tr=0;function nr(e,t){var n,c,h=e.id,g=e.prefixCls,v=void 0===g?"rc-tabs":g,y=e.className,b=e.children,x=e.direction,A=e.activeKey,w=e.defaultActiveKey,k=e.editable,S=e.animated,C=void 0===S?{inkBar:!0,tabPane:!1}:S,I=e.tabPosition,E=void 0===I?"top":I,T=e.tabBarGutter,N=e.tabBarStyle,O=e.tabBarExtraContent,P=e.locale,_=e.moreIcon,M=e.moreTransitionName,R=e.destroyInactiveTabPane,F=e.renderTabBar,D=e.onChange,L=e.onTabClick,z=e.onTabScroll,Z=e.popupClassName,W=(0,s.Z)(e,er),B=function(e){return(0,f.Z)(e).map((function(e){if(l.isValidElement(e)){var t=void 0!==e.key?String(e.key):void 0;return(0,u.Z)((0,u.Z)({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}(b),j="rtl"===x;c=!1===C?{inkBar:!1,tabPane:!1}:!0===C?{inkBar:!0,tabPane:!0}:(0,u.Z)({inkBar:!0,tabPane:!1},"object"===(0,o.Z)(C)?C:{});var V=(0,l.useState)(!1),H=(0,i.Z)(V,2),U=H[0],G=H[1];(0,l.useEffect)((function(){G(p())}),[]);var X=m((function(){var e;return null===(e=B[0])||void 0===e?void 0:e.key}),{value:A,defaultValue:w}),Y=(0,i.Z)(X,2),q=Y[0],K=Y[1],J=(0,l.useState)((function(){return B.findIndex((function(e){return e.key===q}))})),Q=(0,i.Z)(J,2),$=Q[0],ee=Q[1];(0,l.useEffect)((function(){var e,t=B.findIndex((function(e){return e.key===q}));-1===t&&(t=Math.max(0,Math.min($,B.length-1)),K(null===(e=B[t])||void 0===e?void 0:e.key));ee(t)}),[B.map((function(e){return e.key})).join("_"),q,$]);var te=m(null,{value:h}),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ie=E;U&&!["left","right"].includes(E)&&(ie="top"),(0,l.useEffect)((function(){h||(ae("rc-tabs-".concat(tr)),tr+=1)}),[]);var oe,se={id:re,activeKey:q,animated:c,tabPosition:ie,rtl:j,mobile:U},ue=(0,u.Z)((0,u.Z)({},se),{},{editable:k,locale:P,moreIcon:_,moreTransitionName:M,tabBarGutter:T,onTabClick:function(e,t){null===L||void 0===L||L(e,t);var n=e!==q;K(e),n&&(null===D||void 0===D||D(e))},onTabScroll:z,extra:O,style:N,panes:b,popupClassName:Z});return oe=F?F(ue,Jn):l.createElement(Jn,ue),l.createElement(Gn.Provider,{value:{tabs:B,prefixCls:v}},l.createElement("div",(0,r.Z)({ref:t,id:h,className:d()(v,"".concat(v,"-").concat(ie),(n={},(0,a.Z)(n,"".concat(v,"-mobile"),U),(0,a.Z)(n,"".concat(v,"-editable"),k),(0,a.Z)(n,"".concat(v,"-rtl"),j),n),y)},W),oe,l.createElement(Qn,(0,r.Z)({destroyInactiveTabPane:R},se,{animated:c}))))}var rr=l.forwardRef(nr);rr.TabPane=$n;var ar=rr},4903:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7313),a=n(2715);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(i(e)):(0,a.isFragment)(e)&&e.props?n=n.concat(i(e.props.children,t)):n.push(e))})),n}},3233:function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,{Z:function(){return r}})},3879:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1168);function a(e){return e instanceof HTMLElement?e:r.findDOMNode(e)}},727:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313);function a(e,t,n){var a=r.useRef({});return"value"in a.current&&!n(a.current.condition,t)||(a.current.value=e(),a.current.condition=t),a.current.value}},1114:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9439),a=n(7313);function i(e){var t=a.useRef(!1),n=a.useState(e),i=(0,r.Z)(n,2),o=i[0],s=i[1];return a.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||s(e)}]}},5557:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=function(e){return+setTimeout(e,16)},a=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},a=function(e){return window.cancelAnimationFrame(e)});var i=0,o=new Map;function s(e){o.delete(e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=i+=1;function a(t){if(0===t)s(n),e();else{var i=r((function(){a(t-1)}));o.set(n,i)}}return a(t),n}u.cancel=function(e){var t=o.get(e);return s(t),a(t)}},6945:function(e,t,n){"use strict";n.d(t,{Yr:function(){return s},mH:function(){return i},sQ:function(){return o}});var r=n(1002),a=n(2715);n(727);function i(e,t){"function"===typeof e?e(t):"object"===(0,r.Z)(e)&&e&&"current"in e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){i(t,e)}))}}function s(e){var t,n,r=(0,a.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},8240:function(e,t,n){"use strict";var r={};function a(e,t){0}function i(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}t.ZP=function(e,t){i(a,e,t)}},7065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},5824:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.injectCSS=u,t.removeCSS=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e,n);null===r||void 0===r||null===(t=r.parentNode)||void 0===t||t.removeChild(r)},t.updateCSS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s(n);if(!l.has(r)){var a=u("",n),i=a.parentNode;l.set(r,i),i.removeChild(a)}var d=c(t,n);if(d){var f,p,h;if((null===(f=n.csp)||void 0===f?void 0:f.nonce)&&d.nonce!==(null===(p=n.csp)||void 0===p?void 0:p.nonce))d.nonce=null===(h=n.csp)||void 0===h?void 0:h.nonce;return d.innerHTML!==e&&(d.innerHTML=e),d}var m=u(e,n);return m.setAttribute(o(n),t),m};var a=r(n(7065)),i="rc-util-key";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):i}function s(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,a.default)())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=s(n),u=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&u?o.insertBefore(i,u):o.appendChild(i),i}var l=new Map;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s(t);return Array.from(l.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(o(t))===e}))}},7578:function(e,t,n){"use strict";var r=n(862);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=a.useRef({});"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t);return r.current.value};var a=r(n(7313))},6796:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)({},e);Array.isArray(t)&&t.forEach((function(e){delete n[e]}));return n};var a=r(n(1109))},4287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.call=i,t.default=void 0,t.note=a,t.noteOnce=function(e,t){i(a,e,t)},t.resetWarned=function(){n={}},t.warning=r,t.warningOnce=o;var n={};function r(e,t){0}function a(e,t){0}function i(e,t,r){t||n[r]||(e(!1,r),n[r]=!0)}function o(e,t){i(r,e,t)}var s=o;t.default=s},4738:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case m:case u:return e;default:return t}}case a:return t}}}function w(e){return A(e)===d}t.isFragment=function(e){return A(e)===i},t.isMemo=function(e){return A(e)===m}},2715:function(e,t,n){"use strict";e.exports=n(4738)},8446:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(7910)),s=n(7313),u=c(s),l=c(n(5192));function c(e){return e&&e.__esModule?e:{default:e}}window.ApexCharts=o.default;var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return u.default.createRef?n.chartRef=u.default.createRef():n.setRef=function(e){return n.chartRef=e},n.chart=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,s.Component),i(e,[{key:"render",value:function(){var e=this.props,t=(e.type,e.height,e.width,e.series,e.options,function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","height","width","series","options"]));return u.default.createElement("div",a({ref:u.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var e=u.default.createRef?this.chartRef.current:this.chartRef;this.chart=new o.default(e,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var e=this.props,t=e.type,n=e.height,r=e.width,a=e.series,i=e.options,o={chart:{type:t,height:n,width:r},series:a};return this.extend(i,o)}},{key:"isObject",value:function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)&&null!=e}},{key:"extend",value:function(e,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(a){n.isObject(t[a])&&a in e?r[a]=n.extend(e[a],t[a]):Object.assign(r,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,t[a]))})),r}},{key:"componentDidUpdate",value:function(e){if(!this.chart)return null;var t=this.props,n=t.options,r=t.series,a=t.height,i=t.width,o=JSON.stringify(e.options),s=JSON.stringify(e.series),u=JSON.stringify(n),l=JSON.stringify(r);o===u&&s===l&&a===e.height&&i===e.width||(s===l?this.chart.updateOptions(this.getConfig()):o===u&&a===e.height&&i===e.width?this.chart.updateSeries(r):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&"function"==typeof this.chart.destroy&&this.chart.destroy()}}]),e}();(t.Z=d).propTypes={type:l.default.string.isRequired,width:l.default.any,height:l.default.any,series:l.default.array.isRequired,options:l.default.object.isRequired},d.defaultProps={type:"line",width:"100%",height:"auto"}},1718:function(e,t,n){"use strict";var r=n(7313);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=!1;function o(e,t){return i&&(i=!1,"<"!==t[0]&&e.push("\x3c!-- --\x3e")),"\x3c!-- --\x3e"===t?i=!0:e.push(t)}var s=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},c={};function d(e){return!!s.call(c,e)||!s.call(l,e)&&(u.test(e)?c[e]=!0:(l[e]=!0,!1))}function f(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,m);p[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,m);p[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,m);p[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var g={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach((function(e){v.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),g[t]=g[e]}))}));var y=/["'&<>]/;function b(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=y.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}var x=/([A-Z])/g,A=/^ms-/,w=Array.isArray;function k(e,t){return{insertionMode:e,selectedValue:t}}function S(e,t){""!==t&&e.push(b(t),"\x3c!-- --\x3e")}var C=new Map;function I(e,t,n){if("object"!==typeof n)throw Error(a(62));for(var r in t=!0,n)if(s.call(n,r)){var i=n[r];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===r.indexOf("--")){var o=b(r);i=b((""+i).trim())}else{o=r;var u=C.get(o);void 0!==u||(u=b(o.replace(x,"-$1").toLowerCase().replace(A,"-ms-")),C.set(o,u)),o=u,i="number"===typeof i?0===i||s.call(g,r)?""+i:i+"px":b((""+i).trim())}t?(t=!1,e.push(' style="',o,":",i)):e.push(";",o,":",i)}}t||e.push('"')}function E(e,t,n,r){switch(n){case"style":return void I(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=p.hasOwnProperty(n)?p[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',b(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',b(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',b(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',b(r),'"')}}else if(d(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',b(r),'"')}}function T(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!==typeof t||!("__html"in t))throw Error(a(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function N(e,t,n,r){e.push(_(n));var a,i=n=null;for(a in t)if(s.call(t,a)){var o=t[a];if(null!=o)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:E(e,r,a,o)}}return e.push(">"),T(e,i,n),"string"===typeof n?(e.push(b(n)),null):n}var O=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,P=new Map;function _(e){var t=P.get(e);if(void 0===t){if(!O.test(e))throw Error(a(65,e));t="<"+e,P.set(e,t)}return t}function M(e,t,n,i,o){switch(t){case"select":e.push(_("select"));var u=null,l=null;for(h in n)if(s.call(n,h)){var c=n[h];if(null!=c)switch(h){case"children":u=c;break;case"dangerouslySetInnerHTML":l=c;break;case"defaultValue":case"value":break;default:E(e,i,h,c)}}return e.push(">"),T(e,l,u),u;case"option":l=o.selectedValue,e.push(_("option"));var f=c=null,p=null,h=null;for(u in n)if(s.call(n,u)&&null!=(t=n[u]))switch(u){case"children":c=t;break;case"selected":p=t;break;case"dangerouslySetInnerHTML":h=t;break;case"value":f=t;default:E(e,i,u,t)}if(null!=l)if(n=null!==f?""+f:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(c),w(l)){for(i=0;i<l.length;i++)if(""+l[i]===n){e.push(' selected=""');break}}else""+l===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),T(e,h,c),c;case"textarea":for(c in e.push(_("textarea")),h=l=u=null,n)if(s.call(n,c)&&null!=(f=n[c]))switch(c){case"children":h=f;break;case"value":u=f;break;case"defaultValue":l=f;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:E(e,i,c,f)}if(null===u&&null!==l&&(u=l),e.push(">"),null!=h){if(null!=u)throw Error(a(92));if(w(h)&&1<h.length)throw Error(a(93));u=""+h}return"string"===typeof u&&"\n"===u[0]&&e.push("\n"),null!==u&&e.push(b(""+u)),null;case"input":for(l in e.push(_("input")),f=h=c=u=null,n)if(s.call(n,l)&&null!=(p=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"defaultChecked":f=p;break;case"defaultValue":c=p;break;case"checked":h=p;break;case"value":u=p;break;default:E(e,i,l,p)}return null!==h?E(e,i,"checked",h):null!==f&&E(e,i,"checked",f),null!==u?E(e,i,"value",u):null!==c&&E(e,i,"value",c),e.push("/>"),null;case"menuitem":for(var m in e.push(_("menuitem")),n)if(s.call(n,m)&&null!=(u=n[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:E(e,i,m,u)}return e.push(">"),null;case"listing":case"pre":for(f in e.push(_(t)),l=u=null,n)if(s.call(n,f)&&null!=(c=n[f]))switch(f){case"children":u=c;break;case"dangerouslySetInnerHTML":l=c;break;default:E(e,i,f,c)}if(e.push(">"),null!=l){if(null!=u)throw Error(a(60));if("object"!==typeof l||!("__html"in l))throw Error(a(61));null!==(n=l.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof u&&"\n"===u[0]&&e.push("\n"),u;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var g in e.push(_(t)),n)if(s.call(n,g)&&null!=(u=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,t));default:E(e,i,g,u)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return N(e,n,t,i);case"html":return 0===o.insertionMode&&e.push("<!DOCTYPE html>"),N(e,n,t,i);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return N(e,n,t,i);for(p in e.push(_(t)),l=u=null,n)if(s.call(n,p)&&null!=(c=n[p]))switch(p){case"children":u=c;break;case"dangerouslySetInnerHTML":l=c;break;case"style":I(e,i,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:d(p)&&"function"!==typeof c&&"symbol"!==typeof c&&e.push(" ",p,'="',b(c),'"')}return e.push(">"),T(e,l,u),u}}function R(e,t,n){if(o(e,'\x3c!--$?--\x3e<template id="'),null===n)throw Error(a(395));return o(e,n),o(e,'"></template>')}var F=Object.assign,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.scope"),q=Symbol.for("react.debug_trace_mode"),K=Symbol.for("react.legacy_hidden"),J=Symbol.for("react.default_value"),Q=Symbol.iterator;function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case z:return"Fragment";case L:return"Portal";case W:return"Profiler";case Z:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case G:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return $(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,r={};for(n in e)r[n]=t[n];return r}var ne=null;function re(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));re(e,n)}t.context._currentValue2=t.value}}function ae(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ae(e)}function ie(e){var t=e.parent;null!==t&&ie(t),e.context._currentValue2=e.value}function oe(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(a(402));e.depth===t.depth?re(e,t):oe(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(a(402));e.depth===n.depth?re(e,n):se(e,n),t.context._currentValue2=t.value}function ue(e){var t=ne;t!==e&&(null===t?ie(e):null===e?ae(t):t.depth===e.depth?re(t,e):t.depth>e.depth?oe(t,e):se(t,e),ne=e)}var le={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ce(e,t,n,r){var a=void 0!==e.state?e.state:null;e.updater=le,e.props=n,e.state=a;var i={queue:[],replace:!1};e._reactInternals=i;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue2:r,"function"===typeof(o=t.getDerivedStateFromProps)&&(a=null===(o=o(n,a))||void 0===o?a:F({},a,o),e.state=a),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&le.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,o=i.replace,i.queue=null,i.replace=!1,o&&1===t.length)e.state=t[0];else{for(i=o?t[0]:e.state,a=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,i,n,r):s)&&(a?(a=!1,i=F({},i,s)):F(i,s))}e.state=i}else i.queue=null}var de={id:1,overflow:""};function fe(e,t,n){var r=e.id;e=e.overflow;var a=32-pe(r)-1;r&=~(1<<a),n+=1;var i=32-pe(t)+a;if(30<i){var o=a-a%5;return i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,{id:1<<32-pe(t)+a|n<<a|r,overflow:i+e}}return{id:1<<i|n<<a|r,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/me|0)|0},he=Math.log,me=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ve=null,ye=null,be=null,xe=null,Ae=!1,we=!1,ke=0,Se=null,Ce=0;function Ie(){if(null===ve)throw Error(a(321));return ve}function Ee(){if(0<Ce)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function Te(){return null===xe?null===be?(Ae=!1,be=xe=Ee()):(Ae=!0,xe=be):null===xe.next?(Ae=!1,xe=xe.next=Ee()):(Ae=!0,xe=xe.next),xe}function Ne(){ye=ve=null,we=!1,be=null,Ce=0,xe=Se=null}function Oe(e,t){return"function"===typeof t?t(e):t}function Pe(e,t,n){if(ve=Ie(),xe=Te(),Ae){var r=xe.queue;if(t=r.dispatch,null!==Se&&void 0!==(n=Se.get(r))){Se.delete(r),r=xe.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return xe.memoizedState=r,[r,t]}return[xe.memoizedState,t]}return e=e===Oe?"function"===typeof t?t():t:void 0!==n?n(t):t,xe.memoizedState=e,e=(e=xe.queue={last:null,dispatch:null}).dispatch=Me.bind(null,ve,e),[xe.memoizedState,e]}function _e(e,t){if(ve=Ie(),t=void 0===t?null:t,null!==(xe=Te())){var n=xe.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!ge(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),xe.memoizedState=[e,t],e}function Me(e,t,n){if(25<=Ce)throw Error(a(301));if(e===ve)if(we=!0,e={action:n,next:null},null===Se&&(Se=new Map),void 0===(n=Se.get(t)))Se.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function Re(){throw Error(a(394))}function Fe(){}var De={readContext:function(e){return e._currentValue2},useContext:function(e){return Ie(),e._currentValue2},useMemo:_e,useReducer:Pe,useRef:function(e){ve=Ie();var t=(xe=Te()).memoizedState;return null===t?(e={current:e},xe.memoizedState=e):t},useState:function(e){return Pe(Oe,e)},useInsertionEffect:Fe,useLayoutEffect:function(){},useCallback:function(e,t){return _e((function(){return e}),t)},useImperativeHandle:Fe,useEffect:Fe,useDebugValue:Fe,useDeferredValue:function(e){return Ie(),e},useTransition:function(){return Ie(),[!1,Re]},useId:function(){var e=ye.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=Le;if(null===n)throw Error(a(404));return t=ke++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ie(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()}},Le=null,ze=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ze(e){console.error(e)}function We(){}function Be(e,t,n,r,a,i,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:r,abortSet:a,legacyContext:i,context:o,treeContext:s};return a.add(u),u}function je(e,t,n,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n}}function Ve(e,t){(e=e.onError)(t)}function He(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ue(e,t,n,r,a){for(ve={},ye=t,ke=0,e=n(r,a);we;)we=!1,ke=0,Ce+=1,xe=null,e=n(r,a);return Ne(),e}function Ge(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var u in n=n.getChildContext())if(!(u in o))throw Error(a(108,$(r)||"Unknown",u));r=F({},s,n)}t.legacyContext=r,qe(e,t,i),t.legacyContext=s}else qe(e,t,i)}function Xe(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ye(e,t,n,r,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=te(n,t.legacyContext);var o=n.contextType;ce(o=new n(r,"object"===typeof o&&null!==o?o._currentValue2:i),n,r,i),Ge(e,t,o,n)}else{i=Ue(e,t,n,r,o=te(n,t.legacyContext));var s=0!==ke;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)ce(i,n,r,o),Ge(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=fe(r,1,0);try{qe(e,t,i)}finally{t.treeContext=r}}else qe(e,t,i)}else{if("string"!==typeof n){switch(n){case K:case q:case Z:case W:case z:case U:return void qe(e,t,r.children);case Y:throw Error(a(343));case H:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set},l=je(0,i.chunks.length,u,i.formatContext);i.children.push(l);var c=je(0,0,null,i.formatContext);c.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=c;try{if(Je(e,t,r),c.status=1,et(u,c),0===u.pendingTasks)break e}catch(d){c.status=4,Ve(e,d),u.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Be(e,o,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case V:if(r=Ue(e,t,n.render,r,i),0!==ke){n=t.treeContext,t.treeContext=fe(n,1,0);try{qe(e,t,r)}finally{t.treeContext=n}}else qe(e,t,r);return;case G:return void Ye(e,t,n=n.type,r=Xe(n,r),i);case B:if(i=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,ne=r={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,qe(e,t,i),null===(e=ne))throw Error(a(403));return r=e.parentValue,e.context._currentValue2=r===J?e.context._defaultValue:r,e=ne=e.parent,void(t.context=e);case j:return void qe(e,t,r=(r=r.children)(n._currentValue2));case X:return void Ye(e,t,n=(i=n._init)(n._payload),r=Xe(n,r),void 0)}throw Error(a(130,null==n?n:typeof n,""))}switch(o=M((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),s=i.formatContext,i.formatContext=function(e,t,n){switch(t){case"select":return k(1,null!=n.value?n.value:n.defaultValue);case"svg":return k(2,null);case"math":return k(3,null);case"foreignObject":return k(1,null);case"table":return k(4,null);case"thead":case"tbody":case"tfoot":return k(5,null);case"colgroup":return k(7,null);case"tr":return k(6,null)}return 4<=e.insertionMode||0===e.insertionMode?k(1,null):e}(s,n,r),Je(e,t,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}}}function qe(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case D:return void Ye(e,t,n.type,n.props,n.ref);case L:throw Error(a(257));case X:var r=n._init;return void qe(e,t,n=r(n._payload))}if(w(n))return void Ke(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=Q&&n[Q]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);Ke(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(t=t.blockedSegment.chunks,e.responseState.generateStaticMarkup?t.push(b(n)):S(t,n)):"number"===typeof n&&(t=t.blockedSegment.chunks,n=""+n,e.responseState.generateStaticMarkup?t.push(b(n)):S(t,n))}function Ke(e,t,n){for(var r=n.length,a=0;a<r;a++){var i=t.treeContext;t.treeContext=fe(i,r,a);try{Je(e,t,n[a])}finally{t.treeContext=i}}}function Je(e,t,n){var r=t.blockedSegment.formatContext,a=t.legacyContext,i=t.context;try{return qe(e,t,n)}catch(u){if(Ne(),"object"!==typeof u||null===u||"function"!==typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=i,ue(i),u;n=u;var o=t.blockedSegment,s=je(0,o.chunks.length,null,o.formatContext);o.children.push(s),e=Be(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=i,ue(i)}}function Qe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function $e(e){var t=e.blockedBoundary;e.blockedSegment.status=3,null===t?(this.allPendingTasks--,2!==this.status&&(this.status=2,null!==this.destination&&this.destination.push(null))):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach($e,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,0===this.allPendingTasks&&(e=this.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=We,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Qe,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=ze.current;ze.current=De;var r=Le;Le=e.responseState;try{var a,i=e.pingedTasks;for(a=0;a<i.length;a++){var o=i[a],s=e,u=o.blockedSegment;if(0===u.status){ue(o.context);try{qe(s,o,o.node),o.abortSet.delete(o),u.status=1,tt(s,o.blockedBoundary,u)}catch(f){if(Ne(),"object"===typeof f&&null!==f&&"function"===typeof f.then){var l=o.ping;f.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,d=f;if(Ve(s,d),null===c?He(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,a),null!==e.destination&&ut(e,e.destination)}catch(f){Ve(e,f),He(e,f)}finally{Le=r,ze.current=n,n===De&&ue(t)}}}function rt(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return e=e.responseState,o(t,'<template id="'),o(t,e.placeholderPrefix),o(t,e=r.toString(16)),o(t,'"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var u=0;u<n.length;u++){for(i=n[u];s<i.index;s++)o(t,r[s]);i=at(e,t,i)}for(;s<r.length-1;s++)o(t,r[s]);return s<r.length&&(i=o(t,r[s])),i;default:throw Error(a(390))}}function at(e,t,n){var r=n.boundary;if(null===r)return rt(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||o(t,"\x3c!--$!--\x3e"),rt(e,t,n),e=!!e.responseState.generateStaticMarkup||o(t,"\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,R(t,e.responseState,r),rt(e,t,n),o(t,"\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),R(t,e.responseState,r.id),rt(e,t,n),o(t,"\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||o(t,"\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(a(391));return at(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||o(t,"\x3c!--/$--\x3e")}function it(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return o(e,'<div hidden id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 2:return o(e,'<svg aria-hidden="true" style="display:none" id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 3:return o(e,'<math aria-hidden="true" style="display:none" id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 4:return o(e,'<table hidden id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 5:return o(e,'<table hidden><tbody id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 6:return o(e,'<table hidden><tr id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');case 7:return o(e,'<table hidden><colgroup id="'),o(e,t.segmentPrefix),o(e,t=r.toString(16)),o(e,'">');default:throw Error(a(397))}}(t,e.responseState,n.formatContext,n.id),at(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return o(e,"</div>");case 2:return o(e,"</svg>");case 3:return o(e,"</math>");case 4:return o(e,"</table>");case 5:return o(e,"</tbody></table>");case 6:return o(e,"</tr></table>");case 7:return o(e,"</colgroup></table>");default:throw Error(a(397))}}(t,n.formatContext)}function ot(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)st(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,o(t,e.startInlineScript),e.sentCompleteBoundaryFunction?o(t,'$RC("'):(e.sentCompleteBoundaryFunction=!0,o(t,'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(a(395));return n=n.toString(16),o(t,r),o(t,'","'),o(t,e.segmentPrefix),o(t,n),o(t,'")<\/script>')}function st(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return it(e,t,r)}return it(e,t,r),o(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?o(t,'$RS("'):(e.sentCompleteSegmentFunction=!0,o(t,'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),o(t,e.segmentPrefix),o(t,i=i.toString(16)),o(t,'","'),o(t,e.placeholderPrefix),o(t,i),o(t,'")<\/script>')}function ut(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){at(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)o(t,r[n]);n<r.length&&o(t,r[n])}var i,s=e.clientRenderedBoundaries;for(i=0;i<s.length;i++){r=t;var u=e.responseState,l=s[i].id;if(o(r,u.startInlineScript),u.sentClientRenderFunction?o(r,'$RX("'):(u.sentClientRenderFunction=!0,o(r,'function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("')),null===l)throw Error(a(395));if(o(r,l),!o(r,'")<\/script>'))return e.destination=null,i++,void s.splice(0,i)}s.splice(0,i);var c=e.completedBoundaries;for(i=0;i<c.length;i++)if(!ot(e,t,c[i]))return e.destination=null,i++,void c.splice(0,i);c.splice(0,i);var d=e.partialBoundaries;for(i=0;i<d.length;i++){var f=d[i];e:{s=e,u=t;var p=f.completedSegments;for(l=0;l<p.length;l++)if(!st(s,u,f,p[l])){l++,p.splice(0,l);var h=!1;break e}p.splice(0,l),h=!0}if(!h)return e.destination=null,i++,void d.splice(0,i)}d.splice(0,i);var m=e.completedBoundaries;for(i=0;i<m.length;i++)if(!ot(e,t,m[i]))return e.destination=null,i++,void m.splice(0,i);m.splice(0,i)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function lt(){}function ct(e,t,n){var r=!1,i=null,o="",s={push:function(e){return null!==e&&(o+=e),!0},destroy:function(e){r=!0,i=e}},u=!1;if(e=function(e,t,n,r,a,i,o,s,u){var l=[],c=new Set;return(n=je(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===a?Ze:a,onAllReady:void 0===i?We:i,onShellReady:void 0===o?We:o,onShellError:void 0===s?We:s,onFatalError:void 0===u?We:u},0,null,n)).parentFlushed=!0,e=Be(t,e,null,n,c,ee,null,de),l.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,lt,void 0,(function(){u=!0}),void 0,void 0),nt(e),function(e){try{var t=e.abortableTasks;t.forEach($e,e),t.clear(),null!==e.destination&&ut(e,e.destination)}catch(n){Ve(e,n),He(e,n)}}(e),1===e.status)e.status=2,s.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=s;try{ut(e,s)}catch(l){Ve(e,l),He(e,l)}}if(r)throw i;if(!u)throw Error(a(426));return o}t.renderToNodeStream=function(){throw Error(a(207))},t.renderToStaticMarkup=function(e,t){return ct(e,t,!0)},t.renderToStaticNodeStream=function(){throw Error(a(208))},t.renderToString=function(e,t){return ct(e,t,!1)},t.version="18.1.0"},9845:function(e,t,n){"use strict";var r=n(7313);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=null,o=0;function s(e,t){if(0!==t.length)if(512<t.length)0<o&&(e.enqueue(new Uint8Array(i.buffer,0,o)),i=new Uint8Array(512),o=0),e.enqueue(t);else{var n=i.length-o;n<t.length&&(0===n?e.enqueue(i):(i.set(t.subarray(0,n),o),e.enqueue(i),t=t.subarray(n)),i=new Uint8Array(512),o=0),i.set(t,o),o+=t.length}}function u(e,t){return s(e,t),!0}function l(e){i&&0<o&&(e.enqueue(new Uint8Array(i.buffer,0,o)),i=null,o=0)}var c=new TextEncoder;function d(e){return c.encode(e)}function f(e){return c.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function y(e){return!!h.call(v,e)||!h.call(g,e)&&(m.test(e)?v[e]=!0:(g[e]=!0,!1))}function b(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,w);x[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["Webkit","ms","Moz","O"];Object.keys(k).forEach((function(e){S.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k[t]=k[e]}))}));var C=/["'&<>]/;function I(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=C.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}var E=/([A-Z])/g,T=/^ms-/,N=Array.isArray,O=f("<script>"),P=f("<\/script>"),_=f('<script src="'),M=f('<script type="module" src="'),R=f('" async=""><\/script>'),F=/(<\/|<)(s)(cript)/gi;function D(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function L(e,t){return{insertionMode:e,selectedValue:t}}var z=f("\x3c!-- --\x3e"),Z=new Map,W=f(' style="'),B=f(":"),j=f(";");function V(e,t,n){if("object"!==typeof n)throw Error(a(62));for(var r in t=!0,n)if(h.call(n,r)){var i=n[r];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===r.indexOf("--")){var o=d(I(r));i=d(I((""+i).trim()))}else{o=r;var s=Z.get(o);void 0!==s||(s=f(I(o.replace(E,"-$1").toLowerCase().replace(T,"-ms-"))),Z.set(o,s)),o=s,i="number"===typeof i?0===i||h.call(k,r)?d(""+i):d(i+"px"):d(I((""+i).trim()))}t?(t=!1,e.push(W,o,B,i)):e.push(j,o,B,i)}}t||e.push(G)}var H=f(" "),U=f('="'),G=f('"'),X=f('=""');function Y(e,t,n,r){switch(n){case"style":return void V(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=x.hasOwnProperty(n)?x[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=d(t.attributeName),t.type){case 3:r&&e.push(H,n,X);break;case 4:!0===r?e.push(H,n,X):!1!==r&&e.push(H,n,U,d(I(r)),G);break;case 5:isNaN(r)||e.push(H,n,U,d(I(r)),G);break;case 6:!isNaN(r)&&1<=r&&e.push(H,n,U,d(I(r)),G);break;default:t.sanitizeURL&&(r=""+r),e.push(H,n,U,d(I(r)),G)}}else if(y(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(H,d(n),U,d(I(r)),G)}}var q=f(">"),K=f("/>");function J(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!==typeof t||!("__html"in t))throw Error(a(61));null!==(t=t.__html)&&void 0!==t&&e.push(d(""+t))}}var Q=f(' selected=""');function $(e,t,n,r){e.push(re(n));var a,i=n=null;for(a in t)if(h.call(t,a)){var o=t[a];if(null!=o)switch(a){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Y(e,r,a,o)}}return e.push(q),J(e,i,n),"string"===typeof n?(e.push(d(I(n))),null):n}var ee=f("\n"),te=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ne=new Map;function re(e){var t=ne.get(e);if(void 0===t){if(!te.test(e))throw Error(a(65,e));t=f("<"+e),ne.set(e,t)}return t}var ae=f("<!DOCTYPE html>");function ie(e,t,n,i,o){switch(t){case"select":e.push(re("select"));var s=null,u=null;for(p in n)if(h.call(n,p)){var l=n[p];if(null!=l)switch(p){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;case"defaultValue":case"value":break;default:Y(e,i,p,l)}}return e.push(q),J(e,u,s),s;case"option":u=o.selectedValue,e.push(re("option"));var c=l=null,f=null,p=null;for(s in n)if(h.call(n,s)&&null!=(t=n[s]))switch(s){case"children":l=t;break;case"selected":f=t;break;case"dangerouslySetInnerHTML":p=t;break;case"value":c=t;default:Y(e,i,s,t)}if(null!=u)if(n=null!==c?""+c:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l),N(u)){for(i=0;i<u.length;i++)if(""+u[i]===n){e.push(Q);break}}else""+u===n&&e.push(Q);else f&&e.push(Q);return e.push(q),J(e,p,l),l;case"textarea":for(l in e.push(re("textarea")),p=u=s=null,n)if(h.call(n,l)&&null!=(c=n[l]))switch(l){case"children":p=c;break;case"value":s=c;break;case"defaultValue":u=c;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:Y(e,i,l,c)}if(null===s&&null!==u&&(s=u),e.push(q),null!=p){if(null!=s)throw Error(a(92));if(N(p)&&1<p.length)throw Error(a(93));s=""+p}return"string"===typeof s&&"\n"===s[0]&&e.push(ee),null!==s&&e.push(d(I(""+s))),null;case"input":for(u in e.push(re("input")),c=p=l=s=null,n)if(h.call(n,u)&&null!=(f=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"defaultChecked":c=f;break;case"defaultValue":l=f;break;case"checked":p=f;break;case"value":s=f;break;default:Y(e,i,u,f)}return null!==p?Y(e,i,"checked",p):null!==c&&Y(e,i,"checked",c),null!==s?Y(e,i,"value",s):null!==l&&Y(e,i,"value",l),e.push(K),null;case"menuitem":for(var m in e.push(re("menuitem")),n)if(h.call(n,m)&&null!=(s=n[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:Y(e,i,m,s)}return e.push(q),null;case"listing":case"pre":for(c in e.push(re(t)),u=s=null,n)if(h.call(n,c)&&null!=(l=n[c]))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;default:Y(e,i,c,l)}if(e.push(q),null!=u){if(null!=s)throw Error(a(60));if("object"!==typeof u||!("__html"in u))throw Error(a(61));null!==(n=u.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(ee,d(n)):e.push(d(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(ee),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var g in e.push(re(t)),n)if(h.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,t));default:Y(e,i,g,s)}return e.push(K),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return $(e,n,t,i);case"html":return 0===o.insertionMode&&e.push(ae),$(e,n,t,i);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return $(e,n,t,i);for(f in e.push(re(t)),u=s=null,n)if(h.call(n,f)&&null!=(l=n[f]))switch(f){case"children":s=l;break;case"dangerouslySetInnerHTML":u=l;break;case"style":V(e,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:y(f)&&"function"!==typeof l&&"symbol"!==typeof l&&e.push(H,d(f),U,d(I(l)),G)}return e.push(q),J(e,u,s),s}}var oe=f("</"),se=f(">"),ue=f('<template id="'),le=f('"></template>'),ce=f("\x3c!--$--\x3e"),de=f('\x3c!--$?--\x3e<template id="'),fe=f('"></template>'),pe=f("\x3c!--$!--\x3e"),he=f("\x3c!--/$--\x3e");function me(e,t,n){if(s(e,de),null===n)throw Error(a(395));return s(e,n),u(e,fe)}var ge=f('<div hidden id="'),ve=f('">'),ye=f("</div>"),be=f('<svg aria-hidden="true" style="display:none" id="'),xe=f('">'),Ae=f("</svg>"),we=f('<math aria-hidden="true" style="display:none" id="'),ke=f('">'),Se=f("</math>"),Ce=f('<table hidden id="'),Ie=f('">'),Ee=f("</table>"),Te=f('<table hidden><tbody id="'),Ne=f('">'),Oe=f("</tbody></table>"),Pe=f('<table hidden><tr id="'),_e=f('">'),Me=f("</tr></table>"),Re=f('<table hidden><colgroup id="'),Fe=f('">'),De=f("</colgroup></table>");var Le=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ze=f('$RS("'),Ze=f('","'),We=f('")<\/script>'),Be=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),je=f('$RC("'),Ve=f('","'),He=f('")<\/script>'),Ue=f('function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("'),Ge=f('$RX("'),Xe=f('")<\/script>'),Ye=Object.assign,qe=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),Je=Symbol.for("react.fragment"),Qe=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),tt=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),st=Symbol.for("react.scope"),ut=Symbol.for("react.debug_trace_mode"),lt=Symbol.for("react.legacy_hidden"),ct=Symbol.for("react.default_value"),dt=Symbol.iterator;function ft(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Je:return"Fragment";case Ke:return"Portal";case $e:return"Profiler";case Qe:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case tt:return(e.displayName||"Context")+".Consumer";case et:return(e._context.displayName||"Context")+".Provider";case nt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case it:return null!==(t=e.displayName||null)?t:ft(e.type)||"Memo";case ot:t=e._payload,e=e._init;try{return ft(e(t))}catch(n){}}return null}var pt={};function ht(e,t){if(!(e=e.contextTypes))return pt;var n,r={};for(n in e)r[n]=t[n];return r}var mt=null;function gt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));gt(e,n)}t.context._currentValue=t.value}}function vt(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&vt(e)}function yt(e){var t=e.parent;null!==t&&yt(t),e.context._currentValue=e.value}function bt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(a(402));e.depth===t.depth?gt(e,t):bt(e,t)}function xt(e,t){var n=t.parent;if(null===n)throw Error(a(402));e.depth===n.depth?gt(e,n):xt(e,n),t.context._currentValue=t.value}function At(e){var t=mt;t!==e&&(null===t?yt(e):null===e?vt(t):t.depth===e.depth?gt(t,e):t.depth>e.depth?bt(t,e):xt(t,e),mt=e)}var wt={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function kt(e,t,n,r){var a=void 0!==e.state?e.state:null;e.updater=wt,e.props=n,e.state=a;var i={queue:[],replace:!1};e._reactInternals=i;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue:r,"function"===typeof(o=t.getDerivedStateFromProps)&&(a=null===(o=o(n,a))||void 0===o?a:Ye({},a,o),e.state=a),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&wt.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,o=i.replace,i.queue=null,i.replace=!1,o&&1===t.length)e.state=t[0];else{for(i=o?t[0]:e.state,a=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,i,n,r):s)&&(a?(a=!1,i=Ye({},i,s)):Ye(i,s))}e.state=i}else i.queue=null}var St={id:1,overflow:""};function Ct(e,t,n){var r=e.id;e=e.overflow;var a=32-It(r)-1;r&=~(1<<a),n+=1;var i=32-It(t)+a;if(30<i){var o=a-a%5;return i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,{id:1<<32-It(t)+a|n<<a|r,overflow:i+e}}return{id:1<<i|n<<a|r,overflow:e}}var It=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Et(e)/Tt|0)|0},Et=Math.log,Tt=Math.LN2;var Nt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ot=null,Pt=null,_t=null,Mt=null,Rt=!1,Ft=!1,Dt=0,Lt=null,zt=0;function Zt(){if(null===Ot)throw Error(a(321));return Ot}function Wt(){if(0<zt)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function Bt(){return null===Mt?null===_t?(Rt=!1,_t=Mt=Wt()):(Rt=!0,Mt=_t):null===Mt.next?(Rt=!1,Mt=Mt.next=Wt()):(Rt=!0,Mt=Mt.next),Mt}function jt(){Pt=Ot=null,Ft=!1,_t=null,zt=0,Mt=Lt=null}function Vt(e,t){return"function"===typeof t?t(e):t}function Ht(e,t,n){if(Ot=Zt(),Mt=Bt(),Rt){var r=Mt.queue;if(t=r.dispatch,null!==Lt&&void 0!==(n=Lt.get(r))){Lt.delete(r),r=Mt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Mt.memoizedState=r,[r,t]}return[Mt.memoizedState,t]}return e=e===Vt?"function"===typeof t?t():t:void 0!==n?n(t):t,Mt.memoizedState=e,e=(e=Mt.queue={last:null,dispatch:null}).dispatch=Gt.bind(null,Ot,e),[Mt.memoizedState,e]}function Ut(e,t){if(Ot=Zt(),t=void 0===t?null:t,null!==(Mt=Bt())){var n=Mt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!Nt(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Mt.memoizedState=[e,t],e}function Gt(e,t,n){if(25<=zt)throw Error(a(301));if(e===Ot)if(Ft=!0,e={action:n,next:null},null===Lt&&(Lt=new Map),void 0===(n=Lt.get(t)))Lt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function Xt(){throw Error(a(394))}function Yt(){}var qt={readContext:function(e){return e._currentValue},useContext:function(e){return Zt(),e._currentValue},useMemo:Ut,useReducer:Ht,useRef:function(e){Ot=Zt();var t=(Mt=Bt()).memoizedState;return null===t?(e={current:e},Mt.memoizedState=e):t},useState:function(e){return Ht(Vt,e)},useInsertionEffect:Yt,useLayoutEffect:function(){},useCallback:function(e,t){return Ut((function(){return e}),t)},useImperativeHandle:Yt,useEffect:Yt,useDebugValue:Yt,useDeferredValue:function(e){return Zt(),e},useTransition:function(){return Zt(),[!1,Xt]},useId:function(){var e=Pt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-It(e)-1)).toString(32)+t;var n=Kt;if(null===n)throw Error(a(404));return t=Dt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Zt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()}},Kt=null,Jt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qt(e){console.error(e)}function $t(){}function en(e,t,n,r,a,i,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var u={node:t,ping:function(){var t=e.pingedTasks;t.push(u),1===t.length&&gn(e)},blockedBoundary:n,blockedSegment:r,abortSet:a,legacyContext:i,context:o,treeContext:s};return a.add(u),u}function tn(e,t,n,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n}}function nn(e,t){(e=e.onError)(t)}function rn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function an(e,t,n,r,a){for(Ot={},Pt=t,Dt=0,e=n(r,a);Ft;)Ft=!1,Dt=0,zt+=1,Mt=null,e=n(r,a);return jt(),e}function on(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var u in n=n.getChildContext())if(!(u in o))throw Error(a(108,ft(r)||"Unknown",u));r=Ye({},s,n)}t.legacyContext=r,ln(e,t,i),t.legacyContext=s}else ln(e,t,i)}function sn(e,t){if(e&&e.defaultProps){for(var n in t=Ye({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function un(e,t,n,r,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=ht(n,t.legacyContext);var o=n.contextType;kt(o=new n(r,"object"===typeof o&&null!==o?o._currentValue:i),n,r,i),on(e,t,o,n)}else{i=an(e,t,n,r,o=ht(n,t.legacyContext));var s=0!==Dt;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)kt(i,n,r,o),on(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=Ct(r,1,0);try{ln(e,t,i)}finally{t.treeContext=r}}else ln(e,t,i)}else{if("string"!==typeof n){switch(n){case lt:case ut:case Qe:case $e:case Je:case at:return void ln(e,t,r.children);case st:throw Error(a(343));case rt:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children;var u={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set},l=tn(0,i.chunks.length,u,i.formatContext);i.children.push(l);var c=tn(0,0,null,i.formatContext);c.parentFlushed=!0,t.blockedBoundary=u,t.blockedSegment=c;try{if(dn(e,t,r),c.status=1,hn(u,c),0===u.pendingTasks)break e}catch(f){c.status=4,nn(e,f),u.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=i}t=en(e,o,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case nt:if(r=an(e,t,n.render,r,i),0!==Dt){n=t.treeContext,t.treeContext=Ct(n,1,0);try{ln(e,t,r)}finally{t.treeContext=n}}else ln(e,t,r);return;case it:return void un(e,t,n=n.type,r=sn(n,r),i);case et:if(i=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,mt=r={parent:s=mt,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,ln(e,t,i),null===(e=mt))throw Error(a(403));return r=e.parentValue,e.context._currentValue=r===ct?e.context._defaultValue:r,e=mt=e.parent,void(t.context=e);case tt:return void ln(e,t,r=(r=r.children)(n._currentValue));case ot:return void un(e,t,n=(i=n._init)(n._payload),r=sn(n,r),void 0)}throw Error(a(130,null==n?n:typeof n,""))}switch(o=ie((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),s=i.formatContext,i.formatContext=function(e,t,n){switch(t){case"select":return L(1,null!=n.value?n.value:n.defaultValue);case"svg":return L(2,null);case"math":return L(3,null);case"foreignObject":return L(1,null);case"table":return L(4,null);case"thead":case"tbody":case"tfoot":return L(5,null);case"colgroup":return L(7,null);case"tr":return L(6,null)}return 4<=e.insertionMode||0===e.insertionMode?L(1,null):e}(s,n,r),dn(e,t,o),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(oe,d(n),se)}}}function ln(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case qe:return void un(e,t,n.type,n.props,n.ref);case Ke:throw Error(a(257));case ot:var r=n._init;return void ln(e,t,n=r(n._payload))}if(N(n))return void cn(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=dt&&n[dt]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);cn(e,t,i)}return}throw t=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===t?"object with keys {"+Object.keys(n).join(", ")+"}":t))}"string"===typeof n?""!==n&&t.blockedSegment.chunks.push(d(I(n)),z):"number"===typeof n&&(""!==(e=""+n)&&t.blockedSegment.chunks.push(d(I(e)),z))}function cn(e,t,n){for(var r=n.length,a=0;a<r;a++){var i=t.treeContext;t.treeContext=Ct(i,r,a);try{dn(e,t,n[a])}finally{t.treeContext=i}}}function dn(e,t,n){var r=t.blockedSegment.formatContext,a=t.legacyContext,i=t.context;try{return ln(e,t,n)}catch(u){if(jt(),"object"!==typeof u||null===u||"function"!==typeof u.then)throw t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=i,At(i),u;n=u;var o=t.blockedSegment,s=tn(0,o.chunks.length,null,o.formatContext);o.children.push(s),e=en(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=a,t.context=i,At(i)}}function fn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,mn(this,t,e)}function pn(e){var t=e.blockedBoundary;e.blockedSegment.status=3,null===t?(this.allPendingTasks--,2!==this.status&&(this.status=2,null!==this.destination&&this.destination.close())):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach(pn,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,0===this.allPendingTasks&&(e=this.onAllReady)())}function hn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&hn(e,n)}else e.completedSegments.push(t)}function mn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=$t,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&hn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(fn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(hn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function gn(e){if(2!==e.status){var t=mt,n=Jt.current;Jt.current=qt;var r=Kt;Kt=e.responseState;try{var a,i=e.pingedTasks;for(a=0;a<i.length;a++){var o=i[a],s=e,u=o.blockedSegment;if(0===u.status){At(o.context);try{ln(s,o,o.node),o.abortSet.delete(o),u.status=1,mn(s,o.blockedBoundary,u)}catch(f){if(jt(),"object"===typeof f&&null!==f&&"function"===typeof f.then){var l=o.ping;f.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,d=f;if(nn(s,d),null===c?rn(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,a),null!==e.destination&&wn(e,e.destination)}catch(f){nn(e,f),rn(e,f)}finally{Kt=r,Jt.current=n,n===qt&&At(t)}}}function vn(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return e=e.responseState,s(t,ue),s(t,e.placeholderPrefix),s(t,e=d(r.toString(16))),u(t,le);case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var l=0;l<n.length;l++){for(i=n[l];o<i.index;o++)s(t,r[o]);i=yn(e,t,i)}for(;o<r.length-1;o++)s(t,r[o]);return o<r.length&&(i=u(t,r[o])),i;default:throw Error(a(390))}}function yn(e,t,n){var r=n.boundary;if(null===r)return vn(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)u(t,pe),vn(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;i=f(i.boundaryPrefix+o.toString(16)),r=r.id=i,me(t,e.responseState,r),vn(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),me(t,e.responseState,r.id),vn(e,t,n);else{if(u(t,ce),1!==(n=r.completedSegments).length)throw Error(a(391));yn(e,t,n[0])}return u(t,he)}function bn(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return s(e,ge),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,ve);case 2:return s(e,be),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,xe);case 3:return s(e,we),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,ke);case 4:return s(e,Ce),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,Ie);case 5:return s(e,Te),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,Ne);case 6:return s(e,Pe),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,_e);case 7:return s(e,Re),s(e,t.segmentPrefix),s(e,d(r.toString(16))),u(e,Fe);default:throw Error(a(397))}}(t,e.responseState,n.formatContext,n.id),yn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return u(e,ye);case 2:return u(e,Ae);case 3:return u(e,Se);case 4:return u(e,Ee);case 5:return u(e,Oe);case 6:return u(e,Me);case 7:return u(e,De);default:throw Error(a(397))}}(t,n.formatContext)}function xn(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)An(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,je):(e.sentCompleteBoundaryFunction=!0,s(t,Be)),null===r)throw Error(a(395));return n=d(n.toString(16)),s(t,r),s(t,Ve),s(t,e.segmentPrefix),s(t,n),u(t,He)}function An(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return bn(e,t,r)}return bn(e,t,r),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,ze):(e.sentCompleteSegmentFunction=!0,s(t,Le)),s(t,e.segmentPrefix),s(t,i=d(i.toString(16))),s(t,Ze),s(t,e.placeholderPrefix),s(t,i),u(t,We)}function wn(e,t){i=new Uint8Array(512),o=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){yn(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)s(t,r[n]);n<r.length&&u(t,r[n])}var c,d=e.clientRenderedBoundaries;for(c=0;c<d.length;c++){r=t;var f=e.responseState,p=d[c].id;if(s(r,f.startInlineScript),f.sentClientRenderFunction?s(r,Ge):(f.sentClientRenderFunction=!0,s(r,Ue)),null===p)throw Error(a(395));if(s(r,p),!u(r,Xe))return e.destination=null,c++,void d.splice(0,c)}d.splice(0,c);var h=e.completedBoundaries;for(c=0;c<h.length;c++)if(!xn(e,t,h[c]))return e.destination=null,c++,void h.splice(0,c);h.splice(0,c),l(t),i=new Uint8Array(512),o=0;var m=e.partialBoundaries;for(c=0;c<m.length;c++){var g=m[c];e:{d=e,f=t;var v=g.completedSegments;for(p=0;p<v.length;p++)if(!An(d,f,g,v[p])){p++,v.splice(0,p);var y=!1;break e}v.splice(0,p),y=!0}if(!y)return e.destination=null,c++,void m.splice(0,c)}m.splice(0,c);var b=e.completedBoundaries;for(c=0;c<b.length;c++)if(!xn(e,t,b[c]))return e.destination=null,c++,void b.splice(0,c);b.splice(0,c)}finally{l(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function kn(e){try{var t=e.abortableTasks;t.forEach(pn,e),t.clear(),null!==e.destination&&wn(e,e.destination)}catch(n){nn(e,n),rn(e,n)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,r){var a,i,o=new Promise((function(e,t){i=e,a=t})),s=function(e,t,n,r,a,i,o,s,u){var l=[],c=new Set;return(n=tn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===a?Qt:a,onAllReady:void 0===i?$t:i,onShellReady:void 0===o?$t:o,onShellError:void 0===s?$t:s,onFatalError:void 0===u?$t:u},0,null,n)).parentFlushed=!0,e=en(t,e,null,n,c,pt,null,St),l.push(e),t}(e,function(e,t,n,r,a){e=void 0===e?"":e,t=void 0===t?O:f('<script nonce="'+I(t)+'">');var i=[];if(void 0!==n&&i.push(t,d((""+n).replace(F,D)),P),void 0!==r)for(n=0;n<r.length;n++)i.push(_,d(I(r[n])),R);if(void 0!==a)for(r=0;r<a.length;r++)i.push(M,d(I(a[r])),R);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:f(e+"P:"),segmentPrefix:f(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return L("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,p(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{wn(s,e)}catch(t){nn(s,t),rn(s,t)}}},cancel:function(){kn(s)}});e.allReady=o,n(e)}),(function(e){o.catch((function(){})),r(e)}),a);if(t&&t.signal){var u=t.signal;u.addEventListener("abort",(function e(){kn(s),u.removeEventListener("abort",e)}))}gn(s)}))},t.version="18.1.0"},534:function(e,t,n){"use strict";var r=n(7313),a=n(2224);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,L=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var Z=!1;function W(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var u="\n"+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ce(e){if(e=ba(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=Aa(t),we(e.stateNode,e.type,t))}}function Ie(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==ke||null!==Se)&&(Ne(),Ee())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=Aa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Me=!1}function Fe(e,t,n,r,a,i,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var De=!1,Le=null,ze=!1,Ze=null,We={onError:function(e){De=!0,Le=e}};function Be(e,t,n,r,a,i,o,s,u){De=!1,Le=null,Fe.apply(We,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(je(e)!==e)throw Error(i(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return He(a),e;if(o===r)return He(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Xe=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,qe=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,wt,kt,St,Ct,It=!1,Et=[],Tt=null,Nt=null,Ot=null,Pt=new Map,_t=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Dt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Zt(e,t,n){zt(e)&&n.delete(t)}function Wt(){It=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Nt&&zt(Nt)&&(Nt=null),null!==Ot&&zt(Ot)&&(Ot=null),Pt.forEach(Zt),_t.forEach(Zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function jt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==Ot&&Bt(Ot,e),Pt.forEach(t),_t.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function Ut(e,t,n,r){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=a,Vt.transition=i}}function Gt(e,t,n,r){var a=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=a,Vt.transition=i}}function Xt(e,t,n,r){if(Ht){var a=qt(e,t,n,r);if(null===a)Hr(e,t,r,Yt,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,a),!0;case"dragenter":return Nt=Dt(Nt,e,t,n,r,a),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,Dt(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,_t.set(i,Dt(_t.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&At(i),null===(i=qt(e,t,n,r))&&Hr(e,t,r,Yt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function qt(e,t,n,r){if(Yt=null,null!==(e=ya(e=Ae(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=L({},ln,{view:0,detail:0}),fn=an(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),mn=an(L({},pn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(L({},ln,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var In=L({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(In),Tn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=an(Pn),Mn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Fn,Ln=c&&(!Rn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Zn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Un(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Xn=null;function Yn(e){zr(e,0)}function qn(e){if(X(xa(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Qn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Qn=$n}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(e){if("value"===e.propertyName&&qn(Xn)){var t=[];Un(t,Xn,e,Ae(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Xn)}function ir(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},kr={},Sr={};function Cr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=Cr("animationend"),Er=Cr("animationiteration"),Tr=Cr("animationstart"),Nr=Cr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Or.set(e,t),u(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Rr=Pr[Mr];_r(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}_r(Ir,"onAnimationEnd"),_r(Er,"onAnimationIteration"),_r(Tr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,u,l){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Le;De=!1,Le=null,ze||(ze=!0,Ze=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;Lr(a,s,l),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;Lr(a,s,l),i=u}}}if(ze)throw e=Ze,ze=!1,Ze=null,e}function Zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Wr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Wr(t,!1,e),Wr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Wr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var a=Ut;break;case 4:a=Gt;break;default:a=Xt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,a=Ae(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Er:case Tr:u=vn;break;case Nr:u=On;break;case"scroll":u=fn;break;case"wheel":u=_n;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=_e(h,f))&&c.push(Ur(h,m,p)))),d)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!ya(l)&&!l[ha])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ya(l):null)&&(l!==(d=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:xa(u),p=null==l?s:xa(l),(s=new c(m,h+"leave",u,n,a)).target=d,s.relatedTarget=p,m=null,ya(a)===r&&((c=new c(f,h+"enter",l,n,a)).target=p,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(f=l,h=0,p=c=u;p;p=Xr(p))h++;for(p=0,m=f;m;m=Xr(m))p++;for(;0<h-p;)c=Xr(c),h--;for(;0<p-h;)f=Xr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==u&&Yr(o,s,u,c,!1),null!==l&&null!==d&&Yr(o,d,l,c,!0)}if("select"===(u=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Kn;else if(Hn(s))if(Jn)g=or;else{g=ar;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Un(o,g,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xa(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Qt="value"in(Jt=a)?Jt.value:Jt.textContent,jn=!0)),0<(v=Gr(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Zn=!0,zn);case"textInput":return(e=t.data)===zn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Rn&&Wn(e,t)?(e=en(),$t=Qt=Jt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}zr(o,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=_e(e,n))&&r.unshift(Ur(e,i,a)),null!=(i=_e(e,t))&&r.push(Ur(e,i,a))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(u=_e(n,i))&&o.unshift(Ur(n,u,s)):a||null!=(u=_e(n,i))&&o.push(Ur(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);jt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[fa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Aa(e){return e[pa]||null}var wa=[],ka=-1;function Sa(e){return{current:e}}function Ca(e){0>ka||(e.current=wa[ka],wa[ka]=null,ka--)}function Ia(e,t){ka++,wa[ka]=e.current,e.current=t}var Ea={},Ta=Sa(Ea),Na=Sa(!1),Oa=Ea;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _a(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Ca(Na),Ca(Ta)}function Ra(e,t,n){if(Ta.current!==Ea)throw Error(i(168));Ia(Ta,t),Ia(Na,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,V(e)||"Unknown",a));return L({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Oa=Ta.current,Ia(Ta,e),Ia(Na,Na.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fa(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Na),Ca(Ta),Ia(Ta,e)):Ca(Na),Ia(Na,n)}var za=null,Za=!1,Wa=!1;function Ba(e){null===za?za=[e]:za.push(e)}function ja(){if(!Wa&&null!==za){Wa=!0;var e=0,t=bt;try{var n=za;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Za=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Xe($e,ja),a}finally{bt=t,Wa=!1}}return null}var Va=x.ReactCurrentBatchConfig;function Ha(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ua=Sa(null),Ga=null,Xa=null,Ya=null;function qa(){Ya=Xa=Ga=null}function Ka(e){var t=Ua.current;Ca(Ua),e._currentValue=t}function Ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qa(e,t){Ga=e,Ya=Xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(As=!0),e.firstContext=null)}function $a(e){var t=e._currentValue;if(Ya!==e)if(e={context:e,memoizedValue:t,next:null},null===Xa){if(null===Ga)throw Error(i(308));Xa=e,Ga.dependencies={lanes:0,firstContext:e}}else Xa=Xa.next=e;return t}var ei=null,ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ei?ei=[n]:ei.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ui(e,t,n,r){var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?i=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==i){var d=a.baseState;for(o=0,c=l=u=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:ti=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=d}}function li(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var ci=(new r.Component).refs;function di(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fi={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ju(),a=Qu(e),i=ai(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),null!==(t=$u(e,a,r))&&oi(t,e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ju(),a=Qu(e),i=ai(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),null!==(t=$u(e,a,r))&&oi(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ju(),r=Qu(e),a=ai(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),ii(e,a),null!==(t=$u(e,r,n))&&oi(t,e,r)}};function pi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,i))}function hi(e,t,n){var r=!1,a=Ea,i=t.contextType;return"object"===typeof i&&null!==i?i=$a(i):(a=_a(t)?Oa:Ta.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ea),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function mi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function gi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=ci,ni(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=$a(i):(i=_a(t)?Oa:Ta.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(di(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&fi.enqueueReplaceState(a,a.state,null),ui(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}var vi=[],yi=0,bi=null,xi=0,Ai=[],wi=0,ki=null,Si=1,Ci="";function Ii(e,t){vi[yi++]=xi,vi[yi++]=bi,bi=e,xi=t}function Ei(e,t,n){Ai[wi++]=Si,Ai[wi++]=Ci,Ai[wi++]=ki,ki=e;var r=Si;e=Ci;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Si=1<<32-ot(t)+a|n<<a|r,Ci=i+e}else Si=1<<i|n<<a|r,Ci=e}function Ti(e){null!==e.return&&(Ii(e,1),Ei(e,1,0))}function Ni(e){for(;e===bi;)bi=vi[--yi],vi[yi]=null,xi=vi[--yi],vi[yi]=null;for(;e===ki;)ki=Ai[--wi],Ai[wi]=null,Ci=Ai[--wi],Ai[wi]=null,Si=Ai[--wi],Ai[wi]=null}var Oi=null,Pi=null,_i=!1,Mi=null;function Ri(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Fi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oi=e,Pi=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oi=e,Pi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ki?{id:Si,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oi=e,Pi=null,!0);default:return!1}}function Di(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Li(e){if(_i){var t=Pi;if(t){var n=t;if(!Fi(e,t)){if(Di(e))throw Error(i(418));t=la(n.nextSibling);var r=Oi;t&&Fi(e,t)?Ri(r,n):(e.flags=-4097&e.flags|2,_i=!1,Oi=e)}}else{if(Di(e))throw Error(i(418));e.flags=-4097&e.flags|2,_i=!1,Oi=e}}}function zi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oi=e}function Zi(e){if(e!==Oi)return!1;if(!_i)return zi(e),_i=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=Pi)){if(Di(e)){for(e=Pi;e;)e=la(e.nextSibling);throw Error(i(418))}for(;t;)Ri(e,t),t=la(t.nextSibling)}if(zi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pi=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pi=null}}else Pi=Oi?la(e.stateNode.nextSibling):null;return!0}function Wi(){Pi=Oi=null,_i=!1}function Bi(e){null===Mi?Mi=[e]:Mi.push(e)}function ji(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===ci&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hi(e){return(0,e._init)(e._payload)}function Ui(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===_&&Hi(i)===t.type)?((r=a(t,n.props)).ref=ji(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=ji(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ll(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=ji(e,null,t),n.return=e,n;case w:return(t=Ll(t,e.mode,n)).return=e,t;case _:return f(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Rl(t,e.mode,n,null)).return=e,t;Vi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===a?l(e,t,n,r):null;case w:return n.key===a?c(e,t,n,r):null;case _:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:d(e,t,n,r,null);Vi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,a,null);Vi(t,r)}return null}function m(a,i,s,u){for(var l=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(a,d,s[m],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=o(v,i,m),null===c?l=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(a,d),_i&&Ii(a,m),l;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],u))&&(i=o(d,i,m),null===c?l=d:c.sibling=d,c=d);return _i&&Ii(a,m),l}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),_i&&Ii(a,m),l}function g(a,s,u,l){var c=F(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var d=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(a,m),_i&&Ii(a,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(a,y.value,l))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return _i&&Ii(a,g),c}for(m=r(a,m);!y.done;g++,y=u.next())null!==(y=h(m,a,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),_i&&Ii(a,g),c}return function e(r,i,o,u){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case A:e:{for(var l=o.key,c=i;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===_&&Hi(l)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=ji(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((i=Rl(o.props.children,r.mode,u,o.key)).return=r,r=i):((u=Ml(o.type,o.key,o.props,null,r.mode,u)).ref=ji(r,i,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Ll(o,r.mode,u)).return=r,r=i}return s(r);case _:return e(r,i,(c=o._init)(o._payload),u)}if(te(o))return m(r,i,o,u);if(F(o))return g(r,i,o,u);Vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Dl(o,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Gi=Ui(!0),Xi=Ui(!1),Yi={},qi=Sa(Yi),Ki=Sa(Yi),Ji=Sa(Yi);function Qi(e){if(e===Yi)throw Error(i(174));return e}function $i(e,t){switch(Ia(Ji,t),Ia(Ki,e),Ia(qi,Yi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(qi),Ia(qi,t)}function eo(){Ca(qi),Ca(Ki),Ca(Ji)}function to(e){Qi(Ji.current);var t=Qi(qi.current),n=ue(t,e.type);t!==n&&(Ia(Ki,e),Ia(qi,n))}function no(e){Ki.current===e&&(Ca(qi),Ca(Ki))}var ro=Sa(0);function ao(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=[];function oo(){for(var e=0;e<io.length;e++)io[e]._workInProgressVersionPrimary=null;io.length=0}var so=x.ReactCurrentDispatcher,uo=x.ReactCurrentBatchConfig,lo=0,co=null,fo=null,po=null,ho=!1,mo=!1,go=0,vo=0;function yo(){throw Error(i(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,a,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:as,e=n(r,a),mo){o=0;do{if(mo=!1,go=0,25<=o)throw Error(i(301));o+=1,po=fo=null,t.updateQueue=null,so.current=is,e=n(r,a)}while(mo)}if(so.current=ns,t=null!==fo&&null!==fo.next,lo=0,po=fo=co=null,ho=!1,t)throw Error(i(300));return e}function Ao(){var e=0!==go;return go=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?co.memoizedState=po=e:po=po.next=e,po}function ko(){if(null===fo){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?co.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?co.memoizedState=po=e:po=po.next=e}return po}function So(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=fo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((lo&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,co.lanes|=d,Mu|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(As=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,co.lanes|=o,Mu|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=ko(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(As=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eo(){}function To(e,t){var n=co,r=ko(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,As=!0),r=r.queue,Zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,Ro(9,Oo.bind(null,n,r,a,t),void 0,null),null===Iu)throw Error(i(349));0!==(30&lo)||No(n,t,a)}return a}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&$u(e,1,-1)}function Po(e,t,n){return n((function(){_o(t)&&$u(e,1,-1)}))}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,co,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return ko().memoizedState}function Do(e,t,n,r){var a=wo();co.flags|=e,a.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var a=ko();r=void 0===r?null:r;var i=void 0;if(null!==fo){var o=fo.memoizedState;if(i=o.destroy,null!==r&&bo(r,o.deps))return void(a.memoizedState=Ro(t,n,i,r))}co.flags|=e,a.memoizedState=Ro(1|t,n,i,r)}function zo(e,t){return Do(8390656,8,e,t)}function Zo(e,t){return Lo(2048,8,e,t)}function Wo(e,t){return Lo(4,2,e,t)}function Bo(e,t){return Lo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,jo.bind(null,t,e),n)}function Ho(){}function Uo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,As=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),co.lanes|=n,Mu|=n,e.baseState=!0),t)}function Yo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{bt=n,uo.transition=r}}function qo(){return ko().memoizedState}function Ko(e,t,n){var r=Qu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(es(e,t,n),null!==(e=$u(e,r,n=Ju()))&&ts(e,t,r))}function Jo(e,t,n){var r=Qu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,a);else{es(e,t,a);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o))return}catch(u){}null!==(e=$u(e,r,n=Ju()))&&ts(e,t,r)}}function Qo(e){var t=e.alternate;return e===co||null!==t&&t===co}function $o(e,t){mo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ei?ei=[t]:ei.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:$a,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:$a,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:$a,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Mo,useDebugValue:Ho,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Yo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,a=wo();if(_i){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Iu)throw Error(i(349));0!==(30&lo)||No(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,zo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Iu.identifierPrefix;if(_i){var n=Ci;t=":"+t+"R"+(n=(Si&~(1<<32-ot(Si)-1)).toString(32)+n),0<(n=go++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:$a,useCallback:Uo,useContext:$a,useEffect:Zo,useImperativeHandle:Vo,useInsertionEffect:Wo,useLayoutEffect:Bo,useMemo:Go,useReducer:Co,useRef:Fo,useState:function(){return Co(So)},useDebugValue:Ho,useDeferredValue:function(e){return Xo(ko(),fo.memoizedState,e)},useTransition:function(){return[Co(So)[0],ko().memoizedState]},useMutableSource:Eo,useSyncExternalStore:To,useId:qo,unstable_isNewReconciler:!1},is={readContext:$a,useCallback:Uo,useContext:$a,useEffect:Zo,useImperativeHandle:Vo,useInsertionEffect:Wo,useLayoutEffect:Bo,useMemo:Go,useReducer:Io,useRef:Fo,useState:function(){return Io(So)},useDebugValue:Ho,useDeferredValue:function(e){var t=ko();return null===fo?t.memoizedState=e:Xo(t,fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],ko().memoizedState]},useMutableSource:Eo,useSyncExternalStore:To,useId:qo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,ju=r),ss(0,t)},n}function ps(e,t,n){(n=ai(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ss(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ai(-1,1)).tag=2,ii(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}function vs(e,t){if(!_i)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bs(e,t,n){var r=t.pendingProps;switch(Ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return _a(t.type)&&Ma(),ys(t),null;case 3:return r=t.stateNode,eo(),Ca(Na),Ca(Ta),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Mi&&(il(Mi),Mi=null))),ys(t),null;case 5:no(t);var a=Qi(Ji.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ys(t),null}if(e=Qi(qi.current),Zi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[pa]=o,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Zr(Fr[a],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":K(r,o),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zr("invalid",r);break;case"textarea":ae(r,o),Zr("invalid",r)}for(var u in ye(n,o),a=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Zr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fa]=t,e[pa]=r,us(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),a=r;break;case"iframe":case"object":case"embed":Zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Zr(Fr[a],e);a=r;break;case"source":Zr("error",e),a=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),a=r;break;case"details":Zr("toggle",e),a=r;break;case"input":K(e,r),a=q(e,r),Zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Zr("invalid",e)}for(o in ye(n,a),l=a)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Zr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Ji.current),Qi(qi.current),Zi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=Oi))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return ys(t),null;case 13:if(Ca(ro),r=t.memoizedState,_i&&null!==Pi&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pi;r;)r=la(r.nextSibling);return Wi(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zi(t),null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[fa]=t}else Wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Mi&&(il(Mi),Mi=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zi(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):hl())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return eo(),null===e&&jr(t.stateNode.containerInfo),ys(t),null;case 10:return Ka(t.type._context),ys(t),null;case 19:if(Ca(ro),null===(o=t.memoizedState))return ys(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)vs(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ao(e))){for(t.flags|=128,vs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ia(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Zu&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ao(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!_i)return ys(t),null}else 2*Je()-o.renderingStartTime>Zu&&1073741824!==n&&(t.flags|=128,r=!0,vs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ro.current,Ia(ro,r?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qi(qi.current);var i,o=null;switch(n){case"input":a=q(e,a),r=q(e,r),o=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var u=a[c];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Zr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var xs=x.ReactCurrentOwner,As=!1;function ws(e,t,n,r){t.child=null===e?Xi(t,null,n,r):Gi(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var i=t.ref;return Qa(t,a),r=xo(e,t,n,r,i,a),n=Ao(),null===e||As?(_i&&n&&Ti(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Pl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=_l(i,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(As=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(As=!0)}}return Ts(e,t,n,r,a)}function Is(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ia(Ou,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ia(Ou,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ia(Ou,Nu),Nu|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ia(Ou,Nu),Nu|=r;return ws(e,t,a,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,a){var i=_a(n)?Oa:Ta.current;return i=Pa(t,i),Qa(t,a),n=xo(e,t,n,r,i,a),r=Ao(),null===e||As?(_i&&r&&Ti(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ns(e,t,n,r,a){if(_a(n)){var i=!0;Da(t)}else i=!1;if(Qa(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hi(t,n,r),gi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=$a(l):l=Pa(t,l=_a(n)?Oa:Ta.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&mi(t,o,r,l),ti=!1;var f=t.memoizedState;o.state=f,ui(t,r,o,a),u=t.memoizedState,s!==r||f!==u||Na.current||ti?("function"===typeof c&&(di(t,n,c,r),u=t.memoizedState),(s=ti||pi(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ri(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ha(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=$a(u):u=Pa(t,u=_a(n)?Oa:Ta.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&mi(t,o,r,u),ti=!1,f=t.memoizedState,o.state=f,ui(t,r,o,a);var h=t.memoizedState;s!==d||f!==h||Na.current||ti?("function"===typeof p&&(di(t,n,p,r),h=t.memoizedState),(l=ti||pi(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,i,a)}function Os(e,t,n,r,a,i){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&La(t,n,!1),Hs(e,t,i);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Gi(t,e.child,null,i),t.child=Gi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),$i(e,t.containerInfo)}function _s(e,t,n,r,a){return Wi(),Bi(a),t.flags|=256,ws(e,t,n,r),t.child}var Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ds(e,t,n){var r,a=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ia(ro,1&o),null===e)return Li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,s?(a=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Fl(o,a,0,null),e=Rl(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Ls(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Ws(e,t,n,Error(i(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,o=t.mode,a=Fl({mode:"visible",children:a.children},o,0,null),(s=Rl(s,o,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&Gi(t,e.child,null,n),t.child.memoizedState=Rs(n),t.memoizedState=Ms,s);if(0===(1&t.mode))t=Ws(e,t,n,null);else if("$!"===r.data)t=Ws(e,t,n,Error(i(419)));else if(a=0!==(n&e.childLanes),As||a){if(null!==(a=Iu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(a=0!==(s&(a.suspendedLanes|n))?0:s)&&a!==o.retryLane&&(o.retryLane=a,$u(e,a,-1))}hl(),t=Ws(e,t,n,Error(i(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pi=la(r.nextSibling),Oi=t,_i=!0,Mi=null,null!==n&&(Ai[wi++]=Si,Ai[wi++]=Ci,Ai[wi++]=ki,Si=n.id,Ci=n.overflow,ki=t),(t=Ls(t,t.pendingProps.children)).flags|=4096);return t}return s?(a=Zs(e,t,a.children,a.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Rs(n):Fs(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a):(n=zs(e,t,a.children,n),t.memoizedState=null,n)}return s?(a=Zs(e,t,a.children,a.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Rs(n):Fs(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a):(n=zs(e,t,a.children,n),t.memoizedState=null,n)}function Ls(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){var a=e.child;return e=a.sibling,n=_l(a,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zs(e,t,n,r,a){var i=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&i)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=_l(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_l(o,r):(r=Rl(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ws(e,t,n,r){return null!==r&&Bi(r),Gi(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ja(e.return,t,n)}function js(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Vs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ia(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ao(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),js(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ao(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}js(t,!0,n,null,i);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){switch(Ni(t),t.tag){case 1:return _a(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ca(Na),Ca(Ta),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ca(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));Wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ro),null;case 4:return eo(),null;case 10:return Ka(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Gs=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,qs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){kl(e,t,r)}}var Qs=!1;function $s(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Js(t,n,i)}a=a.next}while(a!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Xs||Ks(n,t);case 6:var r=su,a=uu;su=null,lu(e,t,n),uu=a,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),jt(e)):ua(su,n.stateNode));break;case 4:r=su,a=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&Js(n,t,o),a=a.next}while(a!==r)}lu(e,t,n);break;case 1:if(!Xs&&(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,lu(e,t,n),Xs=r):lu(e,t,n);break;default:lu(e,t,n)}}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(i(160));cu(o,s,a),su=null,uu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){kl(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pu(t,e),t=t.sibling}function pu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),hu(e),4&r){try{$s(3,e,e.return),eu(3,e)}catch(m){kl(e,e.return,m)}try{$s(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:fu(t,e),hu(e),512&r&&null!==n&&Ks(n,n.return);break;case 5:if(fu(t,e),hu(e),512&r&&null!==n&&Ks(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(m){kl(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(a,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,c)}switch(u){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(fu(t,e),hu(e),4&r){if(null===e.stateNode)throw Error(i(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(m){kl(e,e.return,m)}}break;case 3:if(fu(t,e),hu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:fu(t,e),hu(e);break;case 13:fu(t,e),hu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(zu=Je()),4&r&&du(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(d=Xs)||c,fu(t,e),Xs=d):fu(t,e),hu(e),8192&r){d=null!==e.memoizedState;e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=p.stateNode,s=void 0!==(l=p.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}if(d&&!c&&0!==(1&e.mode))for(qs=e,e=e.child;null!==e;){for(c=qs=e;null!==qs;){switch(f=(d=qs).child,d.tag){case 0:case 11:case 14:case 15:$s(4,d,d.return);break;case 1:if(Ks(d,d.return),"function"===typeof(o=d.stateNode).componentWillUnmount){p=d,h=d.return;try{a=p,o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(m){kl(p,h,m)}}break;case 5:Ks(d,d.return);break;case 22:if(null!==d.memoizedState){yu(c);continue}}null!==f?(f.return=d,qs=f):yu(c)}e=e.sibling}}break;case 19:fu(t,e),hu(e),4&r&&du(e);case 21:}}function hu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ou(e,au(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;iu(e,au(e),o);break;default:throw Error(i(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){qs=e,gu(e,t,n)}function gu(e,t,n){for(var r=0!==(1&e.mode);null!==qs;){var a=qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Gs;if(!o){var s=a.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Gs;var l=Xs;if(Gs=o,(Xs=u)&&!l)for(qs=a;null!==qs;)u=(o=qs).child,22===o.tag&&null!==o.memoizedState?bu(a):null!==u?(u.return=o,qs=u):bu(a);for(;null!==i;)qs=i,gu(i,t,n),i=i.sibling;qs=a,Gs=s,Xs=l}vu(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,qs=i):vu(e)}}function vu(e){for(;null!==qs;){var t=qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ha(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&li(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}li(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&tu(t)}catch(p){kl(t,t.return,p)}}if(t===e){qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,qs=n;break}qs=t.return}}function yu(e){for(;null!==qs;){var t=qs;if(t===e){qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qs=n;break}qs=t.return}}function bu(e){for(;null!==qs;){var t=qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){kl(t,a,u)}}var i=t.return;try{tu(t)}catch(u){kl(t,i,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qs=s;break}qs=t.return}}var xu,Au=Math.ceil,wu=x.ReactCurrentDispatcher,ku=x.ReactCurrentOwner,Su=x.ReactCurrentBatchConfig,Cu=0,Iu=null,Eu=null,Tu=0,Nu=0,Ou=Sa(0),Pu=0,_u=null,Mu=0,Ru=0,Fu=0,Du=null,Lu=null,zu=0,Zu=1/0,Wu=null,Bu=!1,ju=null,Vu=null,Hu=!1,Uu=null,Gu=0,Xu=0,Yu=null,qu=-1,Ku=0;function Ju(){return 0!==(6&Cu)?Je():-1!==qu?qu:qu=Je()}function Qu(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Tu?Tu&-Tu:null!==Va.transition?(0===Ku&&(Ku=mt()),Ku):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function $u(e,t,n){if(50<Xu)throw Xu=0,Yu=null,Error(i(185));var r=el(e,t);return null===r?null:(vt(r,t,n),0!==(2&Cu)&&r===Iu||(r===Iu&&(0===(2&Cu)&&(Ru|=t),4===Pu&&ol(r,Tu)),nl(r,n),1===t&&0===Cu&&0===(1&e.mode)&&(Zu=Je()+500,Za&&ja())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Iu||null!==ei)&&0!==(1&e.mode)&&0===(2&Cu)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,u=a[o];-1===u?0!==(s&n)&&0===(s&r)||(a[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Iu?Tu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Za=!0,Ba(e)}(sl.bind(null,e)):Ba(sl.bind(null,e)),oa((function(){0===Cu&&ja()})),n=null;else{switch(xt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(qu=-1,Ku=0,0!==(6&Cu))throw Error(i(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var r=ft(e,e===Iu?Tu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var a=Cu;Cu|=2;var o=pl();for(Iu===e&&Tu===t||(Wu=null,Zu=Je()+500,dl(e,t));;)try{vl();break}catch(u){fl(e,u)}qa(),wu.current=o,Cu=a,null!==Eu?t=0:(Iu=null,Tu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=al(e,a))),1===t)throw n=_u,dl(e,0),ol(e,r),nl(e,Je()),n;if(6===t)ol(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=ml(e,r))&&(0!==(o=ht(e))&&(r=o,t=al(e,o))),1===t))throw n=_u,dl(e,0),ol(e,r),nl(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xl(e,Lu,Wu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Ju(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xl.bind(null,e,Lu,Wu),t);break}xl(e,Lu,Wu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Au(r/1960))-r)){e.timeoutHandle=ra(xl.bind(null,e,Lu,Wu),r);break}xl(e,Lu,Wu);break;default:throw Error(i(329))}}}return nl(e,Je()),e.callbackNode===n?rl.bind(null,e):null}function al(e,t){var n=Du;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Lu,Lu=n,null!==t&&il(t)),e}function il(e){null===Lu?Lu=e:Lu.push.apply(Lu,e)}function ol(e,t){for(t&=~Fu,t&=~Ru,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Cu))throw Error(i(327));Al();var t=ft(e,0);if(0===(1&t))return nl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=_u,dl(e,0),ol(e,t),nl(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Lu,Wu),nl(e,Je()),null}function ul(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Zu=Je()+500,Za&&ja())}}function ll(e){null!==Uu&&0===Uu.tag&&0===(6&Cu)&&Al();var t=Cu;Cu|=1;var n=Su.transition,r=bt;try{if(Su.transition=null,bt=1,e)return e()}finally{bt=r,Su.transition=n,0===(6&(Cu=t))&&ja()}}function cl(){Nu=Ou.current,Ca(Ou)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Eu)for(n=Eu.return;null!==n;){var r=n;switch(Ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:eo(),Ca(Na),Ca(Ta),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ca(ro);break;case 10:Ka(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Iu=e,Eu=e=_l(e.current,null),Tu=Nu=t,Pu=0,_u=null,Fu=Ru=Mu=0,Lu=Du=null,null!==ei){for(t=0;t<ei.length;t++)if(null!==(r=(n=ei[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}ei=null}return e}function fl(e,t){for(;;){var n=Eu;try{if(qa(),so.current=ns,ho){for(var r=co.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ho=!1}if(lo=0,po=fo=co=null,mo=!1,go=0,ku.current=null,null===n||null===n.return){Pu=1,_u=t,Eu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Tu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,gs(h,s,u,0,t),1&h.mode&&hs(o,c,t),l=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){hs(o,c,t),hl();break e}l=Error(i(426))}else if(_i&&1&u.mode){var v=ms(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,u,0,t),Bi(l);break e}}o=l,4!==Pu&&(Pu=2),null===Du?Du=[o]:Du.push(o),l=os(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,si(u,fs(0,l,t));break e;case 1:o=l;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vu||!Vu.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,si(u,ps(u,o,t));break e}}u=u.return}while(null!==u)}bl(n)}catch(x){t=x,Eu===n&&null!==n&&(Eu=n=n.return);continue}break}}function pl(){var e=wu.current;return wu.current=ns,null===e?ns:e}function hl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Iu||0===(268435455&Mu)&&0===(268435455&Ru)||ol(Iu,Tu)}function ml(e,t){var n=Cu;Cu|=2;var r=pl();for(Iu===e&&Tu===t||(Wu=null,dl(e,t));;)try{gl();break}catch(a){fl(e,a)}if(qa(),Cu=n,wu.current=r,null!==Eu)throw Error(i(261));return Iu=null,Tu=0,Pu}function gl(){for(;null!==Eu;)yl(Eu)}function vl(){for(;null!==Eu&&!qe();)yl(Eu)}function yl(e){var t=xu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?bl(e):Eu=t,ku.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,Nu)))return void(Eu=n)}else{if(null!==(n=Us(n,t)))return n.flags&=32767,void(Eu=n);if(null===e)return Pu=6,void(Eu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Eu=t);Eu=t=e}while(null!==t);0===Pu&&(Pu=5)}function xl(e,t,n){var r=bt,a=Su.transition;try{Su.transition=null,bt=1,function(e,t,n,r){do{Al()}while(null!==Uu);if(0!==(6&Cu))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Iu&&(Eu=Iu=null,Tu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Tl(tt,(function(){return Al(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,ku.current=null,function(e,t){if(ea=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(u=s+a),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===a&&(u=s),p===o&&++d===r&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,qs=t;null!==qs;)if(e=(t=qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qs=e;else for(;null!==qs;){t=qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ha(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var A=x.body;null!=A&&(A.textContent="")}break;default:throw Error(i(163))}}catch(w){kl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qs=e;break}qs=t.return}m=Qs,Qs=!1}(e,n),pu(n,e),hr(ta),Ht=!!ea,ta=ea=null,e.current=n,mu(n,e,a),Ke(),Cu=u,bt=s,Su.transition=o}else e.current=n;if(Hu&&(Hu=!1,Uu=e,Gu=a),0===(o=e.pendingLanes)&&(Vu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=ju,ju=null,e;0!==(1&Gu)&&0!==e.tag&&Al(),0!==(1&(o=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,ja()}(e,t,n,r)}finally{Su.transition=a,bt=r}return null}function Al(){if(null!==Uu){var e=xt(Gu),t=Su.transition,n=bt;try{if(Su.transition=null,bt=16>e?16:e,null===Uu)var r=!1;else{if(e=Uu,Uu=null,Gu=0,0!==(6&Cu))throw Error(i(331));var a=Cu;for(Cu|=4,qs=e.current;null!==qs;){var o=qs,s=o.child;if(0!==(16&qs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(qs=c;null!==qs;){var d=qs;switch(d.tag){case 0:case 11:case 15:$s(8,d,o)}var f=d.child;if(null!==f)f.return=d,qs=f;else for(;null!==qs;){var p=(d=qs).sibling,h=d.return;if(nu(d),d===c){qs=null;break}if(null!==p){p.return=h,qs=p;break}qs=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,qs=s;else e:for(;null!==qs;){if(0!==(2048&(o=qs).flags))switch(o.tag){case 0:case 11:case 15:$s(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,qs=y;break e}qs=o.return}}var b=e.current;for(qs=b;null!==qs;){var x=(s=qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,qs=x;else e:for(s=b;null!==qs;){if(0!==(2048&(u=qs).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(w){kl(u,u.return,w)}if(u===s){qs=null;break e}var A=u.sibling;if(null!==A){A.return=u.return,qs=A;break e}qs=u.return}}if(Cu=a,ja(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{bt=n,Su.transition=t}}return!1}function wl(e,t,n){ii(e,t=fs(0,t=os(n,t),1)),t=Ju(),null!==(e=el(e,1))&&(vt(e,1,t),nl(e,t))}function kl(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){ii(t,e=ps(t,e=os(n,e),1)),e=Ju(),null!==(t=el(t,1))&&(vt(t,1,e),nl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ju(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Tu&n)===n&&(4===Pu||3===Pu&&(130023424&Tu)===Tu&&500>Je()-zu?dl(e,0):Fu|=n),nl(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Ju();null!==(e=el(e,t))&&(vt(e,t,n),nl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function El(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cl(e,n)}function Tl(e,t){return Xe(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Nl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _l(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Rl(n.children,a,o,t);case S:s=8,a|=8;break;case C:return(e=Ol(12,n,t,2|a)).elementType=C,e.lanes=o,e;case N:return(e=Ol(13,n,t,a)).elementType=N,e.lanes=o,e;case O:return(e=Ol(19,n,t,a)).elementType=O,e.lanes=o,e;case M:return Fl(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case E:s=9;break e;case T:s=11;break e;case P:s=14;break e;case _:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Rl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={},e}function Dl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Ll(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zl(e,t,n,r,a,i,o,s,u){return e=new zl(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ol(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ni(i),e}function Wl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ea;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_a(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(_a(n))return Fa(e,n,t)}return t}function jl(e,t,n,r,a,i,o,s,u){return(e=Zl(n,r,!0,e,0,i,0,s,u)).context=Bl(null),n=e.current,(i=ai(r=Ju(),a=Qu(n))).callback=void 0!==t&&null!==t?t:null,ii(n,i),e.current.lanes=a,vt(e,a,r),nl(e,r),e}function Vl(e,t,n,r){var a=t.current,i=Ju(),o=Qu(a);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ii(a,t),null!==(e=$u(a,o,i))&&oi(e,a,o),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ul(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)As=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Wi();break;case 5:to(t);break;case 1:_a(t.type)&&Da(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ia(Ua,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ia(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Ia(ro,1&ro.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ia(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ia(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Hs(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,_i&&0!==(1048576&t.flags)&&Ei(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=Pa(t,Ta.current);Qa(t,n),a=xo(null,t,r,e,a,n);var o=Ao();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_a(r)?(o=!0,Da(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ni(t),a.updater=fi,t.stateNode=a,a._reactInternals=t,gi(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,_i&&o&&Ti(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=Ha(r,e),a){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,Ha(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ts(e,t,r,a=t.elementType===r?a:Ha(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:Ha(r,a),n);case 3:e:{if(Ps(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,ri(e,t),ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=_s(e,t,r,n,a=Error(i(423)));break e}if(r!==a){t=_s(e,t,r,n,a=Error(i(424)));break e}for(Pi=la(t.stateNode.containerInfo.firstChild),Oi=t,_i=!0,Mi=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Wi(),r===a){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Li(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&Li(t),null;case 13:return Ds(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Gi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:Ha(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ia(Ua,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Na.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ai(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ja(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ja(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Qa(t,n),r=r(a=$a(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=Ha(r=t.type,t.pendingProps),Ss(e,t,r,a=Ha(r.type,a),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ha(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,_a(r)?(e=!0,Da(t)):e=!1,Qa(t,n),hi(t,r,a),gi(t,r,a,n),Os(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Is(e,t,n)}throw Error(i(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function ql(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function $l(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hl(o);s.call(e)}}Vl(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hl(o);i.call(e)}}var o=jl(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=o,e[ha]=o.current,jr(8===e.nodeType?e.parentNode:e),ll(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Zl(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[ha]=u.current,jr(8===e.nodeType?e.parentNode:e),ll((function(){Vl(t,u,n,r)})),u}(n,t,e,a,r);return Hl(o)}ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vl(e,t,null,null)},ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){Vl(null,e,null,null)})),t[ha]=null}},ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nl(t,Je()),0===(6&Cu)&&(Zu=Je()+500,ja()))}break;case 13:var r=Ju();ll((function(){return $u(e,1,r)})),Gl(e,1)}},wt=function(e){13===e.tag&&($u(e,134217728,Ju()),Gl(e,134217728))},kt=function(e){if(13===e.tag){var t=Ju(),n=Qu(e);$u(e,n,t),Gl(e,n)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Aa(r);if(!a)throw Error(i(90));X(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ul,Ne=ll;var ec={usingClientEntryPoint:!1,Events:[ba,xa,Aa,Ie,Ee,ul]},tc={findFiberByHostInstance:ya,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(i(200));return Wl(e,t,null,n)},t.createRoot=function(e,t){if(!Kl(e))throw Error(i(299));var n=!1,r="",a=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Zl(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(i(200));return $l(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jl(t,null,e,1,null!=n?n:null,a,0,o,s),e[ha]=t.current,jr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(i(200));return $l(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(i(40));return!!e._reactRootContainer&&(ll((function(){$l(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $l(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1739:function(e,t,n){"use strict";var r=n(1168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},4389:function(e,t,n){"use strict";var r,a;r=n(1718),a=n(9845),r.version,t.Dq=r.renderToString,r.renderToStaticMarkup,r.renderToNodeStream,r.renderToStaticNodeStream,a.renderToReadableStream},4561:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(7313)),i=h(n(5192)),o=h(n(1168)),s=h(n(3061)),u=n(1407),l=n(9873),c=n(3579),d=h(n(4303)),f=h(n(7776)),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,e);var t,n,r,i=S(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),T(I(t=i.call(this,e)),"onDragStart",(function(e,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,l.createDraggableData)(I(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),T(I(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r=(0,l.createDraggableData)(I(t),n),a={x:r.x,y:r.y};if(t.props.bounds){var i=a.x,o=a.y;a.x+=t.state.slackX,a.y+=t.state.slackY;var s=x((0,l.getBoundPosition)(I(t),a.x,a.y),2),u=s[0],c=s[1];a.x=u,a.y=c,a.slackX=t.state.slackX+(i-a.x),a.slackY=t.state.slackY+(o-a.y),r.x=a.x,r.y=a.y,r.deltaX=a.x-t.state.x,r.deltaY=a.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(a)})),T(I(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,l.createDraggableData)(I(t),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var a=t.props.position,i=a.x,o=a.y;r.x=i,r.y=o}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,o=t.defaultClassNameDragging,c=t.defaultClassNameDragged,f=t.position,h=t.positionOffset,m=(t.scale,v(t,p)),y={},x=null,A=!Boolean(f)||this.state.dragging,w=f||r,k={x:(0,l.canDragX)(this)&&A?this.state.x:w.x,y:(0,l.canDragY)(this)&&A?this.state.y:w.y};this.state.isElementSVG?x=(0,u.createSVGTransform)(k,h):y=(0,u.createCSSTransform)(k,h);var S=(0,s.default)(n.props.className||"",i,(T(e={},o,this.state.dragging),T(e,c,this.state.dragged),e));return a.createElement(d.default,g({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(a.Children.only(n),{className:S,style:b(b({},n.props.style),y),transform:x}))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);t.default=N,T(N,"displayName","Draggable"),T(N,"propTypes",b(b({},d.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),T(N,"defaultProps",b(b({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},4303:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(7313)),i=d(n(5192)),o=d(n(1168)),s=n(1407),u=n(9873),l=n(3579),c=d(n(7776));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={start:"touchstart",move:"touchmove",stop:"touchend"},S={start:"mousedown",move:"mousemove",stop:"mouseup"},C=S,I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,n,r,i=y(l);function l(){var e;m(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=i.call.apply(i,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(x(e),"mounted",!1),w(x(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,s.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var i=(0,u.getControlPosition)(t,a,x(e));if(null!=i){var o=i.x,l=i.y,d=(0,u.createCoreData)(x(e),o,l);(0,c.default)("DraggableCore: handleDragStart: %j",d),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:o,lastY:l}),(0,s.addEvent)(r,C.move,e.handleDrag),(0,s.addEvent)(r,C.stop,e.handleDragStop))}}})),w(x(e),"handleDrag",(function(t){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,x(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,o=a-e.state.lastY,s=p((0,u.snapToGrid)(e.props.grid,i,o),2);if(i=s[0],o=s[1],!i&&!o)return;r=e.state.lastX+i,a=e.state.lastY+o}var l=(0,u.createCoreData)(x(e),r,a);if((0,c.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(f){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),w(x(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,x(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX||0,o=a-e.state.lastY||0,l=p((0,u.snapToGrid)(e.props.grid,i,o),2);i=l[0],o=l[1],r=e.state.lastX+i,a=e.state.lastY+o}var d=(0,u.createCoreData)(x(e),r,a);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var f=e.findDOMNode();f&&e.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(f.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),f&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(f.ownerDocument,C.move,e.handleDrag),(0,s.removeEvent)(f.ownerDocument,C.stop,e.handleDragStop))}}})),w(x(e),"onMouseDown",(function(t){return C=S,e.handleDragStart(t)})),w(x(e),"onMouseUp",(function(t){return C=S,e.handleDragStop(t)})),w(x(e),"onTouchStart",(function(t){return C=k,e.handleDragStart(t)})),w(x(e),"onTouchEnd",(function(t){return C=k,e.handleDragStop(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,s.addEvent)(e,k.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,s.removeEvent)(t,S.move,this.handleDrag),(0,s.removeEvent)(t,k.move,this.handleDrag),(0,s.removeEvent)(t,S.stop,this.handleDragStop),(0,s.removeEvent)(t,k.stop,this.handleDragStop),(0,s.removeEvent)(e,k.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return a.cloneElement(a.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(a.Component);t.default=I,w(I,"displayName","DraggableCore"),w(I,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),w(I,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9461:function(e,t,n){"use strict";var r=n(4561),a=r.default,i=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=i},1407:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=p,t.addEvent=function(e,t,n,r){if(!e)return;var a=u({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&p(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=f(e,t,"px");return l({},(0,i.browserPrefixToKey)("transform",i.default),n)},t.createSVGTransform=function(e,t){return f(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=f,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight)},t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:i}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth)},t.removeClassName=h,t.removeEvent=function(e,t,n,r){if(!e)return;var a=u({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var a=n(3579),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(4580));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function d(e,t){return c||(c=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,a.isFunction)(e[t])}))),!!(0,a.isFunction)(e[c])&&e[c](t)}function f(e,t,n){var r=e.x,a=e.y,i="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);i="translate(".concat(o,", ").concat(s,")")+i}return i}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4580:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var i=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!i)return"";if(r in i)return"";for(var o=0;o<n.length;o++)if(a(r,n[o])in i)return n[o];return""}function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=r();t.default=i},7776:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},9873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var a=e.state,o=!(0,r.isNum)(a.lastX),s=i(e);return o?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var s=i(e);if("string"===typeof o){var u,l=s.ownerDocument,c=l.defaultView;if(!((u="parent"===o?s.parentNode:l.querySelector(o))instanceof c.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var d=u,f=c.getComputedStyle(s),p=c.getComputedStyle(d);o={left:-s.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(f.marginLeft),top:-s.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(f.marginTop),right:(0,a.innerWidth)(d)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,a.innerHeight)(d)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(f.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=i(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(3579),a=n(1407);function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},3579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},9948:function(e,t){"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case d:case m:case h:case u:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return v(e)===l},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===h},t.isPortal=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===s},t.isStrictMode=function(e){return v(e)===o},t.isSuspense=function(e){return v(e)===f},t.isSuspenseList=function(e){return v(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===f||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=v},4559:function(e,t,n){"use strict";e.exports=n(9948)},2790:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),a=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||a||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,a=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/a;a=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&a<n.minScreenshotHeight&&(r=(a=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||a,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,a){var i={video:"undefined"===typeof a||a};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=i(n.audioConstraints);s&&(t=s);var u=i(n.videoConstraints);u&&(o=u),r(a(t),a(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,a=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,l=void 0===u?{}:u,c=n.children,d=o(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=s?i(i({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:f},d)),c&&c(p))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(7313))},5918:function(e,t,n){"use strict";var r=n(7313),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var A=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!S.hasOwnProperty(a)&&(i[a]=t[a]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===i[a]&&(i[a]=u[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===i?"."+T(u,0):i,A(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),N(o,t,a,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=""===i?".":i+":",A(e))for(var l=0;l<e.length;l++){var c=i+T(s=e[l],l);u+=N(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,a,c=i+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},M={transition:null},R={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.1.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function A(e){if(g=!1,x(e),!m)if(null!==r(l))m=!0,M(w);else{var t=r(c);null!==t&&R(A,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(I),I=-1),h=!0;var i=p;try{for(x(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&a(l),x(n)}else a(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&R(A,d.startTime-n),u=!1}return u}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,I=-1,E=5,T=-1;function N(){return!(t.unstable_now()-T<E)}function O(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,_=P.port2;P.port1.onmessage=O,k=function(){_.postMessage(null)}}else k=function(){v(O,0)};function M(e){C=e,S||(S=!0,k())}function R(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(g?(y(I),I=-1):g=!0,R(A,i-o))):(e.sortIndex=s,n(l,e),m||h||(m=!0,M(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},9767:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var l=i[u];if(!s(l))return!1;var c=e[l],d=t[l];if(!1===(a=n?n.call(r,c,d,l):void 0)||void 0===a&&c!==d)return!1}return!0}},1930:function(e){"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,a=t[e];if(a)for(r=a.length;r--;)a[r].handler(n)},e},e.exports=t},3774:function(e,t,n){var r=n(6949);e.exports=function(e,t){var n,a=null;if(!e||"string"!==typeof e)return a;for(var i,o,s=r(e),u="function"===typeof t,l=0,c=s.length;l<c;l++)i=(n=s[l]).property,o=n.value,u?t(i,o,n):o&&(a||(a={}),a[i]=o);return a}},3450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6988),i=(r=a)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},2254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(1133)),a=s(n(8459)),i=s(n(4674)),o=s(n(3450));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.default)("youtube-player"),l={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){u('event "%s"',r,t),e.trigger(n,t)}},r=!0,a=!1,o=void 0;try{for(var s,l=i.default[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){n(s.value)}}catch(c){a=!0,o=c}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&o.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.then((function(e){var t=o.default[r],a=e.getPlayerState(),i=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(a)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var a=e.getPlayerState(),i=void 0;"number"===typeof t.timeout&&(i=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(a)&&(e.removeEventListener("onStateChange",r),clearTimeout(i),n())}))})).then((function(){return i})):i}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.then((function(e){return e[r].apply(e,n)}))}},i=!0,s=!1,u=void 0;try{for(var l,c=a.default[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;r(d)}}catch(f){s=!0,u=f}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}return n}};t.default=l,e.exports=t.default},6988:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},4674:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},8459:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},7974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=s(n(1930)),i=s(n(9468)),o=s(n(2254));function s(e){return e&&e.__esModule?e:{default:e}}var u=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a.default)();if(u||(u=(0,i.default)(s)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=o.default.proxyEvents(s);var l=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):u.then((function(r){var a=new r.Player(e,t);return s.on("ready",(function(){n(a)})),null}))})),c=o.default.promisifyPlayer(l,n);return c.on=s.on,c.off=s.off,c},e.exports=t.default},9468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(8630),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,i.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},1133:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/face-recognition-pomodoro",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(7523)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},7523:function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var a=t.formatters[r];if("function"===typeof a){var i=o[u];n=a.call(e,i),o.splice(u,1),u--}return n})),t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(952),t.names=[],t.skips=[],t.formatters={}},952:function(e){var t=1e3,n=60*t,r=60*n,a=24*r,i=365.25*a;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var u,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!o)return;var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*i;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return s.long?o(u=e,a,"day")||o(u,r,"hour")||o(u,n,"minute")||o(u,t,"second")||u+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8385:function(e,t,n){"use strict";n.r(t),t.default={}},5602:function(e,t,n){"use strict";n.r(t),t.default={}},3165:function(e,t,n){"use strict";n.r(t),t.default={}},8567:function(e,t,n){"use strict";n.r(t),t.default={}},2361:function(e,t,n){"use strict";n.r(t),t.default={}},1865:function(e,t,n){"use strict";n.r(t),t.default={}},535:function(e,t,n){"use strict";n.r(t),t.default={}},445:function(e,t,n){"use strict";n.r(t),t.default={}},7476:function(e,t,n){"use strict";n.r(t),t.default={}},2727:function(e,t,n){"use strict";n.r(t),t.default={}},3047:function(e,t,n){"use strict";n.r(t),t.default={}},7308:function(e,t,n){"use strict";n.r(t),t.default={}},865:function(e,t,n){"use strict";n.r(t),t.default={}},5638:function(e,t,n){"use strict";n.r(t),t.default={}},8479:function(e,t,n){"use strict";n.r(t),t.default={}},7895:function(e,t,n){"use strict";n.r(t),t.default={}},9333:function(e,t,n){"use strict";n.r(t),t.default={}},3343:function(e,t,n){"use strict";n.r(t),t.default={}},9070:function(e,t,n){"use strict";n.r(t),t.default={}},2153:function(e,t,n){"use strict";n.r(t),t.default={}},234:function(e,t,n){"use strict";n.r(t),t.default={}},6804:function(e,t,n){"use strict";n.r(t),t.default={}},539:function(e,t,n){"use strict";n.r(t),t.default={}},6737:function(e,t,n){"use strict";n.r(t),t.default={}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),a=n(8814),i=n(2963);function o(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,i.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002),a=n(7326);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002);function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),o=new C(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function p(){}function h(){}function m(){}var g={};l(g,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==t&&n.call(y,o)&&(g=y);var b=m.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function a(i,o,s,u){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,s,u)}),(function(e){a("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return a("throw",e,s,u)}))}u(l.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return i=i?i.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,l(b,"constructor",m),l(m,"constructor",h),h.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(A.prototype),l(A.prototype,s,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new A(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),l(b,u,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var a=n(181),i=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},4506:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3878),a=n(9199),i=n(181),o=n(5267);function s(e){return(0,r.Z)(e)||(0,a.Z)(e)||(0,i.Z)(e)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var a=n(9199),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(i,o),i}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{27:"e1ef85a6",510:"4d4b6364"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="face-recognition-pomodoro:";n.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var s,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/face-recognition-pomodoro/",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,i,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)u(n)}for(t&&t(r);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkface_recognition_pomodoro=self.webpackChunkface_recognition_pomodoro||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{attentionMarkers:function(){return Ype},contentInitial:function(){return jpe},disable:function(){return qpe},document:function(){return Bpe},flow:function(){return Hpe},flowInitial:function(){return Vpe},insideSpan:function(){return Xpe},string:function(){return Upe},text:function(){return Gpe}});var t={};n.r(t),n.d(t,{boolean:function(){return jhe},booleanish:function(){return Vhe},commaOrSpaceSeparated:function(){return Yhe},commaSeparated:function(){return Xhe},number:function(){return Uhe},overloadedBoolean:function(){return Hhe},spaceSeparated:function(){return Ghe}});var r=n(7313),a=n(1739);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=n(9439),s=n(1413),u=function(){};function l(e,t,n){var a=(0,r.useRef)(u);(0,r.useEffect)((function(){a.current=e})),(0,r.useEffect)((function(){n&&null!==t&&!1!==t&&a.current()}),[n]),(0,r.useEffect)((function(){if(null!==t&&!1!==t){var e=setInterval((function(){return a.current()}),t);return function(){return clearInterval(e)}}}),[t])}var c=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),d=Math.abs,f=String.fromCharCode,p=Object.assign;function h(e){return e.trim()}function m(e,t,n){return e.replace(t,n)}function g(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function y(e,t,n){return e.slice(t,n)}function b(e){return e.length}function x(e){return e.length}function A(e,t){return t.push(e),e}var w=1,k=1,S=0,C=0,I=0,E="";function T(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:w,column:k,length:o,return:""}}function N(e,t){return p(T("",null,null,"",null,null,0),e,{length:-e.length},t)}function O(){return I=C>0?v(E,--C):0,k--,10===I&&(k=1,w--),I}function P(){return I=C<S?v(E,C++):0,k++,10===I&&(k=1,w++),I}function _(){return v(E,C)}function M(){return C}function R(e,t){return y(E,e,t)}function F(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return w=k=1,S=b(E=e),C=0,[]}function L(e){return E="",e}function z(e){return h(R(C-1,B(91===e?e+2:40===e?e+1:e)))}function Z(e){for(;(I=_())&&I<33;)P();return F(e)>2||F(I)>3?"":" "}function W(e,t){for(;--t&&P()&&!(I<48||I>102||I>57&&I<65||I>70&&I<97););return R(e,M()+(t<6&&32==_()&&32==P()))}function B(e){for(;P();)switch(I){case e:return C;case 34:case 39:34!==e&&39!==e&&B(I);break;case 40:41===e&&B(e);break;case 92:P()}return C}function j(e,t){for(;P()&&e+I!==57&&(e+I!==84||47!==_()););return"/*"+R(t,C-1)+"*"+f(47===e?e:P())}function V(e){for(;!F(_());)P();return R(e,C)}var H="-ms-",U="-moz-",G="-webkit-",X="comm",Y="rule",q="decl",K="@keyframes";function J(e,t){for(var n="",r=x(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Q(e,t,n,r){switch(e.type){case"@import":case q:return e.return=e.return||e.value;case X:return"";case K:return e.return=e.value+"{"+J(e.children,r)+"}";case Y:e.value=e.props.join(",")}return b(n=J(e.children,r))?e.return=e.value+"{"+n+"}":""}function $(e,t){switch(function(e,t){return(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3)}(e,t)){case 5103:return G+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return G+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return G+e+U+e+H+e+e;case 6828:case 4268:return G+e+H+e+e;case 6165:return G+e+H+"flex-"+e+e;case 5187:return G+e+m(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return G+e+H+"flex-item-"+m(e,/flex-|-self/,"")+e;case 4675:return G+e+H+"flex-line-pack"+m(e,/align-content|flex-|-self/,"")+e;case 5548:return G+e+H+m(e,"shrink","negative")+e;case 5292:return G+e+H+m(e,"basis","preferred-size")+e;case 6060:return G+"box-"+m(e,"-grow","")+G+e+H+m(e,"grow","positive")+e;case 4554:return G+m(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,G+"$1"),/(image-set)/,G+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,G+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+G+e+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,G+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(v(e,t+1)){case 109:if(45!==v(e,t+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+U+(108==v(e,t+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch")?$(m(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==v(e,t+1))break;case 6444:switch(v(e,b(e)-3-(~g(e,"!important")&&10))){case 107:return m(e,":",":"+G)+e;case 101:return m(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+G+(45===v(e,14)?"inline-":"")+"box$3$1"+G+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(v(e,t+11)){case 114:return G+e+H+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return G+e+H+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return G+e+H+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return G+e+H+e+e}return e}function ee(e){return L(te("",null,null,null,[""],e=D(e),0,[0],e))}function te(e,t,n,r,a,i,o,s,u){for(var l=0,c=0,d=o,p=0,h=0,v=0,y=1,x=1,w=1,k=0,S="",C=a,I=i,E=r,T=S;x;)switch(v=k,k=P()){case 40:if(108!=v&&58==T.charCodeAt(d-1)){-1!=g(T+=m(z(k),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:T+=z(k);break;case 9:case 10:case 13:case 32:T+=Z(v);break;case 92:T+=W(M()-1,7);continue;case 47:switch(_()){case 42:case 47:A(re(j(P(),M()),t,n),u);break;default:T+="/"}break;case 123*y:s[l++]=b(T)*w;case 125*y:case 59:case 0:switch(k){case 0:case 125:x=0;case 59+c:h>0&&b(T)-d&&A(h>32?ae(T+";",r,n,d-1):ae(m(T," ","")+";",r,n,d-2),u);break;case 59:T+=";";default:if(A(E=ne(T,t,n,l,c,a,s,S,C=[],I=[],d),i),123===k)if(0===c)te(T,t,E,E,C,i,d,s,I);else switch(p){case 100:case 109:case 115:te(e,E,E,r&&A(ne(e,E,E,0,0,a,s,S,a,C=[],d),I),a,I,d,s,r?C:I);break;default:te(T,E,E,E,[""],I,0,s,I)}}l=c=h=0,y=w=1,S=T="",d=o;break;case 58:d=1+b(T),h=v;default:if(y<1)if(123==k)--y;else if(125==k&&0==y++&&125==O())continue;switch(T+=f(k),k*y){case 38:w=c>0?1:(T+="\f",-1);break;case 44:s[l++]=(b(T)-1)*w,w=1;break;case 64:45===_()&&(T+=z(P())),p=_(),c=d=b(S=T+=V(M())),k++;break;case 45:45===v&&2==b(T)&&(y=0)}}return i}function ne(e,t,n,r,a,i,o,s,u,l,c){for(var f=a-1,p=0===a?i:[""],g=x(p),v=0,b=0,A=0;v<r;++v)for(var w=0,k=y(e,f+1,f=d(b=o[v])),S=e;w<g;++w)(S=h(b>0?p[w]+" "+k:m(k,/&\f/g,p[w])))&&(u[A++]=S);return T(e,t,n,0===a?Y:s,u,l,c)}function re(e,t,n){return T(e,t,n,X,f(I),y(e,2,-2),0)}function ae(e,t,n,r){return T(e,t,n,q,y(e,0,r),y(e,r+1,-1),r)}var ie=function(e,t,n){for(var r=0,a=0;r=a,a=_(),38===r&&12===a&&(t[n]=1),!F(a);)P();return R(e,C)},oe=function(e,t){return L(function(e,t){var n=-1,r=44;do{switch(F(r)){case 0:38===r&&12===_()&&(t[n]=1),e[n]+=ie(C-1,t,n);break;case 2:e[n]+=z(r);break;case 4:if(44===r){e[++n]=58===_()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=f(r)}}while(r=P());return e}(D(e),t))},se=new WeakMap,ue=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||se.get(n))&&!r){se.set(e,!0);for(var a=[],i=oe(t,a),o=n.props,s=0,u=0;s<i.length;s++)for(var l=0;l<o.length;l++,u++)e.props[u]=a[s]?i[s].replace(/&\f/g,o[l]):o[l]+" "+i[s]}}},le=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ce=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case q:e.return=$(e.value,e.length);break;case K:return J([N(e,{value:m(e.value,"@","@"+G)})],r);case Y:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return J([N(e,{props:[m(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return J([N(e,{props:[m(t,/:(plac\w+)/,":-webkit-input-$1")]}),N(e,{props:[m(t,/:(plac\w+)/,":-moz-$1")]}),N(e,{props:[m(t,/:(plac\w+)/,H+"input-$1")]})],r)}return""}))}}],de=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ce;var a,i,o={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,l,d=[Q,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=x(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}([ue,le].concat(r,d));i=function(e,t,n,r){u=n,function(e){J(ee(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new c({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return p.sheet.hydrate(s),p};var fe=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},pe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var he=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},me=/[A-Z]|^ms/g,ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ve=function(e){return 45===e.charCodeAt(1)},ye=function(e){return null!=e&&"boolean"!==typeof e},be=he((function(e){return ve(e)?e:e.replace(me,"-$&").toLowerCase()})),xe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ge,(function(e,t,n){return we={name:t,styles:n,next:we},t}))}return 1===pe[e]||ve(e)||"number"!==typeof t||0===t?t:t+"px"};function Ae(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return we={name:n.name,styles:n.styles,next:we},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)we={name:r.name,styles:r.styles,next:we},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Ae(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=i+"{"+t[o]+"}":ye(o)&&(r+=be(i)+":"+xe(i,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Ae(e,t,o);switch(i){case"animation":case"animationName":r+=be(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var u=0;u<o.length;u++)ye(o[u])&&(r+=be(i)+":"+xe(i,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=we,i=n(e);return we=a,Ae(e,t,i)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var we,ke=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Se=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";we=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=Ae(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++)a+=Ae(n,t,e[o]),r&&(a+=i[o]);ke.lastIndex=0;for(var s,u="";null!==(s=ke.exec(a));)u+="-"+s[1];return{name:fe(a)+u,styles:a,next:we}};function Ce(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ie=function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}};function Ee(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function Te(e,t,n){var r=[],a=Ce(e,r,n);return r.length<2?n:a+t(r)}var Ne=function e(t){for(var n="",r=0;r<t.length;r++){var a=t[r];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var o in i="",a)a[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=a}i&&(n&&(n+=" "),n+=i)}}return n},Oe=function(e){var t=de(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Se(n,t.registered,void 0);return Ie(t,a,!1),t.key+"-"+a.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return Te(t.registered,n,Ne(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Se(n,t.registered);Ee(t,a)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Se(n,t.registered),i="animation-"+a.name;return Ee(t,{name:a.name,styles:"@keyframes "+i+"{"+a.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:Ce.bind(null,t.registered),merge:Te.bind(null,t.registered,n)}},Pe=Oe({key:"css"}),_e=(Pe.flush,Pe.hydrate,Pe.cx,Pe.merge,Pe.getRegisteredStyles,Pe.injectGlobal,Pe.keyframes,Pe.css);Pe.sheet,Pe.cache;var Me,Re=function(e){var t=(0,r.useRef)(e);t.current=(0,r.useMemo)((function(){return e}),[e]);var n=(0,r.useRef)();return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current},Fe=(Me=r.useEffect,function(e,t){var n=(0,r.useRef)(!1);Me((function(){return function(){n.current=!1}}),[]),Me((function(){if(n.current)return e();n.current=!0}),t)}),De=function(e){return"function"===typeof e},Le=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o};var ze,Ze=!("undefined"===typeof window||!window.document||!window.document.createElement),We=(ze=function(){return Ze?localStorage:void 0},function(e,t){var n;try{n=ze()}catch(u){console.error(u)}function a(){try{var r=null===n||void 0===n?void 0:n.getItem(e);if(r)return a=r,(null===t||void 0===t?void 0:t.deserializer)?null===t||void 0===t?void 0:t.deserializer(a):JSON.parse(a)}catch(i){console.error(i)}var a;return De(null===t||void 0===t?void 0:t.defaultValue)?null===t||void 0===t?void 0:t.defaultValue():null===t||void 0===t?void 0:t.defaultValue}var i=Le((0,r.useState)((function(){return a()})),2),o=i[0],s=i[1];return Fe((function(){s(a())}),[e]),[o,Re((function(r){var a=De(r)?r(o):r;if(s(a),function(e){return"undefined"===typeof e}(a))null===n||void 0===n||n.removeItem(e);else try{null===n||void 0===n||n.setItem(e,function(e){return(null===t||void 0===t?void 0:t.serializer)?null===t||void 0===t?void 0:t.serializer(e):JSON.stringify(e)}(a))}catch(i){console.error(i)}}))]}),Be=We;function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var Ve=function(e,t){void 0===t&&(t={});var a,i=t,o=i.volume,s=void 0===o?1:o,u=i.playbackRate,l=void 0===u?1:u,c=i.soundEnabled,d=void 0===c||c,f=i.interrupt,p=void 0!==f&&f,h=i.onload,m=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(i,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),g=r.useRef(null),v=r.useRef(!1),y=r.useState(null),b=y[0],x=y[1],A=r.useState(null),w=A[0],k=A[1],S=function(){"function"===typeof h&&h.call(this),v.current&&x(1e3*this.duration()),k(this)};a=function(){return n.e(510).then(n.t.bind(n,6510,23)).then((function(t){var n;v.current||(g.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,v.current=!0,new g.current(je({src:Array.isArray(e)?e:[e],volume:s,rate:l,onload:S},m)))})),function(){v.current=!1}},(0,r.useEffect)(a,[]),r.useEffect((function(){g.current&&w&&k(new g.current(je({src:Array.isArray(e)?e:[e],volume:s,onload:S},m)))}),[JSON.stringify(e)]),r.useEffect((function(){w&&(w.volume(s),w.rate(l))}),[s,l]);var C=r.useCallback((function(e){"undefined"===typeof e&&(e={}),w&&(d||e.forceSoundEnabled)&&(p&&w.stop(),e.playbackRate&&w.rate(e.playbackRate),w.play(e.id))}),[w,d,p]),I=r.useCallback((function(e){w&&w.stop(e)}),[w]),E=r.useCallback((function(e){w&&w.pause(e)}),[w]);return[C,{sound:w,stop:I,pause:E,duration:b}]};function He(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ue(e){return!!e&&!!e[_t]}function Ge(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Mt}(e)||Array.isArray(e)||!!e[Pt]||!!e.constructor[Pt]||$e(e)||et(e))}function Xe(e,t,n){void 0===n&&(n=!1),0===Ye(e)?(n?Object.keys:Rt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ye(e){var t=e[_t];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:$e(e)?2:et(e)?3:0}function qe(e,t){return 2===Ye(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ke(e,t){return 2===Ye(e)?e.get(t):e[t]}function Je(e,t,n){var r=Ye(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Qe(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function $e(e){return Et&&e instanceof Map}function et(e){return Tt&&e instanceof Set}function tt(e){return e.o||e.t}function nt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ft(e);delete t[_t];for(var n=Rt(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function rt(e,t){return void 0===t&&(t=!1),it(e)||Ue(e)||!Ge(e)||(Ye(e)>1&&(e.set=e.add=e.clear=e.delete=at),Object.freeze(e),t&&Xe(e,(function(e,t){return rt(t,!0)}),!0)),e}function at(){He(2)}function it(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ot(e){var t=Dt[e];return t||He(18,e),t}function st(){return Ct}function ut(e,t){t&&(ot("Patches"),e.u=[],e.s=[],e.v=t)}function lt(e){ct(e),e.p.forEach(ft),e.p=null}function ct(e){e===Ct&&(Ct=e.l)}function dt(e){return Ct={p:[],l:Ct,h:e,m:!0,_:0}}function ft(e){var t=e[_t];0===t.i||1===t.i?t.j():t.O=!0}function pt(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ot("ES5").S(t,e,r),r?(n[_t].P&&(lt(t),He(4)),Ge(e)&&(e=ht(t,e),t.l||gt(t,e)),t.u&&ot("Patches").M(n[_t].t,e,t.u,t.s)):e=ht(t,n,[]),lt(t),t.u&&t.v(t.u,t.s),e!==Ot?e:void 0}function ht(e,t,n){if(it(t))return t;var r=t[_t];if(!r)return Xe(t,(function(a,i){return mt(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return gt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=nt(r.k):r.o;Xe(3===r.i?new Set(a):a,(function(t,i){return mt(e,r,a,t,i,n)})),gt(e,a,!1),n&&e.u&&ot("Patches").R(r,n,e.u,e.s)}return r.o}function mt(e,t,n,r,a,i){if(Ue(a)){var o=ht(e,a,i&&t&&3!==t.i&&!qe(t.D,r)?i.concat(r):void 0);if(Je(n,r,o),!Ue(o))return;e.m=!1}if(Ge(a)&&!it(a)){if(!e.h.F&&e._<1)return;ht(e,a),t&&t.A.l||gt(e,a)}}function gt(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&rt(t,n)}function vt(e,t){var n=e[_t];return(n?tt(n):e)[t]}function yt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function bt(e){e.P||(e.P=!0,e.l&&bt(e.l))}function xt(e){e.o||(e.o=nt(e.t))}function At(e,t,n){var r=$e(t)?ot("MapSet").N(t,n):et(t)?ot("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:st(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=Lt;n&&(a=[r],i=zt);var o=Proxy.revocable(a,i),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):ot("ES5").J(t,n);return(n?n.A:st()).p.push(r),r}function wt(e){return Ue(e)||He(22,e),function e(t){if(!Ge(t))return t;var n,r=t[_t],a=Ye(t);if(r){if(!r.P&&(r.i<4||!ot("ES5").K(r)))return r.t;r.I=!0,n=kt(t,a),r.I=!1}else n=kt(t,a);return Xe(n,(function(t,a){r&&Ke(r.t,t)===a||Je(n,t,e(a))})),3===a?new Set(n):n}(e)}function kt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return nt(e)}var St,Ct,It="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Et="undefined"!=typeof Map,Tt="undefined"!=typeof Set,Nt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ot=It?Symbol.for("immer-nothing"):((St={})["immer-nothing"]=!0,St),Pt=It?Symbol.for("immer-draftable"):"__$immer_draftable",_t=It?Symbol.for("immer-state"):"__$immer_state",Mt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Rt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ft=Object.getOwnPropertyDescriptors||function(e){var t={};return Rt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Dt={},Lt={get:function(e,t){if(t===_t)return e;var n=tt(e);if(!qe(n,t))return function(e,t,n){var r,a=yt(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ge(r)?r:r===vt(e.t,t)?(xt(e),e.o[t]=At(e.A.h,r,e)):r},has:function(e,t){return t in tt(e)},ownKeys:function(e){return Reflect.ownKeys(tt(e))},set:function(e,t,n){var r=yt(tt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=vt(tt(e),t),i=null==a?void 0:a[_t];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Qe(n,a)&&(void 0!==n||qe(e.t,t)))return!0;xt(e),bt(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==vt(e.t,t)||t in e.t?(e.D[t]=!1,xt(e),bt(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=tt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){He(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){He(12)}},zt={};Xe(Lt,(function(e,t){zt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),zt.deleteProperty=function(e,t){return zt.set.call(this,e,t,void 0)},zt.set=function(e,t,n){return Lt.set.call(this,e[0],t,n,e[0])};var Zt=function(){function e(e){var t=this;this.g=Nt,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&He(6),void 0!==r&&"function"!=typeof r&&He(7),Ge(e)){var s=dt(t),u=At(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?lt(s):ct(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ut(s,r),pt(e,s)}),(function(e){throw lt(s),e})):(ut(s,r),pt(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Ot&&(o=void 0),t.F&&rt(o,!0),r){var c=[],d=[];ot("Patches").M(e,o,c,d),r(c,d)}return o}He(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ge(e)||He(8),Ue(e)&&(e=wt(e));var t=dt(this),n=At(this,e,void 0);return n[_t].C=!0,ct(t),n},t.finishDraft=function(e,t){var n=(e&&e[_t]).A;return ut(n,t),pt(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Nt&&He(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=ot("Patches").$;return Ue(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),Wt=new Zt,Bt=Wt.produce,jt=(Wt.produceWithPatches.bind(Wt),Wt.setAutoFreeze.bind(Wt),Wt.setUseProxies.bind(Wt),Wt.applyPatches.bind(Wt),Wt.createDraft.bind(Wt),Wt.finishDraft.bind(Wt),Bt);var Vt=function(){return Vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Vt.apply(this,arguments)};function Ht(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function Ut(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function Xt(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Yt=n(6123),qt=n.n(Yt),Kt=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},Jt=function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return!!e})).map((function(e){return"mdc-theme--"+Kt(e)}))},Qt=r.forwardRef((function(e,t){var n=e.tag,a=void 0===n?"div":n,i=(e.theme,e.element),o=Ht(e,["tag","theme","element"]),s=i?i.props(o):o,u=i?en(t,i.setRef):t;return r.createElement(a,Vt({},s,{ref:u}))})),$t=function(e,t){return qt().apply(void 0,Xt(Xt([e.className],Gt(e.theme?Jt(e.theme):[])),Gt("function"===typeof t?t(e):t)))},en=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n,r;try{for(var a=Ut(e),i=a.next();!i.done;i=a.next()){var o=i.value;"function"===typeof o?o(t):o&&"current"in o&&(o.current=t)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},tn=function(e,t){"function"===typeof e?e(t):e&&"current"in e&&(e.current=t)};function nn(e){var t=r.forwardRef(e),n=function(e,t){return r.createElement(r.Fragment,null)};return n.displayName=e.constructor.name||"RMWCComponent",t.displayName=n.displayName,t}var rn=function(e){var t,n,r,a=Array.isArray(e)?e[0]:e;return(null===(t=null===a||void 0===a?void 0:a.type)||void 0===t?void 0:t.displayName)||(null===(n=null===a||void 0===a?void 0:a.constructor)||void 0===n?void 0:n.displayName)||(null===a||void 0===a?void 0:a.displayName)||(null===a||void 0===a?void 0:a.name)||(null===(r=null===a||void 0===a?void 0:a.constructor)||void 0===r?void 0:r.name)||"Unknown"},an=nn((function(e,t){var n,a=e.children,i=e.fixedColumnWidth,o=e.align,s=Ht(e,["children","fixedColumnWidth","align"]),u=!("GridRow"===rn(a)),l=$t(e,["mdc-layout-grid",(n={},n["mdc-layout-grid--align-"+(o||"")]=void 0!==e.align,n["mdc-layout-grid--fixed-column-width"]=i,n)]);return r.createElement(Qt,Vt({},s,{className:l,ref:t}),u?r.createElement(sn,null,a):a)})),on=nn((function(e,t){var n,a=e.span,i=e.phone,o=e.tablet,s=e.desktop,u=e.order,l=e.align,c=Ht(e,["span","phone","tablet","desktop","order","align"]),d=$t(e,["mdc-layout-grid__cell",(n={},n["mdc-layout-grid__cell--order-"+(u||"")]=void 0!==u,n["mdc-layout-grid__cell--align-"+(l||"")]=void 0!==l,n["mdc-layout-grid__cell--span-"+(a||"")]=void 0!==a,n["mdc-layout-grid__cell--span-"+(i||"")+"-phone"]=void 0!==i,n["mdc-layout-grid__cell--span-"+(o||"")+"-tablet"]=void 0!==o,n["mdc-layout-grid__cell--span-"+(s||"")+"-desktop"]=void 0!==e.desktop,n)]);return r.createElement(Qt,Vt({},c,{ref:t,className:d}))})),sn=nn((function(e,t){var n=$t(e,["mdc-layout-grid__inner"]);return r.createElement(Qt,Vt({},e,{ref:t,className:n}))}));sn.displayName="GridRow";n(5397);var un=function(e,t){return un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},un(e,t)};var ln=function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ln.apply(this,arguments)};function cn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var dn=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),fn={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},pn={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},hn={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},mn=fn.OPENING,gn=fn.OPEN,vn=fn.CLOSING,yn=pn.REASON_ACTION,bn=pn.REASON_DISMISS,xn=function(e){function t(n){var r=e.call(this,ln(ln({},t.defaultAdapter),n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.autoDismissTimer_=0,r.autoDismissTimeoutMs_=hn.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape_=!0,r}return function(e,t){function n(){this.constructor=e}un(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return fn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return pn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return hn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter.removeClass(mn),this.adapter.removeClass(gn),this.adapter.removeClass(vn)},t.prototype.open=function(){var e=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.removeClass(vn),this.adapter.addClass(mn),this.adapter.announce(),this.runNextAnimationFrame_((function(){e.adapter.addClass(gn),e.animationTimer_=setTimeout((function(){var t=e.getTimeoutMs();e.handleAnimationTimerEnd_(),e.adapter.notifyOpened(),t!==hn.INDETERMINATE&&(e.autoDismissTimer_=setTimeout((function(){e.close(bn)}),t))}),hn.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter.notifyClosing(e),this.adapter.addClass(fn.CLOSING),this.adapter.removeClass(fn.OPEN),this.adapter.removeClass(fn.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){t.handleAnimationTimerEnd_(),t.adapter.notifyClosed(e)}),hn.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.isOpen_},t.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},t.prototype.setTimeoutMs=function(e){var t=hn.MIN_AUTO_DISMISS_TIMEOUT_MS,n=hn.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(e===hn.INDETERMINATE||e<=n&&e>=t))throw new Error("\n        timeoutMs must be an integer in the range "+t+"\u2013"+n+"\n        (or "+hn.INDETERMINATE+" to disable), but got '"+e+"'");this.autoDismissTimeoutMs_=e},t.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},t.prototype.setCloseOnEscape=function(e){this.closeOnEscape_=e},t.prototype.handleKeyDown=function(e){("Escape"===e.key||27===e.keyCode)&&this.getCloseOnEscape()&&this.close(bn)},t.prototype.handleActionButtonClick=function(e){this.close(yn)},t.prototype.handleActionIconClick=function(e){this.close(bn)},t.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},t.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(fn.OPENING),this.adapter.removeClass(fn.CLOSING)},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},t}(dn);var An=function(){return An=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},An.apply(this,arguments)};var wn=function(e,t){return wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wn(e,t)};function kn(e,t){function n(){this.constructor=e}wn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Sn=function(){return Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Sn.apply(this,arguments)};function Cn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var In,En=n(1168),Tn={ripple:!0,tooltip:{align:"top",showArrow:!1,activateOn:["hover","focus"],enterDelay:0,leaveDelay:0},typography:{},icon:{icon:"",basename:"material-icons",prefix:"",strategy:"auto",render:void 0}},Nn=r.createContext(Tn),On=function(){return r.useContext(Nn)},Pn={blur:"onBlur",cancel:"onCancel",click:"onClick",close:"onClose",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",auxclick:"onAuxClick",doubleclick:"onDoubleClick",dragend:"onDragEnd",dragstart:"onDragStart",drop:"onDrop",focus:"onFocus",input:"onInput",invalid:"onInvalid",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",mousedown:"onMouseDown",mouseup:"onMouseUp",paste:"onPaste",pause:"onPause",play:"onPlay",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerup:"onPointerUp",ratechange:"onRateChange",reset:"onReset",seeked:"onSeeked",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchstart:"onTouchStart",volumechange:"onVolumeChange",abort:"onAbort",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",animationstart:"onAnimationStart",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",drag:"onDrag",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",gotpointercapture:"onGotPointerCapture",load:"onLoad",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",lostpointercapture:"onLostPointerCapture",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",playing:"onPlaying",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",progress:"onProgress",scroll:"onScroll",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",toggle:"onToggle",touchmove:"onTouchMove",transitionend:"onTransitionEnd",waiting:"onWaiting",wheel:"onWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",change:"onChange",select:"onSelect",beforeinput:"onBeforeInput",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate"},_n=function(e){return Pn[e]||e},Mn=function(){function e(e){this._classes=new Set,this._events={},this._style={},this._props={},this._ref=null,this._onChange=null,this._onChange=e,this.onChange=this.onChange.bind(this),this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this),this.hasClass=this.hasClass.bind(this),this.setProp=this.setProp.bind(this),this.getProp=this.getProp.bind(this),this.removeProp=this.removeProp.bind(this),this.setStyle=this.setStyle.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.setRef=this.setRef.bind(this)}return e.prototype.onChange=function(){this._onChange&&this._onChange()},e.prototype.destroy=function(){var e=this;this._onChange=null,this._events={},this._style={},this._props={},this._classes=new Set,setTimeout((function(){e._ref=null}))},e.prototype.addClass=function(e){this._classes.has(e)||(this._classes.add(e),this.onChange())},e.prototype.removeClass=function(e){this._classes.has(e)&&(this._classes.delete(e),this.onChange())},e.prototype.hasClass=function(e){return this._classes.has(e)},e.prototype.setProp=function(e,t,n){void 0===n&&(n=!1),this._props[e]!==t&&(this._props[e]=t,!n&&this.onChange())},e.prototype.getProp=function(e){return this._props[e]},e.prototype.removeProp=function(e){void 0!==this._props[e]&&(delete this._props[e],this.onChange())},e.prototype.props=function(e){var t=this,n=e.className,r=void 0===n?"":n,a=e.style,i=void 0===a?{}:a,o=Object.entries(e).reduce((function(e,n){var r=Gt(n,2),a=r[0],i=r[1],o=t._events[a];if("function"===typeof i&&"function"===typeof o){e[a]=function(e){return o(e),i(e)}}return e}),Vt({},this._events)),s=qt()(r,Xt([],Gt(this._classes))),u=Vt(Vt({},this._style),i);return Vt(Vt(Vt(Vt({},e),this._props),o),{style:u,className:s})},e.prototype.setStyle=function(e,t){e=e.startsWith("--")?e:e.replace(/(-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")})),this._style[e]!==t&&(this._style[e]=t,this.onChange())},e.prototype.addEventListener=function(e,t){var n=_n(e);this._events[n]!==t&&(this._events[n]=t,this.onChange())},e.prototype.removeEventListener=function(e,t){var n=_n(e);this._events[n]&&(delete this._events[n],this.onChange())},e.prototype.setRef=function(e){e&&(this._ref=e)},Object.defineProperty(e.prototype,"ref",{get:function(){return this._ref},enumerable:!1,configurable:!0}),e}(),Rn=function(e){return function(t,n,r){var a;void 0===r&&(r=!1),a=new CustomEvent(t,{detail:n,bubbles:r}),Object.defineProperty(a,"target",{value:n,writable:!1}),Object.defineProperty(a,"currentTarget",{value:n,writable:!1});var i=t;return e[i]&&e[i](a),a}},Fn=function(e){var t=e.foundation,n=e.props,a=e.elements,i=e.api,o=Gt((0,r.useState)(0),2)[1],s=(0,r.useRef)(n);s.current=n;var u=(0,r.useMemo)((function(){return Object.keys(a).reduce((function(e,t){return e[t]=new Mn((function(){o((function(e){return e+1}))})),e}),{})}),[]),l=(0,r.useMemo)((function(){var e=t(Vt(Vt({},u),{getProps:function(){return s.current},emit:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rn(s.current).apply(void 0,Xt([],Gt(e)))}}));return i&&tn(s.current.apiRef,i(Vt({foundation:e},u))),e}),[]);return(0,r.useEffect)((function(){var e=l;return e.init(),i&&tn(s.current.apiRef,i(Vt({foundation:e},u))),tn(s.current.foundationRef,e),function(){e.destroy(),tn(s.current.apiRef,null),tn(s.current.foundationRef,null),Object.values(u).map((function(e){return e.destroy()})),s.current={}}}),[l,u]),Vt({foundation:l},u)},Dn={bottom:0,height:0,left:0,right:0,top:0,width:0},Ln=function(e,t){if(e instanceof Element){if(e&&e.closest)return e.closest(t);for(var n=e;n;){if(zn(n,t))return n;n=n.parentElement}}return null},zn=function(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)},Zn=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Wn={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Bn={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},jn={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};var Vn,Hn=["touchstart","pointerdown","mousedown","keydown"],Un=["touchend","pointerup","mouseup","contextmenu"],Gn=[],Xn=function(e){function t(n){var r=e.call(this,Sn(Sn({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return kn(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Wn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Bn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jn},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=t.cssClasses,a=r.ROOT,i=r.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(a),e.adapter.isUnbounded()&&(e.adapter.addClass(i),e.layoutInternal_())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,r=n.ROOT,a=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(r),e.adapter.removeClass(a),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},t.prototype.activate=function(e){this.activate_(e)},t.prototype.deactivate=function(){this.deactivate_()},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers_=function(e){var t=this;e&&(Hn.forEach((function(e){t.adapter.registerInteractionHandler(e,t.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},t.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):Un.forEach((function(e){t.adapter.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},t.prototype.deregisterRootHandlers_=function(){var e=this;Hn.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),Un.forEach((function(t){e.adapter.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},t.prototype.removeCssVars_=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activate_=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==e&&r.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&Gn.length>0&&Gn.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(Gn.push(e.target),this.registerDeactivationHandlers_(e)),n.wasElementMadeActive=this.checkElementMadeActive_(e),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){Gn=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive_(e),n.wasElementMadeActive&&t.animateActivation_()),n.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},t.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation_=function(){var e=this,n=t.strings,r=n.VAR_FG_TRANSLATE_START,a=n.VAR_FG_TRANSLATE_END,i=t.cssClasses,o=i.FG_DEACTIVATION,s=i.FG_ACTIVATION,u=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var l="",c="";if(!this.adapter.isUnbounded()){var d=this.getFgTranslationCoordinates_(),f=d.startPoint,p=d.endPoint;l=f.x+"px, "+f.y+"px",c=p.x+"px, "+p.y+"px"}this.adapter.updateCssVariable(r,l),this.adapter.updateCssVariable(a,c),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(o),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),u)},t.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,n=t.activationEvent;return e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,a,i=t.x,o=t.y,s=i+n.left,u=o+n.top;if("touchstart"===e.type){var l=e;r=l.changedTouches[0].pageX-s,a=l.changedTouches[0].pageY-u}else{var c=e;r=c.pageX-s,a=c.pageY-u}return{x:r,y:a}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2},{startPoint:e={x:e.x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},t.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,r=this.activationState_,a=r.hasDeactivationUXRun,i=r.isActivated;(a||!i)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter.removeClass(n)}),jn.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses_=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=Sn({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},t.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady_()},t.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+t.numbers.PADDING;var r=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!==0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},t.prototype.updateLayoutCssVars_=function(){var e=t.strings,n=e.VAR_FG_SIZE,r=e.VAR_LEFT,a=e.VAR_TOP,i=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(i,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(a,this.unboundedCoords_.top+"px"))},t}(Zn),Yn=function(e){var t=(0,r.useRef)(!1),n=Fn({props:e,elements:{rootEl:!0,surfaceEl:!0},foundation:function(e){var t=e.rootEl,n=e.surfaceEl,r=e.getProps;return new Xn({browserSupportsCssVars:function(){return function(e,t){void 0===t&&(t=!1);var n,r=e.CSS;if("boolean"===typeof In&&!t)return In;if(!r||"function"!==typeof r.supports)return!1;var a=r.supports("--css-vars","yes"),i=r.supports("(--css-vars: yes)")&&r.supports("color","#00000000");return n=a||i,t||(In=n),n}(window)},isUnbounded:function(){return!!r().unbounded},isSurfaceActive:function(){return!!t.ref&&zn(t.ref,":active")},isSurfaceDisabled:function(){return!!r().disabled},addClass:function(e){n.addClass(e)},removeClass:function(e){n.removeClass(e)},containsEventTarget:function(e){return!!t.ref&&t.ref.contains(e)},registerInteractionHandler:function(e,t){},deregisterInteractionHandler:function(e,t){},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,{passive:!0})},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t)},registerResizeHandler:function(e){return window.addEventListener("resize",e)},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},updateCssVariable:function(e,t){return n.setStyle(e,t)},computeBoundingRect:function(){return t.ref?t.ref.getBoundingClientRect():Dn},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}}})}}),a=n.foundation,i=Cn(n,["foundation"]),o=i.rootEl,s=(0,r.useCallback)((function(e){e.persist(),a.activate(e)}),[a]),u=(0,r.useCallback)((function(e){e.persist(),a.deactivate()}),[a]),l=e.onFocus,c=(0,r.useCallback)((function(e){null===l||void 0===l||l(e),a.handleFocus()}),[a,l]),d=e.onBlur,f=(0,r.useCallback)((function(e){null===d||void 0===d||d(e),a.handleBlur()}),[a,d]),p=e.onMouseDown,h=(0,r.useCallback)((function(e){null===p||void 0===p||p(e),t.current||s(e),t.current=!1}),[p,s]),m=e.onMouseUp,g=(0,r.useCallback)((function(e){null===m||void 0===m||m(e),u(e)}),[m,u]),v=e.onTouchStart,y=(0,r.useCallback)((function(e){t.current=!0,null===v||void 0===v||v(e),s(e)}),[v,s]),b=e.onTouchEnd,x=(0,r.useCallback)((function(e){null===b||void 0===b||b(e),u(e)}),[b,u]),A=e.onKeyDown,w=(0,r.useCallback)((function(e){null===A||void 0===A||A(e),s(e)}),[A,s]),k=e.onKeyUp,S=(0,r.useCallback)((function(e){null===k||void 0===k||k(e),u(e)}),[k,u]);return o.setProp("onFocus",c,!0),o.setProp("onBlur",f,!0),o.setProp("onMouseDown",h,!0),o.setProp("onMouseUp",g,!0),o.setProp("onTouchStart",y,!0),o.setProp("onTouchEnd",x,!0),o.setProp("onKeyDown",w,!0),o.setProp("onKeyUp",S,!0),(0,r.useEffect)((function(){o.setRef(e.domNode)}),[o,e.domNode]),(0,r.useEffect)((function(){a.setUnbounded(!!e.unbounded)}),[e.unbounded,a]),(0,r.useEffect)((function(){e.disabled&&a.handleBlur()}),[e.disabled,a]),Sn({},i)},qn=r.createContext({}),Kn=(Vn=function(e){var t=e.children,n=e.className,a=e.primary,i=e.accent,o=e.unbounded,s=e.surface,u=(e.domNode,e.foundationRef,Cn(e,["children","className","primary","accent","unbounded","surface","domNode","foundationRef"])),l=Yn(e),c=l.rootEl,d=l.surfaceEl,f=r.Children.only(t);if(!r.isValidElement(f))return null;var p=o?{"data-mdc-ripple-is-unbounded":!0}:{},h=s&&o?{}:d.props({style:f.props.style}),m=qt()(n!==f.props.className&&n,h.className,f.props.className,{"mdc-ripple-surface":"boolean"===typeof s?s:void 0===s,"mdc-ripple-surface--primary":a,"mdc-ripple-surface--accent":i});u.disabled&&(m=m.replace("mdc-ripple-upgraded--background-focused",""));var g=r.cloneElement(f,Sn(Sn(Sn({},f.props),p),c.props(Sn(Sn(Sn(Sn({},u),{style:f.props.style}),h),{className:m}))));return r.createElement(qn.Provider,{value:d.props({style:f.props.style})},g)},function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={domNode:null},t}return kn(t,e),t.prototype.componentDidMount=function(){this.setState({domNode:En.findDOMNode(this)})},t.prototype.componentDidUpdate=function(){var e=En.findDOMNode(this);e!==this.state.domNode&&this.setState({rootRippleElement:e})},t.prototype.render=function(){return r.createElement(Vn,Sn({},this.props,{domNode:this.state.domNode}))},t}(r.Component)),Jn=function(e){var t=e.className,n=Cn(e,["className"]);return r.createElement(qn.Consumer,null,(function(e){return r.createElement("div",Sn({},n,e,{className:t+" "+(e.className||"")}))}))},Qn=function(e){var t=void 0===e?{}:e,n=t.unbounded,a=t.accent,i=t.surface;return function(e){var t=r.forwardRef((function(t,o){var s=t.ripple,u=Cn(t,["ripple"]),l=On(),c="object"!==typeof(s=null!==s&&void 0!==s?s:l.ripple)?{}:s;return s?r.createElement(Kn,Sn({},u,{accent:c.accent||a,unbounded:c.unbounded||n,surface:c.surface||i}),r.createElement(e,Sn({},u,{ref:o}))):r.createElement(e,Sn({},u,{ref:o}))}));return t.displayName="withRipple("+(e.displayName||e.constructor.name||"Unknown")+")",t}},$n=function(e,t,n){return"auto"===(t=t||n||"auto")?function(e){return"string"===typeof e&&e.includes("/")?"url":r.isValidElement(e)?"component":"ligature"}(e):t},er={ligature:function(e){var t=e.content,n=Ht(e,["content"]);return r.createElement(tr,Vt({},n),t)},className:function(e){e.content;var t=Ht(e,["content"]);return r.createElement(tr,Vt({},t))},url:function(e){var t=e.content,n=Ht(e,["content"]);return r.createElement(tr,Vt({},n,{style:Vt(Vt({},n.style),{backgroundImage:"url("+t+")"})}))},component:function(e){var t=e.content,n=Ht(e,["content"]);if("svg"===t.type){var a=t.props,i=a.children,o=Ht(a,["children"]);return r.createElement(tr,Vt({},o,n,{tag:"svg"}),i)}return r.createElement(tr,Vt({},n),t)},auto:void 0},tr=r.forwardRef((function(e,t){return r.createElement(Qt,Vt({tag:"i"},e,{ref:t}))})),nr=nn((function(e,t){var n,a=e.icon,i=Ht(e,["icon"]),o=On(),s=Vt({},function(e){return r.isValidElement(e)||e&&"object"!==typeof e?{icon:e}:e}(a)),u=s.icon,l=s.strategy,c=s.prefix,d=s.basename,f=s.render,p=s.size,h=Ht(s,["icon","strategy","prefix","basename","render","size"]),m=o.icon||{},g=m.basename,v=void 0===g?null:g,y=m.prefix,b=void 0===y?null:y,x=m.strategy,A=void 0===x?null:x,w=m.render,k=void 0===w?null:w,S=u,C=$n(S,l||null,A||null),I=void 0===d?v:d,E="className"===C&&"string"===typeof u?""+String(c||b)+u:null,T=!!C&&er[C]||null;if("custom"===C&&(T=f||k),!T)return console.error("Icon: rendering not implemented for "+String(C)+"."),null;var N=T(Vt(Vt(Vt({},i),h),{ref:t,content:S,className:qt()("rmwc-icon","rmwc-icon--"+C,I,i.className,h.className,E,(n={},n["rmwc-icon--size-"+(p||"")]=!!p,n))}));if(!r.isValidElement(N))return null;var O=rn(N.props.children);return O.includes("Avatar")||O.includes("Icon")?r.cloneElement(N.props.children,Vt(Vt(Vt({},N.props.children.props),N.props),{ref:t,children:N.props.children.props.children,className:qt()(N.props.className,N.props.children.props.className)})):N}));nr.displayName="Icon";var rr=Qn({surface:!1})(nn((function(e,t){var n=e.dense,a=e.raised,i=e.unelevated,o=e.outlined,s=e.danger,u=e.icon,l=e.label,c=e.trailingIcon,d=e.children,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["dense","raised","unelevated","outlined","danger","icon","label","trailingIcon","children"]),p=$t(e,["mdc-button",{"mdc-button--dense":n,"mdc-button--raised":a,"mdc-button--unelevated":i,"mdc-button--outlined":o}]);if(s){var h=f.style||{};f.style=An(An({},{"--mdc-theme-primary":"var(--mdc-theme-error)","--mdc-theme-on-primary":"var(--mdc-theme-on-error)"}),h)}return r.createElement(Qt,An({tag:"button"},f,{ref:t,className:p}),r.createElement(ar,null),!!u&&r.createElement(ir,{icon:u}),r.createElement("span",{className:"mdc-button__label"},l,d),!!c&&r.createElement(ir,{icon:c}))}))),ar=r.memo((function(){return r.createElement("div",{className:"mdc-button__ripple"})})),ir=function(e){var t=nn(e);return r.memo(t)}((function(e,t){var n=$t(e,["mdc-button__icon"]);return r.createElement(nr,An({},e,{className:n,ref:t}))})),or=hn.ARIA_LIVE_DELAY_MS,sr=pn.ARIA_LIVE_LABEL_TEXT_ATTR;var ur=function(){window.dispatchEvent(new Event("resize"))};function lr(e){var t=Fn({props:e,elements:{rootEl:!0,surfaceEl:!0,labelEl:!0},foundation:function(e){var t=e.rootEl,n=e.labelEl,r=e.emit;return new xn({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},announce:function(){return n.ref&&function(e,t){void 0===t&&(t=e);var n=e.getAttribute("aria-live"),r=t.textContent.trim();r&&n&&(e.setAttribute("aria-live","off"),t.textContent="",t.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',t.setAttribute(sr,r),setTimeout((function(){e.setAttribute("aria-live",n),t.removeAttribute(sr),t.textContent=r}),or))}(n.ref)},notifyOpening:function(){return r("onOpen",{})},notifyOpened:function(){ur(),r("onOpened",{})},notifyClosing:function(e){r("onClose",e?{reason:e}:{})},notifyClosed:function(e){return r("onClosed",e?{reason:e}:{})}})}}),n=t.foundation,a=cn(t,["foundation"]),i=a.rootEl,o=a.surfaceEl;return i.setProp("onKeyDown",(function(t){e.onKeyDown&&e.onKeyDown(t),n.handleKeyDown(t)}),!0),o.setProp("onClick",(function(t){if(t.target instanceof Element){var r=t.target,a=Ln(r,".mdc-button");a&&(r=a),e.dismissesOnAction&&r.classList.contains("mdc-snackbar__action")?n.handleActionButtonClick(t,r.dataset.mdcSnackbarAction):r.classList.contains("mdc-snackbar__dismiss")&&n.handleActionIconClick(t)}}),!0),(0,r.useEffect)((function(){e.open?n.open():n.close()}),[e.open,n]),(0,r.useEffect)((function(){e.timeout&&(-1===e.timeout?n.setTimeoutMs(e.timeout):n.autoDismissTimeoutMs_=e.timeout)}),[e.timeout,n]),ln({foundation:n},a)}xn.prototype.handleActionButtonClick=function(e,t){this.close(t)};var cr=function(e,t){return cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},cr(e,t)};var dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},dr.apply(this,arguments)};function fr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var pr=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),hr={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},mr={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"},gr=function(e){function t(n){var r=e.call(this,dr(dr({},t.defaultAdapter),n))||this;return r.hasToggledAriaLabel=!1,r}return function(e,t){function n(){this.constructor=e}cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return hr},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return mr},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this.adapter.getAttr(mr.DATA_ARIA_LABEL_ON),t=this.adapter.getAttr(mr.DATA_ARIA_LABEL_OFF);if(e&&t){if(null!==this.adapter.getAttr(mr.ARIA_PRESSED))throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(mr.ARIA_PRESSED,String(this.isOn()))},t.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},t.prototype.isOn=function(){return this.adapter.hasClass(hr.ICON_BUTTON_ON)},t.prototype.toggle=function(e){if(void 0===e&&(e=!this.isOn()),e?this.adapter.addClass(hr.ICON_BUTTON_ON):this.adapter.removeClass(hr.ICON_BUTTON_ON),this.hasToggledAriaLabel){var t=e?this.adapter.getAttr(mr.DATA_ARIA_LABEL_ON):this.adapter.getAttr(mr.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(mr.ARIA_LABEL,t||"")}else this.adapter.setAttr(mr.ARIA_PRESSED,""+e)},t}(pr),vr=nn((function(e,t){var n=fr(e,[]);return n.onIcon?r.createElement(yr,dr({},n,{ref:t})):r.createElement(br,dr({tag:"button"},n,{ref:t}))})),yr=nn((function(e,t){var n=e.icon,a=e.onIcon,i=(e.foundationRef,fr(e,["icon","onIcon","foundationRef"])),o=function(e){var t=Fn({props:e,elements:{rootEl:!0},foundation:function(e){var t=e.rootEl,n=e.emit;return new gr({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},hasClass:function(e){return t.hasClass(e)},setAttr:function(e,n){return t.setProp(e,n)},notifyChange:function(e){return n("onChange",e)}})}}),n=t.foundation,a=fr(t,["foundation"]),i=a.rootEl,o=void 0!==e.checked?e.checked:n.isOn();return(0,r.useEffect)((function(){o!==n.isOn()&&n.toggle(o)}),[n,o]),i.setProp("onClick",(function(t){var r;null===(r=e.onClick)||void 0===r||r.call(e,t),n.handleClick()}),!0),dr({isOn:o,foundation:n},a)}(e),s=o.isOn,u=o.rootEl;return r.createElement(xr,dr({"aria-pressed":s},u.props(i),{tag:"button",ref:t}),r.createElement(Ar,{icon:n}),r.createElement(Ar,{icon:a,on:!0}))})),br=Qn({surface:!1,unbounded:!0})(nn((function(e,t){var n=e.checked,a=e.label,i=(e.foundationRef,fr(e,["checked","label","foundationRef"])),o=$t(e,["mdc-icon-button",{"mdc-icon-button--on":n}]);return r.createElement(nr,dr({role:"button",tabIndex:0,"aria-label":a},i,{className:o,ref:t}))}))),xr=Qn({surface:!1,unbounded:!0})(nn((function(e,t){var n=e.checked,a=fr(e,["checked"]),i=$t(e,["mdc-icon-button",{"mdc-icon-button--on":n}]);return r.createElement(Qt,dr({tag:"button",role:"button",tabIndex:0},a,{className:i,ref:t}))}))),Ar=r.memo((function(e){e.on;var t=fr(e,["on"]),n=$t(e,["mdc-icon-button__icon",{"mdc-icon-button__icon--on":e.on}]);return r.createElement(nr,dr({},t,{className:n}))})),wr=nn((function(e,t){var n=lr(e),a=n.rootEl,i=n.surfaceEl,o=n.labelEl,s=(e.open,e.message),u=(e.timeout,e.dismissIcon),l=(e.onOpen,e.onClose,e.children),c=e.action,d=e.icon,f=e.leading,p=e.stacked,h=(e.dismissesOnAction,e.foundationRef,cn(e,["open","message","timeout","dismissIcon","onOpen","onClose","children","action","icon","leading","stacked","dismissesOnAction","foundationRef"])),m=$t(e,["mdc-snackbar",{"mdc-snackbar--leading":f,"mdc-snackbar--stacked":p}]),g=Array.isArray(c)?c:c?[c]:[];return r.createElement(Qt,ln({},h,{ref:t,element:a,"aria-live":"assertive","aria-atomic":!0,"aria-hidden":!0,className:m}),r.createElement("div",ln({},i.props({}),{className:"mdc-snackbar__surface"}),!!d&&r.createElement(nr,{style:{color:"rgba(255, 255, 255, 0.87)",fill:"currentColor",marginLeft:"1rem"},icon:d}),r.createElement(kr,null,s,r.createElement("div",{style:{display:"none"},ref:o.setRef})),r.createElement(Sr,null,g.map((function(e,t){return r.createElement(r.Fragment,{key:t},e)})),u&&r.createElement(Ir,{icon:!0===u?"close":u})),l))}));function kr(e){return r.createElement("div",ln({role:"status","aria-live":"polite",className:"mdc-snackbar__label"},e))}function Sr(e){return r.createElement("div",ln({className:"mdc-snackbar__actions"},e))}var Cr=nn((function(e,t){var n=$t(e,["mdc-snackbar__action"]),a=e.action,i=void 0===a?xn.strings.REASON_ACTION:a,o=cn(e,["action"]);return r.createElement(rr,ln({},o,{className:n,ref:t,"data-mdc-snackbar-action":i}))}));function Ir(e){return r.createElement(vr,ln({},e,{className:"mdc-snackbar__dismiss"}))}n(7292);var Er=n(4165),Tr=n(5861),Nr=n(2790),Or=n.n(Nr),Pr=n(4925),_r=n(4942),Mr=n(1120);function Rr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Mr.Z)(e)););return e}function Fr(){return Fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Rr(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Fr.apply(this,arguments)}var Dr=n(7326),Lr=n(9611);var zr=n(8814);function Zr(e,t,n){return Zr=(0,zr.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,Lr.Z)(a,n.prototype),a},Zr.apply(null,arguments)}function Wr(e){var t="function"===typeof Map?new Map:void 0;return Wr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zr(e,arguments,(0,Mr.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,Lr.Z)(n,e)},Wr(e)}var Br=n(2963),jr=n(4506),Vr=n(136),Hr=n(9388),Ur=n(5671),Gr=n(3144),Xr=n(181);function Yr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Xr.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}var qr=n(3433);function Kr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Jr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Jr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Jr=function(e){this.s=e,this.n=e.next},Jr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Jr(e)}var Qr="/index.js",$r=["units"],ea=Object.defineProperty,ta=function(e,t){for(var n in t)ea(e,n,{get:t[n],enumerable:!0})},na=function(e,t,n){return function(e,t,n){t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},ra=function(e,t,n){if(!t.has(e))throw TypeError("Cannot "+n)},aa=function(e,t,n){return ra(e,t,"read from private field"),n?n.call(e):t.get(e)},ia=function(e,t,n){if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},oa=function(e,t,n,r){return ra(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n};function sa(){for(var e,t=new Date,n="".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"),":").concat(t.getSeconds().toString().padStart(2,"0"),".").concat(t.getMilliseconds().toString().padStart(3,"0")),r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];a&&(e=console).log.apply(e,[n,"Human:"].concat(a))}function ua(e,t){var n=e.endsWith("/")?"":"/",r=t.startsWith(".")||t.startsWith("/")||t.startsWith("http:")||t.startsWith("https:")||t.startsWith("file:")?"".concat(t):"".concat(e).concat(n).concat(t);if(!r.toLocaleLowerCase().includes(".json"))throw new Error("modelpath error: expecting json file: ".concat(r));return r}var la=function(){return"undefined"!==typeof performance?performance.now():parseInt((Number(process.hrtime.bigint())/1e3/1e3).toString())};function ca(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"config",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=0,i=Object.keys(t);a<i.length;a++){var o=i[a];if("object"===typeof t[o])ca(e[o],t[o],o,r);else{var s=e&&"undefined"!==typeof e[o];s||r.push({reason:"unknown property",where:"".concat(n,".").concat(o," = ").concat(t[o])});var u=e&&typeof e[o]===typeof t[o];s&&!u&&r.push({reason:"property type mismatch",where:"".concat(n,".").concat(o," = ").concat(t[o]),expected:typeof e[o]})}}return t.debug&&"config"===n&&r.length>0&&sa("invalid configuration",r),r}function da(){for(var e=function(e){return e&&"object"===typeof e},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return Object.keys(n||{}).forEach((function(r){var a=t[r],i=n[r];Array.isArray(a)&&Array.isArray(i)?t[r]=a.concat.apply(a,(0,qr.Z)(i)):e(a)&&e(i)?t[r]=da(a,i):t[r]=i})),t}),{})}var fa={backend:"",modelBasePath:"",cacheModels:!0,wasmPath:"",wasmPlatformFetch:!1,debug:!0,async:!0,warmup:"full",cacheSensitivity:.7,skipAllowed:!1,deallocate:!1,filter:{enabled:!0,equalization:!1,width:0,height:0,flip:!1,return:!0,brightness:0,contrast:0,sharpness:0,blur:0,saturation:0,hue:0,negative:!1,sepia:!1,vintage:!1,kodachrome:!1,technicolor:!1,polaroid:!1,pixelate:0},gesture:{enabled:!0},face:{enabled:!0,detector:{modelPath:"blazeface.json",rotation:!0,maxDetected:1,skipFrames:99,skipTime:2500,minConfidence:.2,iouThreshold:.1,mask:!1,return:!1},mesh:{enabled:!0,modelPath:"facemesh.json",keepInvalid:!1},attention:{enabled:!1,modelPath:"facemesh-attention.json"},iris:{enabled:!0,modelPath:"iris.json"},emotion:{enabled:!0,minConfidence:.1,skipFrames:99,skipTime:1500,modelPath:"emotion.json"},description:{enabled:!0,modelPath:"faceres.json",skipFrames:99,skipTime:3e3,minConfidence:.1},antispoof:{enabled:!1,skipFrames:99,skipTime:4e3,modelPath:"antispoof.json"},liveness:{enabled:!1,skipFrames:99,skipTime:4e3,modelPath:"liveness.json"}},body:{enabled:!0,modelPath:"movenet-lightning.json",maxDetected:-1,minConfidence:.3,skipFrames:1,skipTime:200},hand:{enabled:!0,rotation:!0,skipFrames:99,skipTime:1e3,minConfidence:.5,iouThreshold:.2,maxDetected:-1,landmarks:!0,detector:{modelPath:"handtrack.json"},skeleton:{modelPath:"handlandmark-full.json"}},object:{enabled:!1,modelPath:"mb3-centernet.json",minConfidence:.2,iouThreshold:.4,maxDetected:10,skipFrames:99,skipTime:2e3},segmentation:{enabled:!1,modelPath:"selfie.json",blur:8}},pa={};ta(pa,{Abs:function(){return qi},Acos:function(){return Ki},Acosh:function(){return Ji},AdadeltaOptimizer:function(){return Db},AdagradOptimizer:function(){return Lb},AdamOptimizer:function(){return zb},AdamaxOptimizer:function(){return Zb},Add:function(){return Qi},AddN:function(){return $i},All:function(){return eo},Any:function(){return to},ArgMax:function(){return no},ArgMin:function(){return ro},Asin:function(){return ao},Asinh:function(){return io},Atan:function(){return oo},Atan2:function(){return uo},Atanh:function(){return so},AvgPool:function(){return lo},AvgPool3D:function(){return fo},AvgPool3DGrad:function(){return po},AvgPoolGrad:function(){return co},BackendWasm:function(){return i7},BatchMatMul:function(){return ho},BatchToSpaceND:function(){return mo},Bincount:function(){return go},BroadcastArgs:function(){return yo},BroadcastTo:function(){return vo},Callback:function(){return vP},CallbackList:function(){return VC},Cast:function(){return bo},Ceil:function(){return xo},ClipByValue:function(){return Ao},Complex:function(){return wo},ComplexAbs:function(){return ko},Concat:function(){return So},Conv2D:function(){return Co},Conv2DBackpropFilter:function(){return Io},Conv2DBackpropInput:function(){return Eo},Conv3D:function(){return To},Conv3DBackpropFilterV2:function(){return No},Conv3DBackpropInputV2:function(){return Oo},Cos:function(){return Po},Cosh:function(){return _o},CropAndResize:function(){return Fo},Cumprod:function(){return Mo},Cumsum:function(){return Ro},CustomCallback:function(){return GC},DataStorage:function(){return Va},DenseBincount:function(){return Do},DepthToSpace:function(){return Lo},DepthwiseConv2dNative:function(){return zo},DepthwiseConv2dNativeBackpropFilter:function(){return Zo},DepthwiseConv2dNativeBackpropInput:function(){return Wo},Diag:function(){return Bo},Dilation2D:function(){return jo},Dilation2DBackpropFilter:function(){return Ho},Dilation2DBackpropInput:function(){return Vo},ENV:function(){return Gi},EarlyStopping:function(){return xP},Einsum:function(){return Go},Elu:function(){return Xo},EluGrad:function(){return Yo},Environment:function(){return Bi},Equal:function(){return Ko},Erf:function(){return qo},Exp:function(){return Jo},ExpandDims:function(){return Qo},Expm1:function(){return $o},FFT:function(){return es},Fill:function(){return ts},FlipLeftRight:function(){return ns},Floor:function(){return rs},FloorDiv:function(){return as},FromPixels:function(){return tl},FusedBatchNorm:function(){return is},FusedConv2D:function(){return al},FusedDepthwiseConv2D:function(){return il},GPGPUContext:function(){return pV},GatherNd:function(){return ss},GatherV2:function(){return os},GraphModel:function(){return uM},Greater:function(){return us},GreaterEqual:function(){return ls},History:function(){return UC},IFFT:function(){return ds},Identity:function(){return cs},Imag:function(){return fs},InputSpec:function(){return Ww},IsFinite:function(){return ps},IsInf:function(){return hs},IsNan:function(){return ms},KernelBackend:function(){return Ha},LRN:function(){return Ts},LRNGrad:function(){return Ns},LayerVariable:function(){return Lw},LayersModel:function(){return cE},LeakyRelu:function(){return gs},Less:function(){return vs},LessEqual:function(){return ys},LinSpace:function(){return bs},Log:function(){return xs},Log1p:function(){return As},LogSoftmax:function(){return Is},LogicalAnd:function(){return ws},LogicalNot:function(){return ks},LogicalOr:function(){return Ss},LogicalXor:function(){return Cs},LowerBound:function(){return Es},MathBackendCPU:function(){return zR},MathBackendWebGL:function(){return PH},Max:function(){return Os},MaxPool:function(){return _s},MaxPool3D:function(){return Rs},MaxPool3DGrad:function(){return Fs},MaxPoolGrad:function(){return Ms},MaxPoolWithArgmax:function(){return Ds},Maximum:function(){return Ps},Mean:function(){return Ls},Min:function(){return zs},Minimum:function(){return Zs},MirrorPad:function(){return Ws},Mod:function(){return Bs},MomentumOptimizer:function(){return Bb},Multinomial:function(){return js},Multiply:function(){return Vs},Neg:function(){return Hs},NonMaxSuppressionV3:function(){return Gs},NonMaxSuppressionV4:function(){return Xs},NonMaxSuppressionV5:function(){return Ys},NotEqual:function(){return Us},OP_SCOPE_SUFFIX:function(){return Dc},OneHot:function(){return Ks},OnesLike:function(){return qs},Optimizer:function(){return Fb},OptimizerConstructors:function(){return Vb},Pack:function(){return Js},PadV2:function(){return Qs},Pool:function(){return $s},Pow:function(){return eu},Prelu:function(){return tu},Prod:function(){return nu},RMSPropOptimizer:function(){return jb},RNN:function(){return IT},Range:function(){return ru},Rank:function(){return ac},Real:function(){return au},RealDiv:function(){return Uo},Reciprocal:function(){return iu},Reduction:function(){return lb},Relu:function(){return ou},Relu6:function(){return fu},Reshape:function(){return su},ResizeBilinear:function(){return cu},ResizeBilinearGrad:function(){return du},ResizeNearestNeighbor:function(){return uu},ResizeNearestNeighborGrad:function(){return lu},Reverse:function(){return pu},RotateWithOffset:function(){return nl},Round:function(){return hu},Rsqrt:function(){return mu},SGDOptimizer:function(){return Wb},ScatterNd:function(){return gu},SearchSorted:function(){return vu},Select:function(){return yu},Selu:function(){return bu},Sequential:function(){return bE},Sigmoid:function(){return Su},Sign:function(){return ku},Sin:function(){return Au},Sinh:function(){return wu},Slice:function(){return xu},Softmax:function(){return Ou},Softplus:function(){return Cu},SpaceToBatchND:function(){return Tu},SparseFillEmptyRows:function(){return Pu},SparseReshape:function(){return _u},SparseSegmentMean:function(){return Mu},SparseSegmentSum:function(){return Ru},SparseToDense:function(){return Fu},SplitV:function(){return Nu},Sqrt:function(){return Iu},Square:function(){return Lu},SquaredDifference:function(){return Du},Step:function(){return el},StridedSlice:function(){return zu},StringNGrams:function(){return Zu},StringSplit:function(){return Wu},StringToHashBucketFast:function(){return Bu},Sub:function(){return ju},Sum:function(){return Eu},SymbolicTensor:function(){return Bw},Tan:function(){return Vu},Tanh:function(){return Hu},Tensor:function(){return tc},TensorBuffer:function(){return Ql},Tile:function(){return Uu},TopK:function(){return Gu},Transform:function(){return Xu},Transpose:function(){return Yu},Unique:function(){return qu},Unpack:function(){return Ku},UnsortedSegmentSum:function(){return Ju},UpperBound:function(){return Qu},Variable:function(){return nc},ZerosLike:function(){return $u},_FusedMatMul:function(){return rl},abs:function(){return ah},acos:function(){return ih},acosh:function(){return oh},add:function(){return eh},addN:function(){return sh},all:function(){return uh},any:function(){return lh},argMax:function(){return ch},argMin:function(){return dh},asin:function(){return fh},asinh:function(){return ph},atan:function(){return hh},atan2:function(){return mh},atanh:function(){return gh},avgPool:function(){return Rh},avgPool3d:function(){return Fh},backend:function(){return Gf},backend_util:function(){return Xb},basicLSTMCell:function(){return Wh},batchNorm:function(){return Vh},batchNorm2d:function(){return Hh},batchNorm3d:function(){return Uh},batchNorm4d:function(){return Gh},batchToSpaceND:function(){return Bh},bincount:function(){return Xh},booleanMaskAsync:function(){return iy},broadcastArgs:function(){return Yh},broadcastTo:function(){return qh},broadcast_util:function(){return $f},browser:function(){return ap},buffer:function(){return Yd},callbacks:function(){return AP},cast:function(){return qd},ceil:function(){return Kh},clipByValue:function(){return Jh},clone:function(){return Kd},complex:function(){return zc},concat:function(){return Dh},concat1d:function(){return Qh},concat2d:function(){return $h},concat3d:function(){return em},concat4d:function(){return tm},constraints:function(){return sC},conv1d:function(){return rm},conv2d:function(){return nm},conv2dTranspose:function(){return im},conv3d:function(){return om},conv3dTranspose:function(){return um},copyRegisteredKernels:function(){return vl},cos:function(){return lm},cosh:function(){return cm},cosineWindow:function(){return py},cumprod:function(){return dm},cumsum:function(){return fm},customGrad:function(){return mg},data:function(){return hM},denseBincount:function(){return pm},deprecationWarn:function(){return Of},depthToSpace:function(){return hm},depthwiseConv2d:function(){return mm},deregisterOp:function(){return EP},device_util:function(){return Ic},diag:function(){return gm},dilation2d:function(){return vm},disableDeprecationWarnings:function(){return Nf},dispose:function(){return Df},disposeVariables:function(){return Pf},div:function(){return nh},divNoNan:function(){return Am},dot:function(){return wm},dropout:function(){return dy},einsum:function(){return km},elu:function(){return Sm},enableDebugMode:function(){return Tf},enableProdMode:function(){return Ef},enclosingPowerOfTwo:function(){return fy},engine:function(){return _f},env:function(){return Hi},equal:function(){return ym},erf:function(){return Cm},euclideanNorm:function(){return Vm},exp:function(){return Hm},expandDims:function(){return Um},expm1:function(){return Gm},eye:function(){return Ym},fft:function(){return _v},fill:function(){return qm},findBackend:function(){return Vf},findBackendFactory:function(){return Hf},floor:function(){return Km},floorDiv:function(){return th},forceHalfFloat:function(){return MH},fused:function(){return gy},gather:function(){return Jm},gatherND:function(){return cy},gather_util:function(){return pp},getBackend:function(){return Bf},getGradient:function(){return dl},getKernel:function(){return cl},getKernelsForBackend:function(){return fl},getThreadsCount:function(){return A7},gpgpu_util:function(){return Hj},grad:function(){return cg},grads:function(){return dg},greater:function(){return Qm},greaterEqual:function(){return $m},ifft:function(){return Mv},imag:function(){return Yf},image:function(){return Ob},inTopKAsync:function(){return my},initializers:function(){return wC},input:function(){return kE},io:function(){return Qd},irfft:function(){return Rv},isFinite:function(){return eg},isInf:function(){return tg},isNaN:function(){return ng},keep:function(){return Lf},kernel_impls:function(){return Xx},layers:function(){return zC},leakyRelu:function(){return rg},less:function(){return ag},lessEqual:function(){return ig},linalg:function(){return Pb},linspace:function(){return og},loadGraphModel:function(){return lM},loadGraphModelSync:function(){return dM},loadLayersModel:function(){return wE},localResponseNormalization:function(){return sg},log:function(){return ug},log1p:function(){return lg},logSigmoid:function(){return yg},logSoftmax:function(){return xg},logSumExp:function(){return Ag},logicalAnd:function(){return wg},logicalNot:function(){return kg},logicalOr:function(){return Sg},logicalXor:function(){return Cg},losses:function(){return _b},lowerBound:function(){return Tg},matMul:function(){return Cf},math:function(){return Sf},max:function(){return Rm},maxPool:function(){return Ng},maxPool3d:function(){return Og},maxPoolWithArgmax:function(){return Pg},maximum:function(){return _g},mean:function(){return Mg},memory:function(){return Mf},meshgrid:function(){return Dg},metrics:function(){return KO},min:function(){return Fm},minimum:function(){return Lg},mirrorPad:function(){return zg},mod:function(){return Zg},model:function(){return xE},models:function(){return fP},moments:function(){return Wg},movingAverage:function(){return oy},mul:function(){return rh},multiRNNCell:function(){return Bg},multinomial:function(){return jg},neg:function(){return qf},nextFrame:function(){return Gb},norm:function(){return jm},notEqual:function(){return Vg},oneHot:function(){return If},ones:function(){return Fg},onesLike:function(){return Hg},op:function(){return Lc},outerProduct:function(){return Ug},pad:function(){return Gg},pad1d:function(){return Xg},pad2d:function(){return Yg},pad3d:function(){return qg},pad4d:function(){return Kg},pool:function(){return Qg},pow:function(){return Dm},prelu:function(){return $g},print:function(){return Jd},prod:function(){return ev},profile:function(){return Rf},rand:function(){return tv},randomGamma:function(){return ov},randomNormal:function(){return sv},randomUniform:function(){return uv},range:function(){return lv},ready:function(){return Wf},real:function(){return Kf},reciprocal:function(){return cv},registerBackend:function(){return Uf},registerCallbackConstructor:function(){return SE},registerGradient:function(){return hl},registerKernel:function(){return pl},registerOp:function(){return CP},regularizers:function(){return pP},relu:function(){return dv},relu6:function(){return fv},removeBackend:function(){return jf},reshape:function(){return Mh},reverse:function(){return pv},reverse1d:function(){return hv},reverse2d:function(){return mv},reverse3d:function(){return gv},reverse4d:function(){return vv},rfft:function(){return Dv},round:function(){return yv},rsqrt:function(){return bv},scalar:function(){return Lm},scatterND:function(){return sy},scatter_util:function(){return mp},searchSorted:function(){return Eg},selu:function(){return xv},separableConv2d:function(){return Av},sequential:function(){return AE},serialization:function(){return Lp},setBackend:function(){return Zf},setPlatform:function(){return Xf},setThreadsCount:function(){return x7},setWasmPath:function(){return g7},setWasmPaths:function(){return v7},setWebGLContext:function(){return eB},setdiff1dAsync:function(){return kv},shared:function(){return ZR},sigmoid:function(){return Lh},sign:function(){return Sv},signal:function(){return Nb},sin:function(){return Cv},sinh:function(){return Iv},slice:function(){return zh},slice1d:function(){return Ev},slice2d:function(){return Tv},slice3d:function(){return Nv},slice4d:function(){return Ov},slice_util:function(){return bp},softmax:function(){return Pv},softplus:function(){return vg},spaceToBatchND:function(){return Jg},sparse:function(){return Mb},sparseToDense:function(){return ly},spectral:function(){return Tb},split:function(){return Fv},sqrt:function(){return zm},square:function(){return Zm},squaredDifference:function(){return Lv},squeeze:function(){return zv},stack:function(){return Zv},step:function(){return Wv},stridedSlice:function(){return Bv},string:function(){return Rb},sub:function(){return bg},sum:function(){return Wm},sumOutType:function(){return dc},tan:function(){return jv},tanh:function(){return Zh},tensor:function(){return Wc},tensor1d:function(){return Vv},tensor2d:function(){return Hv},tensor3d:function(){return ip},tensor4d:function(){return Uv},tensor5d:function(){return Gv},tensor6d:function(){return Xv},tensor_util:function(){return rc},test_util:function(){return Bp},tidy:function(){return Ff},tile:function(){return Xm},time:function(){return zf},topk:function(){return Yv},train:function(){return Hb},transpose:function(){return Jf},truncatedNormal:function(){return qv},unique:function(){return Kv},unregisterGradient:function(){return gl},unregisterKernel:function(){return ml},unsortedSegmentSum:function(){return Jv},unstack:function(){return Qv},upcastType:function(){return cc},upperBound:function(){return $v},util:function(){return bl},valueAndGrad:function(){return fg},valueAndGrads:function(){return pg},variable:function(){return ey},variableGrads:function(){return hg},version:function(){return S7},version_converter:function(){return pM},version_core:function(){return $p},version_cpu:function(){return UD},version_layers:function(){return _I},version_wasm:function(){return w7},version_webgl:function(){return _H},webgl:function(){return RH},webgl_util:function(){return JW},webgpu:function(){return B2},where:function(){return bm},whereAsync:function(){return ry},zeros:function(){return Rg},zerosLike:function(){return xm}});var ha=Object.create,ma=Object.defineProperty,ga=Object.getOwnPropertyDescriptor,va=Object.getOwnPropertyNames,ya=Object.getPrototypeOf,ba=Object.prototype.hasOwnProperty,xa=function(e,t){return function(){return t||(0,e[va(e)[0]])((t={exports:{}}).exports,t),t.exports}},Aa=function(e,t){for(var n in t)ma(e,n,{get:t[n],enumerable:!0})},wa=function(e,t){return function(e,t,n,r){if(t&&"object"==typeof t||"function"==typeof t){var a,i=Yr(va(t));try{var o=function(){var i=a.value;!ba.call(e,i)&&(n||"default"!==i)&&ma(e,i,{get:function(){return t[i]},enumerable:!(r=ga(t,i))||r.enumerable})};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}return e}(function(e){return ma(e,"__esModule",{value:!0})}(ma(null!=e?ha(ya(e)):{},"default",!t&&e&&e.__esModule?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},ka=xa({"src/node_modules/long/src/long.js":function(e,t){t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wt){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=a;var i={},o={};function s(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function u(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-m)return S;if(e+1>=m)return w}return e<0?u(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=l;var c=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var a=u(c(n,8)),i=v,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+s),n);if(s<8){var f=u(c(n,s));i=i.mul(f).add(u(l))}else i=(i=i.mul(a)).add(u(l))}return i.unsigned=t,i}function f(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?d(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=f;var p=4294967296,h=p*p,m=h/2,g=s(1<<24),v=s(0);r.ZERO=v;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var x=s(1,!0);r.UONE=x;var A=s(-1);r.NEG_ONE=A;var w=l(-1,2147483647,!1);r.MAX_VALUE=w;var k=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=k;var S=l(0,-2147483648,!1);r.MIN_VALUE=S;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=u(c(e,6),this.unsigned),i=this,o="";;){var s=i.div(a),l=(i.sub(s.mul(a)).toInt()>>>0).toString(e);if((i=s).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return a(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(a(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},C.neg=C.negate,C.add=function(e){a(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,d=0,p=0,h=0;return p+=(h+=i+(65535&e.low))>>>16,d+=(p+=r+u)>>>16,c+=(d+=n+s)>>>16,c+=t+o,l((p&=65535)<<16|(h&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},C.subtract=function(e){return a(e)||(e=f(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return v;if(a(e)||(e=f(e)),n)return l(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,c=65535&e.high,d=e.low>>>16,p=65535&e.low,h=0,m=0,y=0,b=0;return y+=(b+=o*p)>>>16,m+=(y+=i*p)>>>16,y&=65535,m+=(y+=o*d)>>>16,h+=(m+=r*p)>>>16,m&=65535,h+=(m+=i*d)>>>16,m&=65535,h+=(m+=o*c)>>>16,h+=t*p+r*d+i*c+o*s,l((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(m&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(a(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return x;i=y}else{if(this.eq(S))return e.eq(b)||e.eq(A)?S:e.eq(S)?b:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:A:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(S))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:c(2,o-48),d=u(t),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=u(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=b),i=i.add(d),r=r.sub(p)}return i},C.div=C.divide,C.modulo=function(e){return a(e)||(e=f(e)),n?l((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return a(e)||(e=f(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return a(e)||(e=f(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return a(e)||(e=f(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}}}),Sa=xa({"(disabled):src/node_modules/node-fetch/browser.js":function(){}}),Ca=xa({"(disabled):util":function(){}}),Ia=xa({"src/node_modules/seedrandom/lib/alea.js":function(e,t){!function(e,t,n){function r(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.alea=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),Ea=xa({"src/node_modules/seedrandom/lib/xor128.js":function(e,t){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),Ta=xa({"src/node_modules/seedrandom/lib/xorwow.js":function(e,t){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),Na=xa({"src/node_modules/seedrandom/lib/xorshift7.js":function(e,t){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.x&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),Oa=xa({"src/node_modules/seedrandom/lib/xor4096.js":function(e,t){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&(i.X&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),Pa=xa({"src/node_modules/seedrandom/lib/tychei.js":function(e,t){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,i&&("object"==typeof i&&a(i,n),o.state=function(){return a(n,{})}),o}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i}(0,"object"==typeof t&&t,"function"==typeof define&&define)}}),_a=xa({"(disabled):crypto":function(){}}),Ma=xa({"src/node_modules/seedrandom/seedrandom.js":function(e,t){!function(e,r,a){var i,o=256,s="random",u=a.pow(o,6),l=a.pow(2,52),c=2*l,d=255;function f(t,n,d){var f=[],y=g(m((n=1==n?{entropy:!0}:n||{}).entropy?[t,v(r)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(o):(t=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(t)),v(t)}catch(f){var n=e.navigator,a=n&&n.plugins;return[+new Date,e,a,e.screen,v(r)]}}():t,3),f),b=new p(f),x=function(){for(var e=b.g(6),t=u,n=0;e<l;)e=(e+n)*o,t*=o,n=b.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|b.g(4)},x.quick=function(){return b.g(4)/4294967296},x.double=x,g(v(b.S),r),(n.pass||d||function(e,t,n,r){return r&&(r.S&&h(r,b),e.state=function(){return h(b,{})}),n?(a[s]=e,t):e})(x,y,"global"in n?n.global:this==a,n.state)}function p(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<o;)s[a]=a++;for(a=0;a<o;a++)s[a]=s[i=d&i+e[a%n]+(t=s[a])],s[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,s=r.S;e--;)t=s[a=d&a+1],n=n*o+s[d&(s[a]=s[i=d&i+t])+(s[i]=t)];return r.i=a,r.j=i,n})(o)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(pt){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(g(a.random(),r),"object"==typeof t&&t.exports){t.exports=f;try{i=_a()}catch(bt){}}else"function"==typeof define&&n.amdO?define((function(){return f})):a["seed"+s]=f}("undefined"!=typeof self?self:e,[],Math)}}),Ra=xa({"src/node_modules/seedrandom/index.js":function(e,t){var n=Ia(),r=Ea(),a=Ta(),i=Na(),o=Oa(),s=Pa(),u=Ma();u.alea=n,u.xor128=r,u.xorwow=a,u.xorshift7=i,u.xor4096=o,u.tychei=s,t.exports=u}}),Fa=xa({"(disabled):src/node_modules/string_decoder/index.js":function(){}}),Da=xa({"(disabled):fs":function(){}}),La=xa({"(disabled):path":function(){}}),za=xa({"(disabled):worker_threads":function(){}}),Za=xa({"(disabled):perf_hooks":function(){}}),Wa=xa({"(disabled):os":function(){}}),Ba=xa({"src/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm-threaded-simd.js":function(e,t){var r=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||Qr,function(t){function r(){return R.buffer!=U&&J(R.buffer),G}function a(){return R.buffer!=U&&J(R.buffer),X}function i(){return R.buffer!=U&&J(R.buffer),Y}function o(){return R.buffer!=U&&J(R.buffer),q}var s,u,l,c="undefined"!=typeof(t=t||{})?t:{};c.ready=new Promise((function(e,t){s=e,u=t})),"undefined"!=typeof process&&process.listeners&&(l={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var d,f,p,h,m,g,v=Object.assign({},c),y=[],b=function(e,t){throw t},x="object"==typeof window,A="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=c.ENVIRONMENT_IS_PTHREAD||!1,S="";function C(e){return c.locateFile?c.locateFile(e,S):S+e}if(w){var I;S=A?La().dirname(S)+"/":"//",g=function(){m||(h=Da(),m=La())},d=function(e,t){return g(),e=m.normalize(e),h.readFileSync(e,t?void 0:"utf8")},p=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},f=function(e,t,n){g(),e=m.normalize(e),h.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),y=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ft))throw e})),process.on("unhandledRejection",(function(e){throw e})),b=function(e,t){if(ae())throw process.exitCode=e,t;(function(e){e instanceof ft||O("exiting due to exception: "+e)})(t),process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{I=za()}catch(kt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),kt}n.g.Worker=I.Worker}else(x||A)&&(A?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),"undefined"!=typeof e&&e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},A&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}),function(e){return document.title=e});w&&"undefined"==typeof performance&&(n.g.performance=Za().performance);var E=console.log.bind(console),T=console.warn.bind(console);w&&(g(),E=function(e){return h.writeSync(1,e+"\n")},T=function(e){return h.writeSync(2,e+"\n")});var N=c.print||E,O=c.printErr||T;Object.assign(c,v),v=null,c.arguments&&(y=c.arguments),c.thisProgram&&c.thisProgram,c.quit&&(b=c.quit);function P(e){P.shown||(P.shown={}),P.shown[e]||(P.shown[e]=1,O(e))}var _;Atomics.load,Atomics.store,Atomics.compareExchange;c.wasmBinary&&(_=c.wasmBinary);var M=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&de("no native wasm support detected");var R,F,D,L=!1;function z(e){return c["_"+e]}function Z(e,t,n,a,i){var o={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);H(e,t=ct(n),n)}return t},array:function(e){var t=ct(e.length);return function(e,t){r().set(e,t)}(e,t),t}};var s=z(e),u=[],l=0;if(a)for(var c=0;c<a.length;c++){var d=o[n[c]];d?(0===l&&(l=ut()),u[c]=d(a[c])):u[c]=a[c]}var f,p=s.apply(null,u);return f=p,0!==l&&lt(l),p=function(e){return"string"===t?V(e):"boolean"===t?Boolean(e):e}(f),p}function W(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var B="undefined"!=typeof TextDecoder?new W("utf8"):void 0;function j(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&B)return B.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var l=o-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}function V(e,t){return e?j(a(),e,t):""}function H(e,t,n){return function(e,t,n,r){if(!(r>0))return 0;for(var a=n,i=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-a}(e,a(),t,n)}var U,G,X,Y,q;"undefined"!=typeof TextDecoder&&new W("utf-16le");function K(e,t){return e%t>0&&(e+=t-e%t),e}function J(e){U=e,c.HEAP8=G=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=Y=new Int32Array(e),c.HEAPU8=X=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=q=new Float64Array(e)}k&&(U=c.buffer);var Q=c.INITIAL_MEMORY||16777216;if(k)R=c.wasmMemory,U=c.buffer;else if(c.wasmMemory)R=c.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:Q/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw O("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(U=R.buffer),Q=U.byteLength,J(U);var $,ee=[],te=[],ne=[],re=[];function ae(){return M||!1}function ie(){!0,!k&&ve(te)}function oe(e){ee.unshift(e)}function se(e){re.unshift(e)}var ue=0,le=null,ce=null;function de(e){k?postMessage({cmd:"onAbort",arg:e}):c.onAbort&&c.onAbort(e),O(e="Aborted("+e+")"),L=!0,D=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}c.preloadedImages={},c.preloadedAudios={};var fe;function pe(e){return e.startsWith("data:application/octet-stream;base64,")}function he(e){return e.startsWith("file://")}function me(e){try{if(e==fe&&_)return new Uint8Array(_);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(kt){de(kt)}}pe(fe="tfjs-backend-wasm-threaded-simd.wasm")||(fe=C(fe));var ge={};function ve(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Ce(n)():Ce(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(c)}}function ye(e){var t=ut(),n=e();return lt(t),n}function be(e){var t=Ae.pthreads[e];if(t){i()[e>>2]=0;var n=t.worker;Ae.returnWorkerToPool(n)}}function xe(e){!function(e,t){if(D=e,!t&&k)throw we(e),"unwind";ae()||k||(Ae.terminateAllThreads(),!0),function(e){D=e,ae()||(Ae.terminateAllThreads(),c.onExit&&c.onExit(e),L=!0),b(e,new ft(e))}(e)}(e)}var Ae={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],init:function(){k?Ae.initWorker():Ae.initMainThread()},initMainThread:function(){for(var e=0;e<8;++e)Ae.allocateUnusedWorker()},initWorker:function(){M=!1},pthreads:{},setExitStatus:function(e){D=e},terminateAllThreads:function(){for(var e in Ae.pthreads){var t=Ae.pthreads[e];t&&t.worker&&Ae.returnWorkerToPool(t.worker)}for(var n=0;n<Ae.unusedWorkers.length;++n){Ae.unusedWorkers[n].terminate()}Ae.unusedWorkers=[]},returnWorkerToPool:function(e){Ae.runWithoutMainThreadQueuedCalls((function(){delete Ae.pthreads[e.pthread.threadInfoStruct],Ae.unusedWorkers.push(e),Ae.runningWorkers.splice(Ae.runningWorkers.indexOf(e),1),ot(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){i()[dt>>2]=0;try{e()}finally{i()[dt>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in Ae.tlsInitFunctions)Ae.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(t,n){t.onmessage=function(e){var r=e.data,a=r.cmd;if(t.pthread&&(Ae.currentProxiedOperationCallerThread=t.pthread.threadInfoStruct),r.targetThread&&r.targetThread!=et()){var o=Ae.pthreads[r.targetThread];return o?o.worker.postMessage(r,r.transferList):O('Internal error! Worker sent a message "'+a+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(Ae.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===a?tt():"spawnThread"===a?Ee(r):"cleanupThread"===a?be(r.thread):"killThread"===a?function(e){i()[e>>2]=0;var t=Ae.pthreads[e];delete Ae.pthreads[e],t.worker.terminate(),ot(e),Ae.runningWorkers.splice(Ae.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(r.thread):"cancelThread"===a?function(e){Ae.pthreads[e].worker.postMessage({cmd:"cancel"})}(r.thread):"loaded"===a?(t.loaded=!0,n&&n(t),t.runPthread&&(t.runPthread(),delete t.runPthread)):"print"===a?N("Thread "+r.threadId+": "+r.text):"printErr"===a?O("Thread "+r.threadId+": "+r.text):"alert"===a?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?t.postMessage(r):"onAbort"===a?c.onAbort&&c.onAbort(r.arg):O("worker sent an unknown command "+a),Ae.currentProxiedOperationCallerThread=void 0},t.onerror=function(e){throw O("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||e,wasmMemory:R,wasmModule:F})},allocateUnusedWorker:function(){var e=C("tfjs-backend-wasm-threaded-simd.worker.js");Ae.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==Ae.unusedWorkers.length&&(Ae.allocateUnusedWorker(),Ae.loadWasmModuleToWorker(Ae.unusedWorkers[0])),Ae.unusedWorkers.pop()}};function we(e){if(k)return Ne(1,0,e);try{xe(e)}catch(kt){!function(e){if(e instanceof ft||"unwind"==e)return D;b(1,e)}(kt)}}c.establishStackSpace=function(){var e=et(),t=i()[e+44>>2],n=i()[e+48>>2];st(t,t-n),lt(t)};var ke,Se=[];function Ce(e){var t=Se[e];return t||(e>=Se.length&&(Se.length=e+1),Se[e]=t=$.get(e)),t}c.invokeEntryPoint=function(e,t){return Ce(e)(t)},ke=w?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:k?function(){return performance.now()-c.__performance_now_clock_drift}:function(){return performance.now()};function Ie(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return function(e){i()[$e()>>2]=e}(28),-1;n=ke()}return i()[t>>2]=n/1e3|0,i()[t+4>>2]=n%1e3*1e3*1e3|0,0}function Ee(e){var t=Ae.getNewWorker();if(!t)return 6;Ae.runningWorkers.push(t);var n=Ae.pthreads[e.pthread_ptr]={worker:t,threadInfoStruct:e.pthread_ptr};t.pthread=n;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};return t.runPthread=function(){r.time=performance.now(),t.postMessage(r,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function Te(){return 2147483648}function Ne(e,t){var n=arguments.length-2,r=arguments;return ye((function(){for(var a=n,i=ct(8*a),s=i>>3,u=0;u<n;u++){var l=r[2+u];o()[s+u]=l}return at(e,a,i,t)}))}var Oe=[];function Pe(e){try{return R.grow(e-U.byteLength+65535>>>16),J(R.buffer),1}catch(kt){}}var _e={inEventHandler:0,removeAllEventListeners:function(){for(var e=_e.eventHandlers.length-1;e>=0;--e)_e._removeHandler(e);_e.eventHandlers=[],_e.deferredCalls=[]},registerRemoveEventListeners:function(){_e.removeEventListenersRegistered||(ne.push(_e.removeAllEventListeners),_e.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function r(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var a in _e.deferredCalls){var i=_e.deferredCalls[a];if(i.targetFunction==e&&r(i.argsList,n))return}_e.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),_e.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<_e.deferredCalls.length;++t)_e.deferredCalls[t].targetFunction==e&&(_e.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return _e.inEventHandler&&_e.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(_e.canPerformEventHandlerRequests())for(var e=0;e<_e.deferredCalls.length;++e){var t=_e.deferredCalls[e];_e.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<_e.eventHandlers.length;++n)_e.eventHandlers[n].target==e&&(!t||t==_e.eventHandlers[n].eventTypeString)&&_e._removeHandler(n--)},_removeHandler:function(e){var t=_e.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),_e.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++_e.inEventHandler,_e.currentEventHandler=e,_e.runDeferredCalls(),e.handlerFunc(t),_e.runDeferredCalls(),--_e.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),_e.eventHandlers.push(e),_e.registerRemoveEventListeners();else for(var n=0;n<_e.eventHandlers.length;++n)_e.eventHandlers[n].target==e.target&&_e.eventHandlers[n].eventTypeString==e.eventTypeString&&_e._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(e,t,n,r,a){ye((function(){var o=ct(12);i()[o>>2]=n,i()[o+4>>2]=r,i()[o+8>>2]=a,it(e,637534208,t,r,o)}))},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return Ae.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function Me(e,t,n,r){ye((function(){var a=ct(12),o=0;t&&(o=function(e){var t=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}(e)+1,n=Je(t);return H(e,n,t),n}(t)),i()[a>>2]=o,i()[a+4>>2]=n,i()[a+8>>2]=r,it(e,657457152,0,o,a)}))}var Re=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Fe(e){return e=function(e){return e>2?V(e):e}(e),Re[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function De(e){return Fe(e)}function Le(e,t,n){var r=De(e);if(!r)return-4;if(r.canvasSharedPtr&&(i()[r.canvasSharedPtr>>2]=t,i()[r.canvasSharedPtr+4>>2]=n),!r.offscreenCanvas&&r.controlTransferredOffscreen)return r.canvasSharedPtr?(function(e,t,n,r){Me(e,t=t?V(t):"",n,r)}(i()[r.canvasSharedPtr+8>>2],e,t,n),1):-4;r.offscreenCanvas&&(r=r.offscreenCanvas);var a=!1;if(r.GLctxObject&&r.GLctxObject.GLctx){var o=r.GLctxObject.GLctx.getParameter(2978);a=0===o[0]&&0===o[1]&&o[2]===r.width&&o[3]===r.height}return r.width=t,r.height=n,a&&r.GLctxObject.GLctx.viewport(0,0,t,n),0}function ze(e,t,n){return k?Ne(2,1,e,t,n):Le(e,t,n)}var Ze={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Ze.lastError||(Ze.lastError=e)},getNewId:function(e){for(var t=Ze.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var a="",o=0;o<t;++o){var s=r?i()[r+4*o>>2]:-1;a+=V(i()[n+4*o>>2],s<0?void 0:s)}return a},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,n){var r=e.getContextSafariWebGL2Fixed(t,n);return"webgl"==t==r instanceof WebGLRenderingContext?r:null});var n=e.getContext("webgl",t);return n?Ze.registerContext(n,t):0},registerContext:function(e,t){var n=Je(8);i()[n+4>>2]=et();var r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),Ze.contexts[n]=r,("undefined"==typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Ze.initExtensions(r),n},makeContextCurrent:function(e){return Ze.currentContext=Ze.contexts[e],c.ctx=Ue=Ze.currentContext&&Ze.currentContext.GLctx,!(e&&!Ue)},getContext:function(e){return Ze.contexts[e]},deleteContext:function(e){Ze.currentContext===Ze.contexts[e]&&(Ze.currentContext=null),"object"==typeof _e&&_e.removeAllHandlersOnTarget(Ze.contexts[e].GLctx.canvas),Ze.contexts[e]&&Ze.contexts[e].GLctx.canvas&&(Ze.contexts[e].GLctx.canvas.GLctxObject=void 0),Qe(Ze.contexts[e].handle),Ze.contexts[e]=null},initExtensions:function(e){if(e||(e=Ze.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;(function(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,i){t.drawElementsInstancedANGLE(e,n,r,a,i)}})(t),function(e){var t=e.getExtension("OES_vertex_array_object");if(t)e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)}}(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(t),(t.getSupportedExtensions()||[]).forEach((function(e){!e.includes("lose_context")&&!e.includes("debug")&&t.getExtension(e)}))}}},We=["default","low-power","high-performance"];var Be={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=Be.buffers[e];0===t||10===t?((1===e?N:O)(j(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return Be.varargs+=4,i()[Be.varargs-4>>2]},getStr:function(e){return V(e)},get64:function(e,t){return e}};function je(e){return k?Ne(3,1,e):0}function Ve(e,t,n,r,a){if(k)return Ne(4,1,e,t,n,r,a)}function He(e,t,n,r){if(k)return Ne(5,1,e,t,n,r);for(var o=0,s=0;s<n;s++){var u=i()[t>>2],l=i()[t+4>>2];t+=8;for(var c=0;c<l;c++)Be.printChar(e,a()[u+c]);o+=l}return i()[r>>2]=o,0}Ae.init();var Ue,Ge,Xe,Ye,qe=[null,we,ze,je,Ve,He],Ke={__clock_gettime:function(e,t){return Ie(e,t)},__emscripten_init_main_thread_js:function(e){nt(e,!A,1,!x),Ae.threadInit()},__emscripten_thread_cleanup:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):be(e)},__pthread_create_js:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return O("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(k&&0===a.length)return rt(687865856,e,t,n,r);var i={startRoutine:n,pthread_ptr:e,arg:r,transferList:a};return k?(i.cmd="spawnThread",postMessage(i,a),0):Ee(i)},_emscripten_default_pthread_stack_size:function(){return 2097152},_emscripten_notify_thread_queue:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(k)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var n=Ae.pthreads[e],r=n&&n.worker;if(!r)return;r.postMessage({cmd:"processThreadQueue"})}return 1},abort:function(){de("")},emscripten_check_blocking_allowed:function(){w||A||P("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_get_heap_max:Te,emscripten_get_now:ke,emscripten_memcpy_big:function(e,t,n){a().copyWithin(e,t,t+n)},emscripten_num_logical_cores:function(){return w?Wa().cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){Oe.length=t;for(var r=n>>3,a=0;a<t;a++)Oe[a]=o()[r+a];return(e<0?ge[-e-1]:qe[e]).apply(null,Oe)},emscripten_resize_heap:function(e){var t=a().length;if((e>>>=0)<=t)return!1;var n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),Pe(Math.min(n,K(Math.max(e,i),65536))))return!0}return!1},emscripten_set_canvas_element_size:function(e,t,n){return De(e)?Le(e,t,n):ze(e,t,n)},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},emscripten_webgl_create_context:function(e,t){return function(e,t){var n=t>>2,r=i()[n+6],a={alpha:!!i()[n+0],depth:!!i()[n+1],stencil:!!i()[n+2],antialias:!!i()[n+3],premultipliedAlpha:!!i()[n+4],preserveDrawingBuffer:!!i()[n+5],powerPreference:We[r],failIfMajorPerformanceCaveat:!!i()[n+7],majorVersion:i()[n+8],minorVersion:i()[n+9],enableExtensionsByDefault:i()[n+10],explicitSwapControl:i()[n+11],proxyContextToMainThread:i()[n+12],renderViaOffscreenBackBuffer:i()[n+13]},o=De(e);return!o||a.explicitSwapControl?0:Ze.createContext(o,a)}(e,t)},exit:xe,fd_close:je,fd_seek:Ve,fd_write:He,memory:R||c.wasmMemory,setTempRet0:function(e){!function(e){e}(e)}},Je=(function(){var e={env:Ke,wasi_snapshot_preview1:Ke};function t(e,t){var n=e.exports;if(c.asm=n,function(e,t,n){Ae.tlsInitFunctions.push(e)}(c.asm.emscripten_tls_init),$=c.asm.__indirect_function_table,function(e){te.unshift(e)}(c.asm.__wasm_call_ctors),F=t,!k){var r=Ae.unusedWorkers.length;Ae.unusedWorkers.forEach((function(e){Ae.loadWasmModuleToWorker(e,(function(){--r||function(e){if(ue--,c.monitorRunDependencies&&c.monitorRunDependencies(ue),0==ue&&(null!==le&&(clearInterval(le),le=null),ce)){var t=ce;ce=null,t()}}()}))}))}}function n(e){t(e.instance,e.module)}function r(t){return function(){if(!_&&(x||A)){if("function"==typeof fetch&&!he(fe))return fetch(fe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+fe+"'";return e.arrayBuffer()})).catch((function(){return me(fe)}));if(f)return new Promise((function(e,t){f(fe,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return me(fe)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){O("failed to asynchronously prepare wasm: "+e),de(e)}))}if(k||(ue++,c.monitorRunDependencies&&c.monitorRunDependencies(ue)),c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(a){return O("Module.instantiateWasm callback failed with error: "+a),!1}(_||"function"!=typeof WebAssembly.instantiateStreaming||pe(fe)||he(fe)||"function"!=typeof fetch?r(n):fetch(fe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return O("wasm streaming compile failed: "+e),O("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(u)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},c._init=function(){return(c._init=c.asm.init).apply(null,arguments)},c._init_with_threads_count=function(){return(c._init_with_threads_count=c.asm.init_with_threads_count).apply(null,arguments)},c._get_threads_count=function(){return(c._get_threads_count=c.asm.get_threads_count).apply(null,arguments)},c._register_tensor=function(){return(c._register_tensor=c.asm.register_tensor).apply(null,arguments)},c._dispose_data=function(){return(c._dispose_data=c.asm.dispose_data).apply(null,arguments)},c._dispose=function(){return(c._dispose=c.asm.dispose).apply(null,arguments)},c._Abs=function(){return(c._Abs=c.asm.Abs).apply(null,arguments)},c._Add=function(){return(c._Add=c.asm.Add).apply(null,arguments)},c._AddN=function(){return(c._AddN=c.asm.AddN).apply(null,arguments)},c._All=function(){return(c._All=c.asm.All).apply(null,arguments)},c._Any=function(){return(c._Any=c.asm.Any).apply(null,arguments)},c._ArgMax=function(){return(c._ArgMax=c.asm.ArgMax).apply(null,arguments)},c._AvgPool=function(){return(c._AvgPool=c.asm.AvgPool).apply(null,arguments)},c._BatchMatMul=function(){return(c._BatchMatMul=c.asm.BatchMatMul).apply(null,arguments)},c._Ceil=function(){return(c._Ceil=c.asm.Ceil).apply(null,arguments)},c._ClipByValue=function(){return(c._ClipByValue=c.asm.ClipByValue).apply(null,arguments)},c._Conv2D=function(){return(c._Conv2D=c.asm.Conv2D).apply(null,arguments)},c._Conv2DBackpropInput=function(){return(c._Conv2DBackpropInput=c.asm.Conv2DBackpropInput).apply(null,arguments)},c._Cos=function(){return(c._Cos=c.asm.Cos).apply(null,arguments)},c._Cosh=function(){return(c._Cosh=c.asm.Cosh).apply(null,arguments)},c._CropAndResize=function(){return(c._CropAndResize=c.asm.CropAndResize).apply(null,arguments)},c._Cumprod=function(){return(c._Cumprod=c.asm.Cumprod).apply(null,arguments)},c._Cumsum=function(){return(c._Cumsum=c.asm.Cumsum).apply(null,arguments)},c._DepthToSpace=function(){return(c._DepthToSpace=c.asm.DepthToSpace).apply(null,arguments)},c._DepthwiseConv2dNative=function(){return(c._DepthwiseConv2dNative=c.asm.DepthwiseConv2dNative).apply(null,arguments)},c._Elu=function(){return(c._Elu=c.asm.Elu).apply(null,arguments)},c._Equal=function(){return(c._Equal=c.asm.Equal).apply(null,arguments)},c._Exp=function(){return(c._Exp=c.asm.Exp).apply(null,arguments)},c._FlipLeftRight=function(){return(c._FlipLeftRight=c.asm.FlipLeftRight).apply(null,arguments)},c._Floor=function(){return(c._Floor=c.asm.Floor).apply(null,arguments)},c._FloorDiv=function(){return(c._FloorDiv=c.asm.FloorDiv).apply(null,arguments)},c._FusedBatchNorm=function(){return(c._FusedBatchNorm=c.asm.FusedBatchNorm).apply(null,arguments)},c._FusedConv2D=function(){return(c._FusedConv2D=c.asm.FusedConv2D).apply(null,arguments)},c._FusedDepthwiseConv2D=function(){return(c._FusedDepthwiseConv2D=c.asm.FusedDepthwiseConv2D).apply(null,arguments)},c._Gather=function(){return(c._Gather=c.asm.Gather).apply(null,arguments)},c._GatherNd=function(){return(c._GatherNd=c.asm.GatherNd).apply(null,arguments)},c._Greater=function(){return(c._Greater=c.asm.Greater).apply(null,arguments)},c._GreaterEqual=function(){return(c._GreaterEqual=c.asm.GreaterEqual).apply(null,arguments)},c._LeakyRelu=function(){return(c._LeakyRelu=c.asm.LeakyRelu).apply(null,arguments)},c._Less=function(){return(c._Less=c.asm.Less).apply(null,arguments)},c._LessEqual=function(){return(c._LessEqual=c.asm.LessEqual).apply(null,arguments)},c._Log=function(){return(c._Log=c.asm.Log).apply(null,arguments)},c._LogicalAnd=function(){return(c._LogicalAnd=c.asm.LogicalAnd).apply(null,arguments)},c._LogicalNot=function(){return(c._LogicalNot=c.asm.LogicalNot).apply(null,arguments)},c._LogicalOr=function(){return(c._LogicalOr=c.asm.LogicalOr).apply(null,arguments)},c._LogicalXor=function(){return(c._LogicalXor=c.asm.LogicalXor).apply(null,arguments)},c._Max=function(){return(c._Max=c.asm.Max).apply(null,arguments)},c._MaxPool=function(){return(c._MaxPool=c.asm.MaxPool).apply(null,arguments)},c._Maximum=function(){return(c._Maximum=c.asm.Maximum).apply(null,arguments)},c._Mean=function(){return(c._Mean=c.asm.Mean).apply(null,arguments)},c._Min=function(){return(c._Min=c.asm.Min).apply(null,arguments)},c._Minimum=function(){return(c._Minimum=c.asm.Minimum).apply(null,arguments)},c._MirrorPad=function(){return(c._MirrorPad=c.asm.MirrorPad).apply(null,arguments)},c._Multiply=function(){return(c._Multiply=c.asm.Multiply).apply(null,arguments)},c._Neg=function(){return(c._Neg=c.asm.Neg).apply(null,arguments)},c._NonMaxSuppressionV3=function(){return(c._NonMaxSuppressionV3=c.asm.NonMaxSuppressionV3).apply(null,arguments)},c._NonMaxSuppressionV4=function(){return(c._NonMaxSuppressionV4=c.asm.NonMaxSuppressionV4).apply(null,arguments)},c._NonMaxSuppressionV5=function(){return(c._NonMaxSuppressionV5=c.asm.NonMaxSuppressionV5).apply(null,arguments)},c._NotEqual=function(){return(c._NotEqual=c.asm.NotEqual).apply(null,arguments)},c._OneHot=function(){return(c._OneHot=c.asm.OneHot).apply(null,arguments)},c._PadV2=function(){return(c._PadV2=c.asm.PadV2).apply(null,arguments)},c._Pow=function(){return(c._Pow=c.asm.Pow).apply(null,arguments)},c._Prelu=function(){return(c._Prelu=c.asm.Prelu).apply(null,arguments)},c._Prod=function(){return(c._Prod=c.asm.Prod).apply(null,arguments)},c._RealDiv=function(){return(c._RealDiv=c.asm.RealDiv).apply(null,arguments)},c._Relu=function(){return(c._Relu=c.asm.Relu).apply(null,arguments)},c._Relu6=function(){return(c._Relu6=c.asm.Relu6).apply(null,arguments)},c._ResizeBilinear=function(){return(c._ResizeBilinear=c.asm.ResizeBilinear).apply(null,arguments)},c._Reverse=function(){return(c._Reverse=c.asm.Reverse).apply(null,arguments)},c._RotateWithOffset=function(){return(c._RotateWithOffset=c.asm.RotateWithOffset).apply(null,arguments)},c._Round=function(){return(c._Round=c.asm.Round).apply(null,arguments)},c._Rsqrt=function(){return(c._Rsqrt=c.asm.Rsqrt).apply(null,arguments)},c._ScatterNd=function(){return(c._ScatterNd=c.asm.ScatterNd).apply(null,arguments)},c._SelectV2=function(){return(c._SelectV2=c.asm.SelectV2).apply(null,arguments)},c._Sigmoid=function(){return(c._Sigmoid=c.asm.Sigmoid).apply(null,arguments)},c._Sin=function(){return(c._Sin=c.asm.Sin).apply(null,arguments)},c._Softmax=function(){return(c._Softmax=c.asm.Softmax).apply(null,arguments)},c._SparseFillEmptyRows=function(){return(c._SparseFillEmptyRows=c.asm.SparseFillEmptyRows).apply(null,arguments)},c._SparseReshape=function(){return(c._SparseReshape=c.asm.SparseReshape).apply(null,arguments)},c._SparseSegmentReduction=function(){return(c._SparseSegmentReduction=c.asm.SparseSegmentReduction).apply(null,arguments)},c._Sqrt=function(){return(c._Sqrt=c.asm.Sqrt).apply(null,arguments)},c._Square=function(){return(c._Square=c.asm.Square).apply(null,arguments)},c._SquaredDifference=function(){return(c._SquaredDifference=c.asm.SquaredDifference).apply(null,arguments)},c._Step=function(){return(c._Step=c.asm.Step).apply(null,arguments)},c._StridedSlice=function(){return(c._StridedSlice=c.asm.StridedSlice).apply(null,arguments)},c._Sub=function(){return(c._Sub=c.asm.Sub).apply(null,arguments)},c._Sum=function(){return(c._Sum=c.asm.Sum).apply(null,arguments)},c._Tan=function(){return(c._Tan=c.asm.Tan).apply(null,arguments)},c._Tanh=function(){return(c._Tanh=c.asm.Tanh).apply(null,arguments)},c._Tile=function(){return(c._Tile=c.asm.Tile).apply(null,arguments)},c._TopK=function(){return(c._TopK=c.asm.TopK).apply(null,arguments)},c._Transform=function(){return(c._Transform=c.asm.Transform).apply(null,arguments)},c._Transpose=function(){return(c._Transpose=c.asm.Transpose).apply(null,arguments)},c.__FusedMatMul=function(){return(c.__FusedMatMul=c.asm._FusedMatMul).apply(null,arguments)},c._malloc=function(){return(Je=c._malloc=c.asm.malloc).apply(null,arguments)}),Qe=c._free=function(){return(Qe=c._free=c.asm.free).apply(null,arguments)},$e=(c._emscripten_tls_init=function(){return(c._emscripten_tls_init=c.asm.emscripten_tls_init).apply(null,arguments)},c.___errno_location=function(){return($e=c.___errno_location=c.asm.__errno_location).apply(null,arguments)}),et=c._pthread_self=function(){return(et=c._pthread_self=c.asm.pthread_self).apply(null,arguments)},tt=c._emscripten_main_thread_process_queued_calls=function(){return(tt=c._emscripten_main_thread_process_queued_calls=c.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},nt=(c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm._emscripten_thread_crashed).apply(null,arguments)},c.__emscripten_thread_init=function(){return(nt=c.__emscripten_thread_init=c.asm._emscripten_thread_init).apply(null,arguments)}),rt=(c._emscripten_current_thread_process_queued_calls=function(){return(c._emscripten_current_thread_process_queued_calls=c.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},c._emscripten_main_browser_thread_id=function(){return(c._emscripten_main_browser_thread_id=c.asm.emscripten_main_browser_thread_id).apply(null,arguments)},c._emscripten_sync_run_in_main_thread_2=function(){return(c._emscripten_sync_run_in_main_thread_2=c.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},c._emscripten_sync_run_in_main_thread_4=function(){return(rt=c._emscripten_sync_run_in_main_thread_4=c.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)}),at=c._emscripten_run_in_main_runtime_thread_js=function(){return(at=c._emscripten_run_in_main_runtime_thread_js=c.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},it=c._emscripten_dispatch_to_thread_=function(){return(it=c._emscripten_dispatch_to_thread_=c.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},ot=c.__emscripten_thread_free_data=function(){return(ot=c.__emscripten_thread_free_data=c.asm._emscripten_thread_free_data).apply(null,arguments)},st=(c.__emscripten_thread_exit=function(){return(c.__emscripten_thread_exit=c.asm._emscripten_thread_exit).apply(null,arguments)},c._memalign=function(){return(c._memalign=c.asm.memalign).apply(null,arguments)},c._emscripten_stack_set_limits=function(){return(st=c._emscripten_stack_set_limits=c.asm.emscripten_stack_set_limits).apply(null,arguments)}),ut=c.stackSave=function(){return(ut=c.stackSave=c.asm.stackSave).apply(null,arguments)},lt=c.stackRestore=function(){return(lt=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},ct=c.stackAlloc=function(){return(ct=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)},dt=(c.dynCall_iijjiiii=function(){return(c.dynCall_iijjiiii=c.asm.dynCall_iijjiiii).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.__emscripten_allow_main_runtime_queued_calls=21664);function ft(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function pt(e){if(e=e||y,!(ue>0)){if(k)return s(c),ie(),void postMessage({cmd:"loaded"});(function(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)oe(c.preRun.shift());ve(ee)})(),ue>0||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),t()}),1)):t())}function t(){Ge||(Ge=!0,c.calledRun=!0,!L&&(ie(),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),function(){if(!k){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)se(c.postRun.shift());ve(re)}}()))}}if(c.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?z(e):function(){return Z(e,t,n,arguments)}},c.keepRuntimeAlive=ae,c.PThread=Ae,c.PThread=Ae,c.wasmMemory=R,c.ExitStatus=ft,ce=function e(){Ge||pt(),Ge||(ce=e)},c.run=pt,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();if(pt(),l&&(Xe={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!l.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!l.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)Ye=WasmBackendModule;else{if("undefined"==typeof t)throw new Error("Could not find wasm module in post.js");Ye=t}if(Xe){var ht=Ye._dispose;Ye._dispose=function(){ht(),Xe.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Xe.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}}();"object"==typeof e&&"object"==typeof t?t.exports=r:"function"==typeof define&&n.amdO?define([],(function(){return r})):"object"==typeof e&&(e.WasmBackendModuleThreadedSimd=r)}}),ja=xa({"src/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm.js":function(e,t){var r=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||Qr,function(t){var n,r,a,i="undefined"!=typeof(t=t||{})?t:{};i.ready=new Promise((function(e,t){n=e,r=t})),"undefined"!=typeof process&&process.listeners&&(a={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var o,s,u,l,c,d,f=Object.assign({},i),p=[],h="object"==typeof window,m="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,v="";g?(v=m?La().dirname(v)+"/":"//",d=function(){c||(l=Da(),c=La())},o=function(e,t){return d(),e=c.normalize(e),l.readFileSync(e,t?void 0:"utf8")},u=function(e){var t=o(e,!0);return t.buffer||(t=new Uint8Array(t)),t},s=function(e,t,n){d(),e=c.normalize(e),l.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ue))throw e})),process.on("unhandledRejection",(function(e){throw e})),function(e,t){if(Z())throw process.exitCode=e,t;(function(e){e instanceof ue||b("exiting due to exception: "+e)})(t),process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):(h||m)&&(m?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),e&&(v=e),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y=i.print||console.log.bind(console),b=i.printErr||console.warn.bind(console);Object.assign(i,f),f=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit;var x;i.wasmBinary&&(x=i.wasmBinary);var A=i.noExitRuntime||!0;"object"!=typeof WebAssembly&&U("no native wasm support detected");var w,k=!1;function S(e){return i["_"+e]}function C(e,t,n,r,a){var i={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var a=n,i=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o);if(s<=127){if(n>=i)break;t[n++]=s}else if(s<=2047){if(n+1>=i)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=i)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}t[n]=0})(e,P,t,n)})(e,t=se(n),n)}return t},array:function(e){var t=se(e.length);return function(e,t){O.set(e,t)}(e,t),t}};var o=S(e),s=[],u=0;if(r)for(var l=0;l<r.length;l++){var c=i[n[l]];c?(0===u&&(u=ie()),s[l]=c(r[l])):s[l]=r[l]}var d=o.apply(null,s);return d=function(e){return 0!==u&&oe(u),function(e){return"string"===t?T(e):"boolean"===t?Boolean(e):e}(e)}(d),d}var I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(e,t,n){for(var r=t+n,a=t;e[a]&&!(a>=r);)++a;if(a-t>16&&e.subarray&&I)return I.decode(e.subarray(t,a));for(var i="";t<a;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var u=63&e[t++];if((o=224==(240&o)?(15&o)<<12|s<<6|u:(7&o)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(o);else{var l=o-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}function T(e,t){return e?E(P,e,t):""}var N,O,P,_;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function M(e,t){return e%t>0&&(e+=t-e%t),e}function R(e){N=e,i.HEAP8=O=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=_=new Int32Array(e),i.HEAPU8=P=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var F,D=[],L=[],z=[];function Z(){return A||!1}function W(e){D.unshift(e)}function B(e){z.unshift(e)}var j=0,V=null,H=null;function U(e){i.onAbort&&i.onAbort(e),b(e="Aborted("+e+")"),k=!0,1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}i.preloadedImages={},i.preloadedAudios={};var G;function X(e){return e.startsWith("data:application/octet-stream;base64,")}function Y(e){return e.startsWith("file://")}function q(e){try{if(e==G&&x)return new Uint8Array(x);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(t){U(t)}}function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Q(n)():Q(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}X(G="tfjs-backend-wasm.wasm")||(G=function(e){return i.locateFile?i.locateFile(e,v):v+e}(G));var J=[];function Q(e){var t=J[e];return t||(e>=J.length&&(J.length=e+1),J[e]=t=F.get(e)),t}function $(e){try{return w.grow(e-N.byteLength+65535>>>16),R(w.buffer),1}catch(t){}}var ee={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var n=ee.buffers[e];0===t||10===t?((1===e?y:b)(E(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return ee.varargs+=4,_[ee.varargs-4>>2]},getStr:function(e){return T(e)},get64:function(e,t){return e}};var te,ne,re,ae={abort:function(){U("")},emscripten_memcpy_big:function(e,t,n){P.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t=P.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r=1;r<=4;r*=2){var a=t*(1+.2/r);if(a=Math.min(a,e+100663296),$(Math.min(n,M(Math.max(e,a),65536))))return!0}return!1},fd_close:function(e){return 0},fd_seek:function(e,t,n,r,a){},fd_write:function(e,t,n,r){for(var a=0,i=0;i<n;i++){var o=_[t>>2],s=_[t+4>>2];t+=8;for(var u=0;u<s;u++)ee.printChar(e,P[o+u]);a+=s}return _[r>>2]=a,0},setTempRet0:function(e){!function(e){e}(e)}},ie=(function(){var e={env:ae,wasi_snapshot_preview1:ae};function t(e,t){var n=e.exports;i.asm=n,R((w=i.asm.memory).buffer),F=i.asm.__indirect_function_table,function(e){L.unshift(e)}(i.asm.__wasm_call_ctors),function(e){if(j--,i.monitorRunDependencies&&i.monitorRunDependencies(j),0==j&&(null!==V&&(clearInterval(V),V=null),H)){var t=H;H=null,t()}}()}function n(e){t(e.instance)}function a(t){return function(){if(!x&&(h||m)){if("function"==typeof fetch&&!Y(G))return fetch(G,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()})).catch((function(){return q(G)}));if(s)return new Promise((function(e,t){s(G,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q(G)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){b("failed to asynchronously prepare wasm: "+e),U(e)}))}if(j++,i.monitorRunDependencies&&i.monitorRunDependencies(j),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(o){return b("Module.instantiateWasm callback failed with error: "+o),!1}(x||"function"!=typeof WebAssembly.instantiateStreaming||X(G)||Y(G)||"function"!=typeof fetch?a(n):fetch(G,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),a(n)}))}))).catch(r)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._LogicalNot=function(){return(i._LogicalNot=i.asm.LogicalNot).apply(null,arguments)},i._LogicalOr=function(){return(i._LogicalOr=i.asm.LogicalOr).apply(null,arguments)},i._LogicalXor=function(){return(i._LogicalXor=i.asm.LogicalXor).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i.___errno_location=function(){return(i.___errno_location=i.asm.__errno_location).apply(null,arguments)},i._emscripten_main_thread_process_queued_calls=function(){return(i._emscripten_main_thread_process_queued_calls=i.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},i.stackSave=function(){return(ie=i.stackSave=i.asm.stackSave).apply(null,arguments)}),oe=i.stackRestore=function(){return(oe=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},se=i.stackAlloc=function(){return(se=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)};function ue(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function le(e){function t(){te||(te=!0,i.calledRun=!0,!k&&(!0,K(L),n(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)B(i.postRun.shift());K(z)}()))}e=e||p,j>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)W(i.preRun.shift());K(D)}(),j>0)||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t())}if(i.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?S(e):function(){return C(e,t,n,arguments)}},H=function e(){te||le(),te||(H=e)},i.run=le,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(le(),a&&(ne={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!a.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!a.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof t)re=t;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");re=WasmBackendModuleThreadedSimd}if(ne){var ce=re._dispose;re._dispose=function(){ce(),ne.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),ne.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return t.ready}}();"object"==typeof e&&"object"==typeof t?t.exports=r:"function"==typeof define&&n.amdO?define([],(function(){return r})):"object"==typeof e&&(e.WasmBackendModule=r)}}),Va=function(){function e(t,n){(0,Ur.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,Gr.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),Ha=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,[{key:"refCount",value:function(e){return Ua("refCount")}},{key:"incRef",value:function(e){return Ua("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return Ua("time")}},{key:"read",value:function(e){return Ua("read")}},{key:"readSync",value:function(e){return Ua("readSync")}},{key:"readToGPU",value:function(e,t){return Ua("readToGPU")}},{key:"numDataIds",value:function(){return Ua("numDataIds")}},{key:"disposeData",value:function(e,t){return Ua("disposeData")}},{key:"write",value:function(e,t,n){return Ua("write")}},{key:"move",value:function(e,t,n,r,a){return Ua("move")}},{key:"memory",value:function(){return Ua("memory")}},{key:"floatPrecision",value:function(){return Ua("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return Ua("dispose")}}]),e}();function Ua(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen"))}function Ga(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,Ka(e,--t,n)}function Xa(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together First array length was ".concat(e.length,"Second array length was ").concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,Ka(e,--n,r),Ka(t,n,r)}function Ya(e,t,n){return Math.max(e,Math.min(t,n))}function qa(e){return e%2===0?e:e+1}function Ka(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ja(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Qa(e,t){var n=Math.random();return t*n+(1-n)*e}function $a(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function ei(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";ei(oi(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function ni(e){ei(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||Ai(e)&&!n)for(var r=0;r<e.length;++r)ri(e[r],t,n);else t.push(e);return t}function ai(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function ii(e){return 0===e.length}function oi(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function si(e){return e%1===0}function ui(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function li(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function ci(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return Ga(t),t}function di(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?a():setTimeout(o,s)}}()}))}function pi(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when there are 0 elements"));if(t%n!==0)throw Error("The implicit shape can't be a fractional number. Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function hi(e,t){var n=t.length;return e=null==e?t.map((function(e,t){return t})):[].concat(e),ei(e.every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but got axis ").concat(e)})),ei(e.every((function(e){return si(e)})),(function(){return"All values in axis param must be integers but got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function mi(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:hi(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=i){if(i[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==i[o]||i[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function gi(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function vi(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function yi(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function bi(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function xi(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function Ai(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function wi(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function ki(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function Si(e){return"string"==typeof e||e instanceof String}function Ci(e){return"boolean"==typeof e}function Ii(e){return"number"==typeof e}function Ei(e){return Array.isArray(e)?Ei(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":Ii(e)?"float32":Si(e)?"string":Ci(e)?"bool":"float32"}function Ti(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ni(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function Oi(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Pi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var i=t[0]*(r?2:1),o=0;o<i;o++)a[o]=n[e+o];else for(var s=t[0],u=t.slice(1),l=u.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<s;c++)a[c]=Pi(e+c*l,u,n,r);return a}function _i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return Pi(0,e,t,n)}function Mi(e,t){for(var n=Ri(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Ri(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function Fi(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return _i(e,new Float32Array(n));if("int32"===t)return _i(e,new Int32Array(n));if("bool"===t)return _i(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function Di(e){e.forEach((function(t){ei(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape [".concat(e,"].")}))}))}function Li(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function zi(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Zi(e){return e&&e.then&&"function"==typeof e.then}var Wi="tfjsflags",Bi=function(){function e(t){(0,Ur.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ji,this.populateURLFlags()}return(0,Gr.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(Hi().getBool("IS_TEST")||Hi().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. Overwriting the platform with ").concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];Hi().getBool("IS_TEST")||Hi().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=4;break}e.t0=this.flags[t],e.next=8;break;case 4:return e.next=6,this.evaluateFlag(t);case 6:this.flags[t]=e.sent,e.t0=this.flags[t];case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Zi(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. Please use getAsync() instead."));return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!=typeof this.global&&"undefined"!=typeof this.global.location&&"undefined"!=typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);Wi in t&&t[Wi].split(",").forEach((function(t){var n=t.split(":"),r=(0,o.Z)(n,2),a=r[0],i=r[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,i)}))}}}]),e}();function ji(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Vi(t,r[0],r[1]),r.join("=")})),t}function Vi(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function Hi(){return Gi}var Ui,Gi=null;function Xi(){if(null==Ui){var e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ui=e}return Ui}function Yi(e,t){var n=function(){var e=Xi();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}var qi="Abs",Ki="Acos",Ji="Acosh",Qi="Add",$i="AddN",eo="All",to="Any",no="ArgMax",ro="ArgMin",ao="Asin",io="Asinh",oo="Atan",so="Atanh",uo="Atan2",lo="AvgPool",co="AvgPoolGrad",fo="AvgPool3D",po="AvgPool3DGrad",ho="BatchMatMul",mo="BatchToSpaceND",go="Bincount",vo="BroadcastTo",yo="BroadcastArgs",bo="Cast",xo="Ceil",Ao="ClipByValue",wo="Complex",ko="ComplexAbs",So="Concat",Co="Conv2D",Io="Conv2DBackpropFilter",Eo="Conv2DBackpropInput",To="Conv3D",No="Conv3DBackpropFilterV2",Oo="Conv3DBackpropInputV2",Po="Cos",_o="Cosh",Mo="Cumprod",Ro="Cumsum",Fo="CropAndResize",Do="DenseBincount",Lo="DepthToSpace",zo="DepthwiseConv2dNative",Zo="DepthwiseConv2dNativeBackpropFilter",Wo="DepthwiseConv2dNativeBackpropInput",Bo="Diag",jo="Dilation2D",Vo="Dilation2DBackpropInput",Ho="Dilation2DBackpropFilter",Uo="RealDiv",Go="Einsum",Xo="Elu",Yo="EluGrad",qo="Erf",Ko="Equal",Jo="Exp",Qo="ExpandDims",$o="Expm1",es="FFT",ts="Fill",ns="FlipLeftRight",rs="Floor",as="FloorDiv",is="FusedBatchNorm",os="GatherV2",ss="GatherNd",us="Greater",ls="GreaterEqual",cs="Identity",ds="IFFT",fs="Imag",ps="IsFinite",hs="IsInf",ms="IsNan",gs="LeakyRelu",vs="Less",ys="LessEqual",bs="LinSpace",xs="Log",As="Log1p",ws="LogicalAnd",ks="LogicalNot",Ss="LogicalOr",Cs="LogicalXor",Is="LogSoftmax",Es="LowerBound",Ts="LRN",Ns="LRNGrad",Os="Max",Ps="Maximum",_s="MaxPool",Ms="MaxPoolGrad",Rs="MaxPool3D",Fs="MaxPool3DGrad",Ds="MaxPoolWithArgmax",Ls="Mean",zs="Min",Zs="Minimum",Ws="MirrorPad",Bs="Mod",js="Multinomial",Vs="Multiply",Hs="Neg",Us="NotEqual",Gs="NonMaxSuppressionV3",Xs="NonMaxSuppressionV4",Ys="NonMaxSuppressionV5",qs="OnesLike",Ks="OneHot",Js="Pack",Qs="PadV2",$s="Pool",eu="Pow",tu="Prelu",nu="Prod",ru="Range",au="Real",iu="Reciprocal",ou="Relu",su="Reshape",uu="ResizeNearestNeighbor",lu="ResizeNearestNeighborGrad",cu="ResizeBilinear",du="ResizeBilinearGrad",fu="Relu6",pu="Reverse",hu="Round",mu="Rsqrt",gu="ScatterNd",vu="SearchSorted",yu="Select",bu="Selu",xu="Slice",Au="Sin",wu="Sinh",ku="Sign",Su="Sigmoid",Cu="Softplus",Iu="Sqrt",Eu="Sum",Tu="SpaceToBatchND",Nu="SplitV",Ou="Softmax",Pu="SparseFillEmptyRows",_u="SparseReshape",Mu="SparseSegmentMean",Ru="SparseSegmentSum",Fu="SparseToDense",Du="SquaredDifference",Lu="Square",zu="StridedSlice",Zu="StringNGrams",Wu="StringSplit",Bu="StringToHashBucketFast",ju="Sub",Vu="Tan",Hu="Tanh",Uu="Tile",Gu="TopK",Xu="Transform",Yu="Transpose",qu="Unique",Ku="Unpack",Ju="UnsortedSegmentSum",Qu="UpperBound",$u="ZerosLike",el="Step",tl="FromPixels",nl="RotateWithOffset",rl="_FusedMatMul",al="FusedConv2D",il="FusedDepthwiseConv2D";function ol(){var e;Hi().getBool("IS_TEST")||Hi().getBool("PROD")||(e=console).warn.apply(e,arguments)}function sl(){var e;Hi().getBool("IS_TEST")||Hi().getBool("PROD")||(e=console).log.apply(e,arguments)}var ul=Yi("kernelRegistry",(function(){return new Map})),ll=Yi("gradRegistry",(function(){return new Map}));function cl(e,t){var n=yl(e,t);return ul.get(n)}function dl(e){return ll.get(e)}function fl(e){for(var t=ul.entries(),n=[];;){var r=t.next(),a=r.done,i=r.value;if(a)break;var s=(0,o.Z)(i,2),u=s[0],l=s[1],c=u.split("_");(0,o.Z)(c,1)[0]===e&&n.push(l)}return n}function pl(e){var t=e.kernelName,n=e.backendName,r=yl(t,n);ul.has(r)&&ol("The kernel '".concat(t,"' for backend '").concat(n,"' is already registered")),ul.set(r,e)}function hl(e){var t=e.kernelName;ll.has(t)&&Hi().getBool("DEBUG")&&ol("Overriding the gradient for '".concat(t,"'")),ll.set(t,e)}function ml(e,t){var n=yl(e,t);if(!ul.has(n))throw new Error("The kernel '".concat(e,"' for backend '").concat(t,"' is not registered"));ul.delete(n)}function gl(e){if(!ll.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));ll.delete(e)}function vl(e,t){fl(e).forEach((function(e){pl(Object.assign({},e,{backendName:t}))}))}function yl(e,t){return"".concat(t,"_").concat(e)}var bl={};Aa(bl,{arraysEqual:function(){return oi},assert:function(){return ei},assertNonNegativeIntegerDimensions:function(){return Di},assertNonNull:function(){return ni},assertShapesMatch:function(){return ti},bytesFromStringArray:function(){return ki},bytesPerElement:function(){return wi},checkConversionForErrors:function(){return yi},clamp:function(){return Ya},computeStrides:function(){return Oi},createScalarValue:function(){return Ll},createShuffledIndices:function(){return ci},decodeString:function(){return jl},distSquared:function(){return $a},encodeString:function(){return Bl},fetch:function(){return Wl},fingerPrint64:function(){return Dl},flatten:function(){return ri},getArrayFromDType:function(){return vi},getTypedArrayFromDType:function(){return gi},hasEncodingLoss:function(){return xi},hexToLong:function(){return wl},indexToLoc:function(){return zi},inferDtype:function(){return Ei},inferFromImplicitShape:function(){return pi},isBoolean:function(){return Ci},isFunction:function(){return Ti},isInt:function(){return si},isNumber:function(){return Ii},isPromise:function(){return Zi},isScalarShape:function(){return ii},isString:function(){return Si},isTypedArray:function(){return Ai},isValidDtype:function(){return bi},locToIndex:function(){return Li},makeOnesTypedArray:function(){return Mi},makeZerosNestedTypedArray:function(){return Fi},makeZerosTypedArray:function(){return Ri},nearestDivisor:function(){return Ni},nearestLargerEven:function(){return qa},now:function(){return Zl},parseAxisParam:function(){return hi},randUniform:function(){return Qa},repeatedTry:function(){return fi},rightPad:function(){return di},shuffle:function(){return Ga},shuffleCombo:function(){return Xa},sizeFromShape:function(){return ai},sizeToSquarishShape:function(){return li},squeezeShape:function(){return mi},sum:function(){return Ja},swap:function(){return Ka},tanh:function(){return ui},toNestedArray:function(){return _i},toTypedArray:function(){return zl}});var xl=wa(ka()),Al=xl.default||xl;function wl(e){return Al.fromString(e,!0,16)}var kl=wl("c3a5c85c97cb3127"),Sl=wl("b492b66fbe98f273"),Cl=wl("9ae16a3b2f90404f");function Il(e){return e.xor(e.shru(47))}function El(e,t,n){var r=e.slice(t,t+n);return Al.fromBytes(Array.from(r),!0,!0)}function Tl(e,t){return El(e,t,8)}function Nl(e,t){return El(e,t,4)}function Ol(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Pl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wl("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function _l(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=Ol(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(Ol(a,44)),[a.add(r),i.add(o)]}(Tl(e,t),Tl(e,t+8),Tl(e,t+16),Tl(e,t+24),n,r)}function Ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=Cl.add(2*t),r=Tl(e,0).add(Cl),a=Tl(e,t-8),i=Ol(a,37).mul(n).add(r),o=Ol(r,25).add(a).mul(n);return Pl(i,o,n)}if(t>=4){var s=Cl.add(2*t),u=Nl(e,0);return Pl(u.shl(3).add(t),Nl(e,t-4),s)}if(t>0){var l=e[0],c=e[t>>1],d=e[t-1],f=l+(c<<8),p=t+(d<<2);return Il(Cl.mul(f).xor(kl.mul(p))).mul(Cl)}return Cl}function Rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Cl.add(2*t),r=Tl(e,0).mul(Sl),a=Tl(e,8),i=Tl(e,t-8).mul(n),o=Tl(e,t-16).mul(Cl);return Pl(Ol(r.add(a),43).add(Ol(i,30)).add(o),r.add(Ol(a.add(Cl),18)).add(i),n)}function Fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Cl.add(2*t),r=Tl(e,0).mul(Cl),a=Tl(e,8),i=Tl(e,t-8).mul(n),o=Tl(e,t-16).mul(Cl),s=Ol(r.add(a),43).add(Ol(i,30)).add(o),u=Pl(s,r.add(Ol(a.add(Cl),18)).add(i),n),l=Tl(e,16).mul(n),c=Tl(e,24),d=s.add(Tl(e,t-32)).mul(n),f=u.add(Tl(e,t-24)).mul(n);return Pl(Ol(l.add(c),43).add(Ol(d,30)).add(f),l.add(Ol(c.add(r),18)).add(d),n)}function Dl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=Al.fromNumber(81,!0);if(n<=32)return n<=16?Ml(e,n):Rl(e,n);if(n<=64)return Fl(e,n);var a=r,i=r.mul(Sl).add(113),o=Il(i.mul(Cl).add(113)).mul(Cl),s=[Al.UZERO,Al.UZERO],u=[Al.UZERO,Al.UZERO];a=a.mul(Cl).add(Tl(e,0));var l=0,c=64*(n-1>>6),d=c+(n-1&63)-63;do{var f;a=Ol(a.add(i).add(s[0]).add(Tl(e,l+8)),37).mul(Sl),i=Ol(i.add(s[1]).add(Tl(e,l+48)),42).mul(Sl),a=a.xor(u[1]),i=i.add(s[0]).add(Tl(e,l+40)),o=Ol(o.add(u[0]),33).mul(Sl),s=_l(e,l,s[1].mul(Sl),a.add(u[0])),u=_l(e,l+32,o.add(u[1]),i.add(Tl(e,l+16))),o=(f=[a,o])[0],a=f[1],l+=64}while(l!==c);var p=Sl.add(o.and(255).shl(1));return l=d,u[0]=u[0].add(n-1&63),s[0]=s[0].add(u[0]),u[0]=u[0].add(s[0]),a=Ol(a.add(i).add(s[0]).add(Tl(e,l+8)),37).mul(p),i=Ol(i.add(s[1]).add(Tl(e,l+48)),42).mul(p),a=a.xor(u[1].mul(9)),i=i.add(s[0].mul(9).add(Tl(e,l+40))),o=Ol(o.add(u[0]),33).mul(p),s=_l(e,l,s[1].mul(p),a.add(u[0])),u=_l(e,l+32,o.add(u[1]),i.add(Tl(e,l+16))),o=(t=[a,o])[0],a=t[1],Pl(Pl(s[0],u[0],p).add(Il(i).mul(kl)).add(o),Pl(s[1],u[1],p).add(a),p)}function Ll(e,t){return"string"===t?Bl(e):zl([e],t)}function zl(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ri(e)),Hi().getBool("DEBUG")&&yi(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error("Unknown data type ".concat(t))}function Zl(){return Hi().platform.now()}function Wl(e,t){return Hi().platform.fetch(e,t)}function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Hi().platform.encode(e,t)}function jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Hi().platform.decode(e,t)}var Vl=function(){function e(t,n){(0,Ur.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new Hl)}return(0,Gr.Z)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,i=function(){r=n()},o=Zl();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();var s,u=Yr(r);try{for(u.s();!(s=u.n()).done;){s.value.dataSync()}}catch(d){u.e(d)}finally{u.f()}a=Promise.resolve({kernelMs:Zl()-o})}if(Hi().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=r[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},c=0;c<r.length;c++)l(c);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var Hl=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"==typeof r?di("".concat(r,"ms"),9):r.error,s=di(e,25),u=t.rank,l=t.size,c=di(t.shape.toString(),14),d="";for(var f in a){var p=a[f];if(null!=p){var h=p.shape||t.shape,m=h.length;d+="".concat(f,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(c,"\t%c").concat(l,"\t%c").concat(d,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function Ul(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var l in u){for(var c=u[l],d=!1,f=0;f<t.length;f++)if(r[c.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[s.id]=!0;break}if(d)break}}var p={};p[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var g=e[m],v=g.inputs,y=0;y<g.outputs.length;y++)if(p[g.outputs[y].id]){for(var b in v)p[v[b].id]=!0,h[g.id]=!0;break}for(var x=[],A=0;A<e.length;A++){var w=e[A];if(a[w.id]&&h[w.id]){var k={};for(var S in w.inputs){var C=w.inputs[S];r[C.id]&&(k[S]=C)}var I=Object.assign({},w);I.inputs=k,I.outputs=w.outputs,x.push(I)}}return x}function Gl(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for ".concat(i.kernelName,"."));var s=i.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". Available gradients found: ").concat(Object.keys(s),"."));var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ").concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!oi(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input '").concat(t,"' has shape '").concat(a.shape,"', which does not match the shape of the input '").concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var u=e[o.id];e[o.id]=r(u,a),u.dispose()}};for(var l in i.inputs)u(l)},i=t.length-1;i>=0;i--)a(i)}function Xl(e,t,n,r){var a=Oi(t),i=function(e,t,n,r){var a=ai(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,u="complex64"===n?Jl(e):e;if(s>1)for(var l=0;l<a/i;l++)for(var c=l*i,d=0;d<i;d++)o[d]=Math.max(o[d],Yl(u[c+d],0,n).length);return o}(e,t,n,a),o=t.length,s=Kl(e,t,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function Yl(e,t,n){return di(Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ").concat(parseFloat(e[1].toFixed(7)),"j"):Si(e)?"'".concat(e,"'"):"bool"===n?ql(e):parseFloat(e.toFixed(7)).toString(),t)}function ql(e){return 0===e?"false":"true"}function Kl(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var l=Jl(e);return[Yl(l[0],0,n)]}return"bool"===n?[ql(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var c=3*o,d=Array.from(e.slice(0,c)),f=Array.from(e.slice((s-3)*o,s*o));return"complex64"===n&&(d=Jl(d),f=Jl(f)),["["+d.map((function(e,t){return Yl(e,a[t],n)})).join(", ")+", ..., "+f.map((function(e,t){return Yl(e,a[s-3+t],n)})).join(", ")+"]"]}var p="complex64"===n?Jl(e):Array.from(e);return["["+p.map((function(e,t){return Yl(e,a[t],n)})).join(", ")+"]"]}var h=t.slice(1),m=r.slice(1),g=r[0]*o,v=[];if(s>20){for(var y=0;y<3;y++){var b=y*g,x=b+g;v.push.apply(v,(0,qr.Z)(Kl(e.slice(b,x),h,n,m,a,!1)))}v.push("...");for(var A=s-3;A<s;A++){var w=A*g,k=w+g;v.push.apply(v,(0,qr.Z)(Kl(e.slice(w,k),h,n,m,a,A===s-1)))}}else for(var S=0;S<s;S++){var C=S*g,I=C+g;v.push.apply(v,(0,qr.Z)(Kl(e.slice(C,I),h,n,m,a,S===s-1)))}var E=2===u?",":"";v[0]="["+v[0]+E;for(var T=1;T<v.length-1;T++)v[T]=" "+v[T]+E;for(var N=",\n",O=2;O<u;O++)N+="\n";return v[v.length-1]=" "+v[v.length-1]+"]"+(i?"":N),v}function Jl(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Ql=function(){function e(t,n,r){var a=this;if((0,Ur.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=ai(t),null!=r){var i=r.length;ei(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size inferred by the shape '").concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||vi(n,this.size),this.strides=Oi(t)}return(0,Gr.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),ei(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must match the rank (").concat(t.rank,")")}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,".   Buffer shape=").concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],l=0;l<t.length-1;++l)u+=this.strides[l]*t[l];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return $l().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),$l=null,ec=null;var tc=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ai(t),this.strides=Oi(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,Gr.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",ec.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return ec.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",_i(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return _i(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=$l().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return jl(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),$l().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=$l().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return jl(e)}))}catch(Ge){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,$l().read(this.dataId);case 3:return t=e.sent,e.abrupt("return","string"===this.dtype?t:new Uint8Array(t.buffer));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||($l().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ec.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),ec.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return Xl(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),ec.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),$l().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(tc,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),Yi("Tensor",(function(){return tc}));var nc=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r,a,i){var o;return(0,Ur.Z)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,i)).trainable=r,o.name=a,o}return(0,Gr.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and previous value (").concat(this.dtype,") must match"));if(!oi(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and previous value (").concat(this.shape,") must match"));$l().disposeTensor(this),this.dataId=e.dataId,$l().incRef(this,null)}},{key:"dispose",value:function(){$l().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(tc);Object.defineProperty(nc,Symbol.hasInstance,{value:function(e){return e instanceof tc&&null!=e.assign&&e.assign instanceof Function}});var rc={};Aa(rc,{assertTypesMatch:function(){return pc},getTensorsInContainer:function(){return mc},isTensorInList:function(){return hc},makeTypesMatch:function(){return fc}});var ac=function(e){return e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6",e}(ac||{}),ic=function(e){return e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64",e}(ic||{}),oc=function(e){return e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64",e}(oc||{}),sc=function(e){return e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64",e}(sc||{}),uc=function(e){return e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64",e}(uc||{}),lc={float32:sc,int32:ic,bool:oc,complex64:uc};function cc(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return lc[e][t]}function dc(e){return cc(e,"int32")}function fc(e,t){if(e.dtype===t.dtype)return[e,t];var n=cc(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function pc(e,t){ei(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and second(").concat(t.dtype,") input must match")}))}function hc(e,t){return t.some((function(t){return t.id===e.id}))}function mc(e){var t=[];return gc(e,t,new Set),t}function gc(e,t,n){if(null!=e)if(e instanceof tc)t.push(e);else if(function(e){return Array.isArray(e)||"object"==typeof e}(e)){var r=e;for(var a in r){var i=r[a];n.has(i)||(n.add(i),gc(i,t,n))}}}function vc(e){return null!=e.kernelName}var yc=function(){function e(){(0,Ur.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,Gr.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),bc=function(){function e(t){(0,Ur.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new yc}return(0,Gr.Z)(e,[{key:"ready",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=17;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=14;break}return e.next=13,this.setBackend(r);case 13:return e.abrupt("return");case 14:n++,e.next=6;break;case 17:throw new Error("Could not initialize any backends, all backend initializations failed.");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods"));if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods"));this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(ol("".concat(e," backend was already registered. Reusing existing backend factory.")),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=14;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=11;break}return e.next=8,r;case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=r;case 12:if(e.t0){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",(this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Vl(this.backendInstance),!0));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;fl(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;fl(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof Ha||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,ol("Initialization of backend ".concat(e," failed")),ol(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(r){return ol("Initialization of backend ".concat(e," failed")),ol(r.stack||r.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(r){throw t(),r}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=kc.runKernel(cs,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return kc.runKernel(bo,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,null==cl(e,this.backendName))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak (").concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r=this,a=[],i=this.isTapeOn(),o=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var u,l=vc(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(vc(e)){var c=e.kernelName,d=e.inputs,f=e.attrs;null==this.backendName&&this.backend;var p=cl(c,this.backendName);ei(null!=p,(function(){return"Cannot find registered kernel '".concat(c,"' for backend '").concat(r.backendName,"'")})),n=function(){var e=r.backend.numDataIds();u=p.kernelFunc({inputs:d,attrs:f,backend:r.backend});var t=Array.isArray(u)?u:[u];r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){return null!=e.rank?e:r.makeTensorFromTensorInfo(e)}));if(i){var o=r.getTensorsForGradient(c,d,n);a=r.saveTensorsForBackwardMode(o)}return n}}else{var h=e.forwardFunc,m=function(e){!i||(a=e.map((function(e){return r.keep(r.clone(e))})))};n=function(){var e=r.backend.numDataIds();u=r.tidy((function(){return h(r.backend,m)}));var t=Array.isArray(u)?u:[u];return r.shouldCheckForMemLeaks()&&r.checkKernelForMemLeak(l,e,t),t}}var g,v=e.inputs,y=e.attrs,b=vc(e)?null:e.backwardsFunc;return this.scopedRun((function(){return r.state.kernelDepth++}),(function(){return r.state.kernelDepth--}),(function(){r.ENV.getBool("DEBUG")||r.state.profiling?(g=r.profiler.profileKernel(l,v,(function(){return n()})),r.ENV.getBool("DEBUG")&&r.profiler.logKernelProfile(g),t=g.outputs):t=n()})),i&&this.addTapeNode(l,v,t,b,a,y),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(v).map((function(e){return null!=v[e]?v[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(u)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=dl(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(ei(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&Si(e[0])&&(a=e.map((function(e){return Bl(e)})));var i=r.write(a,t,n),o=new tc(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(i),u=ki(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,i=new tc(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new nc(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*wi(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof nc||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*wi(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=5,t();case 5:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,qr.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,a=Yr(this.state.activeProfile.kernels),e.prev=11,a.s();case 13:if((i=a.n()).done){e.next=23;break}return o=i.value,e.next=17,o.kernelTimeMs;case 17:return o.kernelTimeMs=e.sent,e.next=20,o.extraInfo;case 20:o.extraInfo=e.sent;case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(11),a.e(e.t0);case 28:return e.prev=28,a.f(),e.finish(28);case 31:return e.abrupt("return",this.state.activeProfile);case 32:case"end":return e.stop()}}),e,this,[[11,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=dl(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=Ri(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=mc(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];!i.kept&&!r.has(i.id)&&i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){!e.kept&&e.scopeId===o.id&&t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ei(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var i=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));ei(i instanceof tc,(function(){return"The result y returned by f() must be a tensor."}));var o=Ul(this.state.activeTape,t,i);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[i.id]=null==n?Ac(i.shape):n,Gl(e,o,(function(e){return r.tidy(e)}),Sc);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t,n=Yr(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(r){n.e(r)}finally{n.f()}})),r.state.activeTape=null),{value:i,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return ei(Ti(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];ei(r.every((function(e){return e instanceof tc})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i,o={};r.forEach((function(e,t){o[t]=e}));var s=function(t,n){return ei((i=e.apply(void 0,r.concat([n]))).value instanceof tc,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),ei(Ti(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},u=function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];ei(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),ei(a.every((function(e){return e instanceof tc})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zl(),e.next=3,this.backend.time(t);case 3:return r=e.sent,e.abrupt("return",(r.wallMs=Zl()-n,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new yc,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}(),xc=bc;function Ac(e){var t=Mi(ai(e),"float32");return kc.makeTensor(t,e,"float32")}function wc(){var e=Xi();if(null==e._tfengine){var t=new Bi(e);e._tfengine=new xc(t)}return function(e){Gi=e}(e._tfengine.ENV),function(e){$l=e}((function(){return e._tfengine})),e._tfengine}xc.nextTensorId=0,xc.nextVariableId=0;var kc=wc();function Sc(e,t){var n={a:e,b:t};return kc.runKernel(Qi,n)}var Cc,Ic={};function Ec(e){Cc=e}function Tc(e){if(void 0!==Cc)return Cc;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function Nc(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}Aa(Ic,{isBrowser:function(){return Nc},isMobile:function(){return Tc},mockIsMobile:function(){return Ec}});var Oc=Hi();function Pc(e,t){var n=e;if(Ai(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Ai(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Hi().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&_c(e,r,[]),r}function _c(e,t,n){if(n=n||[],Array.isArray(e)||Ai(e)){ei(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, but is an array of ").concat(e.length," elements")})),ei(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," elements, but has ").concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)_c(e[a],r,n.concat(a))}else ei(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, but should be an array/TypedArray of ").concat(t[0]," elements")}))}function Mc(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must be ").concat(e," tensor, but got ").concat(t," tensor"))}}function Rc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof tc)return Mc(r,e.dtype,t,n),e;var a=Ei(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Mc(r,a,t,n),null==e||!Ai(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a Tensor or TensorLike, but got '").concat(i,"'"))}var o=Pc(e,a);!Ai(e)&&!Array.isArray(e)&&(e=[e]);var s="string"!==a?zl(e,a):ri(e,[],!0);return kc.makeTensor(s,o,a)}function Fc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a `Tensor[]` or `TensorLike[]`"));return e.map((function(e,a){return Rc(e,"".concat(t,"[").concat(a,"]"),n,r)}))}Oc.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Oc.registerFlag("IS_BROWSER",(function(){return Nc()})),Oc.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&"undefined"!=typeof process.versions&&"undefined"!=typeof process.versions.node})),Oc.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Oc.registerFlag("PROD",(function(){return!1})),Oc.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Oc.getBool("DEBUG")})),Oc.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Oc.registerFlag("IS_TEST",(function(){return!1})),Oc.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),Oc.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),Oc.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1})),Oc.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY",(function(){return!1}));var Dc="__op";function Lc(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with ".concat(t.length," keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=Dc;var a=function(){kc.startScope(n);try{var e=r.apply(void 0,arguments);return Zi(e)&&console.error("Cannot return a Promise inside of tidy."),kc.endScope(e),e}catch(e){throw kc.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}var zc=Lc({complex_:function(e,t){var n=Rc(e,"real","complex"),r=Rc(t,"imag","complex");ti(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", must match in call to tf.complex()."));var a={real:n,imag:r};return kc.runKernel(wo,a)}});function Zc(e,t,n,r){if(null==r&&(r=Ei(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ai(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Di(t);var a=ai(t),i=ai(n);ei(a===i,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ").concat(a," values but has ").concat(i)}));for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==ai(t.slice(o));ei(n[o]===t[o]||!u,(function(){return"Error creating a new Tensor. Inferred shape (".concat(n,") does not match the provided shape (").concat(t,"). ")}))}}return!Ai(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e="string"!==r?zl(e,r):ri(e,[],!0),kc.makeTensor(e,t,r)}function Wc(e,t,n){return Zc(e,t,Pc(e,n),n)}var Bc={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function jc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],i=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=function(e){var o=i[e],s=Array.isArray(t)?t[e].tensor:t[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(s.dtype));var u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var l=new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,a=new Uint8Array(r),i=0,o=0;o<n.length;o++)u=n[o],l=new Uint8Array(new Uint32Array([u.length]).buffer),a.set(l,i),i+=4,a.set(u,i),i+=u.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());a.push(l)}else a.push(s.data());null!=n&&(u.group=n),r.push(u)},s=0;s<i.length;++s)o(s);return e.next=5,Promise.all(a);case 5:return u=e.sent,e.abrupt("return",{data:Uc(u),specs:r});case 7:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Hc(e,t){var n,r,a={},i=0,o=Yr(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.name,l=s.dtype,c=s.shape,d=ai(c),f=void 0;if("quantization"in s){var p=s.quantization;if("uint8"===p.dtype||"uint16"===p.dtype){if(!("min"in p)||!("scale"in p))throw new Error("Weight ".concat(s.name," with quantization ").concat(p.dtype," doesn't have corresponding metadata min and scale."))}else{if("float16"!==p.dtype)throw new Error("Weight ".concat(s.name," has unknown quantization dtype ").concat(p.dtype,". Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'."));if("float32"!==l)throw new Error("Weight ".concat(s.name," is quantized with ").concat(p.dtype," which only supports weights of type float32 not ").concat(l,"."))}var h=Bc[p.dtype],m=e.slice(i,i+d*h),g="uint8"===p.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===l)if("uint8"===p.dtype||"uint16"===p.dtype){f=new Float32Array(g.length);for(var v=0;v<g.length;v++){var y=g[v];f[v]=y*p.scale+p.min}}else{if("float16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," for weight type float32."));void 0===n&&(n=nd()),f=n(g)}else{if("int32"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));if("uint8"!==p.dtype&&"uint16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," for weight type int32."));f=new Int32Array(g.length);for(var b=0;b<g.length;b++){var x=g[b];f[b]=Math.round(x*p.scale+p.min)}}i+=d*h}else if("string"===l){var A=ai(s.shape);f=[];for(var w=0;w<A;w++){var k=new Uint32Array(e.slice(i,i+4))[0];i+=4;var S=new Uint8Array(e.slice(i,i+k));f.push(S),i+=k}}else{var C=Bc[l],I=e.slice(i,i+d*C);if("float32"===l)f=new Float32Array(I);else if("int32"===l)f=new Int32Array(I);else if("bool"===l)f=new Uint8Array(I);else{if("complex64"!==l)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(l));f=new Float32Array(I);for(var E=new Float32Array(f.length/2),T=new Float32Array(f.length/2),N=0;N<E.length;N++)E[N]=f[2*N],T[N]=f[2*N+1];var O=Wc(E,c,"float32"),P=Wc(T,c,"float32");a[u]=zc(O,P),O.dispose(),P.dispose()}i+=d*C}"complex64"!==l&&(a[u]=Wc(f,c,l))}}catch(_){o.e(_)}finally{o.f()}return a}function Uc(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var Gc="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Xc(e){return Gc?Buffer.byteLength(e):new Blob([e]).size}function Yc(e){if(Gc)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function qc(e){if(Gc){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function Kc(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Jc(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Qc(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function $c(e,t){return ed.apply(this,arguments)}function ed(){return ed=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=9;break}return e.next=4,n(t.weightsManifest);case 4:a=e.sent,i=(0,o.Z)(a,2),s=i[0],u=i[1],r.weightSpecs=s,r.weightData=u;case 9:return e.abrupt("return",(null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),r));case 10:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Xc(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Xc(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function nd(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];i[o]=u}return new Float32Array(a)}}var rd=function(){function e(){(0,Ur.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,Gr.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),ad=function(e){return rd.registerSaveRouter(e)},id=function(e){return rd.registerLoadRouter(e)},od=function(e){return rd.getSaveHandlers(e)},sd=function(e,t){return rd.getLoadHandlers(e,t)},ud="tensorflowjs",ld="models_store",cd="model_info_store";function dd(){if(!Hi().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function fd(e){var t=e.result;t.createObjectStore(ld,{keyPath:"modelPath"}),t.createObjectStore(cd,{keyPath:"modelPath"})}var pd=function(){function e(t){if((0,Ur.Z)(this,e),this.indexedDB=dd(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,Gr.Z)(e,[{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(ud,1);a.onupgradeneeded=function(){return fd(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(ld,"readonly"),s=o.objectStore(ld).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' in IndexedDB.")));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{var u,l=td(t),c=i.transaction(cd,"readwrite"),d=c.objectStore(cd),f=d.put({modelPath:n.modelPath,modelArtifactsInfo:l});f.onsuccess=function(){var a=(u=i.transaction(ld,"readwrite")).objectStore(ld).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});a.onsuccess=function(){return e({modelArtifactsInfo:l})},a.onerror=function(e){var t=(d=c.objectStore(cd)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},f.onerror=function(e){return i.close(),r(f.error)},c.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();pd.URL_SCHEME="indexeddb://";var hd=function(e){return Hi().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pd.URL_SCHEME)?function(e){return new pd(e)}(e.slice(pd.URL_SCHEME.length)):null};function md(e){return e.startsWith(pd.URL_SCHEME)?e.slice(pd.URL_SCHEME.length):e}rd.registerSaveRouter(hd),rd.registerLoadRouter(hd);var gd=function(){function e(){(0,Ur.Z)(this,e),this.indexedDB=dd()}return(0,Gr.Z)(e,[{key:"listModels",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(ud,1);r.onupgradeneeded=function(){return fd(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(cd,"readonly"),i=a.objectStore(cd).getAll();i.onsuccess=function(){var t,n={},r=Yr(i.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=md(t),new Promise((function(e,r){var a=n.indexedDB.open(ud,1);a.onupgradeneeded=function(){return fd(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(cd,"readwrite"),s=o.objectStore(cd),u=s.get(t);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' in IndexedDB.")));var a=s.delete(t),o=function(){var a=(n=i.transaction(ld,"readwrite")).objectStore(ld).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vd="/",yd="tensorflowjs_models",bd="info",xd="model_topology",Ad="weight_specs",wd="weight_data",kd="model_metadata";function Sd(e){return{info:[yd,e,bd].join(vd),topology:[yd,e,xd].join(vd),weightSpecs:[yd,e,Ad].join(vd),weightData:[yd,e,wd].join(vd),modelMetadata:[yd,e,kd].join(vd)}}function Cd(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function Id(e){var t=e.split(vd);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(vd)}function Ed(e){return e.startsWith(Td.URL_SCHEME)?e.slice(Td.URL_SCHEME.length):e}var Td=function(){function e(t){if((0,Ur.Z)(this,e),!Hi().getBool("IS_BROWSER")||"undefined"==typeof window||"undefined"==typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Sd(this.modelPath)}return(0,Gr.Z)(e,[{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=td(t),e.prev=3,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Yc(t.weightData)),i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},e.abrupt("return",(this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:a}));case 9:throw e.prev=9,e.t0=e.catch(3),Cd(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=").concat(a.modelTopologyBytes,", weightSpecsBytes=").concat(a.weightSpecsBytes,", weightDataBytes=").concat(a.weightDataBytes,"."));case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=8;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' is missing."));case 8:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=12;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' are missing."));case 12:if(n.weightSpecs=a,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=18;break}throw new Error("In local storage, the binary weight values of model '".concat(this.modelPath,"' are missing."));case 18:return e.abrupt("return",(n.weightData=qc(s),n));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Td.URL_SCHEME="localstorage://";var Nd=function(e){return Hi().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Td.URL_SCHEME)?function(e){return new Td(e)}(e.slice(Td.URL_SCHEME.length)):null};rd.registerSaveRouter(Nd),rd.registerLoadRouter(Nd);var Od=function(){function e(){(0,Ur.Z)(this,e),ei(Hi().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),ei("undefined"==typeof window||"undefined"!=typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,Gr.Z)(e,[{key:"listModels",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=yd+vd,r=vd+bd,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=Id(i),t[o]=JSON.parse(this.LS.getItem(i)));return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ed(t),n=Sd(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),e.abrupt("return",(Cd(n),r));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pd="://",_d=function(){function e(){(0,Ur.Z)(this,e),this.managers={}}return(0,Gr.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){ei(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(Pd)&&(t=t.slice(0,t.indexOf(Pd))),ei(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();ei(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function Md(e){if(-1===e.indexOf(Pd))throw new Error("The url string provided does not contain a scheme. Supported schemes are: ".concat(_d.getSchemes().join(",")));return{scheme:e.split(Pd)[0],path:e.split(Pd)[1]}}function Rd(e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],ei(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),ei((a=rd.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),ei(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") load handlers for source URL ").concat(t,".")})),i=a[0],ei((o=rd.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination URL ".concat(n,".")})),ei(o.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") save handlers for destination URL ").concat(n,".")})),s=o[0],u=Md(t).scheme,l=Md(t).path,c=u===Md(t).scheme,e.next=12,i.load();case 12:if(d=e.sent,e.t0=r&&c,!e.t0){e.next=17;break}return e.next=17,_d.getManager(u).removeModel(l);case 17:return e.next=19,s.save(d);case 19:if(f=e.sent,e.t1=r&&!c,!e.t1){e.next=24;break}return e.next=24,_d.getManager(u).removeModel(l);case 24:return e.abrupt("return",f.modelArtifactsInfo);case 25:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}function Dd(){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_d.getSchemes(),n={},r=Yr(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=12;break}return i=a.value,e.next=8,_d.getManager(i).listModels();case 8:for(s in o=e.sent)n[i+Pd+s]=o[s];case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])}))),Ld.apply(this,arguments)}function zd(e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Md(t),e.abrupt("return",_d.getManager(n.scheme).removeModel(n.path));case 2:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function Wd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rd(t,n,!1));case 1:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function jd(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rd(t,n,!0));case 1:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}var Hd=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(Hi().get("IS_BROWSER")){Hi().setPlatform("browser",new Hd);try{_d.registerManager(Td.URL_SCHEME,new Od)}catch(Dme){}try{_d.registerManager(pd.URL_SCHEME,new gd)}catch(Dme){}}var Ud,Gd=function(){return Sa()},Xd=function(){function e(){(0,Ur.Z)(this,e),this.util=Ca(),this.textEncoder=new this.util.TextEncoder}return(0,Gr.Z)(e,[{key:"fetch",value:function(e,t){return null!=Hi().global.fetch?Hi().global.fetch(e,t):(null==Ud&&(Ud=Gd()),Ud(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();function Yd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Di(e),new Ql(e,t,n)}Hi().get("IS_NODE")&&!Hi().get("IS_BROWSER")&&Hi().setPlatform("node",new Xd);var qd=Lc({cast_:function(e,t){var n=Rc(e,"x","cast");if(!bi(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={x:n},a={dtype:t};return kc.runKernel(bo,r,a)}});var Kd=Lc({clone_:function(e){var t={x:Rc(e,"x","clone","string_or_numeric")};return kc.runKernel(cs,t)}});function Jd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}wc(),function(e){ec=e}({buffer:Yd,cast:qd,clone:Kd,print:Jd});var Qd={};Aa(Qd,{browserFiles:function(){return rf},browserHTTPRequest:function(){return gf},concatenateArrayBuffers:function(){return Kc},copyModel:function(){return Wd},decodeWeights:function(){return Hc},encodeWeights:function(){return jc},fromMemory:function(){return xf},fromMemorySync:function(){return Af},getLoadHandlers:function(){return sd},getModelArtifactsForJSON:function(){return $c},getModelArtifactsInfoForJSON:function(){return td},getSaveHandlers:function(){return od},http:function(){return mf},isHTTPScheme:function(){return pf},listModels:function(){return Dd},loadWeights:function(){return uf},moveModel:function(){return jd},registerLoadRouter:function(){return id},registerSaveRouter:function(){return ad},removeModel:function(){return zd},weightsLoaderFactory:function(){return cf},withSaveHandler:function(){return wf},withSaveHandlerSync:function(){return kf}});function $d(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var ef=function(){function e(t){if((0,Ur.Z)(this,e),!Hi().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),(null==t||0===t.length)&&(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,Gr.Z)(e,[{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=5;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 5:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=Qc(t,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=i,e.next=10,$d((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 10:if(null==t.weightData){e.next=16;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=16,$d((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 16:return e.abrupt("return",{modelArtifactsInfo:td(t)});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tf=ef;tf.URL_SCHEME="downloads://";var nf=function(){function e(t){if((0,Ur.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,Gr.Z)(e,[{key:"load",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var o=$c(a,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:i});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading Keras-style tf.Model artifacts only."))},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],i=Yr(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push.apply(r,(0,qr.Z)(o.weights)),a.push.apply(a,(0,qr.Z)(o.paths))}}catch(l){i.e(l)}finally{i.f()}var s=this.checkManifestAndWeightFiles(e),u=a.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,Kc(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return Jc(e.name)})),i={},o=Yr(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=Jc(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: '".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));i[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(s){o.e(s)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest (".concat(r.length,") and the number of weight files provided (").concat(this.weightsFiles.length,")."));return i}}]),e}();function rf(e){return new nf(e)}function af(e,t,n,r){(function(e){ei(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))})(e),function(e,t){ei(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction ".concat(e)})),ei(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction ".concat(t)})),ei(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction ".concat(e," and endFraction ").concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}function of(e,t){return sf.apply(this,arguments)}function sf(){return sf=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Hi().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,af(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(s=e.t0.map((function(e){return e.arrayBuffer()})),u=.5,l=1,null!=n.onProgress){e.next=23;break}return e.next=20,Promise.all(s);case 20:e.t1=e.sent,e.next=26;break;case 23:return e.next=25,af(s,n.onProgress,u,l);case 25:e.t1=e.sent;case 26:return e.abrupt("return",e.t1);case 27:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function uf(e){return lf.apply(this,arguments)}function lf(){return lf=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,e.abrupt("return",cf((function(e){return of(e,{requestInit:a})}))(t,n,r));case 4:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function cf(e){return function(){var t=(0,Tr.Z)((0,Er.Z)().mark((function t(n){var r,a,i,o,s,u,l,c,d,f,p,h,m=arguments;return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",a=m.length>2?m[2]:void 0,i=n.map((function(){return!1})),o={},s=null!=a?a.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,l=Bc[r]*ai(e.shape),c=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),s[n]=!0)})):c(),u.push(e.name),n+=l}))})),s.every((function(e){return e}))){t.next=6;break}throw l=a.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: ".concat(l.join(", "),". \nManifest JSON has weights with names: ").concat(u.join(", "),"."));case 6:return c=i.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=10,e(d);case 10:return f=t.sent,p={},h=0,t.abrupt("return",(c.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=f[h+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,l=0;l<t;l++){var c=new Uint8Array(f[h+l]);s.set(c,u),u+=c.byteLength}o[e].forEach((function(e){var t=Hc(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]})),h+=t})),p));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}rd.registerSaveRouter((function(e){return Hi().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(tf.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new tf(e)}(e.slice(tf.URL_SCHEME.length)):null}));var df=function(){function e(t,n){if((0,Ur.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(ei("function"==typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Hi().platform.fetch,ei(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&ei(2===t.length,(function(){return"URL paths for http must have a length of 2, (actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,Gr.Z)(e,[{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Qc(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=8,this.fetch(this.path,n);case 8:if(!(i=e.sent).ok){e.next=11;break}return e.abrupt("return",{modelArtifactsInfo:td(t),responses:[i]});case 11:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status ".concat(i.status,"."));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ").concat(t.status,". Please verify this URL points to the model JSON of the model to load."));case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 15:if(a=n.modelTopology,i=n.weightsManifest,null!=a||null!=i){e.next=18;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model topology or manifest for weights."));case 18:return e.abrupt("return",$c(n,(function(e){return o.loadWeights(e)})));case 19:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=ff(n),a=(0,o.Z)(r,2),i=a[0],s=a[1],u=this.weightPathPrefix||i,l=[],c=Yr(t);try{for(c.s();!(d=c.n()).done;)f=d.value,l.push.apply(l,(0,qr.Z)(f.weights))}catch(w){c.e(w)}finally{c.f()}p=[],h=[],m=Yr(t);try{for(m.s();!(g=m.n()).done;){v=g.value,y=Yr(v.paths);try{for(y.s();!(b=y.n()).done;)x=b.value,null!=this.weightUrlConverter?h.push(this.weightUrlConverter(x)):p.push(u+x+s)}catch(w){y.e(w)}finally{y.f()}}}catch(w){m.e(w)}finally{m.f()}if(e.t0=this.weightUrlConverter,!e.t0){e.next=16;break}return e.t1=p.push,e.t2=p,e.t3=qr.Z,e.next=13,Promise.all(h);case 13:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t1.apply.call(e.t1,e.t2,e.t5);case 16:return e.next=18,of(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 18:return A=e.sent,e.abrupt("return",[l,Kc(A)]);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ff(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function pf(e){return null!=e.match(df.URL_SCHEME_REGEX)}df.URL_SCHEME_REGEX=/^https?:\/\//;var hf=function(e,t){if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;var n=!0;return n=Array.isArray(e)?e.every((function(e){return pf(e)})):pf(e),n?mf(e,t):null};function mf(e,t){return new df(e,t)}function gf(e,t){return mf(e,t)}rd.registerSaveRouter(hf),rd.registerLoadRouter(hf);var vf=function(){function e(t){(0,Ur.Z)(this,e),this.modelArtifacts=t}return(0,Gr.Z)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),yf=function(){function e(t){(0,Ur.Z)(this,e),this.saveHandler=t}return(0,Gr.Z)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),bf=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function xf(e,t,n,r){var a=arguments;return new bf(Af.apply(void 0,(0,qr.Z)(a)))}function Af(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new vf(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vf({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vf({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function wf(e){return new yf(e)}function kf(e){return new yf(e)}var Sf={};Aa(Sf,{confusionMatrix:function(){return Qf}});var Cf=Lc({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Rc(e,"a","matMul"),i=Rc(t,"b","matMul"),s=fc(a,i),u=(0,o.Z)(s,2),l={a:a=u[0],b:i=u[1]},c={transposeA:n,transposeB:r};return kc.runKernel(ho,l,c)}});var If=Lc({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var a={indices:Rc(e,"indices","oneHot","int32")},i={depth:t,onValue:n,offValue:r};return kc.runKernel(Ks,a,i)}});function Ef(){Hi().set("PROD",!0)}function Tf(){Hi().set("DEBUG",!0)}function Nf(){Hi().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Of(e){Hi().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Pf(){kc.disposeVariables()}function _f(){return kc}function Mf(){return kc.memory()}function Rf(e){return kc.profile(e)}function Ff(e,t){return kc.tidy(e,t)}function Df(e){mc(e).forEach((function(e){return e.dispose()}))}function Lf(e){return kc.keep(e)}function zf(e){return kc.time(e)}function Zf(e){return kc.setBackend(e)}function Wf(){return kc.ready()}function Bf(){return kc.backendName}function jf(e){kc.removeBackend(e)}function Vf(e){return kc.findBackend(e)}function Hf(e){return kc.findBackendFactory(e)}function Uf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return kc.registerBackend(e,t,n)}function Gf(){return kc.backend}function Xf(e,t){Hi().setPlatform(e,t)}!function(e){e}(Of);var Yf=Lc({imag_:function(e){var t={input:Rc(e,"input","imag")};return kc.runKernel(fs,t)}});var qf=Lc({neg_:function(e){var t={x:Rc(e,"x","neg")};return kc.runKernel(Hs,t)}});var Kf=Lc({real_:function(e){var t={input:Rc(e,"input","real")};return kc.runKernel(au,t)}});var Jf=Lc({transpose_:function(e,t,n){var r=Rc(e,"x","transpose");if(null==t&&(t=r.shape.map((function(e,t){return t})).reverse()),ei(r.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(r.rank," must match length of perm ").concat(t,".")})),t.forEach((function(e){ei(e>=0&&e<r.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(r.rank-1," but got ").concat(t)}))})),r.rank<=1)return r.clone();var a={x:r},i={perm:t};return"complex64"===r.dtype?Ff((function(){var e=Kf(r),t=Yf(r);return e=kc.runKernel(Yu,{x:e},i),t=kc.runKernel(Yu,{x:t},i),n&&(t=qf(t)),zc(e,t)})):kc.runKernel(Yu,a,i)}});var Qf=Lc({confusionMatrix_:function(e,t,n){var r=Rc(e,"labels","confusionMatrix"),a=Rc(t,"predictions","confusionMatrix");ei(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got ".concat(n)})),ei(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),ei(1===a.rank,(function(){return"Expected the rank of predictions to be 1, but got ".concat(a.rank)})),ei(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: ".concat(r.shape[0]," vs. ").concat(a.shape[0],". Labels and predictions should have the same number of elements.")})),ei(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got ".concat(n)}));var i=If(qd(r,"int32"),n),o=If(qd(a,"int32"),n),s=Jf(i),u=Cf(s,o);return qd(u,"int32")}}),$f={};function ep(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function tp(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function np(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o){var s="Operands could not be broadcast together with shapes ".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(i)}}return n}Aa($f,{assertAndGetBroadcastShape:function(){return np},getBroadcastDims:function(){return ep},getReductionAxes:function(){return tp}});var rp,ap={};function ip(e,t,n){if(ni(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Pc(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Zc(e,t,r,n)}function op(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,s=!1,u=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ".concat(e.constructor.name));u=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=cl(tl,kc.backendName)){var l={pixels:e},c={numChannels:t};return kc.runKernel(tl,l,c)}var d,f,p=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],h=(0,o.Z)(p,2),m=h[0],g=h[1];if(s)d=e.getContext("2d").getImageData(0,0,m,g).data;else if(r||n)d=e.data;else if(i||a||u){if(null==rp)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");rp=new OffscreenCanvas(1,1).getContext("2d")}else{l=Hi().getBool("CANVAS2D_WILL_READ_FREQUENTLY");rp=document.createElement("canvas").getContext("2d",{willReadFrequently:l})}rp.canvas.width=m,rp.canvas.height=g,rp.drawImage(e,0,0,m,g),d=rp.getImageData(0,0,m,g).data}if(4===t)f=new Int32Array(d);else{var v=m*g;f=new Int32Array(v*t);for(c=0;c<v;c++)for(var y=0;y<t;++y)f[c*t+y]=d[4*c+y]}return ip(f,[g,m,t],"int32")}function sp(e){return"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function up(e){return lp.apply(this,arguments)}function lp(){return lp=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:3,r=null,!Hi().getBool("WRAP_TO_IMAGEBITMAP")||!sp(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",op(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),lp.apply(this,arguments)}function cp(e,t){return dp.apply(this,arguments)}function dp(){return dp=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,s,u,l,c,d,f,p,h,m,g,v,y,b;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rc(t,"img","toPixels"),t instanceof tc||(r=qd(a=r,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(i=r.shape.slice(0,2),s=(0,o.Z)(i,2),u=s[0],l=s[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=7;break}throw new Error("toPixels only supports depth of size 1, 3 or 4 but got ".concat(c));case 7:if("float32"===r.dtype||"int32"===r.dtype){e.next=9;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,". Please use float32 or int32 tensors."));case 9:return e.next=11,r.data();case 11:d=e.sent,f="float32"===r.dtype?255:1,p=new Uint8ClampedArray(l*u*4),a=0;case 15:if(!(a<u*l)){e.next=36;break}h=[0,0,0,255],m=0;case 18:if(!(m<c)){e.next=31;break}if(g=d[a*c+m],"float32"!==r.dtype){e.next=25;break}if(!(g<0||g>1)){e.next=23;break}throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ".concat(g,"."));case 23:e.next=27;break;case 25:if("int32"!==r.dtype||!(g<0||g>255)){e.next=27;break}throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ".concat(g,"."));case 27:1===c?(h[0]=g*f,h[1]=g*f,h[2]=g*f):h[m]=g*f;case 28:m++,e.next=18;break;case 31:p[(v=4*a)+0]=Math.round(h[0]),p[v+1]=Math.round(h[1]),p[v+2]=Math.round(h[2]),p[v+3]=Math.round(h[3]);case 33:++a,e.next=15;break;case 36:return null!=n&&(n.width=l,n.height=u,y=n.getContext("2d"),b=new ImageData(p,l,u),y.putImageData(b,0,0)),e.abrupt("return",(r!==t&&r.dispose(),p));case 38:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}Aa(ap,{fromPixels:function(){return fp},fromPixelsAsync:function(){return up},toPixels:function(){return cp}});var fp=Lc({fromPixels_:op}),pp={};function hp(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: ".concat(t.shape[r-1]," vs. ").concat(n));if(0===ai(e.shape))throw new Error("Requested more than 0 entries, but input is empty. Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,s=0;s<a.length-1;++s)o*=a[s];var u=e.shape,l=a.slice();l.pop();for(var c=1,d=i;d<n;++d)c*=u[d],l.push(u[d]);var f=[].concat((0,qr.Z)(Oi(e.shape).map((function(e){return e/c}))),[1]).slice(0,i);return[l,o,c,f]}Aa(pp,{prepareAndValidate:function(){return hp}});var mp={};function gp(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ".concat(n.shape,", indices.shape: ").concat(t.shape,", shape: ").concat(e,", sliceDim: ").concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}function vp(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}gp(n,t,e)}function yp(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:ai(t.shape)/u,sliceSize:o,strides:[].concat((0,qr.Z)(Oi(n.slice(0,a))),[1]),outputSize:ai(n)}}Aa(mp,{calculateShapes:function(){return yp},validateInput:function(){return vp},validateUpdateShape:function(){return gp}});var bp={};Aa(bp,{assertParamsValid:function(){return xp},computeFlatOffset:function(){return Mp},computeOutShape:function(){return wp},getNormalizedAxes:function(){return Ip},isSliceContinous:function(){return _p},maskToAxes:function(){return Ap},parseSliceParams:function(){return Rp},sliceInfo:function(){return Fp},startForAxis:function(){return Op},startIndicesWithElidedDims:function(){return Ep},stopForAxis:function(){return Pp},stopIndicesWithElidedDims:function(){return Tp},stridesForAxis:function(){return Np},stridesWithElidedDims:function(){return kp}});function xp(e,t,n){var r=e.shape.length;ei(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must match the rank of the array (").concat(r,").")})),ei(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must match the rank of the array (").concat(r,").")}));for(var a=function(a){ei(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] (").concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")}))},i=0;i<r;++i)a(i)}function Ap(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function wp(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function kp(e,t,n,r){for(var a=(0,qr.Z)(e),i=a.length;i<r.length;i++)a.push(1);for(var o=0;o<n;o++)0===o?a[t]=1:(a.splice(t,0,1),a.pop());return a}function Sp(e,t,n){return n<=e?n:n-(t-1)}function Cp(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function Ip(e,t,n,r,a,i,o,s,u){var l=e.length,c=new Array(l),d=new Array(l),f=new Array(l);if(t.length&&n>0){var p=t[0],h=n+1;c=Ep(o,p,h,r,e),d=Tp(s,p,h,a,e),f=kp(i,p,h,e)}else for(var m=0;m<l;m++)c[m]=Op(o,r,i,e,m,u),d[m]=Pp(s,a,i,e,m,u),f[m]=Np(i,m,u);return{begin:c,end:d,strides:f}}function Ep(e,t,n,r,a){for(var i=(0,qr.Z)(a),o=Cp(n,t),s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=0;else{var u=Sp(t,n,s),l=r[u];e&1<<u&&(l=0),i[s]=l}return i}function Tp(e,t,n,r,a){for(var i=(0,qr.Z)(a),o=Cp(n,t),s=0;s<i.length;s++)if(o.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{var u=Sp(t,n,s),l=r[u];e&1<<u&&(l=Number.MAX_SAFE_INTEGER),i[s]=l}for(var c=0;c<i.length;c++){var d=a[c];i[c]<0&&(i[c]+=d),i[c]=Ya(0,i[c],a[c])}return i}function Np(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Op(e,t,n,r,a,i){var o=t[a],s=n[a]||1;(e&1<<a||i&1<<a||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[a];return o<0&&(o+=u),o=Ya(0,o,u-1)}function Pp(e,t,n,r,a,i){var o=t[a],s=n[a]||1;(e&1<<a||i&1<<a||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[a];return o<0&&(o+=u),o=s>0?Ya(0,o,u):Ya(-1,o,u-1)}function _p(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function Mp(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Rp(e,t,n){var r,a,i=e.shape.length;return(r="number"==typeof t?[t].concat((0,qr.Z)(new Array(i-1).fill(0))):t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice()).forEach((function(e){ei(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(i).fill(-1):"number"==typeof n?[n].concat((0,qr.Z)(new Array(i-1).fill(-1))):n.length<i?n.concat(new Array(i-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(ei(-1===t,(function(){return"Negative size values should be exactly -1 but got ".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,a]}function Fp(e,t,n,r,a,i,o,s,u){var l;if(null==r?(l=new Array(t.length)).fill(1):l=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var c=!1,d={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u},f=0;f<d.dims;f++)c&&0!==(1<<f&s)&&d.numAddAxisAfterEllipsis++,1<<f&o&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);var p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input has only ").concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);for(var h=!0,m=!0,g=!0,v=[],y=[],b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(p.shrinkAxisMask&1<<b),A=e[b];if(-1!==A){var w=[p.beginMask&1<<b,p.endMask&1<<b],k=[p.strides[b]>0?0:-1,p.strides[b]>0?A:A-1];if(x&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&1===p.strides[b];var S=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(x){var C=p.begin[b]<0?A+p.begin[b]:p.begin[b];if(p.begin[b]=C,p.end[b]=p.begin[b]+1,C<0||C>=A)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=Dp(p.begin[b],0,p.strides[b],A,w,k),p.end[b]=Dp(p.end[b],1,p.strides[b],A,w,k);var I=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===A;h=h&&I,m=m&&(0===b&&1===p.strides[b]||I)}else h=h&&1===p.strides[b]&&S,m=m&&(0===b&&1===p.strides[b]||S);var E=void 0,T=!1;if(p.beginValid&&p.endValid?(E=p.end[b]-p.begin[b],T=!0):x?(E=1,T=!0):S&&A>=0&&(E=p.strides[b]<0?-A:A,T=!0),T){var N=void 0;N=0===E||E<0!=p.strides[b]<0?0:Math.trunc(E/p.strides[b])+(E%p.strides[b]!==0?1:0),v.push(N)}else v.push(-1)}else v.push(x?1:-1)}for(var O=0;O<p.finalShapeGatherIndices.length;++O){var P=p.finalShapeGatherIndices[O];P>=0?y.push(v[P]):-2===P&&y.push(1)}return{finalShapeSparse:y.filter((function(e,t){return-2!==p.finalShapeGatherIndices[t]})),finalShape:y,isIdentity:h,sliceDim0:m,isSimpleSlice:g,begin:p.begin,end:p.end,strides:p.strides}}function Dp(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}var Lp={};Aa(Lp,{Serializable:function(){return zp},SerializationMap:function(){return Zp},registerClass:function(){return Wp}});var zp=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Zp=function(){function e(){(0,Ur.Z)(this,e),this.classNameMap={}}return(0,Gr.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Wp(e){ei(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),ei("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),ei(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Zp.register(e)}var Bp={};Aa(Bp,{TEST_EPSILON_FLOAT16:function(){return jp},encodeStrings:function(){return Qp},expectArrayBuffersEqual:function(){return Jp},expectArraysClose:function(){return Vp},expectArraysEqual:function(){return Xp},expectNumbersClose:function(){return Yp},expectPromiseToFail:function(){return Gp},expectValuesInRange:function(){return Kp},testEpsilon:function(){return Hp}});var jp=.1;function Vp(e,t,n){return null==n&&(n=Hp()),Up(e,t,(function(e,t){return qp(e,t,n)}))}function Hp(){return 32===kc.backend.floatPrecision()?.001:jp}function Up(e,t,n){var r=!0;if((Ai(e)||Ai(t))&&(r=!1),Ai(e)&&Ai(t)&&(r=!0),r){var a=e.constructor.name,i=t.constructor.name;if(a!==i)throw new Error("Arrays are of different type. Actual: ".concat(a,". Expected: ").concat(i))}if(Array.isArray(e)&&Array.isArray(t)){var o=Pc(e),s=Pc(t);if(!oi(o,s))throw new Error("Arrays have different shapes. Actual: [".concat(o,"]. Expected: [").concat(s,"]"))}var u=Ai(e)?e:ri(e),l=Ai(t)?t:ri(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs expected: ").concat(l.length,".\nActual:   ").concat(u,".\nExpected: ").concat(l,"."));for(var c=0;c<l.length;++c){var d=u[c],f=l[c];if(!n(d,f))throw new Error("Arrays differ: actual[".concat(c,"] = ").concat(d,", expected[").concat(c,"] = ").concat(f,".\nActual:   ").concat(u,".\nExpected: ").concat(l,"."))}}function Gp(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function Xp(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return Si(e)||Si(e[0])||Si(t)||Si(t[0])?Up(e,n,(function(e,t){return e==t})):Up(e,t,(function(e,t){return qp(e,t,0)}))}function Yp(e,t,n){if(null==n&&(n=Hp()),!qp(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function qp(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Kp(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function Jp(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length ".concat(r.length,", but it was ").concat(n.length));for(var a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error("Expected ArrayBuffer value at ".concat(a," to be ").concat(r[a]," but got ").concat(n[a]," instead"))}function Qp(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?Qp(n):e[t]=Bl(n)}return e}var $p="0.0.0";var eh=Lc({add_:function(e,t){var n=Rc(e,"a","add"),r=Rc(t,"b","add"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(Qi,s)}});var th=Lc({floorDiv_:function(e,t){var n=Rc(e,"a","floorDiv"),r=Rc(t,"b","floorDiv"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(as,s)}});var nh=Lc({div_:function(e,t){var n,r,a=Rc(e,"a","div"),i=Rc(t,"b","div");if(n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],"int32"===a.dtype&&"int32"===i.dtype)return th(a,i);var s={a:a,b:i};return kc.runKernel(Uo,s,{})}});var rh=Lc({mul_:function(e,t){var n=Rc(e,"a","mul"),r=Rc(t,"b","mul"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(Vs,s)}});var ah=Lc({abs_:function(e){var t=Rc(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return kc.runKernel(ko,n)}var r={x:t};return kc.runKernel(qi,r)}});var ih=Lc({acos_:function(e){var t={x:Rc(e,"x","acos")};return kc.runKernel(Ki,t)}});var oh=Lc({acosh_:function(e){var t={x:Rc(e,"x","acosh")};return kc.runKernel(Ji,t)}});var sh=Lc({addN_:function(e){ei(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),ei(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got ".concat(e.length)}));var t=e.map((function(e,t){return Rc(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!oi(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return kc.runKernel($i,r)}});var uh=Lc({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Rc(e,"x","all","bool")},a={axis:t,keepDims:n};return kc.runKernel(eo,r,a)}});var lh=Lc({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Rc(e,"x","any","bool")},a={axis:t,keepDims:n};return kc.runKernel(to,r,a)}});var ch=Lc({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Rc(e,"x","argMax")},r={axis:t};return kc.runKernel(no,n,r)}});var dh=Lc({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Rc(e,"x","argMin")},r={axis:t};return kc.runKernel(ro,n,r)}});var fh=Lc({asin_:function(e){var t={x:Rc(e,"x","asin")};return kc.runKernel(ao,t)}});var ph=Lc({asinh_:function(e){var t={x:Rc(e,"x","asinh")};return kc.runKernel(io,t)}});var hh=Lc({atan_:function(e){var t={x:Rc(e,"x","atan")};return kc.runKernel(oo,t)}});var mh=Lc({atan2_:function(e,t){var n=Rc(e,"a","atan2"),r=Rc(t,"b","atan2"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(uo,s)}});var gh=Lc({atanh_:function(e){var t={x:Rc(e,"x","atanh")};return kc.runKernel(so,t)}});function vh(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0,o=e[3],s=[].concat((0,qr.Z)(t),[o]),u=Ph(a);return xh(e,s,n,i,r,null,null,u)}function yh(e,t,n,r,a,i){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=kh(t),c=(0,o.Z)(l,2),d=c[0],f=c[1];if("channelsLast"===u)s=[d,f,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[d,f,e[1],e[1]]}return xh(e,s,n,r,a,i,!1,u)}function bh(e,t,n,r,a,i){var s,u,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",c=Sh(t),d=(0,o.Z)(c,3),f=d[0],p=d[1],h=d[2];if("NDHWC"===l)u="channelsLast",s=[f,p,h,e[4],e[4]];else{if("NCDHW"!==l)throw new Error("Unknown dataFormat ".concat(l));u="channelsFirst",s=[f,p,h,e[1],e[1]]}return Ah(e,s,n,r,a,!1,u,i)}function xh(e,t,n,r,a,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",l=-1,c=-1,d=-1,f=-1;if("channelsLast"===u){var p=(0,o.Z)(e,4);l=p[0],c=p[1],d=p[2],f=p[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var h=(0,o.Z)(e,4);l=h[0],f=h[1],c=h[2],d=h[3]}var m,g=(0,o.Z)(t,4),v=g[0],y=g[1],b=g[3],x=kh(n),A=(0,o.Z)(x,2),w=A[0],k=A[1],S=kh(r),C=(0,o.Z)(S,2),I=C[0],E=C[1],T=Ch(v,I),N=Ch(y,E),O=Ih(a,c,d,w,k,T,N,i,u),P=O.padInfo,_=O.outHeight,M=O.outWidth,R=s?b*f:b;return"channelsFirst"===u?m=[l,R,_,M]:"channelsLast"===u&&(m=[l,_,M,R]),{batchSize:l,dataFormat:u,inHeight:c,inWidth:d,inChannels:f,outHeight:_,outWidth:M,outChannels:R,padInfo:P,strideHeight:w,strideWidth:k,filterHeight:v,filterWidth:y,effectiveFilterHeight:T,effectiveFilterWidth:N,dilationHeight:I,dilationWidth:E,inShape:e,outShape:m,filterShape:t}}function Ah(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,l=-1,c=-1,d=-1,f=-1,p=-1;if("channelsLast"===s){var h=(0,o.Z)(e,5);l=h[0],c=h[1],d=h[2],f=h[3],p=h[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var m=(0,o.Z)(e,5);l=m[0],p=m[1],c=m[2],d=m[3],f=m[4]}var g,v=(0,o.Z)(t,5),y=v[0],b=v[1],x=v[2],A=v[4],w=Sh(n),k=(0,o.Z)(w,3),S=k[0],C=k[1],I=k[2],E=Sh(r),T=(0,o.Z)(E,3),N=T[0],O=T[1],P=T[2],_=Ch(y,N),M=Ch(b,O),R=Ch(x,P),F=Eh(a,c,d,f,S,C,I,_,M,R,u),D=F.padInfo,L=F.outDepth,z=F.outHeight,Z=F.outWidth,W=i?A*p:A;return"channelsFirst"===s?g=[l,W,L,z,Z]:"channelsLast"===s&&(g=[l,L,z,Z,W]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:d,inWidth:f,inChannels:p,outDepth:L,outHeight:z,outWidth:Z,outChannels:W,padInfo:D,strideDepth:S,strideHeight:C,strideWidth:I,filterDepth:y,filterHeight:b,filterWidth:x,effectiveFilterDepth:_,effectiveFilterHeight:M,effectiveFilterWidth:R,dilationDepth:N,dilationHeight:O,dilationWidth:P,inShape:e,outShape:g,filterShape:t}}function wh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Ch(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function kh(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Sh(e){return"number"==typeof e?[e,e,e]:e}function Ch(e,t){return t<=1?e:e+(e-1)*(t-1)}function Ih(e,t,n,r,a,i,o,s,u){var l,c,d;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,a){null==r&&(r=wh(e,t,n));var i=e[0],o=e[1];return[Th((i-t+2*r)/n+1,a),Th((o-t+2*r)/n+1,a)]}([t,n],i,r,e,s);c=f[0],d=f[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);var p=Math.max(0,(c-1)*r+i-t),h=Math.max(0,(d-1)*a+o-n),m=Math.floor(p/2),g=p-m,v=Math.floor(h/2);l={top:m,bottom:g,left:v,right:h-v,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!=typeof e)throw Error("Unknown padding parameter: ".concat(e));var y="channelsLast"===u?e[1][0]:e[2][0],b="channelsLast"===u?e[1][1]:e[2][1],x="channelsLast"===u?e[2][0]:e[3][0],A="channelsLast"===u?e[2][1]:e[3][1];l={top:y,bottom:b,left:x,right:A,type:0===y&&0===b&&0===x&&0===A?"VALID":"EXPLICIT"},c=Th((t-i+y+b)/r+1,s),d=Th((n-o+x+A)/a+1,s)}return{padInfo:l,outHeight:c,outWidth:d}}function Eh(e,t,n,r,a,i,o,s,u,l,c){var d,f,p,h;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,i){null==a&&(a=wh(e,t,r));var o=e[0],s=e[1],u=e[2];return[Th((o-t+2*a)/r+1,i),Th((s-t+2*a)/r+1,i),Th((u-t+2*a)/r+1,i),n]}([t,n,r,1],s,1,a,e,c);f=m[0],p=m[1],h=m[2]}else if("same"===e){var g=((f=Math.ceil(t/a))-1)*a+s-t,v=((p=Math.ceil(n/i))-1)*i+u-n,y=((h=Math.ceil(r/o))-1)*o+l-r,b=Math.floor(g/2),x=g-b,A=Math.floor(v/2),w=v-A,k=Math.floor(y/2);d={top:A,bottom:w,left:k,right:y-k,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((t-s+1)/a),p=Math.ceil((n-u+1)/i),h=Math.ceil((r-l+1)/o)}return{padInfo:d,outDepth:f,outHeight:p,outWidth:h}}function Th(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function Nh(e){var t=kh(e),n=(0,o.Z)(t,3),r=n[0],a=n[1],i=n[2];return 1===r&&1===a&&1===i}function Oh(e,t){return Nh(e)||Nh(t)}function Ph(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function _h(e,t,n){if(null!=n){if("string"==typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using dimRoundingMode ").concat(n," but got pad ").concat(t,"."));if("number"==typeof t)ei(si(t),(function(){return"Error in ".concat(e,": pad must be an integer when using dimRoundingMode ").concat(n," but got pad ").concat(t,".")}));else{if("object"!=typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){ei(si(t),(function(){return"Error in ".concat(e,": pad must be an integer when using dimRoundingMode ").concat(n," but got pad ").concat(t,".")}))}))}))}}}var Mh=Lc({reshape_:function(e,t){var n={x:Rc(e,"x","reshape","string_or_numeric")},r={shape:t};return kc.runKernel(su,n,r)}});var Rh=Lc({avgPool_:function(e,t,n,r,a){var i=Rc(e,"x","avgPool","float32");ei(Oh(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides ".concat(n," and dilations '").concat(1,"'")}));var o=i,s=!1;3===i.rank&&(s=!0,o=Mh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ei(4===o.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(o.rank,".")})),_h("avgPool",r,a);var u={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=kc.runKernel(lo,u,l);return c=qd(c,i.dtype),s?Mh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Fh=Lc({avgPool3d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Rc(e,"x","avgPool3d","float32"),s=o,u=!1;4===o.rank&&(u=!0,s=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ei(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),ei("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ".concat(i)})),_h("avgPool3d",r,a);var l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},d=kc.runKernel(fo,l,c);return d=qd(d,s.dtype),u?Mh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var Dh=Lc({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ei(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Fc(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Kd(n[0]);var r=n,a={axis:t};return kc.runKernel(So,r,a)}});var Lh=Lc({sigmoid_:function(e){var t={x:Rc(e,"x","sigmoid","float32")};return kc.runKernel(Su,t)}});var zh=Lc({slice_:function(e,t,n){var r=Rc(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var a={x:r},i={begin:t,size:n};return kc.runKernel(xu,a,i)}});var Zh=Lc({tanh_:function(e){var t={x:Rc(e,"x","tanh","float32")};return kc.runKernel(Hu,t)}});var Wh=Lc({basicLSTMCell_:function(e,t,n,r,a,i){var o=Rc(e,"forgetBias","basicLSTMCell"),s=Rc(t,"lstmKernel","basicLSTMCell"),u=Rc(n,"lstmBias","basicLSTMCell"),l=Rc(r,"data","basicLSTMCell"),c=Rc(a,"c","basicLSTMCell"),d=Rc(i,"h","basicLSTMCell"),f=Dh([l,d],1),p=Cf(f,s),h=eh(p,u),m=h.shape[0],g=h.shape[1]/4,v=[m,g],y=zh(h,[0,0],v),b=zh(h,[0,g],v),x=zh(h,[0,2*g],v),A=zh(h,[0,3*g],v),w=eh(rh(Lh(y),Zh(b)),rh(c,Lh(eh(o,x))));return[w,rh(Zh(w),Lh(A))]}});var Bh=Lc({batchToSpaceND_:function(e,t,n){var r=Rc(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));ei(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),ei(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),ei(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of the elements of blockShape ").concat(t.join(" * ")," === ").concat(a)}));var i={x:r},o={blockShape:t,crops:n};return kc.runKernel(mo,i,o)}});function jh(e){return 0===e.rank||1===e.rank?Mh(e,[1,1,1,e.size]):2===e.rank?Mh(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Mh(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}var Vh=Lc({batchNorm_:function(e,t,n,r,a,i){null==i&&(i=.001);var o,s,u=Rc(e,"x","batchNorm"),l=Rc(t,"mean","batchNorm"),c=Rc(n,"variance","batchNorm");null!=a&&(o=Rc(a,"scale","batchNorm")),null!=r&&(s=Rc(r,"offset","batchNorm")),ei(l.rank===c.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ei(null==s||l.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ei(null==o||l.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var d={x:jh(u),scale:o,offset:s,mean:l,variance:c},f={varianceEpsilon:i},p=kc.runKernel(is,d,f);return Mh(p,u.shape)}});var Hh=Lc({batchNorm2d_:function(e,t,n,r,a,i){var o,s,u=Rc(e,"x","batchNorm"),l=Rc(t,"mean","batchNorm"),c=Rc(n,"variance","batchNorm");return null!=a&&(o=Rc(a,"scale","batchNorm")),null!=r&&(s=Rc(r,"offset","batchNorm")),ei(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank ".concat(u.rank,".")})),ei(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ".concat(l.rank,".")})),ei(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ".concat(c.rank,".")})),null!=o&&ei(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ".concat(o.rank,".")})),null!=s&&ei(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ".concat(s.rank,".")})),Vh(u,l,c,s,o,i)}});var Uh=Lc({batchNorm3d_:function(e,t,n,r,a,i){var o,s,u=Rc(e,"x","batchNorm"),l=Rc(t,"mean","batchNorm"),c=Rc(n,"variance","batchNorm");return null!=a&&(o=Rc(a,"scale","batchNorm")),null!=r&&(s=Rc(r,"offset","batchNorm")),ei(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank ".concat(u.rank,".")})),ei(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ".concat(l.rank,".")})),ei(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ".concat(c.rank,".")})),null!=o&&ei(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ".concat(o.rank,".")})),null!=s&&ei(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ".concat(s.rank,".")})),Vh(u,l,c,s,o,i)}});var Gh=Lc({batchNorm4d_:function(e,t,n,r,a,i){var o,s,u=Rc(e,"x","batchNorm"),l=Rc(t,"mean","batchNorm"),c=Rc(n,"variance","batchNorm");return null!=a&&(o=Rc(a,"scale","batchNorm")),null!=r&&(s=Rc(r,"offset","batchNorm")),ei(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank ".concat(u.rank,".")})),ei(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ".concat(l.rank,".")})),ei(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ".concat(c.rank,".")})),null!=o&&ei(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ".concat(o.rank,".")})),null!=s&&ei(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ".concat(s.rank,".")})),Vh(u,l,c,s,o,i)}});var Xh=Lc({bincount_:function(e,t,n){var r=Rc(e,"x","bincount"),a=Rc(t,"weights","bincount");ei("int32"===r.dtype,(function(){return"Error in bincount: input dtype must be int32, but got ".concat(r.dtype)})),ei(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),ei(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or0-length, but got input shape: ".concat(r.shape,", weights shape: ").concat(a.shape,".")}));var i={x:r,weights:a},o={size:n};return kc.runKernel(go,i,o)}});var Yh=Lc({broadcastArgs_:function(e,t){var n=Rc(e,"s0","broadcastArgs","int32"),r=Rc(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). Has rank ".concat(r.rank));var a={s0:n,s1:r};return kc.runKernel(yo,a)}});var qh=Lc({broadcastTo_:function(e,t){var n=Rc(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=Mh(n,a)}for(var i=n.shape,o=Array.from(t),s=t.length-1;s>=0;s--)if(i[s]===t[s])o[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));if(0===o.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return Kd(n);var u={x:n},l={reps:o};return kc.runKernel(Uu,u,l)}});var Kh=Lc({ceil_:function(e){var t={x:Rc(e,"x","ceil","float32")};return kc.runKernel(xo,t)}});var Jh=Lc({clipByValue_:function(e,t,n){var r=Rc(e,"x","clipByValue");ei(t<=n,(function(){return"Error in clip: min (".concat(t,") must be less than or equal to max (").concat(n,").")}));var a={x:r},i={clipValueMin:t,clipValueMax:n};return kc.runKernel(Ao,a,i)}});var Qh=Lc({concat1d_:function(e){return Dh(e,0)}});var $h=Lc({concat2d_:function(e,t){return Dh(e,t)}});var em=Lc({concat3d_:function(e,t){return Dh(e,t)}});var tm=Lc({concat4d_:function(e,t){return Dh(e,t)}});var nm=Lc({conv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=Rc(e,"x","conv2d","float32"),u=Rc(t,"filter","conv2d","float32"),l=s,c=!1;3===s.rank&&(c=!0,l=Mh(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ei(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(l.rank,".")})),ei(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank ".concat(u.rank,".")})),_h("conv2d",r,o);var d="NHWC"===a?l.shape[3]:l.shape[1];ei(d===u.shape[2],(function(){return"Error in conv2d: depth of input (".concat(d,") must match input depth for filter ").concat(u.shape[2],".")})),ei(Oh(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides ".concat(n," and dilations '").concat(i,"'")}));var f={x:l,filter:u},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},h=kc.runKernel(Co,f,p);return c?Mh(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var rm=Lc({conv1d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0,s=Rc(e,"x","conv1d"),u=Rc(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=Mh(s,[1,s.shape[0],s.shape[1]])),ei(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,".")})),ei(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank ".concat(u.rank,".")})),_h("conv1d",r,o),ei(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input (".concat(l.shape[2],") must match input depth for filter ").concat(u.shape[1],".")})),ei(Oh(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride ".concat(n," and dilation '").concat(i,"'")})),ei("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var d=Mh(u,[1,u.shape[0],u.shape[1],u.shape[2]]),f=Mh(l,[l.shape[0],1,l.shape[1],l.shape[2]]),p=nm(f,d,[1,n],r,"NHWC",[1,i],o);return Mh(p,c?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});var am=Lc({conv2DBackpropInput_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;ei(e.length===t.rank,(function(){return"Length of inShape (".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),ei(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length ".concat(s.length,".")})),ei(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank ".concat(u.rank)})),ei(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank ".concat(n.rank)}));var c="NHWC"===i?s[3]:s[1],d="NHWC"===i?u.shape[3]:u.shape[1];ei(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(c,") must match input depth for filter ").concat(n.shape[2],".")})),ei(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(d,") must match output depth for filter ").concat(n.shape[3],".")})),_h("conv2dDerInput",a,o);var f={dy:u,filter:n},p={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,inputShape:s},h=kc.runKernel(Eo,f,p);return l?Mh(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var im=Lc({conv2dTranspose_:function(e,t,n,r,a,i){var o=Rc(e,"x","conv2dTranspose"),s=Rc(t,"filter","conv2dTranspose");return am(n,o,s,r,a,"NHWC",i)}});var om=Lc({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=Rc(e,"x","conv3d"),s=Rc(t,"filter","conv3d"),u=o,l=!1;4===o.rank&&(l=!0,u=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ei(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(u.rank,".")})),ei(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank ".concat(s.rank,".")})),ei(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(u.shape[4],") must match input depth for filter ").concat(s.shape[3],".")})),ei(Oh(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides ".concat(n," and dilations '").concat(i,"'")})),ei("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}));var c={x:u,filter:s},d={strides:n,pad:r,dataFormat:a,dilations:i},f=kc.runKernel(To,c,d);return l?Mh(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});var sm=Lc({conv3DBackpropInput_:function(e,t,n,r,a){ei(e.length===t.rank,(function(){return"Length of inShape (".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var i=e,o=t,s=!1;4===t.rank&&(s=!0,o=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],l=o.shape[4];ei(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length ".concat(i.length,".")})),ei(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank ".concat(o.rank)})),ei(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank ".concat(n.rank)})),ei(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must match input depth for filter ").concat(n.shape[3],".")})),ei(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(l,") must match output depth for filter ").concat(n.shape[4],".")}));var c={dy:o,filter:n},d={pad:a,strides:r,inputShape:i},f=kc.runKernel(Oo,c,d);return s?Mh(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});var um=Lc({conv3dTranspose_:function(e,t,n,r,a){var i=Rc(e,"x","conv3dTranspose"),o=Rc(t,"filter","conv3dTranspose");return sm(n,i,o,r,a)}});var lm=Lc({cos_:function(e){var t={x:Rc(e,"x","cos","float32")};return kc.runKernel(Po,t)}});var cm=Lc({cosh_:function(e){var t={x:Rc(e,"x","cosh","float32")};return kc.runKernel(_o,t)}});var dm=Lc({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:Rc(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return kc.runKernel(Mo,a,i)}});var fm=Lc({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:Rc(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return kc.runKernel(Ro,a,i)}});var pm=Lc({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Rc(e,"x","denseBincount"),i=Rc(t,"weights","denseBincount");ei("int32"===a.dtype,(function(){return"Error in denseBincount: input dtype must be int32, but got ".concat(a.dtype)})),ei(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got rank ".concat(a.rank,".")})),ei(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),ei(i.size===a.size||0===i.size,(function(){return"Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ".concat(a.shape,", weights shape: ").concat(i.shape,".")}));var o={x:a,weights:i},s={size:n,binaryOutput:r};return kc.runKernel(Do,o,s)}});var hm=Lc({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=Rc(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];ei(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),ei(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),ei(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),ei(o%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(o," for depthToSpace with input shape ").concat(r.shape)}));var s={x:r},u={blockSize:t,dataFormat:n};return kc.runKernel(Lo,s,u)}});var mm=Lc({depthwiseConv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=Rc(e,"x","depthwiseConv2d","float32"),u=Rc(t,"filter","depthwiseConv2d","float32"),l=s,c=!1;3===s.rank&&(c=!0,l=Mh(s,[1,s.shape[0],s.shape[1],s.shape[2]])),ei(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank ".concat(l.rank,".")})),ei(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank ".concat(u.rank,".")})),ei(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels (".concat(l.shape[3],") must match the inChannels dimension in filter ").concat(u.shape[2],".")})),_h("depthwiseConv2d",r,o);var d={x:l,filter:u},f={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=kc.runKernel(zo,d,f);return c?Mh(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var gm=Lc({diag_:function(e){var t={x:Rc(e,"x","diag")};return kc.runKernel(Bo,t)}});var vm=Lc({dilation2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=Rc(e,"x","dilation2d"),s=Rc(t,"filter","dilation2d");ei(3===o.rank||4===o.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank ".concat(o.rank,".")})),ei(3===s.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank ".concat(s.rank,".")})),ei("NHWC"===i,(function(){return"Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ".concat(i)}));var u=o,l=!1;3===o.rank&&(u=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=!0);var c={x:u,filter:s},d={strides:n,pad:r,dilations:a},f=kc.runKernel(jo,c,d);return l?Mh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var ym=Lc({equal_:function(e,t){var n,r,a=Rc(e,"a","equal","string_or_numeric"),i=Rc(t,"b","equal","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(Ko,s)}});var bm=Lc({where_:function(e,t,n){var r=Rc(t,"a","where"),a=Rc(n,"b","where"),i=Rc(e,"condition","where","bool"),o=np(np(i.shape,r.shape),a.shape),s={condition:qh(i,o),t:qh(r,o),e:qh(a,o)};return kc.runKernel(yu,s)}});var xm=Lc({zerosLike_:function(e){var t={x:Rc(e,"x","zerosLike")};return kc.runKernel($u,t)}});var Am=Lc({divNoNan_:function(e,t){var n=Rc(e,"a","div"),r=Rc(t,"b","div"),a=fc(n,r),i=(0,o.Z)(a,2);n=i[0],r=i[1];var s=nh(n,r),u=xm(s),l=ym(r,u);return bm(l,u,s)}});var wm=Lc({dot_:function(e,t){var n=Rc(e,"t1","dot"),r=Rc(t,"t2","dot");ei((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks ".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(ei(a===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got ".concat(a," and ").concat(i,".")})),1===n.rank&&1===r.rank){var o=Mh(n,[1,-1]),s=Mh(r,[-1,1]),u=Cf(o,s);return Mh(u,[])}if(1===n.rank&&2===r.rank){var l=Mh(n,[1,-1]),c=Mh(r,[r.shape[0],r.shape[1]]),d=Cf(l,c);return Mh(d,[d.size])}if(2===n.rank&&1===r.rank){var f=Mh(r,[-1,1]),p=Cf(n,f);return Mh(p,[p.size])}var h=Mh(r,[r.shape[0],r.shape[1]]);return Cf(n,h)}});var km=Lc({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return Rc(e,"tensors".concat(t),"einsum")})),i={equation:e};return kc.runKernel(Go,a,i)}});var Sm=Lc({elu_:function(e){var t={x:Rc(e,"x","elu","float32")};return kc.runKernel(Xo,t)}});var Cm=Lc({erf_:function(e){var t=Rc(e,"x","erf");ei("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=qd(t,"float32"));var n={x:t};return kc.runKernel(qo,n)}});function Im(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function Em(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);return a}function Tm(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var i=t.map((function(t){return e[t]}));return[n,i]}function Nm(e,t){return Em(e,t.map((function(e){return 1})),t)}function Om(e,t,n){ei(Im(t,n),(function(){return"".concat(e," supports only inner-most axes for now. Got axes ").concat(t," and rank-").concat(n," input.")}))}function Pm(e,t){if(Im(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function _m(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function Mm(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}var Rm=Lc({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Rc(e,"x","max")},a={reductionIndices:t,keepDims:n};return kc.runKernel(Os,r,a)}});var Fm=Lc({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Rc(e,"x","min")},a={axis:t,keepDims:n};return kc.runKernel(zs,r,a)}});var Dm=Lc({pow_:function(e,t){var n=Rc(e,"base","pow"),r=Rc(t,"exp","pow"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(eu,s)}});function Lm(e,t){if((Ai(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Ai(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Zc(e,[],[],t)}var zm=Lc({sqrt_:function(e){var t={x:Rc(e,"x","sqrt","float32")};return kc.runKernel(Iu,t)}});var Zm=Lc({square_:function(e){var t=Rc(e,"x","square");return kc.runKernel("Square",{x:t},{})}});var Wm=Lc({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Rc(e,"x","sum");"bool"===r.dtype&&(r=qd(r,"int32"));var a={x:r},i={axis:t,keepDims:n};return kc.runKernel(Eu,a,i)}});function Bm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return ah(e);if(1!==e.rank&&null===n)return Bm(Mh(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Wm(ah(e),n);if(t===1/0)return Rm(ah(e),n);if(t===-1/0)return Fm(ah(e),n);if("euclidean"===t||2===t)return zm(Wm(Dm(ah(e),Lm(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return Rm(Wm(ah(e),n[0]),n[1]-1);if(t===1/0)return Rm(Wm(ah(e),n[1]),n[0]);if(t===-1/0)return Fm(Wm(ah(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return zm(Wm(Zm(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var jm=Lc({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Bm(e=Rc(e,"x","norm"),t,n),i=a.shape;if(r){var o=hi(n,e.shape);i=Nm(a.shape,o)}return Mh(a,i)}});var Vm=Lc({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return jm(e,"euclidean",t,n)}});var Hm=Lc({exp_:function(e){var t={x:Rc(e,"x","exp")};return kc.runKernel(Jo,t)}});var Um=Lc({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Rc(e,"x","expandDims","string_or_numeric");ei(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},a={dim:t};return kc.runKernel(Qo,r,a)}});var Gm=Lc({expm1_:function(e){var t={x:Rc(e,"x","expm1")};return kc.runKernel($o,t)}});var Xm=Lc({tile_:function(e,t){var n=Rc(e,"x","tile","string_or_numeric");ei(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," must match length of reps ").concat(t,".")}));var r={x:n},a={reps:t};return kc.runKernel(Uu,r,a)}});var Ym=Lc({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Yd([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=Mh(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return Xm(Um(s,0),[n[0],1,1]);if(2===n.length)return Xm(Um(Um(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Xm(Um(Um(Um(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received ".concat(n.length,"D."))}});function qm(e,t,n){var r={shape:e,value:t,dtype:n};return kc.runKernel(ts,{},r)}var Km=Lc({floor_:function(e){var t={x:Rc(e,"x","floor","float32")};return kc.runKernel(rs,t)}});var Jm=Lc({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Rc(e,"x","gather"),i=Rc(t,"indices","gather","int32"),o={x:a,indices:i},s={axis:n,batchDims:r};return kc.runKernel(os,o,s)}});var Qm=Lc({greater_:function(e,t){var n,r,a=Rc(e,"a","greater","string_or_numeric"),i=Rc(t,"b","greater","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(us,s)}});var $m=Lc({greaterEqual_:function(e,t){var n,r,a=Rc(e,"a","greaterEqual","string_or_numeric"),i=Rc(t,"b","greaterEqual","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(ls,s)}});var eg=Lc({isFinite_:function(e){var t={x:Rc(e,"x","isFinite")};return kc.runKernel(ps,t)}});var tg=Lc({isInf_:function(e){var t={x:Rc(e,"x","isInf")};return kc.runKernel(hs,t)}});var ng=Lc({isNaN_:function(e){var t={x:Rc(e,"x","isNaN")};return kc.runKernel(ms,t)}});var rg=Lc({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:Rc(e,"x","leakyRelu")},r={alpha:t};return kc.runKernel(gs,n,r)}});var ag=Lc({less_:function(e,t){var n,r,a=Rc(e,"a","less","string_or_numeric"),i=Rc(t,"b","less","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(vs,s)}});var ig=Lc({lessEqual_:function(e,t){var n,r,a=Rc(e,"a","lessEqual","string_or_numeric"),i=Rc(t,"b","lessEqual","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(ys,s)}});function og(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return kc.runKernel(bs,{},r)}var sg=Lc({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,i=Rc(e,"x","localResponseNormalization");ei(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(i.rank,".")})),ei(si(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ".concat(t,".")}));var o=i,s=!1;3===i.rank&&(s=!0,o=Mh(i,[1,i.shape[0],i.shape[1],i.shape[2]]));var u={x:o},l={depthRadius:t,bias:n,alpha:r,beta:a},c=kc.runKernel(Ts,u,l);return s?Mh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var ug=Lc({log_:function(e){var t={x:Rc(e,"x","log","float32")};return kc.runKernel(xs,t)}});var lg=Lc({log1p_:function(e){var t={x:Rc(e,"x","log1p")};return kc.runKernel(As,t)}});function cg(e){return ei(Ti(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=Rc(t,"x","tf.grad","string_or_numeric"),a=null!=n?Rc(n,"dy","tf.grad"):null;return kc.tidy((function(){var t=kc.gradients((function(){return e(r)}),[r],a),n=t.value,i=t.grads;return null!=a&&ti(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),gg(i),i[0]}))}}function dg(e){return ei(Ti(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){ei(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var r=Fc(t,"args","tf.grads","string_or_numeric"),a=null!=n?Rc(n,"dy","tf.grads"):null;return kc.tidy((function(){var t=kc.gradients((function(){return e.apply(void 0,(0,qr.Z)(r))}),r,a),n=t.value,i=t.grads;return null!=a&&ti(n.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),gg(i),i}))}}function fg(e){return ei(Ti(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){ei(t instanceof tc,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),ei(null==n||n instanceof tc,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=kc.gradients((function(){return e(t)}),[t],n),a=r.grads,i=r.value;return gg(a),{grad:a[0],value:i}}}function pg(e){return ei(Ti(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){ei(Array.isArray(t)&&t.every((function(e){return e instanceof tc})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),ei(null==n||n instanceof tc,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var r=kc.gradients((function(){return e.apply(void 0,(0,qr.Z)(t))}),t,n);return null!=n&&ti(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),gg(r.grads),r}}function hg(e,t){ei(Ti(e),(function(){return"The f passed in variableGrads(f) must be a function"})),ei(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof nc})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],kc.registeredVariables)t.push(kc.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,i=t.length;t=t.filter((function(e){return e.trainable})),ei(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the ".concat(i," variables is trainable.")}));var o=kc.gradients(e,t,null,!0),s=o.value,u=o.grads;ei(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),ei(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-".concat(s.rank," tensor")}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=a&&a.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}function mg(e){return kc.customGrad(e)}function gg(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var vg=Lc({softplus_:function(e){var t={x:Rc(e,"x","softplus")};return kc.runKernel(Cu,t)}});var yg=Lc({logSigmoid_:function(e){var t=Rc(e,"x","logSigmoid");return mg((function(e){return{value:qf(vg(qf(e))),gradFunc:function(t){return rh(t,Lh(qf(e)))}}}))(t)}});var bg=Lc({sub_:function(e,t){var n=Rc(e,"a","sub"),r=Rc(t,"b","sub"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(ju,s)}});var xg=Lc({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Rc(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank ".concat(n.rank," and axis was ").concat(t));return mg((function(e,n){var r=Rm(e,t,!0),a=bg(e,r),i=bg(qd(a,"float32"),ug(Wm(Hm(a),t,!0)));return n([i]),{value:i,gradFunc:function(e,n){var r=(0,o.Z)(n,1)[0],a=Hm(r);return bg(e,rh(Wm(e,t,!0),a))}}}))(n)}});var Ag=Lc({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Rc(e,"x","logSumExp"),a=hi(t,r.shape),i=Rm(r,a,!0),o=bg(r,i),s=Hm(o),u=Wm(s,a),l=ug(u),c=eh(Mh(i,l.shape),l);if(n){var d=Nm(c.shape,a);return Mh(c,d)}return c}});var wg=Lc({logicalAnd_:function(e,t){var n=Rc(e,"a","logicalAnd","bool"),r=Rc(t,"b","logicalAnd","bool");np(n.shape,r.shape);var a={a:n,b:r};return kc.runKernel(ws,a)}});var kg=Lc({logicalNot_:function(e){var t={x:Rc(e,"x","logicalNot","bool")};return kc.runKernel(ks,t)}});var Sg=Lc({logicalOr_:function(e,t){var n=Rc(e,"a","logicalOr","bool"),r=Rc(t,"b","logicalOr","bool");np(n.shape,r.shape);var a={a:n,b:r};return kc.runKernel(Ss,a)}});var Cg=Lc({logicalXor_:function(e,t){var n=Rc(e,"a","logicalXor","bool"),r=Rc(t,"b","logicalXor","bool");return np(n.shape,r.shape),wg(Sg(e,t),kg(wg(e,t)))}}),Ig=2147483648;var Eg=Lc({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=Rc(e,"sortedSequence","searchSorted"),a=Rc(t,"values","searchSorted"),i=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],s=Mh(r,[-1,i]),u=Mh(a,[-1,o]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ai(u.shape)>=Ig)throw new Error("values tensor size must less than ".concat(Ig));if(s.shape[1]>=Ig)throw new Error("trailing dim_size must less than ".concat(Ig," for int32 output type, was ").concat(s.shape[1]));var l={sortedSequence:s,values:u},c={side:n};return kc.runKernel(vu,l,c)}});function Tg(e,t){return Eg(e,t,"left")}var Ng=Lc({maxPool_:function(e,t,n,r,a){var i=Rc(e,"x","maxPool"),o=i,s=!1;3===i.rank&&(s=!0,o=Mh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ei(4===o.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(o.rank,".")})),ei(Oh(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides ".concat(n," and dilations '").concat(1,"'")})),_h("maxPool",r,a);var u={x:o},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=kc.runKernel(_s,u,l);return s?Mh(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Og=Lc({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Rc(e,"x","maxPool3d"),s=o,u=!1;4===o.rank&&(u=!0,s=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ei(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),ei("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ".concat(i)})),_h("maxPool3d",r,a);var l={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},d=kc.runKernel(Rs,l,c);return u?Mh(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var Pg=Lc({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={x:Rc(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=kc.runKernel(Ds,i,o);return{result:s[0],indexes:s[1]}}});var _g=Lc({maximum_:function(e,t){var n,r,a=Rc(e,"a","maximum"),i=Rc(t,"b","maximum");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],"bool"===a.dtype&&(a=qd(a,"int32"),i=qd(i,"int32")),np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(Ps,s)}});var Mg=Lc({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:Rc(e,"x","mean")},a={axis:t,keepDims:n};return kc.runKernel(Ls,r,a)}});function Rg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=Rg(e,"float32"),r=Rg(e,"float32");return zc(n,r)}var a=Ri(ai(e),t);return kc.makeTensor(a,e,t)}function Fg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=Fg(e,"float32"),r=Rg(e,"float32");return zc(n,r)}var a=Mi(ai(e),t);return kc.makeTensor(a,e,t)}function Dg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,a=void 0===r?"xy":r;if("xy"!==a&&"ij"!==a)throw new TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var i=Rc(e,"x","meshgrid",e instanceof tc?e.dtype:"float32");if(void 0===t)return[i];var o=Rc(t,"y","meshgrid",t instanceof tc?t.dtype:"float32"),s=ai(i.shape),u=ai(o.shape);return"xy"===a?(i=Mh(i,[1,-1]),o=Mh(o,[-1,1]),[Cf(Fg([u,1],i.dtype),i),Cf(o,Fg([1,s],o.dtype))]):(i=Mh(i,[-1,1]),o=Mh(o,[1,-1]),[Cf(i,Fg([1,u],i.dtype)),Cf(Fg([s,1],o.dtype),o)])}var Lg=Lc({minimum_:function(e,t){var n,r,a=Rc(e,"a","minimum"),i=Rc(t,"b","minimum");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],"bool"===a.dtype&&(a=qd(a,"int32"),i=qd(i,"int32")),np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(Zs,s)}});var zg=Lc({mirrorPad_:function(e,t,n){ei("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. Got ".concat(n,".")}));var r=Rc(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ei(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". Got ").concat(t.length,".")}));for(var a="reflect"===n?1:0,i=function(e){ei(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),ei(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal to ").concat(r.shape[e]-a," or less than 0 for input of shape ").concat(r.shape)}))},o=0;o<r.rank;o++)i(o);var s={paddings:t,mode:n},u={x:r};return kc.runKernel(Ws,u,s)}});var Zg=Lc({mod_:function(e,t){var n=Rc(e,"a","mod"),r=Rc(t,"b","mod"),a=fc(n,r),i=(0,o.Z)(a,2),s={a:n=i[0],b:r=i[1]};return kc.runKernel(Bs,s)}});var Wg=Lc({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=hi(t,(e=Rc(e,"x","moments")).shape),a=Mg(e,r,n),i=a.shape;n||(i=Nm(a.shape,r));var o=Zm(bg(qd(e,"float32"),Mh(a,i))),s=Mg(o,r,n);return{mean:a,variance:s}}});var Bg=Lc({multiRNNCell_:function(e,t,n,r){for(var a=Rc(t,"data","multiRNNCell"),i=Fc(n,"c","multiRNNCell"),o=Fc(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var c=e[l](s,i[l],o[l]);u.push(c[0]),u.push(c[1]),s=c[1]}for(var d=[],f=[],p=0;p<u.length;p+=2)d.push(u[p]),f.push(u[p+1]);return[d,f]}});var jg=Lc({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Rc(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got ".concat(i,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();var s={logits:1===o?Mh(a,[1,-1]):a},u={numSamples:t,seed:n,normalized:r},l=kc.runKernel(js,s,u);return 1===o?Mh(l,[l.size]):l}});var Vg=Lc({notEqual_:function(e,t){var n,r,a=Rc(e,"a","notEqual","string_or_numeric"),i=Rc(t,"b","notEqual","string_or_numeric");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(Us,s)}});var Hg=Lc({onesLike_:function(e){var t={x:Rc(e,"x","onesLike")};return kc.runKernel(qs,t)}});var Ug=Lc({outerProduct_:function(e,t){var n=Rc(e,"v1","outerProduct"),r=Rc(t,"v2","outerProduct");ei(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks ".concat(n.rank," and ").concat(r.rank,".")}));var a=Mh(n,[-1,1]),i=Mh(r,[1,-1]);return Cf(a,i)}});var Gg=Lc({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Rc(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n},i={x:r};return kc.runKernel(Qs,i,a)}});var Xg=Lc({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ei(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Gg(e,[t],n)}});var Yg=Lc({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ei(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Gg(e,t,n)}});var qg=Lc({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ei(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Gg(e,t,n)}});var Kg=Lc({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ei(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Gg(e,t,n)}});var Jg=Lc({spaceToBatchND_:function(e,t,n){var r=Rc(e,"x","spaceToBatchND");ei(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),ei(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),ei(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var a={x:r},i={blockShape:t,paddings:n};return kc.runKernel(Tu,a,i)}});var Qg=Lc({pool_:function(e,t,n,r,a,i,s){null==a&&(a=[1,1]),null==i&&(i=1),0===r&&(r="valid");var u=Rc(e,"x","maxPool"),l=u,c=!1;3===u.rank&&(c=!0,l=Mh(u,[1,u.shape[0],u.shape[1],u.shape[2]])),ei(Oh(i,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides ".concat(i," and dilations '").concat(a,"'")}));var d,f=yh(l.shape,t,i,a,r),p=[f.dilationHeight,f.dilationWidth];d="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([f.filterHeight,f.filterWidth],p):[[0,0],[0,0]];var h=1===p[0]&&1===p[1],m=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),s=a.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),l=t.map((function(e,t){return[0,o[t]]}));return[u,l]}([f.inHeight,f.inWidth],p,d),g=(0,o.Z)(m,2),v=g[0],y=g[1],b=h?r:"valid",x=h?l:Jg(l,p,v),A=("avg"===n?function(){return Rh(x,t,i,b,s)}:function(){return Ng(x,t,i,b,s)})(),w=h?A:Bh(A,p,y);return c?Mh(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});var $g=Lc({prelu_:function(e,t){var n={x:Rc(e,"x","prelu"),alpha:Rc(t,"alpha","prelu")};return kc.runKernel(tu,n)}});var ev=Lc({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Rc(e,"x","prod");"bool"===r.dtype&&(r=qd(r,"int32"));var a={x:r},i={axis:t,keepDims:n};return kc.runKernel(nu,a,i)}});var tv=Lc({rand_:function(e,t,n){var r=ai(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return kc.makeTensor(a,e,n)}}),nv=wa(Ra()),rv=function(){function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=nv.alea(o.toString())}return(0,Gr.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),av=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=nv.alea(i.toString()),this.randn=new rv(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,Gr.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),iv=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if((0,Ur.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"==typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=nv.alea(i)}return(0,Gr.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var ov=Lc({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new av(t,n,r,a),o=Yd(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var sv=Lc({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new rv(t,n,r,!1,a),o=Yd(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var uv=Lc({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0,i=Yd(e,r),o=new iv(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});function lv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return kc.runKernel(ru,{},a)}var cv=Lc({reciprocal_:function(e){var t={x:Rc(e,"x","reciprocal")};return kc.runKernel(iu,t)}});var dv=Lc({relu_:function(e){var t={x:Rc(e,"x","relu")};return kc.runKernel(ou,t)}});var fv=Lc({relu6_:function(e){var t={x:Rc(e,"x","relu6")};return kc.runKernel(fu,t)}});var pv=Lc({reverse_:function(e,t){var n={x:Rc(e,"x","reverse")},r={dims:t};return kc.runKernel(pu,n,r)}});var hv=Lc({reverse1d_:function(e){var t=Rc(e,"x","reverse");return ei(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),pv(t,0)}});var mv=Lc({reverse2d_:function(e,t){var n=Rc(e,"x","reverse");return ei(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),pv(n,t)}});var gv=Lc({reverse3d_:function(e,t){var n=Rc(e,"x","reverse");return ei(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),pv(n,t)}});var vv=Lc({reverse4d_:function(e,t){var n=Rc(e,"x","reverse");return ei(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),pv(n,t)}});var yv=Lc({round_:function(e){var t={x:Rc(e,"x","round")};return kc.runKernel(hu,t)}});var bv=Lc({rsqrt_:function(e){var t={x:Rc(e,"x","rsqrt","float32")};return kc.runKernel(mu,t)}});var xv=Lc({selu_:function(e){var t={x:Rc(e,"x","selu")};return kc.runKernel(bu,t)}});var Av=Lc({separableConv2d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=Rc(e,"x","separableConv2d"),u=Rc(t,"depthwiseFilter","separableConv2d"),l=Rc(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=Mh(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ei(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank ".concat(c.rank,".")})),ei(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank ".concat(u.rank,".")})),ei(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank ".concat(u.rank,".")})),ei(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ".concat(l.shape[0],".")})),ei(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ".concat(l.shape[1],".")}));var f=u.shape[2],p=u.shape[3];ei(l.shape[2]===f*p,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be ".concat(f*p,", but got ").concat(l.shape[2],".")}));var h=mm(c,u,r,a,o,i),m=nm(h,l,1,"valid",o);return d?Mh(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});function wv(){return wv=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rc(t,"x","setdiff1d"),a=Rc(n,"y","setdiff1d"),ei(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),ei(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),ei(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=4,r.data();case 4:return i=e.sent,e.next=7,a.data();case 7:for(o=e.sent,s=new Set(o),u=0,l=0;l<i.length;l++)s.has(i[l])||u++;for(c=new Ql([u],r.dtype),d=new Ql([u],"int32"),f=0,p=0;f<i.length;f++)s.has(i[f])||(c.values[p]=i[f],d.values[p]=f,p++);return e.abrupt("return",[c.toTensor(),d.toTensor()]);case 14:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}var kv=function(e,t){return wv.apply(this,arguments)};var Sv=Lc({sign_:function(e){var t={x:Rc(e,"x","sign")};return kc.runKernel(ku,t)}});var Cv=Lc({sin_:function(e){var t={x:Rc(e,"x","sin","float32")};return kc.runKernel(Au,t)}});var Iv=Lc({sinh_:function(e){var t={x:Rc(e,"x","sinh")};return kc.runKernel(wu,t)}});var Ev=Lc({slice1d_:function(e,t,n){var r=Rc(e,"x","slice1d");return ei(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),zh(r,[t],[n])}});var Tv=Lc({slice2d_:function(e,t,n){var r=Rc(e,"x","slice2d");return ei(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),zh(r,t,n)}});var Nv=Lc({slice3d_:function(e,t,n){var r=Rc(e,"x","slice3d");return ei(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),zh(r,t,n)}});var Ov=Lc({slice4d_:function(e,t,n){var r=Rc(e,"x","slice4d");return ei(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),zh(r,t,n)}});var Pv=Lc({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Rc(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},a={dim:t};return kc.runKernel(Ou,r,a)}});var _v=Lc({fft_:function(e){ei("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got ".concat(e.dtype,".")}));var t={input:e};return kc.runKernel(es,t)}});var Mv=Lc({ifft_:function(e){ei("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got ".concat(e.dtype,".")}));var t={input:e};return kc.runKernel(ds,t)}});var Rv=Lc({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var a=Mh(e,[r,n]);t=Mv(a)}else{var i=[r,2*(n-1)],o=Mh(Kf(e),[r,n]),s=Mh(Yf(e),[r,n]),u=pv(zh(o,[0,1],[r,n-2]),1),l=rh(pv(zh(s,[0,1],[r,n-2]),1),Lm(-1)),c=Dh([o,u],1),d=Dh([s,l],1),f=Mh(zc(c,d),[i[0],i[1]]);t=Mv(f)}if(t=Kf(t),3===e.rank&&0!==e.shape[0]){var p=t,h=e.shape[0];t=Mh(t,[h,t.shape[0]/h,t.shape[1]]),p.dispose()}return t}});var Fv=Lc({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={x:Rc(e,"x","split")},a={numOrSizeSplits:t,axis:n};return kc.runKernel(Nu,r,a)}});var Dv=Lc({rfft_:function(e,t){ei("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=zh(e,i,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=Dh([e,Rg(s)],e.shape.length-1),r=t}else n=e;var u=xm(n),l=Mh(zc(n,u),[a,r]),c=_v(l),d=Math.floor(r/2)+1,f=Kf(c),p=Yf(c),h=Fv(f,[d,r-d],f.shape.length-1),m=Fv(p,[d,r-d],p.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=d,Mh(zc(h[0],m[0]),g)}});var Lv=Lc({squaredDifference_:function(e,t){var n,r,a=Rc(e,"a","squaredDifference"),i=Rc(t,"b","squaredDifference");n=fc(a,i),a=(r=(0,o.Z)(n,2))[0],i=r[1],np(a.shape,i.shape);var s={a:a,b:i};return kc.runKernel(Du,s,{})}});var zv=Lc({squeeze_:function(e,t){var n=Rc(e,"x","squeeze");return Mh(n,mi(n.shape,t).newShape)}});var Zv=Lc({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Fc(e,"tensors","stack","string_or_numeric");ei(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&ei(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,a={axis:t};return kc.runKernel(Js,r,a)}});var Wv=Lc({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Rc(e,"x","step")},r={alpha:t};return kc.runKernel(el,n,r)}});var Bv=Lc({stridedSlice_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l={x:Rc(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u};return kc.runKernel(zu,l,c)}});var jv=Lc({tan_:function(e){var t={x:Rc(e,"x","tan","float32")};return kc.runKernel(Vu,t)}});function Vv(e,t){ni(e);var n=Pc(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Zc(e,null,n,t)}function Hv(e,t,n){if(ni(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Pc(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Zc(e,t,r,n)}function Uv(e,t,n){if(ni(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Pc(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Zc(e,t,r,n)}function Gv(e,t,n){if(ni(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Pc(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Zc(e,t,r,n)}function Xv(e,t,n){if(ni(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Pc(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Zc(e,t=t||r,r,n)}var Yv=Lc({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Rc(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") but got ").concat(t));var i={x:r},s={k:t,sorted:n},u=kc.runKernel(Gu,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1];return{values:c,indices:d}}});var qv=Lc({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new rv(t,n,r,!0,a),o=Yd(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Kv=Lc({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Rc(e,"x","unique","string_or_numeric");ei(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},a={axis:t},i=kc.runKernel(qu,r,a),s=(0,o.Z)(i,2),u=s[0],l=s[1];return{values:u,indices:l}}});var Jv=Lc({unsortedSegmentSum_:function(e,t,n){var r=Rc(e,"x","unsortedSegmentSum"),a=Rc(t,"segmentIds","unsortedSegmentSum","int32");ei(si(n),(function(){return"numSegments must be of dtype int"}));var i={x:r,segmentIds:a},o={numSegments:n};return kc.runKernel(Ju,i,o)}});var Qv=Lc({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Rc(e,"x","unstack","string_or_numeric");ei(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},a={axis:t};return kc.runKernel(Ku,r,a)}});function $v(e,t){return Eg(e,t,"right")}function ey(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return kc.makeVariable(e,t,n,r)}function ty(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=Yd(e,"int32"),i=Yd([n.length,e.length],"int32"),o=0;o<n.length;o++){var s=a.indexToLoc(n[o]),u=o*e.length;i.values.set(s,u)}return i.toTensor()}function ny(){return ny=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rc(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=ty(n.shape,r),e.abrupt("return",(t!==n&&n.dispose(),a));case 6:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}var ry=function(e){return ny.apply(this,arguments)};function ay(){return ay=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Rc(t,"tensor","boolMask"),i=Rc(n,"mask","boolMask","bool"),o=null==r?0:r,s=i.rank,u=a.shape,ei(s>0,(function(){return"mask cannot be scalar"})),ti(u.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,c=o;c<o+s;c++)l*=u[c];return d=u.slice(0,o).concat([l],u.slice(o+s)),f=Mh(a,d),p=Mh(i,[-1]),e.next=9,ry(p);case 9:return h=e.sent,m=zv(h,[1]),g=Jm(f,m,o),e.abrupt("return",(t!==a&&a.dispose(),n!==i&&i.dispose(),m.dispose(),f.dispose(),p.dispose(),h.dispose(),g));case 13:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}var iy=function(e,t,n){return ay.apply(this,arguments)};var oy=Lc({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Rc(e,"v","movingAverage"),o=Rc(t,"x","movingAverage"),s=Rc(n,"decay","movingAverage");pc(i,o),ei(oi(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var u=Lm(1),l=bg(u,s),c=rh(bg(o,i),l);if(a){ei(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=Rc(r,"step","movingAverage");c=nh(c,bg(u,Dm(s,d)))}return eh(i,c)}});var sy=Lc({scatterND_:function(e,t,n){var r=Rc(e,"indices","scatterND","int32"),a=Rc(t,"updates","scatterND");vp(a,r,n);var i={indices:r,updates:a},o={shape:n};return kc.runKernel(gu,i,o)}});function uy(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape ".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var ly=Lc({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Rc(e,"sparseIndices","sparseToDense","int32"),i=Rc(t,"sparseValues","sparseToDense","string_or_numeric"),o=Rc(r,"defaultValue","sparseToDense",i.dtype);uy(a,i,n,o);var s={sparseIndices:a,sparseValues:i,defaultValue:o},u={outputShape:n};return kc.runKernel(Fu,s,u)}});var cy=Lc({gatherND_:function(e,t){var n=Rc(t,"indices","gatherND","int32"),r={params:Rc(e,"x","gatherND","string_or_numeric"),indices:n};return kc.runKernel(ss,r)}});var dy=Lc({dropout_:function(e,t,n,r){var a=Rc(e,"x","dropout");if(ei("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a ".concat(a.dtype," tensor instead.")})),ei(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof tc?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(oi(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,s=nh(Km(eh(uv(i,0,1,"float32",r),o)),o);return rh(a,s)}});function fy(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function py(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return Vv(a,"float32")}function hy(){return hy=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p,h,m,g,v,y=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,a=Rc(t,"predictions","inTopK"),i=Rc(n,"targets","inTopK"),ei(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got ".concat(a.rank)})),ei(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank ".concat(a.rank," and targets rank ").concat(i.rank)})),ti(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],ei(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension (".concat(o,"), but got ").concat(r)})),e.next=7,a.data();case 7:return s=e.sent,e.next=10,i.data();case 10:u=e.sent,l=s.length/o,c=o,d=gi("bool",l),f=0;case 15:if(!(f<l)){e.next=30;break}for(p=f*c,h=s.subarray(p,p+c),m=[],g=0;g<h.length;g++)m.push({value:h[g],index:g});m.sort((function(e,t){return t.value-e.value})),d[f]=0,v=0;case 20:if(!(v<r)){e.next=27;break}if(m[v].index!==u[f]){e.next=24;break}return d[f]=1,e.abrupt("break",27);case 24:v++,e.next=20;break;case 27:f++,e.next=15;break;case 30:return e.abrupt("return",(t!==a&&a.dispose(),n!==i&&i.dispose(),Wc(d,i.shape,"bool")));case 31:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}var my=function(e,t){return hy.apply(this,arguments)},gy={};Aa(gy,{conv2d:function(){return wy},depthwiseConv2d:function(){return Cy},matMul:function(){return Iy}});var vy=Lc({conv2DBackpropFilter_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=Mh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2]])),ei(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape ".concat(s.shape,".")})),ei(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape ".concat(u.shape,".")})),ei(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got ".concat(n,".")}));var l="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?u.shape[3]:u.shape[1];ei(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(l,") must match input depth in filter (").concat(n[2],".")})),ei(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(c,") must match output depth for filter (").concat(n[3],").")})),_h("conv2dDerFilter",a,o);var d={x:s,dy:u},f={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,filterShape:n};return kc.runKernel(Io,d,f)}});function yy(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return rh(e,Wv(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function by(e,t){var n=t,r=tp(e.shape,t.shape);return r.length>0&&(n=Wm(n,r)),Mh(n,e.shape)}function xy(e,t,n,r){if("linear"===t)return e;if("relu"===t)return dv(e);if("elu"===t)return Sm(e);if("relu6"===t)return fv(e);if("prelu"===t)return $g(e,n);if("leakyrelu"===t)return rg(e,r);if("sigmoid"===t)return Lh(e);throw new Error("Unknown fused activation ".concat(t,"."))}var Ay=function(e,t){return!(e>0)||"linear"===t};var wy=Lc({fusedConv2d_:function(e){var t,n,r=e.x,a=e.filter,i=e.strides,s=e.pad,u=e.dataFormat,l=void 0===u?"NHWC":u,c=e.dilations,d=void 0===c?[1,1]:c,f=e.dimRoundingMode,p=e.bias,h=e.activation,m=void 0===h?"linear":h,g=e.preluActivationWeights,v=e.leakyreluAlpha;if(m=m||"linear",!1===Ay(kc.state.gradientDepth,m)){ei("NHWC"===l,(function(){return"Error in fused conv2d: got dataFormat of ".concat(l," but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.")}));var y=nm(r,a,i,s,l,d,f);return null!=p&&(y=eh(y,p)),xy(y,m,g,v)}var b=Rc(r,"x","conv2d","float32"),x=Rc(a,"filter","conv2d","float32"),A=b,w=!1;3===b.rank&&(w=!0,A=Mh(b,[1,b.shape[0],b.shape[1],b.shape[2]])),ei(4===A.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank ".concat(A.rank,".")})),ei(4===x.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank ".concat(x.rank,".")})),_h("fused conv2d",s,f);var k="NHWC"===l?A.shape[3]:A.shape[1];ei(x.shape[2]===k,(function(){return"Error in conv2d: depth of input (".concat(k,") must match input depth for filter ").concat(x.shape[2],".")})),ei(Oh(i,d),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides ".concat(i," and dilations '").concat(d,"'")}));var S,C,I=xh(A.shape,x.shape,i,d,s,f);if(null!=p&&(t=fc(S=Rc(p,"bias","fused conv2d"),b),n=(0,o.Z)(t,1),S=n[0],"NHWC"===l?np(I.outShape,S.shape):(ei(S.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-".concat(S.shape.length,".")})),ei(0===S.shape.length||S.shape[0]===I.outChannels||1===S.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(S.shape,") is not compatible with the number of output channels (").concat(I.outChannels,")")})))),null!=g){if(ei((y=g.shape).length<=1||3===y.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-".concat(y.length,".")})),1===y.length)ei(1===y[0]||y[0]===I.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights (".concat(y,") is not compatible with the number of output channels (").concat(I.outChannels,").")}));else if(3===y.length)try{np(y,I.outShape)}catch(P){var E="Error in fused conv2d: PReLU activation weights (".concat(y,") is not compatible with the output shape of the conv2d (").concat(I.outShape,").");throw Error(E)}C=Rc(g,"prelu weights","fused conv2d")}var T=function(e,t){ei("NHWC"===l,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(l," but only NHWC is currently supported.")}));var n=(0,o.Z)(t,4),r=n[0],a=n[1],u=n[2],c=n[3],f=yy(e,u,m);ei(Nh(d),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '".concat(d,"'")}));var p=[am(a.shape,f,r,i,s),vy(a,f,r.shape,i,s)];if(null!=c){var h=by(c,f);p.push(h)}return p},N={x:A,filter:x,bias:S,preluActivationWeights:C},O={strides:i,pad:s,dataFormat:l,dilations:d,dimRoundingMode:f,activation:m,leakyreluAlpha:v};return null==p?mg((function(e,t,n){var r=kc.runKernel(al,N,O);return n([t,e,r]),w&&(r=Mh(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:T}}))(A,x):mg((function(e,t,n,r){var a=kc.runKernel(al,N,O);return r([t,e,a,n]),w&&(a=Mh(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:T}}))(A,x,S)}});var ky=Lc({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=Mh(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={x:s,dy:u},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,filterShape:n};return kc.runKernel(Zo,l,c)}});var Sy=Lc({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=t,u=!1;3===t.rank&&(u=!0,s=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var l={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,inputShape:e},d=kc.runKernel(Wo,l,c);return u?Mh(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var Cy=Lc({fusedDepthwiseConv2d_:function(e){var t,n,r=e.x,a=e.filter,i=e.strides,s=e.pad,u=e.dataFormat,l=void 0===u?"NHWC":u,c=e.dilations,d=void 0===c?[1,1]:c,f=e.dimRoundingMode,p=e.bias,h=e.activation,m=void 0===h?"linear":h,g=e.preluActivationWeights,v=e.leakyreluAlpha;if(!1===Ay(kc.state.gradientDepth,m)){var y=mm(r,a,i,s,l,d,f);return null!=p&&(y=eh(y,p)),xy(y,m,g,v)}var b=Rc(r,"x","depthwiseConv2d","float32"),x=Rc(a,"filter","depthwiseConv2d","float32"),A=b,w=!1;3===b.rank&&(w=!0,A=Mh(b,[1,b.shape[0],b.shape[1],b.shape[2]])),ei(4===A.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank ".concat(A.rank,".")})),ei(4===x.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank ".concat(x.rank,".")})),ei(A.shape[3]===x.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels (".concat(A.shape[3],") must match the inChannels dimension in filter ").concat(x.shape[2],".")})),null==d&&(d=[1,1]),ei(Oh(i,d),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ".concat(i," and dilations '").concat(d,"'")})),_h("fused depthwiseConv2d",s,f);var k,S,C=xh(A.shape,x.shape,i,d,s,f,!0);null!=p&&(t=fc(k=Rc(p,"bias","fused conv2d"),b),n=(0,o.Z)(t,1),k=n[0],np(C.outShape,k.shape)),null!=g&&(S=Rc(g,"prelu weights","fused depthwiseConv2d"));var I=function(e,t){ei(Nh(d),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '".concat(d,"'")}));var n=(0,o.Z)(t,4),r=n[0],a=n[1],u=n[2],l=n[3],c=yy(e,u,m),p=Sy(a.shape,c,r,i,s,d,f),h=ky(a,c,r.shape,i,s,d,f);return null!=l?[p,h,by(k,c)]:[p,h]},E={x:A,filter:x,bias:k,preluActivationWeights:S},T={strides:i,pad:s,dataFormat:l,dilations:d,dimRoundingMode:f,activation:m,leakyreluAlpha:v};return null==p?mg((function(e,t,n){var r=kc.runKernel(il,E,T);return n([t,e,r]),w&&(r=Mh(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:I}}))(A,x):mg((function(e,t,n,r){var a=kc.runKernel(il,E,T);return r([t,e,a,n]),w&&(a=Mh(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:I}}))(A,x,k)}});var Iy=Lc({fusedMatMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,i=void 0!==a&&a,s=e.transposeB,u=void 0!==s&&s,l=e.bias,c=e.activation,d=void 0===c?"linear":c,f=e.preluActivationWeights,p=e.leakyreluAlpha,h=void 0===p?.2:p;if(!1===Ay(kc.state.gradientDepth,d)){var m=Cf(n,r,i,u);return null!=l&&(m=eh(m,l)),xy(m,d,f,h)}var g=Rc(n,"a","fused matMul"),v=Rc(r,"b","fused matMul"),y=fc(g,v),b=(0,o.Z)(y,2);g=b[0],v=b[1];var x=i?g.shape[g.rank-2]:g.shape[g.rank-1],A=u?v.shape[v.rank-1]:v.shape[v.rank-2],w=i?g.shape[g.rank-1]:g.shape[g.rank-2],k=u?v.shape[v.rank-2]:v.shape[v.rank-1],S=g.shape.slice(0,-2),C=v.shape.slice(0,-2),I=ai(S),E=ai(C);ei(x===A,(function(){return"Error in fused matMul: inner shapes (".concat(x,") and (").concat(A,") of Tensors with shapes ").concat(g.shape," and ").concat(v.shape," and transposeA=").concat(i," and transposeB=").concat(u," must match.")}));var T,N,O=np(g.shape.slice(0,-2),v.shape.slice(0,-2)).concat([w,k]),P=Mh(g,i?[I,x,w]:[I,w,x]),_=Mh(v,u?[E,k,A]:[E,A,k]);null!=l&&(t=fc(T=Rc(l,"bias","fused matMul"),g),T=(0,o.Z)(t,1)[0],np(O,T.shape)),null!=f&&(N=Rc(f,"prelu weights","fused matMul"));var M=function(e,t){var n,r,a=(0,o.Z)(t,4),s=a[0],c=a[1],f=a[2],p=a[3],h=yy(Mh(e,f.shape),f,d);return i||u?!i&&u?(n=Cf(h,c,!1,!1),r=Cf(h,s,!0,!1)):i&&!u?(n=Cf(c,h,!1,!0),r=Cf(s,h,!1,!1)):(n=Cf(c,h,!0,!0),r=Cf(h,s,!0,!0)):(n=Cf(h,c,!1,!0),r=Cf(s,h,!0,!1)),null!=l?[n,r,by(p,h)]:[n,r]},R={a:P,b:_,bias:T,preluActivationWeights:N},F={transposeA:i,transposeB:u,activation:d,leakyreluAlpha:h};return null==l?mg((function(e,t,n){var r=kc.runKernel(rl,R,F);return n([e,t,r]),{value:Mh(r,O),gradFunc:M}}))(P,_):mg((function(e,t,n,r){var a=kc.runKernel(rl,R,F);return r([e,t,a,n]),{value:Mh(a,O),gradFunc:M}}))(P,_,T)}});var Ey=Lc({hammingWindow_:function(e){return py(e,.54,.46)}});var Ty=Lc({hannWindow_:function(e){return py(e,.5,.5)}});var Ny=Lc({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(zh(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Dh([zh(e,i,t-s),qm([s],a)]);o.push(u),i+=n}return 0===o.length?Hv([],[0,t]):Mh(Dh(o),[o.length,t])}});var Oy=Lc({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ty;null==r&&(r=fy(t));var i=Ny(e,t,n),o=rh(i,a(t));return Dv(o,r)}});var Py=Lc({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Rc(e,"image","cropAndResize"),s=Rc(t,"boxes","cropAndResize","float32"),u=Rc(n,"boxInd","cropAndResize","int32"),l=s.shape[0];ei(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank ".concat(o.rank,".")})),ei(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(l,",4] but had shape ").concat(s.shape,".")})),ei(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(l,"] but had shape ").concat(s.shape,".")})),ei(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length ".concat(r.length,".")})),ei(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),ei("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var c={image:o,boxes:s,boxInd:u},d={method:a,extrapolationValue:i,cropSize:r};return kc.runKernel(Fo,c,d)}});var _y=Lc({flipLeftRight_:function(e){var t=Rc(e,"image","flipLeftRight","float32");ei(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,but got rank ".concat(t.rank,".")}));var n={image:t};return kc.runKernel(ns,n,{})}});var My=Lc({grayscaleToRGB_:function(e){var t=Rc(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];ei(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, but got rank ".concat(t.rank,".")})),ei(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Xm(t,a)}});var Ry=Lc({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Rc(e,"image","rotateWithOffset","float32");ei(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,but got rank ".concat(a.rank,".")}));var i={image:a},o={radians:t,fillValue:n,center:r};return kc.runKernel(nl,i,o)}});function Fy(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),ei(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),ei(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),ei(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),ei(1===t.rank,(function(){return"scores must be a 1D tensor"})),ei(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", but was ").concat(t.shape[0])})),ei(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var Dy=Lc({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Rc(e,"boxes","nonMaxSuppression","float32"),o=Rc(t,"scores","nonMaxSuppression","float32"),s=Fy(i,o,n,r,a),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return kc.runKernel(Gs,{boxes:i,scores:o},u)}});function Ly(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,a=e.length,i=0,o=!1;r<a;){var s=n(t,e[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(e,t,n||zy)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function zy(e,t){return e>t?1:e<t?-1:0}function Zy(e,t,n,r,a){return jy(e,t,n,r,a,0)}function Wy(e,t,n,r,a,i){return jy(e,t,n,r,a,0,!1,i,!0)}function By(e,t,n,r,a,i){return jy(e,t,n,r,a,i,!0)}function jy(e,t,n,r,a,i){for(var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=[],c=0;c<t.length;c++)t[c]>a&&l.push({score:t[c],boxIndex:c,suppressBeginIndex:0});l.sort(Uy);for(var d=i>0?-.5/i:0,f=[],p=[];f.length<n&&l.length>0;){var h=l.pop(),m=h.score,g=h.boxIndex,v=h.suppressBeginIndex;if(m<a)break;for(var y=!1,b=f.length-1;b>=v;--b){var x=Vy(e,g,f[b]);if(x>=r){y=!0;break}if(h.score=h.score*Hy(r,d,x),h.score<=a)break}h.suppressBeginIndex=f.length,y||(h.score===m?(f.push(g),p.push(h.score)):h.score>a&&Ly(l,h,Uy))}var A=f.length,w=n-A;s&&w>0&&(f.push.apply(f,(0,qr.Z)(new Array(w).fill(0))),p.push.apply(p,(0,qr.Z)(new Array(w).fill(0))));var k={selectedIndices:f};return o&&(k.selectedScores=p),u&&(k.validOutputs=A),k}function Vy(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),p=(s-i)*(u-o),h=(d-l)*(f-c);if(p<=0||h<=0)return 0;var m=Math.max(i,l),g=Math.max(o,c),v=Math.min(s,d),y=Math.min(u,f),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(p+h-b)}function Hy(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function Uy(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function Gy(){return Gy=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:.5,i=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,o=Rc(t,"boxes","nonMaxSuppressionAsync"),s=Rc(n,"scores","nonMaxSuppressionAsync"),u=Fy(o,s,r,a,i),r=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,e.next=6,Promise.all([o.data(),s.data()]);case 6:return l=e.sent,c=l[0],d=l[1],f=Zy(c,d,r,a,i),p=f.selectedIndices,e.abrupt("return",(o!==t&&o.dispose(),s!==n&&s.dispose(),Vv(p,"int32")));case 12:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}var Xy=function(e,t,n){return Gy.apply(this,arguments)};var Yy=Lc({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Rc(e,"boxes","nonMaxSuppression"),s=Rc(t,"scores","nonMaxSuppression"),u=Fy(o,s,n,r,a,i),l={boxes:o,scores:s},c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},d=kc.runKernel(Ys,l,c);return{selectedIndices:d[0],selectedScores:d[1]}}});function qy(){return qy=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>3&&void 0!==g[3]?g[3]:.5,i=g.length>4&&void 0!==g[4]?g[4]:Number.NEGATIVE_INFINITY,o=g.length>5&&void 0!==g[5]?g[5]:0,s=Rc(t,"boxes","nonMaxSuppressionAsync"),u=Rc(n,"scores","nonMaxSuppressionAsync"),l=Fy(s,u,r,a,i,o),r=l.maxOutputSize,a=l.iouThreshold,i=l.scoreThreshold,o=l.softNmsSigma,e.next=7,Promise.all([s.data(),u.data()]);case 7:return c=e.sent,d=c[0],f=c[1],p=By(d,f,r,a,i,o),h=p.selectedIndices,m=p.selectedScores,e.abrupt("return",(s!==t&&s.dispose(),u!==n&&u.dispose(),{selectedIndices:Vv(h,"int32"),selectedScores:Vv(m)}));case 14:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}var Ky=function(e,t,n){return qy.apply(this,arguments)};var Jy=Lc({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Rc(e,"boxes","nonMaxSuppression"),s=Rc(t,"scores","nonMaxSuppression"),u=Fy(o,s,n,r,a,null),l=u.maxOutputSize,c=u.iouThreshold,d=u.scoreThreshold,f={boxes:o,scores:s},p={maxOutputSize:l,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:i},h=kc.runKernel(Xs,f,p);return{selectedIndices:h[0],validOutputs:h[1]}}});function Qy(){return Qy=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.length>3&&void 0!==A[3]?A[3]:.5,i=A.length>4&&void 0!==A[4]?A[4]:Number.NEGATIVE_INFINITY,s=A.length>5&&void 0!==A[5]&&A[5],u=Rc(t,"boxes","nonMaxSuppressionAsync"),l=Rc(n,"scores","nonMaxSuppressionAsync"),c=Fy(u,l,r,a,i,null),d=c.maxOutputSize,f=c.iouThreshold,p=c.scoreThreshold,e.next=11,Promise.all([u.data(),l.data()]);case 11:return h=e.sent,m=(0,o.Z)(h,2),g=m[0],v=m[1],y=Wy(g,v,d,f,p,s),b=y.selectedIndices,x=y.validOutputs,e.abrupt("return",(u!==t&&u.dispose(),l!==n&&l.dispose(),{selectedIndices:Vv(b,"int32"),validOutputs:Lm(x,"int32")}));case 19:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}var $y=function(e,t,n){return Qy.apply(this,arguments)};var eb=Lc({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Rc(e,"images","resizeBilinear");ei(3===a.rank||4===a.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank ".concat(a.rank,".")})),ei(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape ".concat(t,".")})),ei(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var i=a,o=!1;3===a.rank&&(o=!0,i=Mh(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,jr.Z)(t);var s={images:i},u={alignCorners:n,halfPixelCenters:r,size:t},l=kc.runKernel(cu,s,u);return o?Mh(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var tb=Lc({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Rc(e,"images","resizeNearestNeighbor");ei(3===a.rank||4===a.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ".concat(a.rank,".")})),ei(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape ".concat(t,".")})),ei("float32"===a.dtype||"int32"===a.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),ei(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var i=a,o=!1;3===a.rank&&(o=!0,i=Mh(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,jr.Z)(t);var s={images:i},u={alignCorners:n,halfPixelCenters:r,size:t},l=kc.runKernel(uu,s,u);return o?Mh(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});function nb(e,t){for(var n,r,a,i,o,s,u=Vv([-1]),l=Vv([0]),c=Vv([0]),d=0;d<e.size-1;d++){n=zh(e,0,d+1),r=zh(e,d+1),o=nh(Wm(n),t),s=nh(Wm(r),t);var f=Wm(rh(n,lv(0,n.size)));a=nh(f,Wm(n));var p=qm(r.shape,n.size),h=eh(lv(0,r.size),p),m=rh(r,h);i=nh(Wm(m),Wm(r));var g=bg(a,i),v=bg(a,i),y=rh(o,s);c=rh(rh(y,g),v);var b=Qm(c,l);l=bm(b,c,l),u=bm(b,Vv([d]),u)}return u}var rb=Lc({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,l=Rc(e,"image","threshold"),c=.2989,d=.587,f=.114,p=l.shape[0]*l.shape[1],h=rh(Vv([u]),255);if(ei(3===l.rank,(function(){return"Error in threshold: image must be rank 3,but got rank ".concat(l.rank,".")})),ei(3===l.shape[2]||1===l.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1but got ".concat(l.shape[2],".")})),ei("int32"===l.dtype||"float32"===l.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,but got dtype ".concat(l.dtype,".")})),ei("otsu"===i||"binary"===i,(function(){return"Method must be binary or otsu, but was ".concat(i)})),3===l.shape[2]){var m=Fv(l,[1,1,1],-1),g=(0,o.Z)(m,3);t=g[0],n=g[1],r=g[2];var v=rh(t,c),y=rh(n,d),b=rh(r,f);a=eh(eh(v,y),b)}else a=e;if("otsu"===i){var x=Xh(qd(yv(a),"int32"),Wc([]),256);h=nb(x,p)}var A=s?ig(a,h):Qm(a,h);return qd(rh(A,255),"int32")}});var ab=Lc({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=Rc(e,"image","transform","float32"),s=Rc(t,"transforms","transform","float32");ei(4===o.rank,(function(){return"Error in transform: image must be rank 4,but got rank ".concat(o.rank,".")})),ei(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),ei(null==i||2===i.length,(function(){return"Error in transform: outputShape must be [height, width] or null, but got ".concat(i,".")}));var u={image:o,transforms:s},l={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return kc.runKernel(Xu,u,l)}});var ib=Lc({bandPart_:function(e,t,n){ei(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),ei(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=Rc(e,"a","bandPart");ei(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,i=r.shape.slice(-2),s=(0,o.Z)(i,2),u=s[0],l=s[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,") must not be greater than the number of rows (").concat(u,")."));if(!(n<=l))throw new Error("bandPart(): numUpper (".concat(n,") must not be greater than the number of columns (").concat(l,")."));t<0&&(t=u),n<0&&(n=l);var c=Mh(lv(0,u,1,"int32"),[-1,1]),d=lv(0,l,1,"int32"),f=bg(c,d),p=wg(ig(f,Lm(+t,"int32")),$m(f,Lm(-n,"int32"))),h=Rg([u,l],r.dtype);return Mh(Zv(Qv(Mh(r,[-1,u,l])).map((function(e){return bm(p,e,h)}))),a)}});var ob=Lc({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,ei(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){ei(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: (".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=Fv(e,e.shape[0],0).map((function(e){return zv(e,[0])}))),ei(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds number of dimensions (").concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(kc.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=rh(Wm(rh(n[a],t)),n[a]);t=bg(t,i)}return nh(t,jm(t,"euclidean"))})))},i=0;i<e.length;++i)a(i);return t?Zv(n,0):n}});function sb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return kc.tidy((function(){ei(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=Ym(n),i=Kd(e),s=Hv([[1]],[1,1]),u=Kd(s),l=n>=r?r:n,c=function(e){var t,l,c=i,d=u,f=a;t=kc.tidy((function(){var t=zh(i,[e,e],[n-e,1]),o=jm(t),l=zh(i,[e,e],[1,1]),c=bm(Qm(l,0),Hv([[-1]]),Hv([[1]])),d=bg(l,rh(c,o)),f=nh(t,d);u=1===f.shape[0]?Kd(s):Dh([s,zh(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);var p=qf(nh(Cf(c,d),o)),h=zh(i,[e,0],[n-e,r]),m=rh(p,u),g=Jf(u);if(0===e)i=bg(h,Cf(m,Cf(g,h)));else{var v=bg(h,Cf(m,Cf(g,h)));i=Dh([zh(i,[0,0],[e,r]),v],0)}var y=Jf(m),b=zh(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=bg(b,Cf(Cf(b,u),y));else{var x=bg(b,Cf(Cf(b,u),y));a=Dh([zh(a,[0,0],[n,e]),x],1)}return[u,i,a]})),l=(0,o.Z)(t,3),u=l[0],i=l[1],a=l[2],Df([c,d,f])},d=0;d<l;++d)c(d);return!t&&n>r&&(a=zh(a,[0,0],[n,r]),i=zh(i,[0,0],[r,r])),[a,i]}))}var ub=Lc({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ei(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return sb(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Qv(Mh(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach((function(e){var n=sb(e,t),r=(0,o.Z)(n,2),s=r[0],u=r[1];a.push(s),i.push(u)}));var s=Mh(Zv(a,0),e.shape),u=Mh(Zv(i,0),e.shape);return[s,u]}}),lb=function(e){return e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",e}(lb||{});var cb=Lc({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Rc(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Rc(t,"weights","computeWeightedLoss"));var i=null==a?r:rh(r,a);if(0===n)return i;if(2===n)return Wm(i);if(1===n){if(null==a)return Mg(i);var o=r.size/a.size,s=nh(Wm(i),Wm(a));return o>1?nh(s,Lm(o)):s}if(3===n){if(null==a)return nh(Wm(i),Lm(r.size));var u=rh(a,Fg(r.shape)),l=qd(Wm(Vg(u,Lm(0))),"float32");return nh(Wm(i),l)}throw Error("Unknown reduction: ".concat(n))}});var db=Lc({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Rc(e,"labels","absoluteDifference"),i=Rc(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=Rc(n,"weights","absoluteDifference")),ti(a.shape,i.shape,"Error in absoluteDifference: ");var s=ah(bg(a,i));return cb(s,o,r)}});var fb=Lc({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,i=Rc(e,"labels","cosineDistance"),o=Rc(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Rc(r,"weights","cosineDistance")),ti(i.shape,o.shape,"Error in cosineDistance: ");var u=Lm(1),l=bg(u,Wm(rh(i,o),n,!0));return cb(l,s,a)}});var pb=Lc({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Rc(e,"labels","hingeLoss"),i=Rc(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Rc(n,"weights","hingeLoss")),ti(a.shape,i.shape,"Error in hingeLoss: ");var s=Lm(1);a=bg(rh(Lm(2),a),s);var u=dv(bg(s,rh(a,i)));return cb(u,o,r)}});var hb=Lc({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,i=Rc(e,"labels","huberLoss"),o=Rc(t,"predictions","huberLoss"),s=null;null!=n&&(s=Rc(n,"weights","huberLoss")),ti(i.shape,o.shape,"Error in huberLoss: ");var u=Lm(r),l=ah(bg(o,i)),c=Lg(l,u),d=bg(l,c),f=eh(rh(Lm(.5),Zm(c)),rh(u,d));return cb(f,s,a)}});var mb=Lc({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,i=Rc(e,"labels","logLoss"),o=Rc(t,"predictions","logLoss"),s=null;null!=n&&(s=Rc(n,"weights","logLoss")),ti(i.shape,o.shape,"Error in logLoss: ");var u=Lm(1),l=Lm(r),c=qf(rh(i,ug(eh(o,l)))),d=rh(bg(u,i),ug(eh(bg(u,o),l))),f=bg(c,d);return cb(f,s,a)}});var gb=Lc({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=Rc(e,"labels","meanSquaredError"),i=Rc(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Rc(n,"weights","meanSquaredError")),ti(a.shape,i.shape,"Error in meanSquaredError: ");var s=Lv(a,i);return cb(s,o,r)}});function vb(e,t){var n=Rc(e,"labels","sigmoidCrossEntropyWithLogits"),r=Rc(t,"logits","sigmoidCrossEntropyWithLogits");ti(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=dv(r),i=rh(r,n),o=lg(Hm(qf(ah(r))));return eh(bg(a,i),o)}var yb=Lc({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,i=Rc(e,"multiClassLabels","sigmoidCrossEntropy"),o=Rc(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Rc(n,"weights","sigmoidCrossEntropy")),ti(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Lm(r),l=Lm(1),c=Lm(.5);i=eh(rh(i,bg(l,u)),rh(c,u))}var d=vb(i,o);return cb(d,s,a)}});function bb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ".concat(t.rank," and dim was ").concat(n));return mg((function(e,t,r){var a=Ag(t,[n],!0),i=bg(qd(t,"float32"),a);r([e,i]);var s=qf(rh(i,e));return{value:Wm(s,[n]),gradFunc:function(e,t){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=Nm(e.shape,[n]);return[rh(Mh(e,s),bg(qd(a,"float32"),Hm(i))),rh(Mh(e,s),bg(Hm(i),qd(a,"float32")))]}}}))(e,t)}var xb=Lc({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3,i=Rc(e,"onehotLabels","softmaxCrossEntropy"),o=Rc(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Rc(n,"weights","softmaxCrossEntropy")),ti(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Lm(r),l=Lm(1),c=Lm(i.shape[1]);i=eh(rh(i,bg(l,u)),nh(u,c))}var d=bb(i,o);return cb(d,s,a)}});var Ab=Lc({sparseFillEmptyRows_:function(e,t,n,r){var a=Rc(e,"indices","sparseFillEmptyRows","int32"),i=Rc(t,"values","sparseFillEmptyRows"),o=Rc(n,"denseShape","sparseFillEmptyRows","int32"),s=Rc(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:a,values:i,denseShape:o,defaultValue:s},l=kc.runKernel(Pu,u);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});var wb=Lc({sparseReshape_:function(e,t,n){var r=Rc(e,"inputIndices","sparseReshape","int32"),a=Rc(t,"inputShape","sparseReshape","int32"),i=Rc(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));var o={inputIndices:r,inputShape:a,newShape:i},s=kc.runKernel(_u,o);return{outputIndices:s[0],outputShape:s[1]}}});var kb=Lc({sparseSegmentMean_:function(e,t,n){var r=Rc(e,"data","sparseSegmentMean"),a=Rc(t,"indices","sparseSegmentMean","int32"),i=Rc(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return kc.runKernel(Mu,o)}});var Sb=Lc({sparseSegmentSum_:function(e,t,n){var r=Rc(e,"data","sparseSegmentSum"),a=Rc(t,"indices","sparseSegmentSum","int32"),i=Rc(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return kc.runKernel(Ru,o)}});var Cb=Lc({stringNGrams_:function(e,t,n,r,a,i,o,s){var u=Rc(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var l=Rc(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");var c={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:s},d={data:u,dataSplits:l},f=kc.runKernel(Zu,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}});var Ib=Lc({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Rc(e,"input","stringSplit","string"),a=Rc(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var i={skipEmpty:n},o={input:r,delimiter:a},s=kc.runKernel(Wu,o,i);return{indices:s[0],values:s[1],shape:s[2]}}});var Eb=Lc({stringToHashBucketFast_:function(e,t){var n=Rc(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return kc.runKernel(Bu,a,r)}}),Tb={fft:_v,ifft:Mv,rfft:Dv,irfft:Rv},Nb={hammingWindow:Ey,hannWindow:Ty,frame:Ny,stft:Oy},Ob={flipLeftRight:_y,grayscaleToRGB:My,resizeNearestNeighbor:tb,resizeBilinear:eb,rotateWithOffset:Ry,cropAndResize:Py,nonMaxSuppression:Dy,nonMaxSuppressionAsync:Xy,nonMaxSuppressionWithScore:Yy,nonMaxSuppressionWithScoreAsync:Ky,nonMaxSuppressionPadded:Jy,nonMaxSuppressionPaddedAsync:$y,threshold:rb,transform:ab},Pb={bandPart:ib,gramSchmidt:ob,qr:ub},_b={absoluteDifference:db,computeWeightedLoss:cb,cosineDistance:fb,hingeLoss:pb,huberLoss:hb,logLoss:mb,meanSquaredError:gb,sigmoidCrossEntropy:yb,softmaxCrossEntropy:xb},Mb={sparseFillEmptyRows:Ab,sparseReshape:wb,sparseSegmentMean:kb,sparseSegmentSum:Sb},Rb={stringNGrams:Cb,stringSplit:Ib,stringToHashBucketFast:Eb},Fb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return Df(i),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return hg(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Df(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Lm(this.iterations_,"int32")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class ".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zp);Object.defineProperty(Fb,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Db=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,Ur.Z)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=kc.backend.epsilon()),a}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=kc.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Ff((function(){return xm(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Ff((function(){return xm(a).variable(false)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Ff((function(){var e=eh(rh(o,t.rho),rh(Zm(i),1-t.rho)),n=rh(nh(zm(eh(s,t.epsilon)),zm(eh(o,t.epsilon))),i),r=eh(rh(s,t.rho),rh(Zm(n),1-t.rho));o.assign(e),s.assign(r);var u=eh(rh(n,-t.learningRate),a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Df(this.accumulatedGrads.map((function(e){return e.variable}))),Df(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,qr.Z)(this.accumulatedGrads),(0,qr.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(Fb);Db.className="Adadelta",Wp(Db);var Lb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,Ur.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=kc.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Ff((function(){return qm(a.shape,t.initialAccumulatorValue).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;Ff((function(){var e=eh(o,Zm(i));o.assign(e);var n=eh(rh(nh(i,zm(eh(e,kc.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Df(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(Fb);Lb.className="Adagrad",Wp(Lb);var zb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,Ur.Z)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Ff((function(){i.accBeta1=Lm(r).variable(),i.accBeta2=Lm(a).variable()})),null==o&&(i.epsilon=kc.backend.epsilon()),i}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Ff((function(){var r=bg(1,t.accBeta1),a=bg(1,t.accBeta2);n.forEach((function(n,i){var o=kc.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Ff((function(){return xm(o).variable(false)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:Ff((function(){return xm(o).variable(false)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedSecondMoment[i].variable,c=eh(rh(u,t.beta1),rh(s,1-t.beta1)),d=eh(rh(l,t.beta2),rh(Zm(s),1-t.beta2)),f=nh(c,r),p=nh(d,a);u.assign(c),l.assign(d);var h=eh(rh(nh(f,eh(zm(p),t.epsilon)),-t.learningRate),o);o.assign(h)}})),t.accBeta1.assign(rh(t.accBeta1,t.beta1)),t.accBeta2.assign(rh(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Df(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Df(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,qr.Z)(this.accumulatedFirstMoment),(0,qr.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Ff((function(){r.accBeta1.assign(Dm(r.beta1,r.iterations_+1)),r.accBeta2.assign(Dm(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(Fb);zb.className="Adam",Wp(zb);var Zb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,Ur.Z)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=s,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],Ff((function(){i.iteration=Lm(0).variable(),i.accBeta1=Lm(r).variable()})),null==o&&(i.epsilon=kc.backend.epsilon()),i}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Ff((function(){var r=bg(1,t.accBeta1),a=nh(-t.learningRate,eh(rh(t.iteration,t.decay),1));n.forEach((function(n,i){var o=kc.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:xm(o).variable(false)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:xm(o).variable(false)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedWeightedInfNorm[i].variable,c=eh(rh(u,t.beta1),rh(s,1-t.beta1)),d=rh(l,t.beta2),f=ah(s),p=_g(d,f);u.assign(c),l.assign(p);var h=eh(rh(nh(a,r),nh(c,eh(p,t.epsilon))),o);o.assign(h)}})),t.iteration.assign(eh(t.iteration,1)),t.accBeta1.assign(rh(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Df(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Df(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(Fb);Zb.className="Adamax",Wp(Zb);var Wb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=kc.registeredVariables[n];Ff((function(){var e=eh(rh(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Lf(Lm(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(Fb);Wb.className="SGD",Wp(Wb);var Bb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Ur.Z)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=Lm(a.momentum),a}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=kc.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Ff((function(){return xm(a).variable(!1)}))});var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Ff((function(){var e,n=eh(rh(t.m,i),o);e=t.useNesterov?eh(rh(t.c,eh(o,rh(n,t.m))),a):eh(rh(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Df(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Wb);Bb.className="Momentum",Wp(Bb);var jb=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Ur.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=kc.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=kc.registeredVariables[n],i=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Ff((function(){return xm(a).variable(i)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Ff((function(){return xm(a).variable(i)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Ff((function(){return xm(a).variable(i)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;Ff((function(){var e=eh(rh(s,t.decay),rh(Zm(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,i=eh(rh(n,t.decay),rh(o,1-t.decay)),l=nh(rh(o,t.learningRate),zm(bg(e,eh(Zm(i),t.epsilon)))),c=eh(rh(u,t.momentum),l);s.assign(e),n.assign(i),u.assign(c);var d=bg(a,c);a.assign(d)}else{var f=eh(rh(s,t.decay),rh(Zm(o),1-t.decay)),p=eh(rh(u,t.momentum),nh(rh(o,t.learningRate),zm(eh(f,t.epsilon))));s.assign(f),u.assign(p);var h=bg(a,p);a.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Df(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Df(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Df(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,qr.Z)(this.accumulatedMeanSquares),(0,qr.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,qr.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(Fb);jb.className="RMSProp",Wp(jb);var Vb=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,null,[{key:"sgd",value:function(e){return new Wb(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Bb(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new jb(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new zb(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Db(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Zb(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new Lb(e,t)}}]),e}(),Hb={sgd:Vb.sgd,momentum:Vb.momentum,adadelta:Vb.adadelta,adagrad:Vb.adagrad,rmsprop:Vb.rmsprop,adamax:Vb.adamax,adam:Vb.adam},Ub="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(e){return e()};function Gb(){return new Promise((function(e){return Ub((function(){return e()}))}))}var Xb={};function Yb(e,t){var n=e[0].length;e.forEach((function(e,t){ei(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same as the rank of the rest (").concat(n,")")}))})),ei(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)ei(i===t||e[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") does not match the shape of the rest (").concat(r,") along the non-concatenated axis ").concat(a,".")}))}))}function qb(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}Aa(Xb,{ERF_A1:function(){return sx},ERF_A2:function(){return ux},ERF_A3:function(){return lx},ERF_A4:function(){return cx},ERF_A5:function(){return dx},ERF_P:function(){return ox},PARALLELIZE_THRESHOLD:function(){return Kb},SELU_SCALE:function(){return ix},SELU_SCALEALPHA:function(){return ax},applyActivation:function(){return xy},assertAndGetBroadcastShape:function(){return np},assertAxesAreInnerMostDims:function(){return Om},assertParamsConsistent:function(){return Yb},assignToTypedArray:function(){return vx},axesAreInnerMostDims:function(){return Im},calculateShapes:function(){return yp},checkEinsumDimSizes:function(){return Sx},checkPadOnDimRoundingMode:function(){return _h},combineLocations:function(){return Em},complexWithEvenIndex:function(){return hx},complexWithOddIndex:function(){return mx},computeConv2DInfo:function(){return xh},computeConv3DInfo:function(){return Ah},computeDefaultPad:function(){return wh},computeDilation2DInfo:function(){return vh},computeOptimalWindowSize:function(){return Jb},computeOutAndReduceShapes:function(){return Tm},computeOutShape:function(){return qb},computePool2DInfo:function(){return yh},computePool3DInfo:function(){return bh},convertConv2DDataFormat:function(){return Ph},decodeEinsumEquation:function(){return wx},eitherStridesOrDilationsAreOne:function(){return Oh},expandShapeToKeepDim:function(){return Nm},exponent:function(){return bx},exponents:function(){return yx},fromStringArrayToUint8:function(){return Gx},fromUint8ToStringArray:function(){return Ux},getAxesPermutation:function(){return Pm},getBroadcastDims:function(){return ep},getComplexWithIndex:function(){return gx},getEinsumComputePath:function(){return Cx},getEinsumPermutation:function(){return kx},getFusedBiasGradient:function(){return by},getFusedDyActivation:function(){return yy},getImageCenter:function(){return Qb},getInnerMostAxes:function(){return Mm},getPermuted:function(){return ex},getReductionAxes:function(){return tp},getReshaped:function(){return $b},getReshapedPermuted:function(){return tx},getSliceBeginCoords:function(){return nx},getSliceSize:function(){return rx},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return Nx},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return Ox},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return Px},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return Rx},getSparseReshapeInputOutputMismatchErrorMessage:function(){return Dx},getSparseReshapeInputOutputMultipleErrorMessage:function(){return Fx},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return _x},getSparseReshapeNegativeOutputDimErrorMessage:function(){return Mx},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return Wx},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return Lx},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return zx},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return Zx},getUndoAxesPermutation:function(){return _m},isIdentityPermutation:function(){return Ix},log:function(){return sl},mergeRealAndImagArrays:function(){return fx},prepareAndValidate:function(){return hp},prepareSplitSize:function(){return Tx},segment_util:function(){return Bx},shouldFuse:function(){return Ay},slice_util:function(){return bp},splitRealAndImagArrays:function(){return px},tupleValuesAreOne:function(){return Nh},upcastType:function(){return cc},validateInput:function(){return vp},validateUpdateShape:function(){return gp},warn:function(){return ol}});var Kb=30;function Jb(e){return e<=Kb?e:Ni(e,Math.floor(Math.sqrt(e)))}function Qb(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function $b(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,o=0;o<i;++o)a=a.concat([e[o+1]/t[o],t[o]]);a=a.concat(e.slice(i+1))}return a}function ex(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var i=[],o=[],s=1;s<e;++s)s>=2*t+1||s%2===1?o.push(s):i.push(s);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function tx(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function nx(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function rx(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var ax=1.7580993408473768,ix=1.0507009873554805,ox=.3275911,sx=.254829592,ux=-.284496736,lx=1.421413741,cx=-1.453152027,dx=1.061405429;function fx(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function px(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function hx(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function mx(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function gx(e,t){return{real:e[2*t],imag:e[2*t+1]}}function vx(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function yx(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function bx(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var xx="->",Ax=/->/g;function wx(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(Ax,"").length)/xx.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(xx,'").'));var r=e.split(xx),a=(0,o.Z)(r,2),i=a[0],s=a[1];ei(-1===i.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var u=i.split(","),l=u.length;if(t!==l)throw new Error("Expected ".concat(l," input tensors, received ").concat(t));if(l>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],d=function(e){var t=s[e];if(!u.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," not present in the input subscripts."));-1===c.indexOf(t)&&c.push(t)},f=0;f<s.length;++f)d(f);for(var p=0;p<i.length;++p){var h=i[p];-1===c.indexOf(h)&&","!==h&&c.push(h)}for(var m=new Array(u.length),g=0;g<l;++g){if(new Set(u[g].split("")).size!==u[g].length)throw new Error("Found duplicate axes in input component ".concat(u[g],". Support for duplicate axes in input is not implemented yet."));m[g]=[];for(var v=0;v<u[g].length;++v)m[g].push(c.indexOf(u[g][v]))}for(var y=c.length,b=[],x=s.length;x<y;++x)b.push(x);return{allDims:c,summedDims:b,idDims:m}}function kx(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return n=n.filter((function(e){return-1!==e})),{permutationIndices:n,expandDims:a}}function Sx(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:ei(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," of input shaped ").concat(JSON.stringify(a),", but got dimension ").concat(a[n])}))},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function Cx(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],s=0;s<r.length;++s){var u,l=Yr(Ex(t,r[s]));try{for(l.s();!(u=l.n()).done;){var c=u.value;-1===o.indexOf(c)&&(a[s].push(c),o.push(c))}}catch(d){l.e(d)}finally{l.f()}}return{path:r,steps:a}}function Ix(e){return e.every((function(e,t){return e===t}))}function Ex(e,t){for(var n=[],r=0;r<e.length;++r)(0===e[r].length||-1!==e[r].indexOf(t)||-1===t)&&n.push(r);return n}function Tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"==typeof t)ei(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);ei(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}ei(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Nx(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Ox(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Px(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function _x(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Mx(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Rx(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Fx(e,t){var n=ai(e),r=ai(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Dx(e,t){var n=ai(e),r=ai(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Lx(){return"segment ids must be >= 0"}function zx(){return"segment ids are not increasing"}function Zx(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Wx(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}var Bx={};function jx(e,t){var n,r=!1;for(e<=Kb?(n=e,r=!0):n=Ni(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Ni(e,n+1);return n}function Vx(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function Hx(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],l=1,c=1,d=1,f=0;f<r;++f)u.push(e.shape[f]),l*=e.shape[f];for(var p=r;p<n;p++)u.push(e.shape[p]),c*=e.shape[p];for(var h=r;h<a;h++)u.push(t.shape[h]);for(var m=n+1;m<i;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:l,sliceSize:d,outerSize:c,dimSize:s,outputShape:u}}function Ux(e){try{return e.map((function(e){return jl(e)}))}catch(Ge){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Ge))}}function Gx(e){return e.map((function(e){return Bl(e)}))}Aa(Bx,{collectGatherOpShapeInfo:function(){return Hx},computeOutShape:function(){return Vx},segOpComputeOptimalWindowSize:function(){return jx}});var Xx={};Aa(Xx,{nonMaxSuppressionV3Impl:function(){return Zy},nonMaxSuppressionV4Impl:function(){return Wy},nonMaxSuppressionV5Impl:function(){return By},whereImpl:function(){return ty}});var Yx=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Dr.Z)(r),n.prototype),r}return(0,Gr.Z)(n)}(Wr(Error)),qx=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Dr.Z)(r),n.prototype),r}return(0,Gr.Z)(n)}(Wr(Error)),Kx=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Dr.Z)(r),n.prototype),r}return(0,Gr.Z)(n)}(Wr(Error)),Jx=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Dr.Z)(r),n.prototype),r}return(0,Gr.Z)(n)}(Wr(Error)),Qx=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Dr.Z)(r),n.prototype),r}return(0,Gr.Z)(n)}(Wr(Error)),$x=function(){function e(t){(0,Ur.Z)(this,e),this.maxEntries=t||100,this.cache=new Map}return(0,Gr.Z)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}();function eA(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function tA(e,t){if(!e)throw new Qx(t)}function nA(e,t){var n,r=0,a=Yr(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(i){a.e(i)}finally{a.f()}return r}function rA(e){return 1===e.length?e[0]:e}function aA(e){return Array.isArray(e)?e:[e]}function iA(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function oA(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var sA={};function uA(e){if(null==e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function lA(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((function(e){return lA(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"==typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!=typeof a.value?lA(a):e[r]=a.value)}}function cA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"==typeof e){var i,u=e;if(u in n)i=n[u];else if(u in sA)i=sA[u];else if(null==(i=t[u]))throw new Kx("Unknown ".concat(r,": ").concat(e,". This may be due to one of the following reasons:\n1. The ").concat(r," is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ").concat(r," is defined in JavaScript, but is not registered properly with tf.serialization.registerClass()."));return i}var l,c,d,f,p,h,m=e;if(null==m.className||null==m.config)throw new Kx("".concat(r,": Improper config format: ").concat(JSON.stringify(m),".\n'className' and 'config' must set."));var g,v,y=m.className;if(y in n?(l=n[y],g=(c=(0,o.Z)(l,2))[0],v=c[1]):y in sA?(d=sA.className,g=(f=(0,o.Z)(d,2))[0],v=f[1]):y in t&&(p=t[y],g=(h=(0,o.Z)(p,2))[0],v=h[1]),null==g)throw new Kx("Unknown ".concat(r,": ").concat(y,". This may be due to one of the following reasons:\n1. The ").concat(r," is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ").concat(r," is defined in JavaScript, but is not registered properly with tf.serialization.registerClass()."));if(null!=v){for(var b={},x=0,A=Object.keys(sA);x<A.length;x++){var w=A[x];b[w]=sA[w]}for(var k=0,S=Object.keys(n);k<S.length;k++){var C=S[k];b[C]=n[C]}var I=m.config;I.customObjects=b;for(var E=(0,s.Z)({},sA),T=0,N=Object.keys(n);T<N.length;T++){var O=N[T];sA[O]=n[O]}lA(m.config);var P=v(g,m.config,n,a);return sA=(0,s.Z)({},E),P}for(var _=(0,s.Z)({},sA),M=0,R=Object.keys(n);M<R.length;M++){var F=R[M];sA[F]=n[F]}var D=new g(m.config);return sA=(0,s.Z)({},_),D}function dA(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function fA(e){if(null==e)return e;var t,n=[],r=Yr(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function pA(e){if(null==e)throw new Kx("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function hA(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Kx("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function mA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return tA(n>=0),tA(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function gA(e,t){Array.isArray(e)?(bl.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return gA(e,"element ".concat(n+1," of ").concat(t))}))):bl.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ").concat(vA(e),".")}))}function vA(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return vA(e)})).join(",")+"]":"string"==typeof e?'"'.concat(e,'"'):"".concat(e)}function yA(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var bA=0;function xA(){return bA++}var AA={};function wA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in AA||(AA[e]=0),AA[e]+=1,e+AA[e].toString()}var kA=["channelsFirst","channelsLast"],SA=["nearest","bilinear"],CA=["valid","same","causal"],IA=["max","avg"],EA=["sum","mul","concat","ave"],TA=new Map;function NA(e){hA(kA,"DataFormat",e)}function OA(e){hA(CA,"PaddingMode",e)}function PA(e){hA(IA,"PoolMode",e)}var _A=[];function MA(e,t){_A.push(e);try{var n=t();return _A.pop(),n}catch(n){throw _A.pop(),n}}function RA(e){if(!zA(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===_A.length?"":_A.join("/")+"/")+e}function FA(e){if(!zA(e))throw new Error("Not a valid tensor name: '"+e+"'");TA.has(e)||TA.set(e,0);var t=TA.get(e);if(TA.set(e,TA.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return TA.set(n,1),n}return e}var DA,LA=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function zA(e){return!!e.match(LA)}function ZA(e){return e===parseInt(e.toString(),10)}function WA(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function BA(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function jA(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function VA(e,t){if(t<e)throw new Kx("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function HA(){return null==DA&&(DA=Gf().epsilon()),DA}function UA(e,t){return qd(e,t)}function GA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),Mh(e,n)}function XA(e){var t=[WA(e.shape)];return Mh(e,t)}function YA(e,t,n){return Ff((function(){switch(e.rank){case 1:return Ev(e,t,n);case 2:return Tv(e,[t,0],[n,e.shape[1]]);case 3:return Nv(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Ov(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return zh(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return zh(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Kx("sliceAlongFirstAxis() received an unsupported tensor rank: ".concat(e.rank))}}))}function qA(e,t,n){return Ff((function(){switch(e.rank){case 1:return Ev(e,t,n);case 2:return Tv(e,[0,t],[e.shape[0],n]);case 3:return Nv(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Ov(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Kx("sliceAlongLastAxis() received an unsupported tensor rank: ".concat(e.rank))}}))}function KA(e,t,n,r){return Ff((function(){switch(e.rank){case 1:return Ev(e,t,n);case 2:switch(r){case 1:return YA(e,t,n);case 2:return qA(e,t,n);default:throw new Kx("The axis is not within the rank of the tensor ".concat(r))}case 3:switch(r){case 1:return YA(e,t,n);case 2:return Nv(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return qA(e,t,n);default:throw new Kx("The axis is not within the rank of the tensor ".concat(r))}case 4:switch(r){case 1:return YA(e,t,n);case 2:return Ov(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Ov(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return qA(e,t,n);default:throw new Kx("The axis is not within the rank of the tensor ".concat(r))}default:throw new Kx("sliceAlongLastAxis() received an unsupported tensor rank: ".concat(e.rank))}}))}function JA(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),Dh(e,n)}function QA(e,t){switch(e.rank){case 1:return Qh([e,t]);case 2:return $h([e,t],0);case 3:return em([e,t],0);case 4:return tm([e,t],0);default:throw new Kx("concatAlongFirstAxis() received an unsupported tensor rank: ".concat(e.rank))}}function $A(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Kx("The length of input n (".concat(t.length,") does not match the number of dimensions in input x (").concat(e.rank,")"));return Xm(e,t)}function ew(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return sv(e,t,n,r,a)}function tw(e,t,n,r){if(e.rank<2||t.rank<2)throw new Jx("dot requires both inputs to be rank >= 2 but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Jx("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ".concat(e.shape," and  y shape = ").concat(t.shape));if(2===e.rank&&2===t.rank)return gy.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?aw(e.rank,r,"channelsLast"):null,activation:n});var a=e.shape.slice(),i=a.pop();e=Mh(e,[-1,i]);var o=t.shape.slice(),s=o.pop(),u=o.pop(),l=[].concat((0,qr.Z)(o),[s]),c=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=Mh(Jf(t,c),[u,-1]);var d=[].concat((0,qr.Z)(a),(0,qr.Z)(l));return Mh(gy.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?aw(e.rank,r,"channelsLast"):null,activation:n}),d)}function nw(e,t,n){return Ff((function(){return t=Array.isArray(t)?Vv(t,"int32"):qd(t,"int32"),Jm(e,t,n)}))}function rw(e){return rh(e,e)}function aw(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Kx("Unexpected bias dimensions: ".concat(t.rank,"; expected it to be 1 or ").concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?Mh(t,[1,r[0],1,1,1]):Mh(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?Mh(t,[1,1,1,1,r[0]]):Mh(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?Mh(t,[1,r[0],1,1]):Mh(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?Mh(t,[1,1,1,r[0]]):Mh(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?Mh(t,[1,r[0],1]):Mh(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?Mh(t,[1,1,r[0]]):Mh(t,[1].concat(r))}else if(e<3)return t;throw new Kx("Unsupported input rank by biasAdd: ".concat(t.rank))}function iw(e,t,n){return Ff((function(){return null==n&&(n="channelsLast"),NA(n),eh(e,aw(e.rank,t,n))}))}function ow(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Jx("Support for alpha values other than 1 (".concat(t,") is not implemented yet."));return Sm(e)}function sw(e,t,n,r){return Ff((function(){return dy(e,t,n,r)}))}function uw(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var lw=["fanIn","fanOut","fanAvg"],cw=["normal","uniform","truncatedNormal"];var dw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(Lp.Serializable),fw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){return Rg(e,t)}}]),n}(dw);fw.className="Zeros",Lp.registerClass(fw);var pw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){return Fg(e,t)}}]),n}(dw);pw.className="Ones",Lp.registerClass(pw);var hw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),r=t.call(this),"object"!=typeof e)throw new Kx("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new Kx("config must have value set but got ".concat(e));return r.value=e.value,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Ff((function(){return rh(Lm(n.value),Fg(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(dw);hw.className="Constant",Lp.registerClass(hw);var mw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){return uv(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(dw);mw.className="RandomUniform",Lp.registerClass(mw);var gw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Jx("randomNormal does not support dType ".concat(t,"."));return ew(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(dw);gw.className="RandomNormal",Lp.registerClass(gw);var vw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Jx("truncatedNormal does not support dType ".concat(t,"."));return qv(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(dw);vw.className="TruncatedNormal",Lp.registerClass(vw);var yw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Ff((function(){if(2!==e.length||e[0]!==e[1])throw new Kx("Identity matrix initializer can only be used for 2D square matrices.");return rh(n.gain,Ym(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(dw);yw.className="Identity",Lp.registerClass(yw);var bw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),r=t.call(this),e.scale<0)throw new Kx("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,function(e){hA(lw,"FanMode",e)}(r.mode),r.distribution=null==e.distribution?"normal":e.distribution,function(e){hA(cw,"Distribution",e)}(r.distribution),r.seed=e.seed,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(NA(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=WA(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=WA(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=WA(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var o=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Jx("".concat(this.getClassName()," does not support dType ").concat(t,"."));return qv(e,0,o,t,this.seed)}var s=Math.sqrt(3*i);return uv(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(dw);bw.className="VarianceScaling",Lp.registerClass(bw);var xw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);xw.className="GlorotUniform",Lp.registerClass(xw);var Aw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);Aw.className="GlorotNormal",Lp.registerClass(Aw);var ww=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);ww.className="HeNormal",Lp.registerClass(ww);var kw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);kw.className="HeUniform",Lp.registerClass(kw);var Sw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);Sw.className="LeCunNormal",Lp.registerClass(Sw);var Cw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Gr.Z)(n,[{key:"getClassName",value:function(){return bw.className}}]),n}(bw);Cw.className="LeCunNormal",Lp.registerClass(Cw);var Iw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Jx("Random seed is not implemented for Orthogonal Initializer yet.");return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){var n=this;return Ff((function(){if(e.length<2)throw new Jx("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 (".concat(e[0]*e[1],") elements: Slowness may result."));var t=ew(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=Pb.gramSchmidt(t);return e[0]>e[1]&&(r=Jf(r)),rh(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(dw);Iw.className="Orthogonal",Lp.registerClass(Iw);var Ew={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Tw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cA(e,Lp.SerializationMap.getMap().classNameMap,t,"initializer")}function Nw(e){return uA(e)}function Ow(e){if("string"==typeof e){var t=e in Ew?Ew[e]:e;if("GlorotNormal"===t)return new Aw;if("GlorotUniform"===t)return new xw;if("HeNormal"===t)return new ww;if("HeUniform"===t)return new kw;if("LeCunNormal"===t)return new Sw;if("LeCunUniform"===t)return new Cw;var n={};return n.className=t,n.config={},Tw(n)}return e instanceof dw?e:Tw(e)}function Pw(e){return Array.isArray(e)&&Array.isArray(e[0])}function _w(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Mw(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Kx("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function Rw(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Kx("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Fw(e){var t,n=0,r=Yr(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(i){r.e(i)}finally{r.f()}return n}var Dw="Variable",Lw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dw,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,Ur.Z)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=xA(),r=null==r?Dw:r,this.originalName=RA(r),this.name=FA(this.originalName),this.trainable_=a,this.constraint=i,this.val=ey(t,this.trainable_,this.name,this.dtype)}return(0,Gr.Z)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function zw(e){return e.map((function(e){return e.read()}))}function Zw(e){e.forEach((function(e){e[0].write(e[1])}))}var Ww=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),Bw=(0,Gr.Z)((function e(t,n,r,a,i,o,s){(0,Ur.Z)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=xA(),null!=o&&(this.originalName=RA(o),this.name=FA(this.originalName)),this.rank=n.length})),jw=0,Vw=function(){function e(t,n){(0,Ur.Z)(this,e),this.callArgs=n,this.id=jw++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=Yr(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&i.outboundNodes.push(this)}}catch(o){a.e(o)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return(0,Gr.Z)(e,[{key:"getConfig",value:function(){var e,t=[],n=Yr(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(a){n.e(a)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Hw=0,Uw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Ur.Z)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Hw++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var i=e.getClassName();a=iA(i)+"_"+wA(i)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var s=null;null!=r.batchSize&&(s=r.batchSize),o=[s].concat(r.inputShape)}e.batchInputShape=o;var u=r.dtype;null==u&&(u=r.inputDType),null==u&&(u="float32"),e.dtype=u}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return(0,Gr.Z)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new qx("The layer has never been called and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new Kx("Asked to get ".concat(t," at node ").concat(e,", but the layer has only ").concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return rA(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return rA(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new Yx("Layer ".concat(this.name,' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.'));if(0===this.inboundNodes.length)throw new Yx("Layer ".concat(this.name," is not connected, no input to return."));return rA(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new Yx("Layer ".concat(this.name," has no inbound nodes."));if(this.inboundNodes.length>1)throw new Yx("Layer ".concat(this.name,' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.'));return rA(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=aA(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=aA(this.inputSpec);if(e.length!==t.length)throw new Kx("Layer ".concat(this.name," expects ").concat(t.length," inputs, but it received ").concat(e.length," input tensors. Input received: ").concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name,": expected ndim=").concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name,": expected max_ndim=").concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name,": expected min_ndim=").concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name," : expected dtype=").concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var s in a.axes){var u=Number(s),l=a.axes[s],c=u>=0?o[u]:o[o.length+u];if(null!=l&&-1===[l,null].indexOf(c))throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name,": expected axis ").concat(u," of input shape to have value ").concat(l," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var f=a.shape[d],p=r.shape[d];if(null!=f&&null!=p&&f!==p)throw new Kx("Input ".concat(n," is incompatible with layer ").concat(this.name,": expected shape=").concat(a.shape,", found shape=").concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=aA(e),i=!0,o=Yr(a);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof Bw)){i=!1;break}}}catch(c){o.e(c)}finally{o.f()}var s,u=!0,l=Yr(a);try{for(l.s();!(s=l.n()).done;){if(s.value instanceof Bw){u=!1;break}}}catch(c){l.e(c)}finally{l.f()}if(i===u)throw new Kx("Arguments to apply() must be all SymbolicTensors or all Tensors");return MA(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,i=[],o=Yr(aA(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(s.shape)}}catch(c){o.e(c)}finally{o.f()}n.build(rA(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&u&&(n._refCount=1)}if(n.assertInputCompatibility(e),u){var l,d=n.call(e,t),f=[],p=Yr(aA(d));try{for(p.s();!(l=p.n()).done;){var h=l.value;-1!==a.indexOf(h)&&(h=h.clone()),f.push(h)}}catch(c){p.e(c)}finally{p.f()}if(d=rA(f),null!=n.activityRegularizer)throw new Jx("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d}var m,g=function(e){e=aA(e);var t,n=[],r=Yr(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(c){r.e(c)}finally{r.f()}return rA(n)}(e),v=n.computeOutputShape(g),y="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?g[0]:g),m=null!=v&&v.length>0&&Array.isArray(v[0])?v.map((function(r,a){return new Bw(y,r,n,aA(e),t,n.name,a)})):new Bw(y,v,n,aA(e),t,n.name),n.addInboundNode(e,m,null,null,g,v,t),n._refCount++,null!=n.activityRegularizer)throw new Jx("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: ".concat(JSON.stringify(e),") does not match that of the batchInputShape (").concat(JSON.stringify(this.batchInputShape),") of the layer ").concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor (".concat(JSON.stringify(e),") does not match the expectation of layer ").concat(this.name,": ").concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Yx("The layer ".concat(this.name," has never been called and thus has no defined output shape."));var e,t=[],n=Yr(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(o){n.e(o)}finally{n.f()}if(1===t.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new Yx("The layer ".concat(this.name,' has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.'))}},{key:"countParams",value:function(){if(!this.built)throw new qx("You tried to call countParams() on ".concat(this.name,", but the layer is not built yet. Build it first by calling build(batchInputShape)."));return Fw(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return zw(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Ff((function(){var n=t.weights;if(n.length!==e.length)throw new Kx('You called setWeights(weights) on layer "'.concat(t.name,'" with a weight list of length ').concat(e.length,", but the layer was expecting ").concat(n.length," weights. Provided weights: ").concat(e,"..."));if(0!==n.length){for(var r=[],a=zw(n),i=0;i<a.length;++i){var o=a[i],s=n[i],u=e[i];if(!bl.arraysEqual(o.shape,u.shape))throw new Kx("Layer weight shape ".concat(o.shape," not compatible with provided weight shape ").concat(u.shape));r.push([s,u])}Zw(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new Kx("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():Ow("zeros"));var u=r.apply(t,n),l=new Lw(u,n,e,i,o);return u.dispose(),null!=a&&this.addLoss((function(){return a.apply(l.read())})),null==i&&(i=!0),i?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=aA(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,qr.Z)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, but was passed an inputMask."));t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, but was passed an inputMask."))}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=aA(e);t=aA(t),n=aA(n),r=aA(r),a=_w(a),i=_w(i);var u,l=[],c=[],d=[],f=Yr(s);try{for(f.s();!(u=f.n()).done;){var p=u.value;l.push(p.sourceLayer),c.push(p.nodeIndex),d.push(p.tensorIndex)}}catch(m){f.e(m)}finally{f.f()}new Vw({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:d,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been built yet."));if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used yet."));this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(Lp.Serializable);function Gw(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],i=0;i<r.inboundLayers.length;i++){var o,s=Yr(Gw(r.inputTensors[i],r.inboundLayers[i],r.nodeIndices[i]));try{for(s.s();!(o=s.n()).done;){var u=o.value;-1===a.indexOf(u)&&a.push(u)}}catch(l){s.e(l)}finally{s.f()}}return a}var Xw=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:wA("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Kx("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new Kx("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Kx("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new Bw(r.dtype,r.batchInputShape,(0,Dr.Z)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new Vw({outboundLayer:(0,Dr.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){throw new Kx("Cannot pass any input to an InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Uw);function Yw(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Kx("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new Xw({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}Xw.className="InputLayer",Lp.registerClass(Xw);var qw=function(){function e(t){if((0,Ur.Z)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=Yr(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.add(i.key,i.value)}}catch(o){a.e(o)}finally{a.f()}}}return(0,Gr.Z)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new Kx("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return qd(t,e.dtype)}catch(n){throw new Kx("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype of the key '").concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof Bw){if(null==this.id2Value[e.id])throw new Kx("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Kx("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof Bw){if(null==this.id2Value[e.id])throw new Kx("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Kx("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Df(this.id2Mask)}}]),e}(),Kw=new $x,Jw=new $x;function Qw(e,t,n,r){var a,i=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map((function(e){return e.name})),l=[],c=t.names(),d=Yr(u);try{for(d.s();!(a=d.n()).done;){var f=a.value;-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null)}}catch(L){d.e(L)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var p,h=u.join(",")+"|"+t.names().sort().join(","),m=Kw.get(h);if(null==m){var g=function(e,t){bl.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=ek(e[0],t);n=a.sorted,r=a.recipientMap}else{var i,o=new Set,s=Yr(e);try{for(s.s();!(i=s.n()).done;){var u,l=ek(i.value,t),c=l.sorted,d=l.recipientMap,f=Yr(c);try{for(f.s();!(u=f.n()).done;){var p=u.value;o.has(p.name)||(n.push(p),o.add(p.name))}}catch(L){f.e(L)}finally{f.f()}var h=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)h(m)}}catch(L){s.e(L)}finally{s.f()}}return{sorted:n,recipientCounts:$w(r)}}(s,t);m=g.sorted,p=g.recipientCounts,Kw.put(h,m),Jw.put(h,p)}p={},i||Object.assign(p,Jw.get(h));for(var v=new qw(t),y=0;y<m.length;++y){if(null!=r){var b=Mf().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var x=m[y],A=x.sourceLayer;if(!(A instanceof Xw)){var w,k=[],S=[],C=[],I=!1,E=Yr(x.inputs);try{for(E.s();!(w=E.n()).done;){var T=w.value,N=v.getValue(T),O=v.getMask(T);k.push(N),S.push(O),null!=O&&(I=!0),i||(p[T.name]--,0===p[T.name]&&!t.hasKey(T)&&-1===u.indexOf(T.name)&&!N.isDisposed&&!0!==T.sourceLayer.stateful&&C.push(N))}}catch(L){E.e(L)}finally{E.f()}I&&((n=n||{}).mask=S[0]);var P=aA(A.apply(k,n)),_=null;A.supportsMasking&&(_=A.computeMask(k,S));for(var M=tk(x),R=Array.isArray(M)?M:[M],F=0;F<R.length;++F){v.hasKey(R[F])||v.add(R[F],P[F],Array.isArray(_)?_[0]:_);var D=u.indexOf(R[F].name);-1!==D&&(l[D]=P[F])}i||Df(C)}}return v.disposeMasks(),o?l:l[0]}function $w(e){var t={};for(var n in e)t[n]=e[n].size;return t}function ek(e,t){var n,r=new Set,a=[],i={},o=Yr(t.names());try{for(o.s();!(n=o.n()).done;){var s=n.value;r.add(s)}}catch(m){o.e(m)}finally{o.f()}var u=[],l=[];for(u.push(e);u.length>0;){var c=u[u.length-1];if(r.has(c.name))u.pop();else{var d=l[l.length-1]===u.length-1;if(0===c.inputs.length||d)u.pop(),a.push(c),r.add(c.name),d&&l.pop();else{l.push(u.length-1);var f,p=Yr(c.inputs);try{for(p.s();!(f=p.n()).done;){var h=f.value;null==i[h.name]&&(i[h.name]=new Set),i[h.name].add(c.name),!r.has(h.name)&&u.push(h)}}catch(m){p.e(m)}finally{p.f()}}}}return{sorted:a,recipientMap:i}}function tk(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,i=Yr(e.sourceLayer.inboundNodes[r].outputTensors);try{for(i.s();!(a=i.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(o){i.e(o)}finally{i.f()}}t=e.sourceLayer.getOutputAt(n)}return t}Hi().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(function(){return 100}),(function(e){null!=Kw&&Kw.setMaxEntries(e),null!=Jw&&Jw.setMaxEntries(e)}));var nk={kernelName:qi,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,Wv(qd(n,"float32"),-1))}}}},rk={kernelName:Ki,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){var t=Zm(qd(n,"float32")),r=zm(bg(Lm(1),t));return qf(nh(e,r))}}}},ak={kernelName:Ji,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){var t=zm(bg(Zm(qd(n,"float32")),1));return nh(e,t)}}}},ik={kernelName:Qi,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=e,n=tp(r.shape,i);return n.length>0&&(t=Wm(t,n)),Mh(t,r.shape)},b:function(){var t=e,n=tp(a.shape,i);return n.length>0&&(t=Wm(t,n)),Mh(t,a.shape)}}}},ok={kernelName:$i,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},sk={kernelName:no,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return xm(n)}}}},uk={kernelName:ro,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return xm(n)}}}},lk={kernelName:ao,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,zm(bg(Lm(1),Zm(qd(n,"float32")))))}}}},ck={kernelName:io,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){var t=zm(eh(Lm(1),Zm(qd(n,"float32"))));return nh(e,t)}}}},dk={kernelName:uo,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=eh(Zm(r),Zm(a)),n=rh(e,nh(a,t)),o=tp(r.shape,i);return o.length>0&&(n=Wm(n,o)),Mh(n,r.shape)},b:function(){var t=eh(Zm(r),Zm(a)),n=qf(rh(e,nh(r,t))),o=tp(a.shape,i);return o.length>0&&(n=Wm(n,o)),Mh(n,a.shape)}}}},fk={kernelName:oo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,eh(Zm(qd(n,"float32")),1))}}}},pk={kernelName:so,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,bg(Lm(1),Zm(qd(n,"float32"))))}}}};var hk=Lc({avgPool3dGrad_:function(e,t,n,r,a,i){var o=Rc(e,"dy","avgPool3dGrad"),s=Rc(t,"input","avgPool3dGrad"),u=o,l=s,c=!1;4===s.rank&&(c=!0,u=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=Mh(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),ei(5===u.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank ".concat(u.rank,".")})),ei(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank ".concat(l.rank,".")})),_h("avgPool3dGrad",a,i);var d={dy:u,input:l},f={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=kc.runKernel(po,d,f);return c?Mh(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),mk={kernelName:fo,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.filterSize,i=n.strides,s=n.pad,u=n.dimRoundingMode;return{x:function(){return hk(e,r,a,i,s,u)}}}};var gk=Lc({avgPoolGrad_:function(e,t,n,r,a){var i=Rc(e,"dy","avgPoolGrad"),o=Rc(t,"input","avgPoolGrad");ei(o.rank===i.rank,(function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(i.rank,")")}));var s=o,u=i,l=!1;3===o.rank&&(l=!0,s=Mh(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=Mh(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ei(4===u.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank ".concat(u.rank,".")})),ei(4===s.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank ".concat(s.rank,".")}));var c={dy:u,input:s},d={filterSize:n,strides:r,pad:a},f=kc.runKernel(co,c,d);return l?Mh(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),vk={kernelName:lo,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.filterSize,i=n.strides,s=n.pad;return{x:function(){return gk(e,r,a,i,s)}}}},yk={kernelName:ho,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.transposeA,u=n.transposeB;return s||u?!s&&u?{a:function(){return Cf(e,i,!1,!1)},b:function(){return Cf(e,a,!0,!1)}}:s&&!u?{a:function(){return Cf(i,e,!1,!0)},b:function(){return Cf(a,e,!1,!1)}}:{a:function(){return Cf(i,e,!0,!0)},b:function(){return Cf(e,a,!0,!0)}}:{a:function(){return Cf(e,i,!1,!0)},b:function(){return Cf(a,e,!0,!1)}}}},bk={kernelName:mo,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return Jg(e,r,a)}}}},xk={kernelName:vo,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var u=[],l=0;l<o.length;l++)o[l]>1&&u.push(l);return{x:function(){return Wm(e,u,!0)}}}},Ak={kernelName:bo,gradFunc:function(e){return{x:function(){return e.clone()}}}},wk={kernelName:xo,gradFunc:function(e){return{x:function(){return xm(e)}}}},kk={kernelName:Ao,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return bm(wg($m(r,a),ig(r,i)),e,xm(e))}}}},Sk={kernelName:ko,inputsToSave:["x"],gradFunc:nk.gradFunc},Ck={kernelName:So,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=hi(n.axis,t[0].shape)[0],i=r.map((function(e){return e[a]}));return Fv(e,i,a).map((function(e){return function(){return e}}))}},Ik={kernelName:Co,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.dilations,u=n.strides,l=n.pad,c=n.dataFormat;return ei(Nh(s),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '".concat(s,"'")})),{x:function(){return am(a.shape,e,i,u,l,c)},filter:function(){return vy(a,e,i.shape,u,l,c)}}}},Ek={kernelName:Eo,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.strides,u=n.pad,l=n.dataFormat,c=n.dimRoundingMode;return{dy:function(){return nm(e,i,s,u,l,1,c)},filter:function(){return vy(e,a,i.shape,s,u,l,c)}}}};var Tk=Lc({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=Mh(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=Mh(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),ei(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape ".concat(i.shape,".")})),ei(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape ".concat(o.shape,".")})),ei(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got ".concat(n,".")})),ei(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must match input depth in filter (").concat(n[3],".")})),ei(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must match output depth for filter (").concat(n[4],").")}));var s={x:i,dy:o},u={strides:r,pad:a,filterShape:n};return kc.runKernel(No,s,u)}}),Nk={kernelName:To,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;ei(Nh(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '".concat(r,"'")}));var s=(0,o.Z)(t,2),u=s[0],l=s[1];return{x:function(){return sm(u.shape,e,l,a,i)},filter:function(){return Tk(u,e,l.shape,a,i)}}}},Ok={kernelName:Po,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(qf(Cv(qd(n,"float32"))),e)}}}},Pk={kernelName:_o,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(Iv(qd(n,"float32")),e)}}}},_k={kernelName:Ro,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.axis,i=n.exclusive,s=n.reverse;return{x:function(){var t=Pm([a],r.rank),n=fm(e,a,i,!s);return null!=t&&(n=Jf(n,t)),n}}}},Mk={kernelName:zo,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,s=n.dimRoundingMode,u=null==r?[1,1]:r;ei(Nh(u),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '".concat(u,"'")}));var l=(0,o.Z)(t,2),c=l[0],d=l[1];return ei(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ".concat(c.rank,".")})),ei(4===d.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ".concat(d.rank,".")})),ei(c.shape[3]===d.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input channels (".concat(c.shape[3],") must match the inChannels dimension in filter ").concat(d.shape[2],".")})),ei(Oh(a,u),(function(){return"Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ".concat(a," and dilations '").concat(u,"'.")})),_h("depthwiseConv2d",i,s),{x:function(){return Sy(c.shape,e,d,a,i,u,s)},filter:function(){return ky(c,e,d.shape,a,i,u,s)}}}},Rk={kernelName:jo,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s={x:a,filter:i,dy:e},u={x:a,filter:i,dy:e};return{x:function(){return kc.runKernel(Vo,s,n)},filter:function(){return kc.runKernel(Ho,u,n)}}}},Fk={kernelName:Xo,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,o.Z)(t,1)[0]};return{x:function(){return kc.runKernel(Yo,n)}}}},Dk={kernelName:qo,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0],r=rh(Hm(qf(Zm(n))),2/Math.sqrt(Math.PI));return{x:function(){return rh(e,r)}}}},Lk={kernelName:Jo,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,n)}}}},zk={kernelName:Qo,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{input:function(){return Mh(e,n.shape)}}}},Zk={kernelName:$o,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,Hm(n))}}}},Wk={kernelName:rs,gradFunc:function(e){return{x:function(){return xm(e)}}}},Bk={kernelName:as,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=nh(e,qd(a,"float32")),n=tp(r.shape,i);return n.length>0?Mh(Wm(t,n),r.shape):t},b:function(){var t=rh(e,qd(r,"float32")),n=tp(a.shape,i);n.length>0&&(t=Mh(Wm(t,n),a.shape));var o=Zm(a);return qf(nh(t,qd(o,"float32")))}}}},jk={kernelName:is,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=(0,o.Z)(t,4),i=a[0],s=a[1],u=a[2],l=a[3],c=null==l?Lm(1):l,d=tp(s.shape,i.shape),f=[];if(1===s.rank){for(var p=0;p<i.shape.length-1;++p)f.push(i.shape[p]);f.push(1)}var h=bg(i,s),m=rh(e,c),g=bv(eh(u,Lm(r))),v=rh(rh(rh(g,g),g),Lm(-.5));return{x:function(){return 1===s.rank?Mh(rh(rh(e,Xm(Mh(g,[1,1,1,s.shape[0]]),f)),c),i.shape):Mh(rh(rh(e,g),c),i.shape)},mean:function(){var e=rh(rh(g,Lm(-1)),m);return 1===s.rank&&(e=Wm(e,d)),Mh(e,s.shape)},variance:function(){var e=rh(rh(v,h),m);return 1===s.rank&&(e=Wm(e,d)),Mh(e,s.shape)},scale:function(){var t=rh(h,g),n=rh(e,t);return 1===s.rank&&(n=Wm(n,d)),Mh(n,s.shape)},offset:function(){var t=e;return 1===s.rank&&(t=Wm(t,d)),Mh(t,s.shape)}}}},Vk={kernelName:os,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.axis,u=hi(s,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,u),o=r.length,l=t.slice(s,t.length).slice(1),c=l.length,d=Hk(0,o),f=Hk(o+1,o+1+c),p=Uk([r,[n],l]),h=Mh(e,p),m=Mh(i,[n]),g=Uk([[o],d,f]),v=Jf(h,g),y=Jv(v,m,a.shape[u]),b=_m(g);return y=Jf(y,b)},indices:function(){return i}}}};function Hk(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Uk(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Gk={kernelName:ls,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1];return{a:function(){return xm(r)},b:function(){return xm(a)}}}},Xk={kernelName:cs,gradFunc:function(e){return{x:function(){return qd(e,"float32")}}}},Yk={kernelName:ps,gradFunc:function(e){return{x:function(){return xm(e)}}}},qk={kernelName:hs,gradFunc:function(e){return{x:function(){return xm(e)}}}},Kk={kernelName:ms,gradFunc:function(e){return{x:function(){return xm(e)}}}},Jk={kernelName:gs,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.alpha,i=Qm(r,0);return{x:function(){return bm(i,e,rh(e,a))}}}},Qk={kernelName:As,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,eh(n,1))}}}},$k={kernelName:xs,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,qd(n,"float32"))}}}},eS={kernelName:Is,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.axis;return{logits:function(){var t=Hm(r);return bg(e,rh(Wm(e,a,!0),t))}}}};var tS=Lc({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s={x:e,y:t,dy:n},u={depthRadius:r,bias:a,alpha:i,beta:o};return kc.runKernel(Ns,s,u)}}),nS={kernelName:Ts,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.depthRadius,u=n.bias,l=n.alpha,c=n.beta;return{x:function(){return tS(a,i,e,s,u,l,c)}}}};function rS(e,t,n,r){return t.rank<n.rank&&(t=Mh(t,Nm(t.shape,r))),e.rank<n.rank&&(e=Mh(e,Nm(e.shape,r))),{x:function(){return rh(e,qd(ym(n,t),e.dtype))}}}var aS={kernelName:Os,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=rS(e,t[1],a,hi(r,a.shape));return{x:function(){return i.x()}}}},iS={kernelName:Ps,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1];return{a:function(){return rh(e,qd($m(r,a),"float32"))},b:function(){return rh(e,qd(ag(r,a),"float32"))}}}};var oS=Lc({maxPool3dGrad_:function(e,t,n,r,a,i,o){var s=Rc(e,"dy","maxPool3dGrad"),u=Rc(t,"input","maxPool3dGrad"),l=Rc(n,"output","maxPool3dGrad"),c=s,d=u,f=l,p=!1;4===u.rank&&(p=!0,c=Mh(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=Mh(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),f=Mh(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),ei(5===c.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank ".concat(c.rank,".")})),ei(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank ".concat(d.rank,".")})),ei(5===f.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank ".concat(f.rank,".")})),_h("maxPool3dGrad",i,o);var h={dy:c,input:d,output:f},m={filterSize:r,strides:a,pad:i,dimRoundingMode:o},g=kc.runKernel(Fs,h,m);return p?Mh(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),sS={kernelName:Rs,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.filterSize,u=n.strides,l=n.pad,c=n.dimRoundingMode;return{x:function(){return oS(e,a,i,s,u,l,c)}}}};var uS=Lc({maxPoolGrad_:function(e,t,n,r,a,i,o){var s=Rc(e,"dy","maxPoolGrad"),u=Rc(t,"input","maxPoolGrad"),l=Rc(n,"output","maxPoolGrad");ei(u.rank===s.rank,(function(){return"Rank of input (".concat(u.rank,") does not match rank of dy (").concat(s.rank,")")})),ei(4===s.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank ".concat(s.rank,".")})),ei(4===u.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank ".concat(u.rank,".")})),_h("maxPoolGrad",i,o);var c={dy:s,input:u,output:l},d={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return kc.runKernel(Ms,c,d)}}),lS={kernelName:_s,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=n.filterSize,u=n.strides,l=n.pad;return{x:function(){return uS(e,a,i,s,u,l)}}}},cS={kernelName:Ls,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=hi(n.axis,r.shape),i=ai(Tm(r.shape,a)[1]);return{x:function(){var t=r.shape.slice();a.forEach((function(e){t[e]=1}));var n=Mh(e,t);return nh(rh(n,Fg(r.shape,"float32")),i)}}}},dS={kernelName:zs,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=(0,o.Z)(t,2),i=a[0],s=rS(e,a[1],i,hi(r,i.shape));return{x:function(){return s.x()}}}},fS={kernelName:Zs,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1];return{a:function(){return rh(e,qd(ig(r,a),"float32"))},b:function(){return rh(e,qd(Qm(r,a),"float32"))}}}},pS={kernelName:Ws,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return zh(e,a,r.shape)}}}},hS={kernelName:Bs,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=tp(r.shape,i);return t.length>0?Mh(Wm(e,t),r.shape):e},b:function(){var t=rh(e,qf(Km(nh(r,a)))),n=tp(a.shape,i);return n.length>0?Mh(Wm(t,n),a.shape):t}}}},mS={kernelName:Vs,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=rh(e,qd(a,"float32")),n=tp(r.shape,i);return n.length>0?Mh(Wm(t,n),r.shape):t},b:function(){var t=rh(e,qd(r,"float32")),n=tp(a.shape,i);return n.length>0?Mh(Wm(t,n),a.shape):t}}}},gS={kernelName:Hs,gradFunc:function(e){return{x:function(){return qf(e)}}}},vS={kernelName:Ks,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Rg(n.shape,"float32")}}}},yS={kernelName:qs,gradFunc:function(e){return{x:function(){return xm(e)}}}},bS={kernelName:Js,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return Qv(e,r).map((function(e){return function(){return e}}))}},xS={kernelName:Qs,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return zh(e,a,r.shape)}}}},AS={kernelName:eu,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,o.Z)(t,3),r=n[0],a=n[1],i=n[2],s=r,u=a,l=np(s.shape,u.shape);return{a:function(){var t=qd(u,"float32"),n=rh(e,rh(t,Dm(s,bg(t,Lm(1))))),r=tp(s.shape,l);return r.length>0&&(n=Wm(n,r)),Mh(n,s.shape)},b:function(){var t=Qm(s,0),n=bm(t,ug(s),xm(s)),r=rh(e,rh(i,n)),a=tp(u.shape,l);return a.length>0&&(r=Wm(r,a)),Mh(r,u.shape)}}}},wS={kernelName:tu,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=Qm(r,0);return{x:function(){return bm(i,e,rh(e,a))},alpha:function(){var t=bm(i,xm(e),rh(e,r)),n=tp(a.shape,e.shape);return n.length>0&&(t=Wm(t,n)),Mh(t,a.shape)}}}};function kS(e,t,n){var r=e.shape.length,a=r-n.length,i=Xb.getAxesPermutation(n,r),o=e;null!=i&&(o=Jf(e,i));var s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce((function(e,t){return e*t}),1);s.push(u);var l=function(e,t,n){var r=e.shape.slice();r[n]=1;var a=Mh(t,r),i=dm(e,n,!0,!1),o=dm(e,n,!0,!0),s=rh(i,o);return rh(a,s)}(o.reshape(s),t,a);if(l=l.reshape(o.shape),null!=i){var c=Xb.getUndoAxesPermutation(i);l=Jf(l,c)}return l}var SS={kernelName:nu,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.axis,i=[];return i=null==a?r.shape.map((function(e,t){return t})):"number"==typeof a?[a]:a,{x:function(){return kS(r,e,i)}}}},CS={kernelName:Uo,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=nh(e,qd(a,"float32")),n=tp(r.shape,i);return n.length>0?Mh(Wm(t,n),r.shape):t},b:function(){var t=rh(e,qd(r,"float32")),n=tp(a.shape,i);n.length>0&&(t=Mh(Wm(t,n),a.shape));var o=Zm(a);return qf(nh(t,qd(o,"float32")))}}}},IS={kernelName:iu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,qf(Zm(n)))}}}},ES={kernelName:fu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0],r=rh(ig(n,6),Wv(n));return{x:function(){return rh(e,qd(r,"float32"))}}}},TS={kernelName:ou,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,qd(Wv(n),"float32"))}}}},NS={kernelName:su,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return Mh(e,n.shape)}}}},OS={kernelName:cu,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,o.Z)(t,1)[0]};return{images:function(){return kc.runKernel(du,r,n)}}}},PS={kernelName:uu,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,o.Z)(t,1)[0]};return{images:function(){return kc.runKernel(lu,r,n)}}}},_S={kernelName:pu,gradFunc:function(e,t,n){var r=hi(n.dims,e.shape);return{x:function(){return pv(e,r)}}}},MS={kernelName:hu,gradFunc:function(e){return{x:function(){return xm(e)}}}},RS={kernelName:mu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return qf(nh(e,rh(Dm(n,1.5),2)))}}}},FS={kernelName:yu,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{condition:function(){return qd(xm(n),"float32")},t:function(){return rh(e,qd(n,e.dtype))},e:function(){return rh(e,qd(kg(n),e.dtype))}}}},DS={kernelName:bu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){var t=Qm(n,Lm(0)),r=Lm(ax),a=Lm(ix),i=rh(e,a),o=rh(rh(e,r),Hm(qd(n,"float32")));return bm(t,i,o)}}}},LS={kernelName:Su,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,rh(n,bg(Lm(1),n)))}}}},zS={kernelName:ku,gradFunc:function(e){return{x:function(){return xm(e)}}}},ZS={kernelName:Au,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(lm(qd(n,"float32")),e)}}}},WS={kernelName:wu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(cm(qd(n,"float32")),e)}}}},BS={kernelName:xu,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,o.Z)(t,1)[0],a=n.begin,i=n.size,s=r.shape,u=Rp(r,a,i),l=(0,o.Z)(u,2),c=l[0],d=l[1],f=[],p=0;p<e.rank;p++)f.push([c[p],s[p]-c[p]-d[p]]);return{x:function(){return Gg(e,f)}}}},jS={kernelName:Ou,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.dim,i=rh(e,r);return{logits:function(){return bg(i,rh(Wm(i,[a],true),r))}}}},VS={kernelName:Cu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,Lh(n))}}}},HS={kernelName:Tu,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Bh(e,r,a)}}}},US={kernelName:Nu,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return Dh(e,r)}}}},GS={kernelName:Iu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,rh(zm(qd(n,"float32")),2))}}}},XS={kernelName:Lu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(e,rh(qd(n,"float32"),2))}}}},YS={kernelName:Du,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=Lm(2);return{a:function(){return rh(e,rh(i,bg(r,a)))},b:function(){return rh(e,rh(i,bg(a,r)))}}}},qS={kernelName:el,gradFunc:function(e){return{x:function(){return xm(e)}}}},KS={kernelName:ju,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],i=np(r.shape,a.shape);return{a:function(){var t=e,n=tp(r.shape,i);return n.length>0&&(t=Wm(t,n)),Mh(t,r.shape)},b:function(){var t=e,n=tp(a.shape,i);return n.length>0&&(t=Wm(t,n)),Mh(qf(t),a.shape)}}}},JS={kernelName:Eu,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=r.shape.slice();hi(n.axis,r.shape).forEach((function(e){a[e]=1}));var i=Mh(e,a),s=rh(i,Fg(r.shape,"float32"));return{x:function(){return s}}}},QS={kernelName:Vu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return nh(e,Zm(lm(n)))}}}},$S={kernelName:Hu,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return rh(bg(Lm(1),Zm(n)),e)}}}},eC={kernelName:Uu,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,o.Z)(t,1)[0],a=n.reps;return{x:function(){var t=xm(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=eh(t,zh(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=eh(t,zh(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var u=0;u<a[1];++u)for(var l=0;l<a[2];++l)t=eh(t,zh(e,[s*r.shape[0],u*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-".concat(r.rank," tensors yet."));for(var c=0;c<a[0];++c)for(var d=0;d<a[1];++d)for(var f=0;f<a[2];++f)for(var p=0;p<a[3];++p)t=eh(t,zh(e,[c*r.shape[0],d*r.shape[1],f*r.shape[2],p*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},tC={kernelName:Yu,gradFunc:function(e,t,n){var r=_m(n.perm);return{x:function(){return Jf(e,r)}}}},nC={kernelName:Ku,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return Zv(e,r)}}}},rC={kernelName:Ju,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,o.Z)(t,1)[0];return{x:function(){return function(e,t){for(var n=_g(t,xm(t)),r=Jm(e,n),a=$m(t,Lm(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=Um(a,o+1);a=wg(a,Fg(r.shape,"bool"));var s=xm(r);return bm(a,r,s)}(e,n)}}}};for(var aC={kernelName:$u,gradFunc:function(e){return{x:function(){return xm(e)}}}},iC=0,oC=[nk,rk,ak,ik,ok,sk,uk,lk,ck,dk,fk,pk,mk,vk,yk,bk,xk,Ak,wk,kk,Sk,Ck,Ek,Ik,Nk,Ok,Pk,_k,Mk,Rk,CS,Fk,Dk,Lk,zk,Zk,Bk,Wk,jk,Vk,Gk,Xk,Yk,qk,Kk,Jk,Qk,$k,eS,nS,aS,aS,iS,sS,lS,cS,dS,fS,pS,hS,mS,gS,vS,yS,bS,xS,xS,AS,wS,SS,IS,ES,TS,NS,OS,PS,_S,MS,RS,FS,DS,LS,zS,ZS,WS,BS,jS,VS,HS,HS,US,US,GS,YS,XS,qS,KS,JS,QS,$S,eC,tC,nC,rC,aC];iC<oC.length;iC++){hl(oC[iC])}var sC={};function uC(e,t){return Ff((function(){return zm(Wm(rh(e,e),t,!0))}))}Aa(sC,{maxNorm:function(){return yC},minMaxNorm:function(){return AC},nonNeg:function(){return xC},unitNorm:function(){return bC}});var lC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(Lp.Serializable),cC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=this;return Ff((function(){var n=uC(e,t.axis),r=Jh(n,0,t.maxValue);return rh(e,nh(r,eh(HA(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(lC);cC.className="MaxNorm",Lp.registerClass(cC);var dC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=this;return Ff((function(){return nh(e,eh(HA(),uC(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(lC);dC.className="UnitNorm",Lp.registerClass(dC);var fC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return dv(e)}}]),n}(lC);fC.className="NonNeg",Lp.registerClass(fC);var pC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=this;return Ff((function(){var n=uC(e,t.axis),r=eh(rh(t.rate,Jh(n,t.minValue,t.maxValue)),rh(1-t.rate,n));return rh(e,nh(r,eh(HA(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(lC);pC.className="MinMaxNorm",Lp.registerClass(pC);var hC={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function mC(e){return uA(e)}function gC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cA(e,Lp.SerializationMap.getMap().classNameMap,t,"constraint")}function vC(e){return null==e?null:"string"==typeof e?gC({className:e in hC?hC[e]:e,config:{}}):e instanceof lC?e:gC(e)}function yC(e){return new cC(e)}function bC(e){return new dC(e)}function xC(){return new fC}function AC(e){return new pC(e)}var wC={};function kC(){return new fw}function SC(){return new pw}function CC(e){return new hw(e)}function IC(e){return new mw(e)}function EC(e){return new gw(e)}function TC(e){return new vw(e)}function NC(e){return new yw(e)}function OC(e){return new bw(e)}function PC(e){return new xw(e)}function _C(e){return new Aw(e)}function MC(e){return new ww(e)}function RC(e){return new kw(e)}function FC(e){return new Sw(e)}function DC(e){return new Cw(e)}function LC(e){return new Iw(e)}Aa(wC,{constant:function(){return CC},glorotNormal:function(){return _C},glorotUniform:function(){return PC},heNormal:function(){return MC},heUniform:function(){return RC},identity:function(){return NC},leCunNormal:function(){return FC},leCunUniform:function(){return DC},ones:function(){return SC},orthogonal:function(){return LC},randomNormal:function(){return EC},randomUniform:function(){return IC},truncatedNormal:function(){return TC},varianceScaling:function(){return OC},zeros:function(){return kC}});var zC={};function ZC(e){return WC.apply(this,arguments)}function WC(){return WC=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(i in n=[],r=[],a=[],t)"number"!=typeof(o=t[i])&&(s=o,n.push(s.data()),r.push(i),a.push(s));if(!(n.length>0)){e.next=10;break}return e.next=7,Promise.all(n);case 7:for(u=e.sent,l=0;l<u.length;++l)t[r[l]]=u[l][0];Df(a);case 10:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function BC(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}Aa(zC,{Layer:function(){return Uw},RNN:function(){return IT},RNNCell:function(){return ET},activation:function(){return qN},add:function(){return aO},alphaDropout:function(){return YO},average:function(){return iO},averagePooling1d:function(){return hO},averagePooling2d:function(){return vO},averagePooling3d:function(){return xO},avgPool1d:function(){return mO},avgPool2d:function(){return yO},avgPool3d:function(){return AO},avgPooling1d:function(){return gO},avgPooling2d:function(){return bO},avgPooling3d:function(){return wO},batchNormalization:function(){return dO},bidirectional:function(){return WO},concatenate:function(){return oO},conv1d:function(){return WN},conv2d:function(){return BN},conv2dTranspose:function(){return jN},conv3d:function(){return VN},conv3dTranspose:function(){return HN},convLstm2d:function(){return DO},convLstm2dCell:function(){return LO},cropping2D:function(){return GN},dense:function(){return KN},depthwiseConv2d:function(){return YN},dot:function(){return cO},dropout:function(){return JN},elu:function(){return RN},embedding:function(){return rO},flatten:function(){return $N},gaussianDropout:function(){return XO},gaussianNoise:function(){return GO},globalAveragePooling1d:function(){return kO},globalAveragePooling2d:function(){return SO},globalMaxPool1d:function(){return jO},globalMaxPool2d:function(){return VO},globalMaxPooling1d:function(){return CO},globalMaxPooling2d:function(){return IO},gru:function(){return OO},gruCell:function(){return PO},input:function(){return kE},inputLayer:function(){return MN},layerNormalization:function(){return fO},leakyReLU:function(){return DN},lstm:function(){return _O},lstmCell:function(){return MO},masking:function(){return qO},maxPool1d:function(){return HO},maxPool2d:function(){return UO},maxPooling1d:function(){return EO},maxPooling2d:function(){return TO},maxPooling3d:function(){return NO},maximum:function(){return sO},minimum:function(){return uO},multiply:function(){return lO},permute:function(){return nO},prelu:function(){return LN},reLU:function(){return FN},repeatVector:function(){return eO},reshape:function(){return tO},rnn:function(){return zO},separableConv2d:function(){return UN},simpleRNN:function(){return RO},simpleRNNCell:function(){return FO},softmax:function(){return zN},spatialDropout1d:function(){return QN},stackedRNNCells:function(){return ZO},thresholdedReLU:function(){return ZN},timeDistributed:function(){return BO},upSampling2d:function(){return XN},zeroPadding2d:function(){return pO}});var jC=function(){function e(){(0,Ur.Z)(this,e),this.validationData=null}return(0,Gr.Z)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),VC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,Ur.Z)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return(0,Gr.Z)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=Yr(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=Yr(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yr(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yr(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yr(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=Yr(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Yr(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=Yr(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),HC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.call(this)}return(0,Gr.Z)(n,[{key:"onEpochBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"==typeof t)o.totals.hasOwnProperty(e)||(o.totals[e]=0),o.totals[e]=o.totals[e]+t*r;else{var a;e in o.totals?a=o.totals[e]:o.totals[e]=0;var i=Ff((function(){return eh(o.totals[e],rh(t,r))}));o.totals[e]=i,null!=a&&a.dispose()}},n)a(i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){r=Yr(this.params.metrics);try{for(i=function(){var e=a.value;null!=o.totals[e]&&("number"==typeof o.totals[e]?n[e]=o.totals[e]/o.seen:Ff((function(){var t=rh(nh(1,o.seen),o.totals[e]);n[e]=t,o.totals[e].dispose(),Lf(n[e])})))},r.s();!(a=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(jC),UC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!=typeof i[o]&&(s=i[o],t.push(s.data()),n.push(a),r.push(o));return e.next=4,Promise.all(t);case 4:for(u=e.sent,l=0;l<u.length;++l)this.history[n[l]][r[l]].dispose(),this.history[n[l]][r[l]]=u[l][0];case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jC),GC=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;if((0,Ur.Z)(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||Gb,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return bl.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():bl.now();return function(){var i=null!=n?n():bl.now();return i-a<t||(a=i,r=e.apply(void 0,arguments)),r}}(a.maybeWait.bind((0,Dr.Z)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,(0,Br.Z)(a)}return(0,Gr.Z)(n,[{key:"maybeWait",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],e.t0=null!=this.yield,!e.t0){e.next=6;break}return e.next=5,ZC(r);case 5:a.push(this.yield(t,n,r));case 6:return a.push(this.nextFrameFunc()),e.next=9,Promise.all(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,e.t0=null!=this.epochBegin,!e.t0){e.next=7;break}return e.next=5,ZC(n);case 5:return e.next=7,this.epochBegin(t,n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],e.t0=null!=this.epochEnd,!e.t0){e.next=6;break}return e.next=5,ZC(n);case 5:r.push(this.epochEnd(t,n));case 6:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=9,Promise.all(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null!=this.batchBegin,!e.t0){e.next=6;break}return e.next=4,ZC(n);case 4:return e.next=6,this.batchBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],e.t0=null!=this.batchEnd,!e.t0){e.next=6;break}return e.next=5,ZC(n);case 5:r.push(this.batchEnd(t,n));case 6:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):bl.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=9,Promise.all(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null!=this.trainBegin,!e.t0){e.next=6;break}return e.next=4,ZC(t);case 4:return e.next=6,this.trainBegin(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null!=this.trainEnd,!e.t0){e.next=6;break}return e.next=4,ZC(t);case 4:return e.next=6,this.trainEnd(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jC);function XC(e,t){return null==e&&(e={}),e instanceof jC?[e]:Array.isArray(e)&&e[0]instanceof jC?e:aA(e).map((function(e){return new GC(e,t)}))}var YC=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){bl.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors)e.constructors[+n].forEach((function(e){if(e===t)throw new Kx("Duplicate callback constructor.")}))}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,(0,qr.Z)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}(),qC=YC;function KC(e,t,n,r,a,i,o,s,u){var l=new UC,c=[new HC].concat((0,qr.Z)(qC.createCallbacks(t)));null!=e&&c.push.apply(c,(0,qr.Z)(e)),c.push(l);var d=new VC(c);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:d,history:l}}function JC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return cA(e,Lp.SerializationMap.getMap().classNameMap,t,"layer",n)}function QC(e,t){return Ff((function(){"float32"!==e.dtype&&(e=qd(e,"float32"));var n=Wm(rw(e),t,!0),r=qm(n.shape,HA()),a=zm(_g(n,r));return nh(e,a)}))}function $C(e,t){return Ff((function(){return Mg(rw(bg(t,e)),-1)}))}function eI(e,t){return Ff((function(){return Mg(ah(bg(t,e)),-1)}))}function tI(e,t){return Ff((function(){var n=bg(e,t),r=Jh(ah(e),HA(),Number.MAX_VALUE),a=ah(nh(n,r));return rh(100,Mg(a,-1))}))}function nI(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ff((function(){if(n)t=Pv(t);else{var r=Wm(t,t.shape.length-1,!0);t=nh(t,r)}return t=Jh(t,HA(),1-HA()),qf(Wm(rh(qd(e,"float32"),ug(t)),t.shape.length-1))}))}function rI(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ff((function(){var r=qd(Km(XA(e)),"int32"),a=(t=Jh(t,HA(),1-HA())).shape;return nI(Mh(If(r,a[a.length-1]),a),t,n)}))}function aI(e,t){return Ff((function(){var n;return n=Jh(t,HA(),1-HA()),n=ug(nh(n,bg(1,n))),Mg(function(e,t){if(!bl.arraysEqual(e.shape,t.shape))throw new Kx("logits and labels must have the same shape, but got shapes ".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Ff((function(){var n=dv(t),r=qf(ah(t));return eh(bg(n,rh(t,e)),lg(Hm(r)))}))}(e,n),-1)}))}function iI(e,t){return Ff((function(){var n=QC(e,-1),r=QC(t,-1),a=rh(n,r);return qf(Wm(a,-1))}))}qC.constructors={};var oI={meanSquaredError:$C,meanAbsoluteError:eI,meanAbsolutePercentageError:tI,meanSquaredLogarithmicError:function(e,t){return Ff((function(){var n=Jh(t,HA(),Number.MAX_VALUE),r=ug(eh(1,n)),a=Jh(e,HA(),Number.MAX_VALUE),i=ug(eh(1,a));return Mg(rw(bg(r,i)),-1)}))},squaredHinge:function(e,t){return Ff((function(){var n=_g(0,bg(1,rh(e,t)));return Mg(rw(n),-1)}))},hinge:function(e,t){return Ff((function(){var n=_g(0,bg(1,rh(e,t)));return Mg(n,-1)}))},categoricalHinge:function(e,t){return Ff((function(){var n=Wm(rh(e,t),-1),r=Rm(rh(bg(1,e),t),-1);return _g(0,eh(1,bg(r,n)))}))},logcosh:function(e,t){return Ff((function(){var n=Math.log(2),r=bg(t,e),a=bg(eh(r,vg(rh(-2,r))),n);return Mg(a,-1)}))},categoricalCrossentropy:nI,sparseCategoricalCrossentropy:rI,binaryCrossentropy:aI,kullbackLeiblerDivergence:function(e,t){return Ff((function(){var n=Jh(e,HA(),1),r=Jh(t,HA(),1);return Wm(rh(e,ug(nh(n,r))),-1)}))},poisson:function(e,t){return Ff((function(){var n=ug(eh(HA(),t));return Mg(bg(t,rh(e,n)),-1)}))},cosineProximity:iI};function sI(e){if("string"==typeof e){if(e in oI)return oI[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy')),new Kx(t)}return e}function uI(e,t){return Ff((function(){var n=rh(.5,Hg(t)),r=UA(Qm(t,n),e.dtype);return Mg(ym(e,r),-1)}))}function lI(e,t){return Ff((function(){return UA(ym(ch(e,-1),ch(t,-1)),"float32")}))}function cI(e,t){return Ff((function(){return qd(Wm(wg(ym(e,1),ym(t,1))),"float32")}))}function dI(e,t){return Ff((function(){var n=cI(e,t),r=function(e,t){return Ff((function(){return qd(Wm(wg(ym(e,0),ym(t,1))),"float32")}))}(e,t),a=eh(n,r);return qd(bm(Qm(a,0),nh(n,a),0),"float32")}))}function fI(e,t){return Ff((function(){var n=cI(e,t),r=function(e,t){return Ff((function(){return qd(Wm(wg(ym(e,1),ym(t,0))),"float32")}))}(e,t),a=eh(n,r);return qd(bm(Qm(a,0),nh(n,a),0),"float32")}))}function pI(e,t){return aI(e,t)}function hI(e,t){return e.rank===t.rank&&(e=zv(e,[e.rank-1])),(t=ch(t,-1)).dtype!==e.dtype&&(t=qd(t,e.dtype)),qd(ym(e,t),"float32")}var mI=nI,gI=rI,vI={binaryAccuracy:uI,categoricalAccuracy:lI,precision:dI,categoricalCrossentropy:mI,sparseCategoricalCrossentropy:gI,mse:$C,MSE:$C,mae:eI,MAE:eI,mape:tI,MAPE:tI,cosine:iI};function yI(e){if("string"==typeof e&&e in vI)return vI[e];if("string"!=typeof e&&null!=e)return e;throw new Kx("Unknown metric ".concat(e))}function bI(e){if(tA(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"==typeof e)return e;for(var t,n=0,r=Object.keys(oI);n<r.length;n++){var a=r[n];if(oI[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(vI);i<o.length;i++){var s=o[i];if(vI[s]===e){t=s;break}}return void 0!==t?t:e.name}var xI=1048576;function AI(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!wI(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>xI&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in size (length=').concat(r.length," when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ").concat(xI,"."))}}function wI(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!=typeof r||!wI(e[r]))return!1}return!0}if(Array.isArray(e)){var a,i=Yr(e);try{for(i.s();!(a=i.n()).done;){if(!wI(a.value))return!1}}catch(s){i.e(s)}finally{i.f()}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function kI(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=CI(e),o=["Layer (type)","Input Shape","Output shape","Param #"];if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,(0,qr.Z)(e.nodesByDepth[s]))}a("_".repeat(t)),II(o,n,a),a("=".repeat(t));for(var l=e.layers,c=0;c<l.length;++c)i?EI(l[c],n,a):TI(l[c],n,r,a),a((c===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=SI(e),f=Fw(e.nonTrainableWeights);a("Total params: ".concat(d+f)),a("Trainable params: ".concat(d)),a("Non-trainable params: ".concat(f)),a("_".repeat(t))}function SI(e){return null!=e.collectedTrainableWeights?Fw(e.collectedTrainableWeights):Fw(e.trainableWeights)}function CI(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,qr.Z)(s))}if(t){var u,l=Yr(e.layers);try{for(l.s();!(u=l.n()).done;){var c,d=u.value,f=!1,p=Yr(d.inboundNodes);try{for(p.s();!(c=p.n()).done;){var h=c.value;if(-1!==r.indexOf(h)){if(f){t=!1;break}f=!0}}}catch(m){p.e(m)}finally{p.f()}if(!t)break}}catch(m){l.e(m)}finally{l.f()}}return t}function II(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function EI(e,t,n){var r,a;try{a=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(s){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(s){r="multiple"}var i=e.name,o=e.getClassName();II(["".concat(i," (").concat(o,")"),a,r,e.countParams().toString()],t,n)}function TI(e,t,n,r){var a,i;try{i=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(v){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(v){a="multiple"}var o,s=[],u=Yr(e.inboundNodes);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var c=0;c<l.inboundLayers.length;++c){var d=l.inboundLayers[c].name,f=l.nodeIndices[c],p=l.tensorIndices[c];s.push("".concat(d,"[").concat(f,"][").concat(p,"]"))}}}catch(y){u.e(y)}finally{u.f()}var h=e.name,m=e.getClassName(),g=0===s.length?"":s[0];II(["".concat(h," (").concat(m,")"),i,a,e.countParams().toString(),g],t,r);for(var v=1;v<s.length;++v)II(["","","","",s[v]],t,r)}function NI(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function OI(e,t){if(null===e)return null;if("string"==typeof e)return oA(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];NI(t,a,i)?n.push(i):n.push(OI(i,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l];if("name"===l&&"string"==typeof c)o[l]=c;else{var d=oA(l);o[d]=OI(c,d)}}return o}function PI(e,t){if(null==e)return null;if("string"==typeof e)return iA(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];NI(t,a,i)?n.push(i):n.push(PI(i,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l],d=iA(l);o[d]="name"!==l&&"className"!==l||"string"!=typeof c?PI(c,l):c}return o}var _I="0.0.0",MI=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=wA(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],fA(r.inputs).length!==r.inputs.length)throw new Kx("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ".concat(r.inputs.map((function(e){return e.name}))));fA(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var i,o=Yr(r.outputs);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.sourceLayer,l=s.nodeIndex,c=s.tensorIndex;r.outputLayers.push(u),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(c)}}catch(xe){o.e(xe)}finally{o.f()}var d,f=Yr(r.inputs);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=p.sourceLayer,m=p.nodeIndex,g=p.tensorIndex;tA(0===m,"input layer has >1 nodes"),tA(0===g,"input layer has >1 tensors"),r.inputLayers.push(h),r.inputLayersNodeIndices.push(m),r.inputLayersTensorIndices.push(g)}}catch(xe){f.e(xe)}finally{f.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var v=0;v<r.inputLayers.length;v++){var y=r.inputLayers[v];if(!(y instanceof Xw))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: ".concat(e.inputs,". Input ").concat(v," (0-based) originates from layer type ").concat(y.getClassName(),"."));r.inputNames.push(y.name),r.feedInputShapes.push(y.batchInputShape),r.feedInputNames.push(y.name)}var b,x=Yr(r.outputLayers);try{for(x.s();!(b=x.n()).done;){var A=b.value;r.outputNames.push(A.name)}}catch(xe){x.e(xe)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var w,k={},S={},C={},I={},E={},T=[],N=function e(t,a,i,o,s,u){(null==o||null==s||null==u)&&(o=t.sourceLayer,s=t.nodeIndex,u=t.tensorIndex);var l=o.inboundNodes[s];if(-1!==i.indexOf(l))throw new qx("The tensor ".concat(t.name,' at layer "').concat(o.name,'" is part of a cycle.'));if(-1===a.indexOf(l)){r.containerNodes.add(n.nodeKey(o,s)),o.id in E||(E[o.id]=Object.keys(E).length),-1===i.indexOf(l)&&i.push(l);for(var c=l.inboundLayers.length,d=0;d<c;d++){e(l.inputTensors[d],a,i,l.inboundLayers[d],l.nodeIndices[d],l.tensorIndices[d])}for(a.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);T.push(l)}},O=[],P=[],_=Yr(r.outputs);try{for(_.s();!(w=_.n()).done;){N(w.value,O,P)}}catch(xe){_.e(xe)}finally{_.f()}var M,R=Yr(T.slice().reverse());try{for(R.s();!(M=R.n()).done;){var F=M.value;S[F.id]=F,F.id in k||(k[F.id]=0);var D=k[F.id],L=null==C[F.outboundLayer.id]?0:C[F.outboundLayer.id];D=Math.max(D,L),C[F.outboundLayer.id]=D,I[F.outboundLayer.id]=F.outboundLayer,k[F.id]=D;for(var z=0;z<F.inboundLayers.length;z++){var Z=F.inboundLayers[z],W=F.nodeIndices[z],B=Z.inboundNodes[W],j=null==k[B.id]?0:k[B.id];k[B.id]=Math.max(D+1,j),S[B.id]=B}}}catch(xe){R.e(xe)}finally{R.f()}var V={};for(var H in k){var U=k[H];U in V||(V[U]=[]),V[U].push(S[H])}var G={};for(var X in C){var Y=C[X];Y in G||(G[Y]=[]),G[Y].push(I[X])}var q=Object.keys(G).map((function(e){return parseInt(e,10)})).sort(dA);r.layers=[];var K,J=Yr(q);try{for(J.s();!(K=J.n()).done;){var Q=G[K.value];Q.sort((function(e,t){var n=E[e.id],r=E[t.id];return n<r?-1:n>r?1:0}));var $,ee=Yr(Q);try{for(ee.s();!($=ee.n()).done;){var te=$.value;te instanceof n&&r.internalContainerRefs.push(te),r.layers.push(te)}}catch(xe){ee.e(xe)}finally{ee.f()}}}catch(xe){J.e(xe)}finally{J.f()}r.layersByDepth=G,q=Object.keys(V).map((function(e){return parseInt(e,10)})).sort(dA);var ne,re=r.inputs.slice(),ae=[],ie=Yr(q);try{for(ie.s();!(ne=ie.n()).done;){var oe,se=Yr(V[ne.value]);try{for(se.s();!(oe=se.n()).done;){var ue=oe.value,le=ue.outboundLayer;if(null!=le){var ce,de=Yr(ue.inputTensors);try{for(de.s();!(ce=de.n()).done;){var fe=ce.value;if(-1===re.indexOf(fe))throw new qx("Graph disconnected: cannot obtain value for tensor ".concat(fe,' at layer "').concat(le.name,'". The following previous layers were accessed without issue: ').concat(ae))}}catch(xe){de.e(xe)}finally{de.f()}var pe,he=Yr(ue.outputTensors);try{for(he.s();!(pe=he.n()).done;){var me=pe.value;re.push(me)}}catch(xe){he.e(xe)}finally{he.f()}ae.push(le.name)}}}catch(xe){se.e(xe)}finally{se.f()}}}catch(xe){ie.e(xe)}finally{ie.f()}r.nodesByDepth=V;var ge,ve=r.layers.map((function(e){return e.name})),ye=Yr(ve);try{var be=function(){var e=ge.value,t=ve.filter((function(t){return t===e})).length;if(1!==t)throw new qx('The name "'.concat(e,'" is used ').concat(t," times in the model. All layer names should be unique. Layer names: ")+JSON.stringify(ve))};for(ye.s();!(ge=ye.n()).done;)be()}catch(xe){ye.e(xe)}finally{ye.f()}return r.outboundNodes=[],r.inboundNodes=[],new Vw({outboundLayer:(0,Dr.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=Yr(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(s){n.e(s)}finally{n.f()}var a,i=Yr(this.internalContainerRefs);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(s){i.e(s)}finally{i.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new Kx("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=Yr(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Yr(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,qr.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,i=[],o=Yr(this.layers);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,(0,qr.Z)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return i.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,i=Yr(this.layers);try{for(i.s();!(t=i.n()).done;){var o,s=t.value,u=Yr(s.weights);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(null!=r[l.originalName])throw new Kx("Duplicate weight name: ".concat(l.originalName));r[l.originalName]=l,a++}}catch(g){u.e(g)}finally{u.f()}}}catch(g){i.e(g)}finally{i.f()}var c=[];for(var d in e){var f=d;if(null==r[d]){var p=d.split("/");f=p.slice(0,-2).concat([p[p.length-1]]).join("/")}if(null!=r[f])c.push([r[f],e[d]]);else if(n)throw new Kx("Provided weight data has no target variable: ".concat(d));delete r[f]}if(n){var h=[];for(var m in r)h.push(m);if(h.length>0)throw new Kx("".concat(h.length," of ").concat(a," weights are not set: ").concat(h))}Zw(c)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(_I),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=PI(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Ff((function(){e=aA(e);for(var r=new qw,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return Qw(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return Ff((function(){var r;return e=aA(e),r=null==t?eA(null,e.length):aA(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=_w(e);if(t.length!==this.inputLayers.length)throw new Kx("Invalid inputShape argument ".concat(e,": model has ").concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(dA);if(o.length>1){var s,u=Yr(o);try{for(u.s();!(s=u.n()).done;){var l,c=s.value,d=Yr(this.nodesByDepth[c]);try{for(d.s();!(l=d.n()).done;){var f=l.value,p=f.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(p.id)){for(var h=[],m=0;m<f.inboundLayers.length;m++){var g=f.inboundLayers[m],v=f.nodeIndices[m],y=f.tensorIndices[m],b=n["".concat(g.name,"_").concat(v,"_").concat(y)];h.push(b)}for(var x=_w(p.computeOutputShape(rA(h))),A=p.inboundNodes.indexOf(f),w=0;w<x.length;w++){n["".concat(p.name,"_").concat(A,"_").concat(w)]=x[w]}}}}catch(_){d.e(_)}finally{d.f()}}}catch(_){u.e(_)}finally{u.f()}}for(var k=[],S=[],C=0;C<this.outputLayers.length;C++){var I=this.outputLayers[C],E=this.outputLayersNodeIndices[C],T=this.outputLayersTensorIndices[C],N="".concat(I.name,"_").concat(E,"_").concat(T);S.push(N)}for(var O=0;O<S.length;O++){var P=S[O];tA(P in n),k.push(n[P])}return rA(k)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=eA(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],s=t[r];n[a.id]=[i,s]}var u,l=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(dA),c=Yr(l);try{for(c.s();!(u=c.n()).done;){var d,f=u.value,p=Yr(this.nodesByDepth[f]);try{for(p.s();!(d=p.n()).done;){var h,m=d.value,g=m.outboundLayer,v=m.inputTensors,y=m.outputTensors,b=new Array,x=Yr(v);try{for(x.s();!(h=x.n()).done;){var A=h.value;A.id in n&&b.push(n[A.id])}}catch(V){x.e(V)}finally{x.f()}if(b.length===v.length){var w={},k=void 0,S=void 0,C=void 0,I=void 0;if(null!=m.callArgs&&(w=m.callArgs),1===b.length){var E=(0,o.Z)(b[0],2),T=E[0],N=E[1];null==w.mask&&(w.mask=N),C=aA(g.call(T,w)),I=aA(g.computeMask(T,N)),k=[T],S=[N]}else k=b.map((function(e){return e[0]})),S=b.map((function(e){return e[1]})),null==w.mask&&(w.mask=S),C=aA(g.call(k,w)),I=aA(g.computeMask(k,S));if(g.activityRegularizer)throw new Jx("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var O=0;O<y.length;++O){var P=y[O],_=C[O],M=I[O];n[P.id]=[_,M]}}}}catch(V){p.e(V)}finally{p.f()}}}catch(V){c.e(V)}finally{c.f()}var R,F=[],D=[],L=[],z=Yr(this.outputs);try{for(z.s();!(R=z.n()).done;){var Z=R.value;tA(Z.id in n,"Could not compute output ".concat(Z.name," : ").concat(Z.id));var W=(0,o.Z)(n[Z.id],2),B=W[0],j=W[1];L.push(B.shape),F.push(B),D.push(j)}}catch(V){z.e(V)}finally{z.f()}return[F,D,L]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},i=Yr(this.layers);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=o instanceof n?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=n.nodeKey(o,s);this.containerNodes.has(u)&&(a[u]=t,t+=1)}}}catch(l){i.e(l)}finally{i.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new Kx("Was asked to retrieve layer at index ".concat(t,", but model only has ").concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new Kx("Provide either a layer name or layer index");var n,r=Yr(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(i){r.e(i)}finally{r.f()}throw new Kx("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return Ff((function(){var t,r=[],a=Yr(e.layers);try{for(a.s();!(t=a.n()).done;)for(var i=t.value,o=0;o<i.inboundNodes.length;++o){var s=n.nodeKey(i,o);e.containerNodes.has(s)&&r.push.apply(r,(0,qr.Z)(i.calculateLosses()))}}catch(u){a.e(u)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],i=Yr(this.layers);try{for(i.s();!(e=i.n()).done;){for(var o=e.value,s=o.getClassName(),u=o.getConfig(),l=[],c=0;c<o.inboundNodes.length;c++){var d=o.inboundNodes[c],f=n.nodeKey(o,c),p={};if(this.containerNodes.has(f)){if(d.callArgs)try{JSON.stringify(d.callArgs),p=d.callArgs}catch(h){console.warn("Layer ".concat(o.name," was passed non-serializable keyword arguments: ").concat(d.callArgs,". They will not be included in the serialized model (and thus will be missing at deserialization time).")),p={}}if(d.inboundLayers.length>0){for(var h=[],m=0;m<d.inboundLayers.length;m++){var g=d.inboundLayers[m],v=d.nodeIndices[m],y=d.tensorIndices[m],b=r[n.nodeKey(g,v)];null==b&&(b=0),h.push([g.name,b,y,p])}l.push(h)}}}var x={};x.name=o.name,x.className=s,x.config=u,x.inboundNodes=l,a.push(x)}}catch(F){i.e(F)}finally{i.f()}t.layers=a;for(var A=[],w=0;w<this.inputLayers.length;w++){var k=this.inputLayers[w],S=this.inputLayersNodeIndices[w],C=n.nodeKey(k,S);if(this.containerNodes.has(C)){var I=r[C];null==I&&(I=0);var E=this.inputLayersTensorIndices[w];A.push([k.name,I,E])}}t.inputLayers=A;for(var T=[],N=0;N<this.outputLayers.length;N++){var O=this.outputLayers[N],P=this.outputLayersNodeIndices[N],_=n.nodeKey(O,P);if(this.containerNodes.has(_)){var M=r[_];null==M&&(M=0);var R=this.outputLayersTensorIndices[N];T.push([O.name,M,R])}}return t.outputLayers=T,t}},{key:"stateful",get:function(){if(this._stateful)throw new Kx("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=Yr(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;Ff((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a,o=[],s=Yr(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u[0],c=u[1],d=u[2];if(n=null==u[3]?{}:u[3],!(l in r))return void i(e,t);var f=r[l];if(f.inboundNodes.length<=c)return void i(e,t);var p=f.inboundNodes[c];o.push(p.outputTensors[d])}}catch(h){s.e(h)}finally{s.f()}o.length>0&&e.apply(rA(o),n)}function s(e){var a=e.name,o=JC(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Kx("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)}))}var u,l=t.name,c=t.layers,d=Yr(c);try{for(d.s();!(u=d.n()).done;){var f=u.value;s(f)}}catch(Z){d.e(Z)}finally{d.f()}for(;!pA(a);){var p,h=Yr(c);try{for(h.s();!(p=h.n()).done;){var m=p.value,g=r[m.name];if(g.name in a){var v=a[g.name];delete a[g.name];var y,b=Yr(v);try{for(b.s();!(y=b.n()).done;){var x=y.value;o(g,x)}}catch(Z){b.e(Z)}finally{b.f()}}}}catch(Z){h.e(Z)}finally{h.f()}}var A,w=[],k=[],S=t.inputLayers,C=Yr(S);try{for(C.s();!(A=C.n()).done;){var I=A.value,E=I[0],T=I[1],N=I[2];tA(E in r);var O=r[E].inboundNodes[T].outputTensors;w.push(O[N])}}catch(Z){C.e(Z)}finally{C.f()}var P,_=t.outputLayers,M=Yr(_);try{for(M.s();!(P=M.n()).done;){var R=P.value,F=R[0],D=R[1],L=R[2];tA(F in r);var z=r[F].inboundNodes[D].outputTensors;k.push(z[L])}}catch(Z){M.e(Z)}finally{M.f()}return new e({inputs:w,outputs:k,name:l})}}]),n}(Uw);function RI(e,t){return function(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," element(s), but the model has ").concat(r," outputs. Make sure a set of weights is provided for each model output."));return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, so ").concat(n," must be either an array with ").concat(r," elements or an object with ").concat(t," keys. Provided ").concat(n," not understood: ").concat(JSON.stringify(e)))}(e,t,"classWeight")}function FI(e,t,n,r){return DI.apply(this,arguments)}function DI(){return DI=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=14;break}return i=Ff((function(){if(1===t.shape.length)return Kd(t);if(2===t.shape.length){if(t.shape[1]>1)return ch(t,1);if(1===t.shape[1])return Mh(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") during handling of class weights. The size is expected to be >= 1."))}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during handling of class weights. The rank is expected to be 1 or 2."))})),e.t0=Array,e.next=7,i.data();case 7:return e.t1=e.sent,o=e.t0.from.call(e.t0,e.t1),Df(i),s=[],e.abrupt("return",(o.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. The class ".concat(e," exists in the data but not in classWeight"));s.push(r[e])})),Vv(s,"float32")));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(e,t){return rh(e,t)}function zI(e,t){var n,r,a=t;n=a.xs,r=a.ys,bl.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ".concat(t)}));var i=ZI("input",e.inputNames,n),o=ZI("output",e.outputNames,r),s=i[0].shape[0];bl.assert(i.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset provides ").concat(i.length," inputs.  (Expected input keys: ").concat(JSON.stringify(e.inputNames),")")})),bl.assert(o.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset provides ").concat(o.length," outputs.  (Expected output keys: ").concat(JSON.stringify(e.outputNames),")")}));for(var u=function(t){bl.assert(i[t].shape[0]===s,(function(){return"Batch size mismatch: input ".concat(e.inputNames[t]," has ").concat(i[t].shape[0],"; expected  ").concat(s," based on input ").concat(e.inputNames[0],".")}))},l=0;l<i.length;l++)u(l);for(var c=function(t){bl.assert(o[t].shape[0]===s,(function(){return"Batch size mismatch: output ".concat(e.outputNames[t]," has ").concat(o[t].shape[0],"; expected  ").concat(s," based on input ").concat(e.inputNames[0],".")}))},d=0;d<o.length;d++)c(d);return{xs:i,ys:o}}function ZI(e,t,n){if(n instanceof tc)return[n];if(Array.isArray(n))return bl.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],i=Yr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(null==n[o])throw new Kx("The feature data generated by the dataset lacks the required ".concat(e," key '").concat(o,"'."));a.push(n[o])}}catch(s){i.e(s)}finally{i.f()}return a}function WI(e){if(3===e.length)throw new Jx("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function BI(e,t,n){return jI.apply(this,arguments)}function jI(){return jI=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,bl.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),bl.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),bl.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got ".concat(r.epochs)})),bl.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ".concat(r.batchesPerEpoch)})),bl.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,(i=null!=r.validationData)&&(HI(r.validationData)?bl.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ".concat(r.validationBatches)})):(u=WI(r.validationData),o=u.xs,s=u.ys)),l=t.makeTrainFunction(),c=t.getDedupedMetricsNames(),d=i?c.slice().concat(c.map((function(e){return"val_"+e}))):c.slice(),f=XC(r.callbacks,r.yieldEvery),p=null==r.verbose?1:r.verbose,h=KC(f,p,r.epochs,null,null,VI(n,r),null,i,d),m=h.callbackList,g=h.history,m.setModel(t),t.history=g,e.next=14,m.onTrainBegin();case 14:return t.stopTraining_=!1,v=null==r.initialEpoch?0:r.initialEpoch,e.next=18,n.iterator();case 18:y=e.sent;case 19:if(!(v<r.epochs)){e.next=88;break}return b={},e.next=23,m.onEpochBegin(v);case 23:if(x=0,A=0,e.t0=a,e.t0){e.next=29;break}return e.next=28,n.iterator();case 28:y=e.sent;case 29:if(a&&!(x<r.batchesPerEpoch)){e.next=81;break}return e.next=32,y.next();case 32:if(w=e.sent,!a||!w.done){e.next=36;break}return console.warn("You provided `batchesPerEpoch` as ".concat(r.batchesPerEpoch,", but your dataset iterator ran out of data after ").concat(x," batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, ").concat(r.batchesPerEpoch*r.epochs," batches). You may need to use the repeat() function when building your dataset.")),e.abrupt("break",81);case 36:if(null==w.value){e.next=63;break}return k=zI(t,w.value),S=k.xs,C=k.ys,(I={}).batch=A,I.size=S[0].shape[0],e.next=42,m.onBatchBegin(A,I);case 42:if(E=[],null==r.classWeight){e.next=55;break}T=RI(r.classWeight,t.outputNames),N=0;case 46:if(!(N<T.length)){e.next=55;break}return e.t1=E,e.next=50,FI(C[N],null,T[N]);case 50:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 52:++N,e.next=46;break;case 55:for(O=S.concat(C).concat(E),P=l(O),Df(O),_=0;_<c.length;++_)M=c[_],R=P[_],I[M]=R,Lf(R);return e.next=60,m.onBatchEnd(A,I);case 60:BC(I),A++,x++;case 63:if(!(a?x>=r.batchesPerEpoch:w.done)){e.next=77;break}if(!i){e.next=76;break}if(F=void 0,!HI(r.validationData)){e.next=74;break}return e.t3=aA,e.next=70,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 70:e.t4=e.sent,F=(0,e.t3)(e.t4),e.next=75;break;case 74:F=aA(t.evaluate(o,s,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 75:for(D=0;D<t.metricsNames.length;++D)b["val_".concat(t.metricsNames[D])]=F[D];case 76:return e.abrupt("break",81);case 77:if(!t.stopTraining_){e.next=79;break}return e.abrupt("break",81);case 79:e.next=29;break;case 81:return e.next=83,m.onEpochEnd(v,b);case 83:if(v++,!t.stopTraining_){e.next=86;break}return e.abrupt("break",88);case 86:e.next=19;break;case 88:return e.next=90,m.onTrainEnd();case 90:return e.next=92,t.history.syncData();case 92:return e.abrupt("return",t.history);case 93:return e.prev=93,t.isTraining=!1,e.finish(93);case 96:case"end":return e.stop()}}),e,null,[[4,,93,96]])}))),jI.apply(this,arguments)}function VI(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function HI(e){return"function"==typeof e.iterator}function UI(e){return"function"==typeof e.next}function GI(e,t,n){return XI.apply(this,arguments)}function XI(){return XI=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,i=t.testFunction,o=[],!(r.verbose>0)){e.next=4;break}throw new Jx("Verbose mode is not implemented yet.");case 4:if(bl.assert(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but received ".concat(JSON.stringify(r.batches))})),!UI(n)){e.next=9;break}e.t0=n,e.next=12;break;case 9:return e.next=11,n.iterator();case 11:e.t0=e.sent;case 12:s=e.t0,u=0,l=0,c=(0,Er.Z)().mark((function e(){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,o=Ff((function(){return n.value&&function(){var e=zI(t,n.value),r=e.xs,a=e.ys,s=r.concat(a),c=Ff((function(){return i(s)}));if(Df(s),0===l)for(var d=0;d<c.length;++d)o.push(Lm(0));for(var f=s[0].shape[0],p=function(e){var t=c[e],n=o[e];o[e]=Ff((function(){return eh(o[e],rh(f,t))})),l>0&&Df(n)},h=0;h<c.length;++h)p(h);Df(c),u+=f,++l}(),o})),!n.done){e.next=6;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, ".concat(r.batches," batches). You may need to use the repeat() function when building your dataset.")),e.abrupt("return","break");case 6:case"end":return e.stop()}}),e)}));case 16:if(a&&!(l<r.batches)){e.next=23;break}return e.delegateYield(c(),"t1",18);case 18:if("break"!==e.t1){e.next=21;break}return e.abrupt("break",23);case 21:e.next=16;break;case 23:for(d=0;d<o.length;++d)f=o[d],o[d]=nh(o[d],u),Df(f);return e.abrupt("return",rA(o));case 25:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function YI(e){bl.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function qI(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return YA(e,t,n-t)})):YA(e,t,n-t)}function KI(e,t){return Ff((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return KI(e,t)})):nw(e,"int32"===t.dtype?t:qd(t,"int32"))}))}function JI(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function QI(e,t,n,r,a,i,o,s,u,l,c,d,f,p,h){return $I.apply(this,arguments)}function $I(){return $I=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a,i,o,s,u,l,c,d,f,p,h,m){var g,v,y,b,x,A,w,k;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=32),null==o&&(o=1),null==d&&(d=!0),null==p&&(p=0),g=!1,null!=l&&null!=c&&(g=!0),null==m||(g=!0,null!=h)){e.next=4;break}throw new Kx("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 4:return null!=(v=t.checkNumSamples(r,i,h,"steps_per_epoch"))&&(y=VA(0,v)),null==s&&(s=1),b=KC(u,s,o,p,v,h,i,g,f),x=b.callbackList,A=b.history,x.setModel(t),t.history=A,e.next=11,x.onTrainBegin();case 11:t.stopTraining_=!1,w=(0,Er.Z)().mark((function e(o){var s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.onEpochBegin(o);case 2:if(s={},null==h){e.next=5;break}throw new Jx("stepsPerEpoch mode is not implemented yet.");case 5:return e.delegateYield((0,Er.Z)().mark((function e(){var o,u,f,p;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=2;break}throw new Jx("batch shuffling is not implemneted yet");case 2:d&&bl.shuffle(y),o=Vv(y),u=JI(v,i),f=(0,Er.Z)().mark((function e(d){var f;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={},e.next=3,x.onBatchBegin(d,f);case 3:return Ff((function(){var e=u[d][0],p=u[d][1],h=YA(o,e,p-e);f.batch=d,f.size=p-e;for(var m=KI(r,h),v=n(m),y=0;y<a.length;++y){var b=a[y],x=v[y];f[b]=x,Lf(x)}if(d===u.length-1&&g)for(var A=t.testLoop(l,c,i),w=0;w<a.length;++w){var k=a[w],S=A[w];Lf(S),s["val_"+k]=S}})),e.next=6,x.onBatchEnd(d,f);case 6:if(BC(f),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),p=0;case 6:if(!(p<u.length)){e.next=14;break}return e.delegateYield(f(p),"t0",8);case 8:if("break"!==e.t0){e.next=11;break}return e.abrupt("break",14);case 11:++p,e.next=6;break;case 14:o.dispose();case 15:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:return e.next=8,x.onEpochEnd(o,s);case 8:if(!t.stopTraining_){e.next=10;break}return e.abrupt("return","break");case 10:case"end":return e.stop()}}),e)})),k=p;case 14:if(!(k<o)){e.next=22;break}return e.delegateYield(w(k),"t0",16);case 16:if("break"!==e.t0){e.next=19;break}return e.abrupt("break",22);case 19:++k,e.next=14;break;case 22:return e.next=24,x.onTrainEnd();case 24:return e.next=26,t.history.syncData();case 26:return e.abrupt("return",t.history);case 27:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function eE(e,t,n){return tE.apply(this,arguments)}function tE(){return tE=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.length>3&&void 0!==N[3]?N[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,YI(h=null==a.batchSize?32:a.batchSize),m=!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,m,h);case 10:if(g=e.sent,i=g[0],o=g[1],p=g[2],v=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=26;break}if(v=!0,2!==a.validationData.length){e.next=18;break}l=a.validationData[0],c=a.validationData[1],e.next=19;break;case 18:throw 3===a.validationData.length?new Jx("validationData including sample weights is not supported yet."):new Kx("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ".concat(a.validationData," is invalid."));case 19:return b=!0,e.next=22,t.standardizeUserData(l,c,null,null,b,h);case 22:x=e.sent,d=x[0],f=x[1],y=d.concat(f),e.next=27;break;case 26:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(v=!0,A=Math.floor(i[0].shape[0]*(1-a.validationSplit)),w=i[0].shape[0],d=qI(i,A,w),s=i,i=qI(i,0,A),f=qI(o,A,w),u=o,o=qI(o,0,A),y=d.concat(f)):null!=a.validationSteps&&(v=!0);case 27:return k=i.concat(o).concat(p),t.checkTrainableWeightsConsistency(),S=t.makeTrainFunction(),C=t.getDedupedMetricsNames(),v?(t.makeTestFunction(),I=t.testFunction,E=C.slice().concat(C.map((function(e){return"val_"+e})))):(I=null,y=[],E=C.slice()),T=XC(a.callbacks,a.yieldEvery),e.next=34,QI(t,S,k,C,h,a.epochs,a.verbose,T,I,y,a.shuffle,E,a.initialEpoch,null,null);case 34:return e.abrupt("return",e.sent);case 35:return e.prev=35,t.isTraining=!1,rE(i,n),rE(o,r),rE(s,n),rE(u,r),rE(d,l),rE(f,c),null!=p&&Df(p),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[4,,35,38]])}))),tE.apply(this,arguments)}function nE(e){var t=[];e instanceof tc&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(GA(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function rE(e,t){if(null!=e){var n=[];if(t instanceof tc)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var i=[];if(e instanceof tc)-1===n.indexOf(e.id)&&i.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&i.push(e)}));else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&i.push(s)}i.forEach((function(e){e.isDisposed||e.dispose()}))}}function aE(e){return Array.isArray(e)}function iE(e){return!function(e){return e instanceof tc}(e)&&!aE(e)}function oE(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(aE(e)&&e.length>0)o=!0;else if(iE(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new Kx("Error when checking model ".concat(i," expected no data, but got ").concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(iE(e)){r=[];var u,l=Yr(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(null==e[c])throw new Kx('No data provided for "'.concat(c,'". Need data for each key in: ').concat(t));r.push(e[c])}}catch(g){l.e(g)}finally{l.f()}}else if(aE(e)){if(e.length!==t.length)throw new Kx("Error when checking model ".concat(i,": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ").concat(t.length," Tensor(s), but instead got the following list of Tensor(s): ").concat(e));r=e}else{if(t.length>1)throw new Kx("The model ".concat(i," expects ").concat(t.length," Tensor(s), but only received one Tensor. Found: Tensor with shape ").concat(e.shape));r=[e]}if(r=nE(r),null!=n)for(var d=0;d<t.length;++d)if(null!=n[d]){var f=r[d];if(f.shape.length!==n[d].length)throw new Kx("Error when checking ".concat(i,": expected ").concat(t[d]," to have ").concat(n[d].length," dimension(s). but got array with shape ").concat(f.shape));for(var p=0;p<n[d].length;++p)if(0!==p||a){var h=f.shape[p],m=n[d][p];if(null!=m&&m>=0&&h!==m)throw new Kx("".concat(i," expected a batch of elements where each example has shape [").concat(n[d].slice(1,n[d].length),"] (i.e.,tensor shape [*,").concat(n[d].slice(1,n[d].length),"]) but the ").concat(i," received an input with ").concat(f.shape[0]," examples, each with shape [").concat(f.shape.slice(1,f.shape.length),"] (tensor shape [").concat(f.shape,"])"))}}return r}function sE(e,t,n){var r=fA(e.map((function(e){return e.shape[0]})));r.sort();var a=fA(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new Kx("All input Tensors (x) should have the same number of samples. Got array shapes: ".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new Kx("All target Tensors (y) should have the same number of samples. Got array shapes: ".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!bl.arraysEqual(r,a))throw new Kx("Input Tensors should have the same number of samples as target Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target sample(s)."))}function uE(e,t,n){for(var r=[$C,aI,nI],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===nI&&1===i.shape[i.shape.length-1])throw new Kx("You are passing a target array of shape ".concat(i.shape," while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes]."));if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var d=u[c],f=l[c];if(null!=f&&d!==f)throw new Kx("A target Tensor with shape ".concat(i.shape," was passed for an output of shape ").concat(s,", while using a loss function that expects targets to have the same shape as the output."))}}}}function lE(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new Kx("Error when checking model ".concat(i,": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ").concat(t.length," Tensor(s), but instead got ").concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new Kx("The model expects ".concat(t.length," ").concat(i," Tensors, but only received one Tensor. Found: array with shape ").concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new Kx("Error when checking ".concat(i,": expected ").concat(t[o]," to have ").concat(n[o].length," dimension(s), but got array with shape ").concat(JSON.stringify(s.shape)));for(var u=0;u<n[o].length;++u)if(0!==u||a){var l=s.shape[u],c=n[o][u];if(null!=c&&c!==l)throw new Kx("Error when checking ".concat(i,": expected ").concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but got array with shape ").concat(JSON.stringify(s.shape),"."))}}}var cE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).isTraining=!1,r}return(0,Gr.Z)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new Kx("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");kI(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return Hb.adagrad(.01)},Adadelta:function(){return Hb.adadelta(1,.95,HA())},Adam:function(){return Hb.adam(.001,.9,.999,HA())},Adamax:function(){return Hb.adamax(.002,.9,.999,HA(),0)},RMSProp:function(){return Hb.rmsprop(.001,.9,0,HA())},SGD:function(){return Hb.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Kx("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Fb))throw new Kx("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Kx("When passing an Array as loss, it should have one entry per model output. The model has ".concat(this.outputs.length," output(s), but you passed loss=").concat(e.loss,"."));n=e.loss.map((function(e){return sI(e)}))}else{var r=sI(e.loss);this.outputs.forEach((function(e){n.push(r)}))}else{for(var a in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(a))throw new Kx('Unknown entry in loss dictionary: "'.concat(a,'". Only expected the following keys: ').concat(this.outputNames));var i,o=Yr(this.outputNames);try{for(o.s();!(i=o.n()).done;){var s=i.value;null==e.loss[s]&&console.warn('Output "'.concat(s,'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ').concat(s," during training")),n.push(sI(e.loss[s]))}}catch(h){o.e(h)}finally{o.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var l=this.internalOutputShapes[u],c=this.outputNames[u];this.feedOutputNames.push(c),this.feedOutputShapes.push(l),this.feedLossFns.push(this.lossFunctions[u])}var d=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],MA("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===d.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var f=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],i=Yr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),a.push(s)}}catch(h){i.e(h)}finally{i.f()}return a}(e.metrics,this.outputNames),p=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};MA("metric",(function(){for(var e=function(e){if(-1!==d.indexOf(e))return"continue";!function(n){var r,a,i,o,s=Yr(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("string"==typeof u&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(u)){var l=t.internalOutputShapes[e];1===l[l.length-1]||t.lossFunctions[e]===aI?-1!==["accuracy","acc"].indexOf(u)?a=uI:-1!==["crossentropy","ce"].indexOf(u)&&(a=pI):t.lossFunctions[e]===rI?-1!==["accuracy","acc"].indexOf(u)?a=hI:-1!==["crossentropy","ce"].indexOf(u)&&(a=gI):-1!==["accuracy","acc"].indexOf(u)?a=lI:-1!==["crossentropy","ce"].indexOf(u)&&(a=mI);var c=void 0;-1!==["accuracy","acc"].indexOf(u)?c="acc":-1!==["crossentropy","ce"].indexOf(u)&&(c="ce"),i=a,r=""+c}else i=yI(u),r=""+bI(u);var d=void 0;MA(r,(function(){d=i})),p(e,r,d)}}catch(h){s.e(h)}finally{s.f()}}(f[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;YI(r);var a=!0,i=this.standardizeUserDataXY(e,t,a,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var s=this.testFunction,u=this.testLoop(s,o,r,n.verbose,n.steps);return rA(u)}finally{rE(i[0],e),rE(i[1],t)}}},{key:"evaluateDataset",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.makeTestFunction(),GI(this,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new Kx("If ".concat(a," is set, batchSize must be null or undefined.Got batchSize = ").concat(t))}else{if(null==e)throw new Kx("Either the input data should have a defined shape, or ".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new Kx("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new qw;if(e instanceof tc&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Kx("The number of inputs provided (".concat(e.length,") does not match the number of inputs of this model (").concat(this.inputs.length,")."));for(var o=0;o<this.inputs.length;++o)i.add(this.inputs[o],e[o])}else{var s,u=Yr(this.inputs);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=e[l.name];if(null==c)throw new Kx("No value is provided for the model's input ".concat(l.name));i.add(l,c)}}catch(f){u.e(f)}finally{u.f()}}var d=Qw(a,i);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=eA(null,e.length),r=e.length,a=Yr(this.layers);try{for(a.s();!(t=a.n()).done;){for(var i=t.value,o=Array.isArray(i.output)?i.output:[i.output],s=o.map((function(e){return e.name})),u=0;u<e.length;++u){var l=s.indexOf(e[u]);if(-1!==l&&(n[u]=o[l],r--),0===r)break}if(0===r)break}}catch(d){a.e(d)}finally{a.f()}if(r>0){var c=[];throw n.forEach((function(t,n){null==t&&c.push(e[n])})),new Kx("Cannot find SymbolicTensors for output name(s): ".concat(JSON.stringify(c)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ff((function(){var a=t.checkNumSamples(e);if(r)throw new Jx("Verbose predictLoop() is not implemented yet.");for(var i=JI(a,n),o=t.outputs.map((function(e){return[]})),s=function(n){Ff((function(){var r=i[n][0],a=i[n][1],o=qI(e,r,a),s=[];if(Array.isArray(o))for(var u=0;u<o.length;++u)s.push({key:t.inputs[u],value:o[u]});else s.push({key:t.inputs[0],value:o});var l=new qw(s);return Qw(t.outputs,l)})).forEach((function(e,t){return o[t].push(e)}))},u=0;u<i.length;++u)s(u);return rA(o.map((function(e){return Dh(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=nE(e);lE(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return YI(r),this.predictLoop(n,r)}finally{rE(n,e)}}},{key:"predictOnBatch",value:function(e){lE(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new qx("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a];this.feedLossFns[a]===rI?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(sE(e=oE(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=oE(t,this.feedOutputNames,r,!1,"target")),uE(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new Kx("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,s,u,l,c,d,f,p,h,m=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(m.length>4&&void 0!==m[4])||m[4],s=m.length>5?m[5]:void 0,u=this.standardizeUserDataXY(t,n,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(f=null,null==a){e.next=19;break}p=RI(a,this.outputNames),f=[],h=0;case 10:if(!(h<p.length)){e.next=19;break}return e.t0=f,e.next=14,FI(d[h],null,p[h]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++h,e.next=10;break;case 19:return e.abrupt("return",[c,d,f]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return Ff((function(){var o=r.checkNumSamples(t,n,i,"steps"),s=[];if(a>0)throw new Jx("Verbose mode is not implemented yet.");if(null!=i)throw new Jx("steps mode in testLoop() is not implemented yet");for(var u=JI(o,n),l=Vv(VA(0,o)),c=0;c<u.length;++c){var d=u[c][0],f=u[c][1],p=YA(l,d,f-d),h=KI(t,p),m=e(h);if(0===c)for(var g=0;g<m.length;++g)s.push(Lm(0));for(var v=0;v<m.length;++v){var y=m[v];s[v]=eh(s[v],rh(f-d,y))}}for(var b=0;b<s.length;++b)s[b]=nh(s[b],o);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;nA(e,r)>1&&(a+="_".concat(nA(e.slice(0,n),r))),t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var u,l=new qw(t),c=Qw(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var f=e.lossFunctions[d](a[d],c[d]);null!=i[d]&&(f=LI(f,i[d]));var p=Mg(f);n.push(p),u=0===d?f:eh(u,f)}for(var h=0;h<e.metricsTensors.length;++h){var m=void 0;if(e.outputs.length>1&&h<e.outputs.length)m=n[h];else{var g=e.metricsTensors[h][0],v=e.metricsTensors[h][1];m=Mg(g(a[v],c[v]))}Lf(m),o.push(m)}return u=Mg(u),e.calculateLosses().forEach((function(e){u=eh(u,e)})),u}),!0,s)].concat(o)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return Ff((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:a[s]});for(var u=new qw(o),l=Qw(e.outputs,u),c=0;c<e.lossFunctions.length;++c){var d=e.lossFunctions[c],f=Mg(d(i[c],l[c]));n=0===c?f:eh(n,f),r.push(n)}for(var p=0;p<e.metricsTensors.length;++p){var h=e.metricsTensors[p][0],m=e.metricsTensors[p][1],g=Mg(h(i[m],l[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",eE(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BI(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],i=r[1],o=this.makeTrainFunction()(a.concat(i)),s=[],u=Yr(o),e.prev=8,u.s();case 10:if((l=u.n()).done){e.next=18;break}return c=l.value,e.next=14,c.data();case 14:d=e.sent,s.push(d[0]);case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),u.e(e.t0);case 23:return e.prev=23,u.f(),e.finish(23);case 26:return e.abrupt("return",(Df(o),rE(r[0],t),rE(r[1],n),rA(s)));case 27:case"end":return e.stop()}}),e,this,[[8,20,23,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=Mf().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-Mf().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"==typeof this.loss)e=iA(this.loss);else if(Array.isArray(this.loss)){var t,n=Yr(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!=typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(u){n.e(u)}finally{n.f()}e=this.loss.map((function(e){return iA(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,i=0,o=r;i<o.length;i++){var s=o[i];if("string"!=typeof a[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=iA(a[s])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[iA(bI(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return iA(bI(e))}));var e={};for(var t in this.metrics)e[t]=iA(bI(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=JC(OI(e.optimizer_config));if("string"==typeof e.loss)t=oA(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return oA(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=oA(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return oA(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=oA(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}if(0!==(r=Qd.getSaveHandlers(t)).length){e.next=4;break}throw new Kx("Cannot find any save handlers for URL '".concat(t,"'"));case 4:if(!(r.length>1)){e.next=6;break}throw new Kx("Found more than one (".concat(r.length,") save handlers for URL '").concat(t,"'"));case 6:t=r[0];case 7:if(null!=t.save){e.next=9;break}throw new Kx("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 9:return e.next=11,Qd.encodeWeights(this.getNamedWeights(n));case 11:if(a=e.sent,!1,null,i={modelTopology:this.toJSON(null,false),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(_I),convertedBy:null},null==n||!n.includeOptimizer||null==this.optimizer){e.next=29;break}return i.trainingConfig=this.getTrainingConfig(),s="optimizer",e.t0=Qd,e.next=21,this.optimizer.getWeights();case 21:return e.t1=e.sent,e.t2=s,e.next=25,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 25:u=e.sent,l=u.data,c=u.specs,(o=a.specs).push.apply(o,(0,qr.Z)(c)),a.data=Qd.concatenateArrayBuffers([a.data,l]);case 29:return e.abrupt("return",(null!=this.userDefinedMetadata&&(AI(this.userDefinedMetadata,this.name,!0),i.userDefinedMetadata=this.userDefinedMetadata),i.weightData=a.data,i.weightSpecs=a.specs,t.save(i)));case 30:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){AI(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}(MI);cE.className="Model",Lp.registerClass(cE);var dE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n)}(cE);function fE(e,t){return pE.apply(this,arguments)}function pE(){return pE=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("modelTopology"in t||(t={modelTopology:t}),null!=(r=t.modelTopology).model_config&&(r=r.model_config),a=OI(r),i=JC(a,n),null==t.weightsManifest){e.next=12;break}return e.next=7,Qd.loadWeights(t.weightsManifest,t.pathPrefix,i.weights.map((function(e){return e.originalName})));case 7:o=e.sent,s={},u=Yr(i.weights);try{for(u.s();!(l=u.n()).done;)c=l.value,s[c.originalName]=o[c.originalName]}catch(d){u.e(d)}finally{u.f()}i.loadWeights(s),Df(o);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function hE(){return hE=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),"string"!=typeof t){e.next=9;break}if(0!==(r=Qd.getLoadHandlers(t,n)).length){e.next=6;break}r.push(Qd.browserHTTPRequest(t,n)),e.next=8;break;case 6:if(!(r.length>1)){e.next=8;break}throw new Kx("Found more than one (".concat(r.length,") load handlers for URL '").concat(t,"'"));case 8:t=r[0];case 9:return e.abrupt("return",mE(t,void 0,n));case 10:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function mE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r&&(r={}),null!=t.load){e.next=2;break}throw new Kx("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 2:return e.next=4,t.load();case 4:if(a=e.sent,null!=(i=a.modelTopology).model_config&&(i=i.model_config),o=null==r.strict||r.strict,s=null!=a.weightData&&null!=a.weightSpecs&&o,u=JC(OI(i),n,s),null!=(l=a.trainingConfig)&&u.loadTrainingConfig(l),null!=a.userDefinedMetadata&&u.setUserDefinedMetadata(a.userDefinedMetadata),null==a.weightData){e.next=19;break}if(null!=a.weightSpecs){e.next=11;break}throw new Kx("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");case 11:if(c=vE(a.weightData,a.weightSpecs),d=c.modelWeights,f=c.optimizerWeights,u.loadWeights(d,o),e.t0=null!=u.optimizer&&f.length>0,!e.t0){e.next=17;break}return e.next=17,u.optimizer.setWeights(f);case 17:Df(d),Df(f.map((function(e){return e.tensor})));case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function vE(e,t){var n=Qd.decodeWeights(e,t),r={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:a}}dE.className="Functional",Lp.registerClass(dE);var yE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:wA("sequential_"),null!=e.layers){var a,i=Yr(e.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(s){i.e(s)}finally{i.f()}}return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Kx("Negative dimension size caused by adding layer ".concat(e.name," with input shape [").concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof cE;if(r){if(1!==(t=e).outputs.length)throw new Kx("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new Kx("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Kx("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=Yw({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new Kx("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ".concat(e.name," which has ").concat(e.inboundNodes.length," pre-existing inbound connections."));if(1!==e.inboundNodes[0].outputTensors.length)throw new Kx("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Gw(this.outputs[0])}this.inboundNodes=[],new Vw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:eA(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(Rw(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new cE({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Fr((0,Mr.Z)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Fr((0,Mr.Z)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new qx("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new qx("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new qx("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new qx("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new Kx("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Kx("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=Yr(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(i){n.e(i)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Kx("Legacy serialization format not supported yet.");r=t}else bl.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,i=t;var o=new e(i);if(!(o instanceof n))throw new Jx("Sequential.fromConfig called on non-Sequential input: ".concat(o));var s,u=Yr(r);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=JC(l,void 0,a);a&&c.setFastWeightInitDuringBuild(!0),o.add(c)}}catch(d){u.e(d)}finally{u.f()}return o}}]),n}(cE),bE=yE;function xE(e){return new cE(e)}function AE(e){return new bE(e)}function wE(e,t){return null==t&&(t={}),function(e,t){return hE.apply(this,arguments)}(e,t)}function kE(e){return Yw(e)}function SE(e,t){qC.registerCallbackConstructor(e,t)}bE.className="Sequential",Lp.registerClass(bE);var CE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(Lp.Serializable),IE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ow(e,t)}}]),n}(CE);IE.className="elu",Lp.registerClass(IE);var EE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return xv(e)}}]),n}(CE);EE.className="selu",Lp.registerClass(EE);var TE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return dv(e)}}]),n}(CE);TE.className="relu",Lp.registerClass(TE);var NE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return Ff((function(){return Lg(6,dv(e))}))}}]),n}(CE);NE.className="relu6",Lp.registerClass(NE);var OE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return e}}]),n}(CE);OE.className="linear",Lp.registerClass(OE);var PE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return Lh(e)}}]),n}(CE);PE.className="sigmoid",Lp.registerClass(PE);var _E=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return function(e){return Ff((function(){var t=eh(.5,rh(.2,e));return Jh(t,0,1)}))}(e)}}]),n}(CE);_E.className="hardSigmoid",Lp.registerClass(_E);var ME=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return vg(e)}}]),n}(CE);ME.className="softplus",Lp.registerClass(ME);var RE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return function(e){return Ff((function(){return nh(e,eh(ah(e),1))}))}(e)}}]),n}(CE);RE.className="softsign",Lp.registerClass(RE);var FE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return Zh(e)}}]),n}(CE);FE.className="tanh",Lp.registerClass(FE);var DE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Pv(e,t)}}]),n}(CE);DE.className="softmax",Lp.registerClass(DE);var LE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return xg(e,t)}}]),n}(CE);LE.className="logSoftmax",Lp.registerClass(LE);var zE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ff((function(){return rh(Lh(rh(e,t)),e)}))}}]),n}(CE);zE.className="swish",Lp.registerClass(zE);var ZE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e){return Ff((function(){return rh(e,Zh(vg(e)))}))}}]),n}(CE);function WE(e){return e.getClassName()}function BE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cA(e,Lp.SerializationMap.getMap().classNameMap,t,"activation")}function jE(e){if(null==e){var t={className:"linear",config:{}};return BE(t)}if("string"==typeof e){var n={};return n.className=e,n.config={},BE(n)}return e instanceof CE?e:BE(e)}function VE(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: ".concat(e))}ZE.className="mish",Lp.registerClass(ZE);var HE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n)}(Lp.Serializable),UE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this),VE(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return(0,Gr.Z)(n,[{key:"apply",value:function(e){var t=this;return Ff((function(){var n=Rg([1]);return t.hasL1&&(n=eh(n,Wm(rh(t.l1,ah(e))))),t.hasL2&&(n=eh(n,Wm(rh(t.l2,rw(e))))),Mh(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(HE);UE.className="L1L2",Lp.registerClass(UE);var GE={l1l2:"L1L2"};function XE(e){return uA(e)}function YE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return cA(e,Lp.SerializationMap.getMap().classNameMap,t,"regularizer")}function qE(e){return null==e?null:"string"==typeof e?YE({className:e in GE?GE[e]:e,config:{}}):e instanceof HE?e:YE(e)}var KE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){e=Mw(e);var n=dv(e);return null!=this.maxValue&&(n=Jh(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);KE.className="ReLU",Lp.registerClass(KE);var JE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=Mw(e);return rg(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);JE.className="LeakyReLU",Lp.registerClass(JE);var QE=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=Ow(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=qE(e.alphaRegularizer),r.alphaConstraint=vC(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Kx("Expected sharedAxes to be a number or an array of numbers, but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t=(e=Rw(e)).slice(1);if(null!=this.sharedAxes){var n,r=Yr(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(o){r.e(o)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var i=1;i<e.length;++i)a[i]=e[i];this.inputSpec=[new Ww({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=Mw(e),$g(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:Nw(this.alphaInitializer),alphaRegularizer:XE(this.alphaRegularizer),alphaConstraint:mC(this.alphaConstraint),sharedAxes:this.sharedAxes},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);QE.className="PReLU",Lp.registerClass(QE);var $E=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Jx("Non-default alpha value (".concat(e.alpha,") is not supported by the ELU layer yet."));return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=Mw(e);return Sm(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);$E.className="ELU",Lp.registerClass($E);var eT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=Mw(e);return rh(n,qd(Qm(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);eT.className="ThresholdedReLU",Lp.registerClass(eT);var tT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new DE).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=Mw(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);function nT(e,t,n){if("number"==typeof e)return eA(e,t);if(e.length!==t)throw new Kx("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers. Received: ").concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if(!ZA(a))throw new Kx("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers. Received: ").concat(JSON.stringify(e)," including a non-integer number ").concat(a))}return e}function rT(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var i,o=t+(t-1)*(a-1);return i="same"===n?e:e-o+1,Math.floor((i+r-1)/r)}function aT(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+jA([n-t,0]);else{if("same"!==r)throw new Kx("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function iT(e,t){return Ff((function(){return NA(t),"channelsFirst"===t?Jf(e,[0,2,3,1]):e}))}function oT(e,t){return Ff((function(){return NA(t),"channelsFirst"===t?Jf(e,[0,2,3,4,1]):e}))}function sT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Ff((function(){if(null==i&&(i="channelsLast"),NA(i),3!==e.rank&&4!==e.rank)throw new Kx("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new Kx("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ".concat(e.rank,"."));var u=iT(e,i);if("causal"===a)throw new Jx("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=gy.conv2d({x:u,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(u=Jf(u,[0,3,1,2])),u}))}tT.className="Softmax",Lp.registerClass(tT);var uT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;if((0,Ur.Z)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,gA(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Jx("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is not implemented yet."));if(a.kernelSize=nT(r.kernelSize,e,"kernelSize"),a.strides=nT(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,OA(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,NA(a.dataFormat),a.activation=jE(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=Ow(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=vC(r.biasConstraint),a.biasRegularizer=qE(r.biasRegularizer),a.activityRegularizer=qE(r.activityRegularizer),a.dilationRate=nT(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new Kx("dilationRate must be a number or an array of a single number for 1D convolution, but received ".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"==typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new Kx("dilationRate must be a number or array of two numbers for 2D convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"==typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new Kx("dilationRate must be a number or array of three numbers for 3D convolution, but received ".concat(JSON.stringify(a.dilationRate)));return(0,Br.Z)(a)}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:WE(this.activation),useBias:this.useBias,biasInitializer:Nw(this.biasInitializer),biasRegularizer:XE(this.biasRegularizer),activityRegularizer:XE(this.activityRegularizer),biasConstraint:mC(this.biasConstraint)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(tA("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!mA(e.kernelSize,"number",1,3))throw new Kx("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(Uw),lT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,gA(a.filters,"filters"),a.kernelInitializer=Ow(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=vC(r.kernelConstraint),a.kernelRegularizer=qE(r.kernelRegularizer),a}return(0,Gr.Z)(n,[{key:"build",value:function(e){e=Rw(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Kx("The channel dimension of the input should be defined. Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,_r.Z)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){e=Mw(e);var t,r=null==n.bias?null:n.bias.read(),a=yA(n.activation.getClassName());if(null!=a&&2===n.rank)t=sT(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Ff((function(){if(null==i&&(i="channelsLast"),NA(i),3!==e.shape.length)throw new Kx("The input of a conv1dWithBias operation should be 3, but is ".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new Kx("The kernel for a conv1dWithBias operation should be 3, but is ".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new Kx("The bias for a conv1dWithBias operation should be 1, but is ".concat(t.shape.length," instead"));if("channelsFirst"===i&&(e=Jf(e,[0,2,1])),"causal"===a)throw new Jx("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=rm(e,t,r,"same"===a?"same":"valid","NWC",o);return null!=n&&(s=iw(s,n)),s}))}(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=sT(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Jx("convolutions greater than 3D are not implemented yet.");t=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return Ff((function(){if(null==i&&(i="channelsLast"),NA(i),4!==e.rank&&5!==e.rank)throw new Kx("conv3dWithBias expects input to be of rank 4 or 5, but received ".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new Kx("conv3dWithBias expects kernel to be of rank 4 or 5, but received ".concat(e.rank,"."));var s=oT(e,i);if("causal"===a)throw new Jx("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=om(s,t,r,"same"===a?"same":"valid","NDHWC",o),null!=n&&(s=iw(s,n)),"channelsFirst"===i&&(s=Jf(s,[0,4,1,2,3])),s}))}(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=Rw(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=rT(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:Nw(this.kernelInitializer),kernelRegularizer:XE(this.kernelRegularizer),kernelConstraint:mC(this.kernelConstraint)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new Kx("Convolution layer expected config.filters to be a 'number' > 0 but got ".concat(JSON.stringify(e.filters)))}}]),n}(uT),cT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!=typeof e.kernelSize&&!mA(e.kernelSize,"number",1,2))throw new Kx("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(lT),dT=cT;dT.className="Conv2D",Lp.registerClass(dT);var fT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Kx("Conv3D expects config.kernelSize to be number or [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(lT),pT=fT;pT.className="Conv3D",Lp.registerClass(pT);var hT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Ww({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new Kx("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ".concat(r.padding));return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){if(4!==(e=Rw(e)).length)throw new Kx("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Kx("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ww({ndim:4,axes:(0,_r.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=Mw(e);if(4!==t.shape.length)throw new Kx("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-".concat(t.shape.length));var r,a,i=t.shape,o=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],u=i[a],l=n.kernelSize[0],c=n.kernelSize[1],d=n.strides[0],f=n.strides[1],p=[o,aT(s,d,l,n.padding),aT(u,f,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Jf(t,[0,2,3,1]));var h=im(t,n.kernel.read(),p,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(h=Jf(h,[0,3,1,2])),null!=n.bias&&(h=iw(h,n.bias.read(),n.dataFormat)),null!=n.activation&&(h=n.activation.apply(h)),h}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=Rw(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=aT(a[n],s,i,this.padding),a[r]=aT(a[r],u,o,this.padding),a}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(dT);hT.className="Conv2DTranspose",Lp.registerClass(hT);var mT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Ww({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new Kx("Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ".concat(r.padding));return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){if(5!==(e=Rw(e)).length)throw new Kx("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Kx("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ww({ndim:5,axes:(0,_r.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=Mw(e);if(5!==t.shape.length)throw new Kx("Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-".concat(t.shape.length));var r,a,i,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(i=2,r=3,a=4):(i=1,r=2,a=3);var u=o[i],l=o[r],c=o[a],d=n.kernelSize[0],f=n.kernelSize[1],p=n.kernelSize[2],h=n.strides[0],m=n.strides[1],g=n.strides[2],v=[s,aT(u,h,d,n.padding),aT(l,m,f,n.padding),aT(c,g,p,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Jf(t,[0,2,3,4,1]));var y=um(t,n.kernel.read(),v,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=Jf(y,[0,4,1,2,3])),null!==n.bias&&(y=iw(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=Rw(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],l=this.strides[0],c=this.strides[1],d=this.strides[2];return i[t]=this.filters,i[n]=aT(i[n],l,o,this.padding),i[r]=aT(i[r],c,s,this.padding),i[a]=aT(i[a],d,u,this.padding),i}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(pT);mT.className="Conv3DTranspose",Lp.registerClass(mT);var gT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;if((0,Ur.Z)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new Kx("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new Kx("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new Kx("SeparableConv".concat(a.rank,"D supports only padding modes: 'same' and 'valid', but received ").concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=Ow(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=qE(r.depthwiseRegularizer),a.depthwiseConstraint=vC(r.depthwiseConstraint),a.pointwiseInitializer=Ow(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=qE(r.pointwiseRegularizer),a.pointwiseConstraint=vC(r.pointwiseConstraint),(0,Br.Z)(a)}return(0,Gr.Z)(n,[{key:"build",value:function(e){if((e=Rw(e)).length<this.rank+2)throw new Kx("Inputs to SeparableConv".concat(this.rank,"D should have rank ").concat(this.rank+2,", but received input shape: ").concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Kx("The channel dimension of the inputs should be defined, but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Ww({ndim:this.rank+2,axes:(0,_r.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var t;if(e=Mw(e),1===n.rank)throw new Jx("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=Jf(e,[0,2,3,1])),t=Av(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=iw(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=Jf(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Nw(this.depthwiseInitializer),e.pointwiseInitializer=Nw(this.pointwiseInitializer),e.depthwiseRegularizer=XE(this.depthwiseRegularizer),e.pointwiseRegularizer=XE(this.pointwiseRegularizer),e.depthwiseConstraint=mC(this.depthwiseConstraint),e.pointwiseConstraint=mC(this.pointwiseConstraint),e}}]),n}(lT);gT.className="SeparableConv";var vT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,2,e)}return(0,Gr.Z)(n)}(gT);vT.className="SeparableConv2D",Lp.registerClass(vT);var yT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return(0,Gr.Z)(n,[{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!=typeof e.kernelSize&&!mA(e.kernelSize,"number",1,1))throw new Kx("Conv1D expects config.kernelSize to be number or number[] with length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(lT),bT=yT;bT.className="Conv1D",Lp.registerClass(bT);var xT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),r=t.call(this,e),"number"==typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(e=Mw(e),"channelsLast"===n.dataFormat){var t=KA(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return KA(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=KA(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return KA(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);xT.className="Cropping2D",Lp.registerClass(xT);var AT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,NA(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,function(e){hA(SA,"InterpolationFormat",e)}(r.interpolation),r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=Mw(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=Jf(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],o="nearest"===n.interpolation?Ob.resizeNearestNeighbor(t,[a,i]):Ob.resizeBilinear(t,[a,i]);return Jf(o,[0,3,1,2])}var s=n.size[0]*r[1],u=n.size[1]*r[2];return"nearest"===n.interpolation?Ob.resizeNearestNeighbor(t,[s,u]):Ob.resizeBilinear(t,[s,u])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);AT.className="UpSampling2D",Lp.registerClass(AT);var wT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=Ow(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=vC(e.depthwiseConstraint),r.depthwiseRegularizer=qE(e.depthwiseRegularizer),r}return(0,Gr.Z)(n,[{key:"build",value:function(e){if((e=Rw(e)).length<4)throw new Kx("Inputs to DepthwiseConv2D should have rank 4. Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Kx("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return Ff((function(){null==a&&(a="channelsLast"),NA(a);var o=iT(e,a);if(4!==e.rank)throw new Kx("Input for depthwiseConv2d is required to be 4-D, but is instead ".concat(e.rank,"-D"));if(4!==t.rank)throw new Kx("depthwiseKernel is required to be 4-D, but is instead ".concat(t.rank,"-D"));return o=mm(o,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(o=Jf(o,[0,3,1,2])),o}))}(e=Mw(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=iw(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=Rw(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=rT(t,this.kernelSize[0],this.padding,this.strides[0]),i=rT(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Nw(this.depthwiseInitializer),e.depthwiseRegularizer=XE(this.depthwiseRegularizer),e.depthwiseConstraint=mC(this.depthwiseRegularizer),e}}]),n}(uT);function kT(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Kx("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function ST(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return Ff((function(){var u=t.shape.length;if(u<3)throw new Kx("Input should be at least 3D, but is ".concat(u,"D."));var l=[1,0].concat(VA(2,u));if(t=Jf(t,l),null!=i)throw new Jx("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=qd(qd(a,"bool"),"float32")).rank===u-1&&(a=Um(a,-1)),a=Jf(a,l)),r&&(t=pv(t,0),null!=a&&(a=pv(a,0)));var c,d,f=[],p=n,h=t.shape[0],m=Qv(t);null!=a&&(d=Qv(a));for(var g,v=function(t){var n=m[t],r=Ff((function(){return e(n,p)}));if(null==a)c=r[0],p=r[1];else{var i=Ff((function(){var e=d[t],n=bg(Hg(e),e),a=eh(rh(r[0],e),rh(p[0],n)),i=p.map((function(t,a){return eh(rh(r[1][a],e),rh(t,n))}));return{output:a,newStates:i}}));c=i.output,p=i.newStates}s&&f.push(c)},y=0;y<h;++y)v(y);return s&&(g=Zv(f,1)),[c,g,p]}))}wT.className="DepthwiseConv2D",Lp.registerClass(wT);var CT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a;if((0,Ur.Z)(this,n),r=t.call(this,e),null==e.cell)throw new Kx("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new RT({cells:e.cell}):e.cell).stateSize)throw new Kx("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Ww({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return(0,Gr.Z)(n,[{key:"getStates",value:function(){return null==this.states_?VA(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){Pw(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,i=[],o=Yr(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push([e[0],s])}}catch(u){o.e(u)}finally{o.f()}return[n].concat(i)}return n}},{key:"computeMask",value:function(e,t){var n=this;return Ff((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Jx("Constants support is not implemented in RNN yet.");Pw(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Ww({shape:[t,null].concat((0,qr.Z)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!bl.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Kx("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; However cell.stateSize is ").concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new Ww({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ff((function(){if(!t.stateful)throw new Yx("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new Kx("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return Rg([r,e])})):t.states_=[Rg([r,t.cell.stateSize])];else if(null==e)Df(t.states_),null!=t.keptStates&&(Df(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return Rg([r,e])})):t.states_[0]=Rg([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Kx("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), but it received ").concat(e.length," state value(s). Input received: ").concat(e));!0===n?t.keptStates.push(t.states_.slice()):Df(t.states_);for(var a=0;a<t.states_.length;++a){var i=e[a],o=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,o];if(!bl.arraysEqual(i.shape,s))throw new Kx("State ".concat(a," is incompatible with layer ").concat(t.name,": expected shape=").concat(s,", received shape=").concat(i.shape));t.states_[a]=i}}t.states_=t.states_.map((function(e){return Lf(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=kT(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){t.initialState=r,o=o.concat(r),this.stateSpec=[];var u,l=Yr(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;this.stateSpec.push(new Ww({shape:c.shape}))}}catch(m){l.e(m)}finally{l.f()}s=s.concat(this.stateSpec)}if(null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof Bw){var d=[e].concat(o),f=this.inputSpec.concat(s),p=this.inputSpec;this.inputSpec=f;var h=Fr((0,Mr.Z)(n.prototype),"apply",this).call(this,d,t);return this.inputSpec=p,h}return Fr((0,Mr.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=Mw(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new Kx("RNN Layer has ".concat(o," state(s) but was passed ").concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=ST((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),l=u[0],c=u[1],d=u[2];n.stateful&&n.resetStates(d,a);var f=n.returnSequences?c:l;return n.returnState?[f].concat(d):f}))}},{key:"getInitialState",value:function(e){var t=this;return Ff((function(){var n=Rg(e.shape);return n=GA(n=Wm(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?$A(n,[1,e]):n})):t.cell.stateSize>1?[$A(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){Fr((0,Mr.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),(0,s.Z)((0,s.Z)((0,s.Z)({},r),e),t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=JC(r,n);return new e(Object.assign(t,{cell:a}))}}]),n}(Uw),IT=CT;IT.className="RNN",Lp.registerClass(IT);var ET=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n)}(Uw),TT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,gA(r.units,"units"),r.activation=jE(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Ow(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Ow(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Ow(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=qE(e.kernelRegularizer),r.recurrentRegularizer=qE(e.recurrentRegularizer),r.biasRegularizer=qE(e.biasRegularizer),r.kernelConstraint=vC(e.kernelConstraint),r.recurrentConstraint=vC(e.recurrentConstraint),r.biasConstraint=vC(e.biasConstraint),r.dropout=BA([1,jA([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=BA([1,jA([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){e=Rw(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(2!==e.length)throw new Kx("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=FT({ones:function(){return Hg(e)},rate:n.dropout,training:a,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=FT({ones:function(){return Hg(r)},rate:n.recurrentDropout,training:a,dropoutFunc:n.dropoutFunc}));var i,o=n.dropoutMask,s=n.recurrentDropoutMask;i=tw(null!=o?rh(e,o):e,n.kernel.read()),null!=n.bias&&(i=iw(i,n.bias.read())),null!=s&&(r=rh(r,s));var u=eh(i,tw(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]}))}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:WE(this.activation),useBias:this.useBias,kernelInitializer:Nw(this.kernelInitializer),recurrentInitializer:Nw(this.recurrentInitializer),biasInitializer:Nw(this.biasInitializer),kernelRegularizer:XE(this.kernelRegularizer),recurrentRegularizer:XE(this.recurrentRegularizer),biasRegularizer:XE(this.biasRegularizer),activityRegularizer:XE(this.activityRegularizer),kernelConstraint:mC(this.kernelConstraint),recurrentConstraint:mC(this.recurrentConstraint),biasConstraint:mC(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return(0,s.Z)((0,s.Z)({},e),t)}}]),n}(ET);TT.className="SimpleRNNCell",Lp.registerClass(TT);var NT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),e.cell=new TT(e),t.call(this,e)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var r=this;return Ff((function(){null!=r.cell.dropoutMask&&(Df(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Df(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return Fr((0,Mr.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(IT);NT.className="SimpleRNN",Lp.registerClass(NT);var OT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Kx("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,gA(r.units,"units"),r.activation=jE(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=jE(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Ow(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Ow(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Ow(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=qE(e.kernelRegularizer),r.recurrentRegularizer=qE(e.recurrentRegularizer),r.biasRegularizer=qE(e.biasRegularizer),r.kernelConstraint=vC(e.kernelConstraint),r.recurrentConstraint=vC(e.recurrentConstraint),r.biasConstraint=vC(e.biasConstraint),r.dropout=BA([1,jA([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=BA([1,jA([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t=(e=Rw(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(2!==e.length)throw new Kx("GRUCell expects 2 input Tensors (inputs, h, c), got ".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=FT({ones:function(){return Hg(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=FT({ones:function(){return Hg(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var i,s,u,l=n.dropoutMask,c=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=rh(e,l[0]));var d=tw(e,n.kernel.read());n.useBias&&(d=iw(d,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=rh(a,c[0]));var f=n.recurrentKernel.read(),p=Fv(f,[2*n.units,n.units],f.rank-1),h=(0,o.Z)(p,2),m=h[0],g=h[1],v=tw(a,m),y=Fv(d,3,d.rank-1),b=(0,o.Z)(y,3),x=b[0],A=b[1],w=b[2],k=Fv(v,2,v.rank-1),S=(0,o.Z)(k,2),C=S[0],I=S[1];i=n.recurrentActivation.apply(eh(x,C)),s=n.recurrentActivation.apply(eh(A,I));var E=tw(rh(s,a),g);u=n.activation.apply(eh(w,E));var T=eh(rh(i,a),rh(eh(1,qf(i)),u));return[T,T]}))}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:WE(this.activation),recurrentActivation:WE(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Nw(this.kernelInitializer),recurrentInitializer:Nw(this.recurrentInitializer),biasInitializer:Nw(this.biasInitializer),kernelRegularizer:XE(this.kernelRegularizer),recurrentRegularizer:XE(this.recurrentRegularizer),biasRegularizer:XE(this.biasRegularizer),activityRegularizer:XE(this.activityRegularizer),kernelConstraint:mC(this.kernelConstraint),recurrentConstraint:mC(this.recurrentConstraint),biasConstraint:mC(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return(0,s.Z)((0,s.Z)({},e),t)}}]),n}(ET);OT.className="GRUCell",Lp.registerClass(OT);var PT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new OT(e),t.call(this,e)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var r=this;return Ff((function(){null!=r.cell.dropoutMask&&(Df(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Df(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return Fr((0,Mr.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(IT);PT.className="GRU",Lp.registerClass(PT);var _T=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,gA(r.units,"units"),r.activation=jE(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=jE(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Ow(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Ow(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Ow(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=qE(e.kernelRegularizer),r.recurrentRegularizer=qE(e.recurrentRegularizer),r.biasRegularizer=qE(e.biasRegularizer),r.kernelConstraint=vC(e.kernelConstraint),r.recurrentConstraint=vC(e.recurrentConstraint),r.biasConstraint=vC(e.biasConstraint),r.dropout=BA([1,jA([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=BA([1,jA([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t,n,r=(e=Rw(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new(t=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new pw).apply([i]),o=a.apply([2*i]);return QA(QA(n,r),o)}}]),n}(dw),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new Kx("LSTMCell expects 3 input Tensors (inputs, h, c), got ".concat(e.length,"."));var a=e[1],i=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=FT({ones:function(){return Hg(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=FT({ones:function(){return Hg(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s,u,l,c,d=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=rh(e,d[0]));var p=tw(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=rh(a,f[0])),p=eh(p,tw(a,n.recurrentKernel.read())),n.useBias&&(p=iw(p,n.bias.read()));var h=Fv(p,4,p.rank-1),m=(0,o.Z)(h,4),g=m[0],v=m[1],y=m[2],b=m[3];s=n.recurrentActivation.apply(g),u=n.recurrentActivation.apply(v),l=eh(rh(u,i),rh(s,n.activation.apply(y))),c=n.recurrentActivation.apply(b);var x=rh(c,n.activation.apply(l));return[x,x,l]}))}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:WE(this.activation),recurrentActivation:WE(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Nw(this.kernelInitializer),recurrentInitializer:Nw(this.recurrentInitializer),biasInitializer:Nw(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:XE(this.kernelRegularizer),recurrentRegularizer:XE(this.recurrentRegularizer),biasRegularizer:XE(this.biasRegularizer),activityRegularizer:XE(this.activityRegularizer),kernelConstraint:mC(this.kernelConstraint),recurrentConstraint:mC(this.recurrentConstraint),biasConstraint:mC(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return(0,s.Z)((0,s.Z)({},e),t)}}]),n}(ET);_T.className="LSTMCell",Lp.registerClass(_T);var MT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new _T(e),t.call(this,e)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var r=this;return Ff((function(){null!=r.cell.dropoutMask&&(Df(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Df(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return Fr((0,Mr.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(IT);MT.className="LSTM",Lp.registerClass(MT);var RT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).cells=e.cells,r}return(0,Gr.Z)(n,[{key:"stateSize",get:function(){var e,t=[],n=Yr(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,(0,qr.Z)(r.stateSize)):t.push(r.stateSize)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var r,a=e.slice(1),i=[],o=Yr(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var s=r.value;Array.isArray(s.stateSize)?i.push(a.splice(0,s.stateSize.length)):i.push(a.splice(0,1))}}catch(g){o.e(g)}finally{o.f()}i.reverse();for(var u,l=[],c=0;c<n.cells.length;++c){var d=n.cells[c];a=i[c],u=0===c?[e[0]].concat(a):[u[0]].concat(a),u=d.call(u,t),l.push(u.slice(1))}a=[];var f,p=Yr(l.slice().reverse());try{for(p.s();!(f=p.n()).done;){var h,m=f.value;(h=a).push.apply(h,(0,qr.Z)(m))}}catch(g){p.e(g)}finally{p.f()}return[u[0]].concat(a)}))}},{key:"build",value:function(e){var t;Pw(e)&&(e=e[0]),this.cells.forEach((function(n,r){MA("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return(0,s.Z)((0,s.Z)({},e),t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=Yr(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,qr.Z)(r.trainableWeights))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=Yr(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,qr.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,i=[],o=Yr(this.cells);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,(0,qr.Z)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return i.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=Yr(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,qr.Z)(r.weights))}}catch(a){n.e(a)}finally{n.f()}return zw(t)}},{key:"setWeights",value:function(e){var t,n=[],r=Yr(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,i=a.weights.length,o=e.splice(i),s=0;s<a.weights.length;++s)n.push([a.weights[s],o[s]])}catch(u){r.e(u)}finally{r.f()}Zw(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],i=Yr(t.cells);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(JC(o,r))}}catch(s){i.e(s)}finally{i.f()}return new e({cells:a})}}]),n}(ET);function FT(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,i=e.count,o=void 0===i?1:i,s=e.dropoutFunc,u=function(){return null!=s?s(t(),n):sw(t(),n)},l=function(){return uw(u,t,a)};return!o||o<=1?Lf(l().clone()):Array(o).fill(void 0).map(l).map((function(e){return Lf(e.clone())}))}RT.className="StackedRNNCells",Lp.registerClass(RT);var DT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),e.unroll)throw new Jx("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Jx("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Ww({ndim:5})],r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var r=this;return Ff((function(){if(null!=r.cell.dropoutMask&&(Df(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Df(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new Kx("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return Fr((0,Mr.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,qr.Z)(t.slice(2)))),this.returnState&&(t=[t].concat((0,qr.Z)(Array(2).fill([e[0]].concat((0,qr.Z)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return Ff((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),i=Rg([a[0]].concat((0,qr.Z)(a.slice(2))));return Array.isArray(n)?Array(n.length).fill(i):[i]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ff((function(){if(!t.stateful)throw new Yx("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat((0,qr.Z)(a.slice(2)));if(null==r[0])throw new Kx("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return Rg(i)})):t.states_=[Rg(i)];else if(null==e)Df(t.states_),null!=t.keptStates&&(Df(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return Rg(i)})):t.states_[0]=Rg(i);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Kx("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), but it received ").concat(e.length," state value(s). Input received: ").concat(e));n?t.keptStates.push(t.states_.slice()):Df(t.states_);for(var o=0;o<t.states_.length;++o){var s=e[o],u=i;if(!bl.arraysEqual(s.shape,u))throw new Kx("State ".concat(o," is incompatible with layer ").concat(t.name,": expected shape=").concat(u,", received shape=").concat(s.shape));t.states_[o]=s}}t.states_=t.states_.map((function(e){return Lf(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,s=t.dilationRate,u="channelsFirst"===n,l=e[u?3:2],c=e[u?4:3],d=rT(l,a[0],i,o[0],s[0]),f=rT(c,a[1],i,o[1],s[1]);return[].concat((0,qr.Z)(e.slice(0,2)),(0,qr.Z)(u?[r,d,f]:[d,f,r]))}}]),n}(IT);DT.className="ConvRNN2D";var LT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;(0,Ur.Z)(this,n);var a=e.filters,i=e.kernelSize,o=e.strides,u=e.padding,l=e.dataFormat,c=e.dilationRate;return(r=t.call(this,(0,s.Z)((0,s.Z)({},e),{},{units:a}))).filters=a,gA(r.filters,"filters"),r.kernelSize=nT(i,2,"kernelSize"),r.kernelSize.forEach((function(e){return gA(e,"kernelSize")})),r.strides=nT(o||1,2,"strides"),r.strides.forEach((function(e){return gA(e,"strides")})),r.padding=u||"valid",OA(r.padding),r.dataFormat=l||"channelsLast",NA(r.dataFormat),r.dilationRate=nT(c||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return gA(e,"dilationRate")})),r}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t;e=Rw(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Kx("The channel dimension of the input should be defined. Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var o;if(this.unitForgetBias){var s=this.biasInitializer,u=this.filters;o=new(t=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"apply",value:function(e,t){return JA([s.apply([u]),Fg([u]),s.apply([2*u])])}}]),n}(dw),t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,o,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(3!==e.length)throw new Kx("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ".concat(e.length,"."));var r=t.training||!1,a=e[0],i=e[1],s=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=FT({ones:function(){return Hg(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var u=n.dropoutMask,l=function(e,t,n){return t&&t[n]?rh(t[n],e):e},c=l(a,u,0),d=l(a,u,1),f=l(a,u,2),p=l(a,u,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=FT({ones:function(){return Hg(i)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var h=n.recurrentDropoutMask,m=l(i,h,0),g=l(i,h,1),v=l(i,h,2),y=l(i,h,3),b=Fv(n.kernel.read(),4,3),x=(0,o.Z)(b,4),A=x[0],w=x[1],k=x[2],S=x[3],C=n.useBias?Fv(n.bias.read(),4):[null,null,null,null],I=(0,o.Z)(C,4),E=I[0],T=I[1],N=I[2],O=I[3];c=n.inputConv(c,A,E,n.padding),d=n.inputConv(d,w,T,n.padding),f=n.inputConv(f,k,N,n.padding),p=n.inputConv(p,S,O,n.padding);var P=Fv(n.recurrentKernel.read(),4,3),_=(0,o.Z)(P,4),M=_[0],R=_[1],F=_[2],D=_[3];m=n.recurrentConv(m,M),g=n.recurrentConv(g,R),v=n.recurrentConv(v,F),y=n.recurrentConv(y,D);var L=n.recurrentActivation.apply(eh(c,m)),z=n.recurrentActivation.apply(eh(d,g)),Z=eh(rh(z,s),rh(L,n.activation.apply(eh(f,v)))),W=rh(n.recurrentActivation.apply(eh(p,y)),n.activation.apply(Z));return[W,W,Z]}))}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t=(e.units,(0,Pr.Z)(e,$r)),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return(0,s.Z)((0,s.Z)({},t),r)}},{key:"inputConv",value:function(e,t,n,r){var a=nm(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?iw(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return nm(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(_T);LT.className="ConvLSTM2DCell",Lp.registerClass(LT);var zT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){(0,Ur.Z)(this,n);var r=new LT(e);return t.call(this,(0,s.Z)((0,s.Z)({},e),{},{cell:r}))}return(0,Gr.Z)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(DT);zT.className="ConvLSTM2D",Lp.registerClass(zT);var ZT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return(0,Gr.Z)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return uw((function(){return sw(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return Fr((0,Mr.Z)(n.prototype),"dispose",this).call(this)}}]),n}(Uw);ZT.className="Dropout",Lp.registerClass(ZT);var WT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return(0,Gr.Z)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(ZT);WT.className="SpatialDropout1D",Lp.registerClass(WT);var BT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,gA(r.units,"units"),r.activation=jE(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=Ow(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=Ow(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=vC(e.kernelConstraint),r.biasConstraint=vC(e.biasConstraint),r.kernelRegularizer=qE(e.kernelRegularizer),r.biasRegularizer=qE(e.biasRegularizer),r.activityRegularizer=qE(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t=(e=Rw(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,_r.Z)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=Rw(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r,a=Mw(e),i=yA(n.activation.getClassName());return null!=i?r=tw(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=tw(a,n.kernel.read()),null!=n.bias&&(r=iw(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:WE(this.activation),useBias:this.useBias,kernelInitializer:Nw(this.kernelInitializer),biasInitializer:Nw(this.biasInitializer),kernelRegularizer:XE(this.kernelRegularizer),biasRegularizer:XE(this.biasRegularizer),activityRegularizer:XE(this.activityRegularizer),kernelConstraint:mC(this.kernelConstraint),biasConstraint:mC(this.biasConstraint)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);BT.className="Dense",Lp.registerClass(BT);var jT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n=Yr((e=Rw(e)).slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new Kx('The shape of the input to "Flatten" is not fully defined (got '.concat(e.slice(1),'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.'))}}catch(r){n.e(r)}finally{n.f()}return[e[0],WA(e,1)]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=Jf(r,a)}return function(e){if(e.rank<=1)throw new Kx("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],WA(e.shape,1)];return Mh(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);jT.className="Flatten",Lp.registerClass(jT);var VT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=jE(e.activation),r}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:WE(this.activation)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);VT.className="Activation",Lp.registerClass(VT);var HT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){return function(e,t){return Ff((function(){if(2!==e.shape.length)throw new Kx("repeat() expects a rank-2 tensor, but received a rank-".concat(e.shape.length," tensor."));return $A(GA(e,1),[1,t,1])}))}(e=Mw(e),n.n)}))}},{key:"getConfig",value:function(){var e={n:this.n},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);HT.className="RepeatVector",Lp.registerClass(HT);var UT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;(0,Ur.Z)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return(0,Gr.Z)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new Kx("Can only specifiy one unknown dimension.");i=o}else a*=s}var u=WA(e);if(null!==i){if(0===a||u%a!==0)throw new Kx(n);r[i]=u/a}else if(u!==a)throw new Kx(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return Mh(r,i)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);UT.className="Reshape",Lp.registerClass(UT);var GT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received ".concat(e.dims," instead."));var a=VA(1,e.dims.length+1);if(!bl.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Ww({ndim:r.dims.length+1})],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){var t=(e=Rw(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return Jf(Mw(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);GT.className="Permute",Lp.registerClass(GT);var XT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=Mw(e);return lh(Vg(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e),a=lh(Vg(r,n.maskValue),-1,!0);return rh(r,qd(a,r.dtype))}))}}]),n}(Uw);XT.className="Masking",Lp.registerClass(XT);var YT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(aA(e.inputLength))}return r.inputDim=e.inputDim,gA(r.inputDim,"inputDim"),r.outputDim=e.outputDim,gA(r.outputDim,"outputDim"),r.embeddingsInitializer=Ow(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=qE(e.embeddingsRegularizer),r.activityRegularizer=qE(e.activityRegularizer),r.embeddingsConstraint=vC(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Ff((function(){return n.maskZero?(e=Mw(e),Vg(e,xm(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=Rw(e),null==this.inputLength)return[].concat((0,qr.Z)(e),[this.outputDim]);var t=aA(this.inputLength);if(t.length!==e.length-1)throw new Kx('"inputLength" is '.concat(this.inputLength,", but received input shape has shape ").concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new Kx('"inputLength" is '.concat(this.inputLength,", but received input shape has shape ").concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat((0,qr.Z)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);"int32"!==r.dtype&&(r=UA(r,"int32"));var a=nw(n.embeddings.read(),Mh(r,[r.size]));return Mh(a,Rw(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Nw(this.embeddingsInitializer),embeddingsRegularizer:XE(this.embeddingsRegularizer),activityRegularizer:XE(this.activityRegularizer),embeddingsConstraint:mC(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);YT.className="Embedding",Lp.registerClass(YT);var qT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){throw new Jx}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new Kx("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Rw(e)]),e.length<2)throw new Kx("A merge layer should be called on an Array of at least 2 inputs. Got ".concat(e.length," input(s)."));var t,n=[],r=Yr(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(l){r.e(l)}finally{r.f()}if((n=fA(n)).length>1)throw new Kx("Can not merge tensors with different batch sizes. Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var i=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var s=null==e[o]?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}var u=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===fA(u).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,i=jA(r),o=Yr(e);try{for(o.s();!(a=o.n()).done;){for(var s=a.value,u=s.rank,l=0;l<i-u;++l)s=GA(s,1);t.push(s)}}catch(I){o.e(I)}finally{o.f()}return n.mergeFunction(t)}var c,d=!1,f=Yr(e);try{for(f.s();!(c=f.n()).done;){var p=c.value,h=p.rank;if(null==h){var m=p.shape,g=m[0],v=m.slice(1).concat([g]),y=Mh(p,[g].concat(WA(m.slice(1))));y=Jf(y,[1,0]),y=Mh(y,v),t.push(y),d=!0}else if(h>1){var b=VA(1,h).concat([0]);t.push(Jf(p,b)),d=!0}else t.push(p)}}catch(I){f.e(I)}finally{f.f()}var x=n.mergeFunction(t),A=x.rank;if(d)if(null==A){var w=x.shape,k=w[w.length-1],S=[k].concat(w.slice(0,w.length-1));x=Mh(Jf(Mh(x,[-1,k]),[1,0]),S)}else if(A>1){var C=[A-1].concat(VA(0,A-1));x=Jf(x,C)}return x}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,i=[],o=Yr(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&null!==s[0]&&i.push(s[0])}}catch(u){o.e(u)}finally{o.f()}return t=1===(i=fA(i)).length?i.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return Ff((function(){if(null==t)return null;if(!Array.isArray(t))throw new Kx("`mask` should be an Array");if(!Array.isArray(e))throw new Kx("`inputs` should be an Array");if(t.length!==e.length)throw new Kx("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;t=t.map((function(e){return null==e?e:Um(e,0)}));for(var n=t[0],r=1;r<t.length-1;++r)n=wg(n,t[r]);return n}))}}]),n}(Uw),KT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){return Ff((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=eh(t,e[n]);return t}))}}]),n}(qT);KT.className="Add",Lp.registerClass(KT);var JT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){return Ff((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=rh(t,e[n]);return t}))}}]),n}(qT);JT.className="Multiply",Lp.registerClass(JT);var QT=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){return Ff((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=eh(t,e[n]);return rh(1/e.length,t)}))}}]),n}(qT);QT.className="Average",Lp.registerClass(QT);var $T=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){return Ff((function(){for(var t=e[0],n=1;n<e.length;++n)t=_g(t,e[n]);return t}))}}]),n}(qT);$T.className="Maximum",Lp.registerClass($T);var eN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"mergeFunction",value:function(e){return Ff((function(){for(var t=e[0],n=1;n<e.length;++n)t=Lg(t,e[n]);return t}))}}]),n}(qT);eN.className="Minimum",Lp.registerClass(eN);var tN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Kx("A `Concatenate` layer should be called on a list of at least 2 inputs");var t,n=!0,r=Yr(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(d){r.e(d)}finally{r.f()}if(!n){for(var a=[],i=0;i<e.length;++i){var o=e[i].slice();o.splice(this.axis,1);var s,u=!1,l=Yr(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(bl.arraysEqual(c,o)){u=!0;break}}}catch(d){l.e(d)}finally{l.f()}u||a.push(o)}if(a.length>1)throw new Kx("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Ff((function(){return JA(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Kx("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,i=Yr(n.slice(1));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Kx("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Kx("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Kx("Mismatch in the length of mask (".concat(t.length,") and the legnth of inputs (").concat(e.length,")"));return Ff((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],i=0;i<e.length;++i)null==t[i]?a.push(qd(Hg(e[i]),"bool")):t[i].rank<e[i].rank?a.push(Um(t[i],-1)):a.push(t[i]);var o=Dh(a,n.axis);return uh(o,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(qT);function nN(e,t){for(;e<0;)e+=t;return e}tN.className="Concatenate",Lp.registerClass(tN);var rN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){bl.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Jx("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Kx("Dimension incompatibility: ".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new Kx("A `Dot` layer must be called on exactly 2 inputs, but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return nN(t,e[n].shape.length)})):[nN(this.axes,n.shape.length),nN(this.axes,r.shape.length)],this.normalize&&(n=QC(n,t[0]),r=QC(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Jx("batchDot is not implemented for tensors of 4D or higher rank yet");if(bl.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, but got ".concat(e.shape.length)})),bl.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, but got ".concat(t.shape.length)})),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Jx("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return Ff((function(){var n,o;if(r>a){n=r-a;for(var s=[],u=0;u<n;++u)s.push(1);t=Mh(t,t.shape.concat(s))}else if(a>r){n=a-r;for(var l=[],c=0;c<n;++c)l.push(1);e=Mh(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=i[0]===i[1]?Wm(rh(e,t),i[0]):Wm(rh(Jf(e,[1,0]),t),i[1]);else{var d=i[0]!==e.shape.length-1,f=i[1]===t.shape.length-1;o=Cf(e,t,d,f)}if(n>0){for(var p,h=[],m=p=r>a?r+a-3:r-1;m<p+n;++m)h.push(m);o=zv(o,h)}return 1===o.shape.length&&(o=Um(o,1)),o}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[nN(this.axes,e.length),nN(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){bl.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Jx("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(qT);rN.className="Dot",Lp.registerClass(rN);var aN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);return uw((function(){return eh(ew(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(Uw);aN.className="GaussianNoise",Lp.registerClass(aN);var iN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t);var r=Mw(e);return n.rate>0&&n.rate<1?uw((function(){var e=Math.sqrt(n.rate/(1-n.rate));return rh(r,ew(r.shape,1,e))}),(function(){return r}),t.training||!1):r}))}}]),n}(Uw);iN.className="GaussianDropout",Lp.registerClass(iN);var oN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return(0,Gr.Z)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Mw(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return Ff((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return uw((function(){var t=Mw(e),a=-1.7580993408473766,i=$m(uv(r),n.rate);i=UA(i,"float32");var o=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-o*a*n.rate,u=eh(rh(t,i),rh(eh(i,-1),a));return eh(rh(u,o),s)}),(function(){return Mw(e)}),t.training||!1)}return e}))}}]),n}(Uw);function sN(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=Hh(e,t,n,r,a,o);else if(3===e.rank)i=Uh(e,t,n,r,a,o);else{if(4!==e.rank)throw new Jx("batchNormalization is not implemented for array of rank ".concat(e.rank," yet"));i=Gh(e,t,n,r,a,o)}return i}function uN(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Ff((function(){var i=Wg(e,r),o=i.mean,s=i.variance;return[sN(e,o,s,n,t,a),o,s]}))}function lN(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Ff((function(){var i,o=Wg(e,r),s=o.mean,u=o.variance,l=[],c=Yr(VA(0,e.rank));try{for(c.s();!(i=c.n()).done;){var d=i.value;-1!==r.indexOf(d)?l.push(1):l.push(e.shape[d])}}catch(g){c.e(g)}finally{c.f()}var f=Mh(s,l),p=Mh(u,l),h=null==t?null:Mh(t,l),m=null==n?null:Mh(n,l);return[sN(e,f,p,m,h,a),s,u]}))}oN.className="AlphaDropout",Lp.registerClass(oN);var cN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=Ow(e.betaInitializer||"zeros"),r.gammaInitializer=Ow(e.gammaInitializer||"ones"),r.movingMeanInitializer=Ow(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=Ow(e.movingVarianceInitializer||"ones"),r.betaConstraint=vC(e.betaConstraint),r.gammaConstraint=vC(e.gammaConstraint),r.betaRegularizer=qE(e.betaRegularizer),r.gammaRegularizer=qE(e.gammaRegularizer),r}return(0,Gr.Z)(n,[{key:"build",value:function(e){e=Rw(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Kx("Axis ".concat(t," of input tensor should have a defined dimension but the layer received an input with shape ").concat(JSON.stringify(e),"."));this.inputSpec=[new Ww({ndim:e.length,axes:(0,_r.Z)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var r=null!=t.training&&t.training,a=Mw(e),i=a.shape,s=i.length,u=VA(0,s),l=n.axis>=0?n.axis:n.axis+s;u.splice(l,1);var c=eA(1,s);c[l]=i[l];var d=u.slice();d.sort();var f=!bl.arraysEqual(d,VA(0,s).slice(0,s-1));if(!r)return function(){if(f){var e=Mh(n.movingMean.read(),c),t=Mh(n.movingVariance.read(),c),r=n.center?Mh(n.beta.read(),c):null,i=n.scale?Mh(n.gamma.read(),c):null;return sN(a,e,t,r,i,n.epsilon)}return sN(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return bl.arraysEqual(r.slice().sort(),VA(0,e.rank-1))?uN(e,t,n,r,a):lN(e,t,n,r,a)}(a,n.gamma.read(),n.beta.read(),u,n.epsilon),h=(0,o.Z)(p,3),m=h[0],g=h[1],v=h[2],y=function(e,t,n){Ff((function(){var r=1-n,a=e.read(),i=rh(bg(a,t),r);e.write(bg(a,i))}))};return y(n.movingMean,g,n.momentum),y(n.movingVariance,v,n.momentum),m}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Nw(this.betaInitializer),gammaInitializer:Nw(this.gammaInitializer),movingMeanInitializer:Nw(this.movingMeanInitializer),movingVarianceInitializer:Nw(this.movingVarianceInitializer),betaRegularizer:XE(this.betaRegularizer),gammaRegularizer:XE(this.gammaRegularizer),betaConstraint:mC(this.betaConstraint),gammaConstraint:mC(this.gammaConstraint)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);cN.className="BatchNormalization",Lp.registerClass(cN);var dN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"==typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, but received ".concat(JSON.stringify(r.axis)));var a,i=Yr(r.axis);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, but received ".concat(JSON.stringify(r.axis)))}}catch(s){i.e(s)}finally{i.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=Ow(e.betaInitializer||"zeros"),r.gammaInitializer=Ow(e.gammaInitializer||"ones"),r.betaRegularizer=qE(e.betaRegularizer),r.gammaRegularizer=qE(e.gammaRegularizer),r.supportsMasking=!0,(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"build",value:function(e){var t=(e=Rw(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=Yr(this.axis);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i<0||i>=t)throw new Error("Invalid axis: ".concat(i))}}catch(s){a.e(s)}finally{a.f()}if(this.axis.length!==fA(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=Mw(e),a=r.shape,i=a.length;return Ff((function(){var e,t=Wg(r,n.axis,!0),o=t.mean,s=t.variance,u=eA(1,i),l=Yr(n.axis);try{for(l.s();!(e=l.n()).done;){var c=e.value;u[c]=a[c]}}catch(v){l.e(v)}finally{l.f()}for(var d=function(e){return null!=e&&e.shape.length!==i?Mh(e,u):e},f=n.scale?d(n.gamma.read()):null,p=n.center?d(n.beta.read()):null,h=[],m=[],g=0;g<i;++g)-1!==n.axis.indexOf(g)?(h.push(a[g]),m.push(1)):(h.push(1),m.push(a[g]));return o=Xm(o,h),s=Xm(s,h),null!=f&&(f=Xm(f,m)),null!=p&&(p=Xm(p,m)),sN(r,o,s,p,f,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Nw(this.betaInitializer),gammaInitializer:Nw(this.gammaInitializer),betaRegularizer:XE(this.betaRegularizer),gammaRegularizer:XE(this.gammaRegularizer)},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);dN.className="LayerNormalization",Lp.registerClass(dN);var fN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Kx("ZeroPadding2D expects padding to be a length-2 array, but received a length-".concat(e.padding.length," array."));var a,i;if("number"==typeof e.padding[0])a=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Kx("ZeroPadding2D expects height padding to be a length-2 array, but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new Kx("ZeroPadding2D expects width padding to be a length-2 array, but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}r.padding=[a,i]}return r.inputSpec=[new Ww({ndim:4})],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=Rw(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Ff((function(){return function(e,t,n){return Ff((function(){if(4!==e.rank)throw new Kx("temporalPadding expects input tensor to be 4-D, but received a ".concat(e.rank,"-D tensor."));if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Kx("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Kx("Unknown data format: ".concat(n,". Supported data formats are 'channelsLast' and 'channelsFirst."));var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Gg(e,r)}))}(Mw(e),n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw);function pN(e,t,n,r,a,i){return Ff((function(){NA(a),PA(i),OA(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=iT(e,a);var o,s="same"===r?"same":"valid";return o="max"===i?Ng(e,t,n,s):Rh(e,t,n,s),"channelsFirst"===a&&(o=Jf(o,[0,3,1,2])),o}))}function hN(e,t,n,r,a,i){return Ff((function(){NA(a),PA(i),OA(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=oT(e,a);var o,s="same"===r?"same":"valid";return o="max"===i?Og(e,t,n,s):Fh(e,t,n,s),"channelsFirst"===a&&(o=Jf(o,[0,4,1,2,3])),o}))}fN.className="ZeroPadding2D",Lp.registerClass(fN);var mN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"==typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Kx("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(gA(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"==typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Kx("strides for 1D convolutional layer must be a number or an Array of a single number, but received ".concat(JSON.stringify(e.strides)));r.strides=e.strides}return gA(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,OA(r.padding),r.inputSpec=[new Ww({ndim:3})],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){var t=rT((e=Rw(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){n.invokeCallHook(e,t),e=GA(Mw(e),2);var r=n.poolingFunction(Mw(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return zv(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw),gN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),pN(e,t,n,r,a,"max")}}]),n}(mN);gN.className="MaxPooling1D",Lp.registerClass(gN);var vN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),pN(e,t,n,r,a,"avg")}}]),n}(mN);vN.className="AveragePooling1D",Lp.registerClass(vN);var yN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Kx("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return gA(r.poolSize,"poolSize"),gA(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,NA(r.dataFormat),OA(r.padding),r.inputSpec=[new Ww({ndim:4})],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){e=Rw(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=rT(t,this.poolSize[0],this.padding,this.strides[0]),n=rT(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){return n.invokeCallHook(e,t),n.poolingFunction(Mw(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw),bN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),pN(e,t,n,r,a,"max")}}]),n}(yN);bN.className="MaxPooling2D",Lp.registerClass(bN);var xN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),pN(e,t,n,r,a,"avg")}}]),n}(yN);xN.className="AveragePooling2D",Lp.registerClass(xN);var AN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Kx("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return gA(r.poolSize,"poolSize"),gA(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,NA(r.dataFormat),OA(r.padding),r.inputSpec=[new Ww({ndim:5})],(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){e=Rw(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=rT(t,this.poolSize[0],this.padding,this.strides[0]),n=rT(n,this.poolSize[1],this.padding,this.strides[1]),r=rT(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Ff((function(){return n.invokeCallHook(e,t),n.poolingFunction(Mw(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw),wN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),hN(e,t,n,r,a,"max")}}]),n}(AN);wN.className="MaxPooling3D",Lp.registerClass(wN);var kN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e)}return(0,Gr.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return NA(a),OA(r),hN(e,t,n,r,a,"avg")}}]),n}(AN);kN.className="AveragePooling3D",Lp.registerClass(kN);var SN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).inputSpec=[new Ww({ndim:3})],r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Jx}}]),n}(Uw),CN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e||{})}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){return Ff((function(){var t=Mw(e);return Mg(t,1)}))}}]),n}(SN);CN.className="GlobalAveragePooling1D",Lp.registerClass(CN);var IN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){return(0,Ur.Z)(this,n),t.call(this,e||{})}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){return Ff((function(){var t=Mw(e);return Rm(t,1)}))}}]),n}(SN);IN.className="GlobalMaxPooling1D",Lp.registerClass(IN);var EN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,NA(r.dataFormat),r.inputSpec=[new Ww({ndim:4})],r}return(0,Gr.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Jx}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Uw),TN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=Mw(e);return"channelsLast"===n.dataFormat?Mg(t,[1,2]):Mg(t,[2,3])}))}}]),n}(EN);TN.className="GlobalAveragePooling2D",Lp.registerClass(TN);var NN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"call",value:function(e,t){var n=this;return Ff((function(){var t=Mw(e);return"channelsLast"===n.dataFormat?Rm(t,[1,2]):Rm(t,[2,3])}))}}]),n}(EN);NN.className="GlobalMaxPooling2D",Lp.registerClass(NN);var ON=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).layer=e.layer,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Fr((0,Mr.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=JC(r,n);delete t.layer;var i={layer:a};return Object.assign(i,t),new e(i)}}]),n}(Uw),PN=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return(0,Gr.Z)(n,[{key:"build",value:function(e){if((e=Rw(e)).length<3)throw new Kx("TimeDistributed layer expects an input shape >= 3D, but received input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),Fr((0,Mr.Z)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=Rw(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Ff((function(){return ST((function(e,r){return[Mw(n.layer.call(e,t)),[]]}),e=Mw(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(ON);PN.className="TimeDistributed",Lp.registerClass(PN);var _N=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;(0,Ur.Z)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=a,r.forwardLayer=JC(i),a.goBackwards=!0!==a.goBackwards;var o={};if(o.className=e.layer.getClassName(),o.config=a,r.backwardLayer=JC(o),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function(e){hA(EA,"BidirectionalMergeMode",e)}(r.mergeMode),e.weights)throw new Jx("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return(0,Gr.Z)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState&&(r=a.slice(1)),t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):rA(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=kT(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Fr((0,Mr.Z)(n.prototype),"apply",this).call(this,e,t);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new Kx("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,(0,qr.Z)(r));var l=r.map((function(e){return new Ww({shape:e.shape})}));this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,(0,qr.Z)(l))}if(null!=a)throw new Jx("Support for constants in Bidirectional layers is not implemented yet.");for(var c=o[0]instanceof Bw,d=0,f=o;d<f.length;d++){if(f[d]instanceof Bw!==c)throw new Kx("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(c){var p=[e].concat(o),h=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=h;var g=Fr((0,Mr.Z)(n.prototype),"apply",this).call(this,p,t);return this.inputSpec=m,g}return Fr((0,Mr.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return Ff((function(){var r,a,i,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var u=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:u})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=pv(a,1)),"concat"===n.mergeMode?o=JA([r,a]):"sum"===n.mergeMode?o=eh(r,a):"ave"===n.mergeMode?o=rh(.5,eh(r,a)):"mul"===n.mergeMode?o=rh(r,a):null==n.mergeMode&&(o=[r,a]),n.returnState?null==n.mergeMode?o.concat(i):[o].concat(i):o}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;MA(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),MA(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){Fr((0,Mr.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=Fr((0,Mr.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=JC(t.layer);if(delete t.layer,null!=t.numConstants)throw new Jx("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(ON);function MN(e){return new Xw(e)}function RN(e){return new $E(e)}function FN(e){return new KE(e)}function DN(e){return new JE(e)}function LN(e){return new QE(e)}function zN(e){return new tT(e)}function ZN(e){return new eT(e)}function WN(e){return new bT(e)}function BN(e){return new dT(e)}function jN(e){return new hT(e)}function VN(e){return new pT(e)}function HN(e){return new mT(e)}function UN(e){return new vT(e)}function GN(e){return new xT(e)}function XN(e){return new AT(e)}function YN(e){return new wT(e)}function qN(e){return new VT(e)}function KN(e){return new BT(e)}function JN(e){return new ZT(e)}function QN(e){return new WT(e)}function $N(e){return new jT(e)}function eO(e){return new HT(e)}function tO(e){return new UT(e)}function nO(e){return new GT(e)}function rO(e){return new YT(e)}function aO(e){return new KT(e)}function iO(e){return new QT(e)}function oO(e){return new tN(e)}function sO(e){return new $T(e)}function uO(e){return new eN(e)}function lO(e){return new JT(e)}function cO(e){return new rN(e)}function dO(e){return new cN(e)}function fO(e){return new dN(e)}function pO(e){return new fN(e)}function hO(e){return new vN(e)}function mO(e){return hO(e)}function gO(e){return hO(e)}function vO(e){return new xN(e)}function yO(e){return vO(e)}function bO(e){return vO(e)}function xO(e){return new kN(e)}function AO(e){return xO(e)}function wO(e){return xO(e)}function kO(e){return new CN(e)}function SO(e){return new TN(e)}function CO(e){return new IN(e)}function IO(e){return new NN(e)}function EO(e){return new gN(e)}function TO(e){return new bN(e)}function NO(e){return new wN(e)}function OO(e){return new PT(e)}function PO(e){return new OT(e)}function _O(e){return new MT(e)}function MO(e){return new _T(e)}function RO(e){return new NT(e)}function FO(e){return new TT(e)}function DO(e){return new zT(e)}function LO(e){return new LT(e)}function zO(e){return new IT(e)}function ZO(e){return new RT(e)}function WO(e){return new _N(e)}function BO(e){return new PN(e)}_N.className="Bidirectional",Lp.registerClass(_N);var jO=CO,VO=IO,HO=EO,UO=TO;function GO(e){return new aN(e)}function XO(e){return new iN(e)}function YO(e){return new oN(e)}function qO(e){return new XT(e)}var KO={};function JO(e,t){return uI(e,t)}function QO(e,t){return pI(e,t)}function $O(e,t){return hI(e,t)}function eP(e,t){return lI(e,t)}function tP(e,t){return mI(e,t)}function nP(e,t){return dI(e,t)}function rP(e,t){return fI(e,t)}function aP(e,t){return iI(e,t)}function iP(e,t){return eI(e,t)}function oP(e,t){return tI(e,t)}function sP(e,t){return tI(e,t)}function uP(e,t){return tI(e,t)}function lP(e,t){return $C(e,t)}function cP(e,t){return $C(e,t)}function dP(e,t){return $C(e,t)}Aa(KO,{MAPE:function(){return sP},MSE:function(){return cP},binaryAccuracy:function(){return JO},binaryCrossentropy:function(){return QO},categoricalAccuracy:function(){return eP},categoricalCrossentropy:function(){return tP},cosineProximity:function(){return aP},mape:function(){return uP},meanAbsoluteError:function(){return iP},meanAbsolutePercentageError:function(){return oP},meanSquaredError:function(){return lP},mse:function(){return dP},precision:function(){return nP},recall:function(){return rP},sparseCategoricalAccuracy:function(){return $O}});var fP={};Aa(fP,{modelFromJSON:function(){return fE}});var pP={};function hP(e){return new UE(e)}function mP(e){return function(e){return VE(e),new UE({l1:null!=e?e.l1:null,l2:0})}(e)}function gP(e){return function(e){return VE(e),new UE({l2:null!=e?e.l2:null,l1:0})}(e)}Aa(pP,{l1:function(){return mP},l1l2:function(){return hP},l2:function(){return gP}});var vP=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){var e;return(0,Ur.Z)(this,n),(e=t.apply(this,arguments)).model=null,e}return(0,Gr.Z)(n,[{key:"setModel",value:function(e){if(!(e instanceof cE))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}]),n}(jC);function yP(e,t){return e<t}function bP(e,t){return e>t}var xP=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),r=t.call(this),null==e&&(e={}),e.restoreBestWeights)throw new Jx("restoreBestWeights = True is not implemented in EarlyStopping yet.");return r.monitor=e.monitor||"val_loss",r.minDelta=Math.abs(e.minDelta||0),r.patience=e.patience||0,r.verbose=e.verbose||0,r.mode=e.mode||"auto",r.baseline=e.baseline,-1===["auto","min","max"].indexOf(r.mode)&&(console.warn("EarlyStopping mode '".concat(r.mode,"' is invalid. Falling back to mode 'auto'.")),r.mode="auto"),"min"===r.mode?r.monitorFunc=yP:"max"===r.mode||-1!==r.monitor.indexOf("acc")?r.monitorFunc=bP:r.monitorFunc=yP,r.monitorFunc===yP&&(r.minDelta*=-1),(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===yP?1/0:-1/0;case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZC(n);case 2:null!=(r=this.getMonitorValue(n))&&(this.monitorFunc(r-this.minDelta,this.best)?(this.best=r,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=t,this.model.stopTraining=!0)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stoppedEpoch>0&&this.verbose&&console.log("Epoch ".concat(this.stoppedEpoch,": early stopping."));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMonitorValue",value:function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping ".concat(this.monitor," is not available. Available metrics are: ").concat(Object.keys(e))),t}}]),n}(vP);var AP={earlyStopping:function(e){return new xP(e)}};Hi().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var wP,kP=function(e){return e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF",e}(kP||{});!function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(wP||(wP={}));var SP={};function CP(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};SP[e]=n}function IP(e){return SP[e]}function EP(e){delete SP[e]}function TP(e,t,n,r,a){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var o=i.inputIndexStart,s=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?o+1:i.inputIndexEnd;if("tensor"===i.type)return NP(t.inputNames[i.inputIndexStart],n,r,a);if("tensors"===i.type)return t.inputNames.slice(o,s).map((function(e){return NP(e,n,r,a)}));var u=NP(t.inputNames.slice(o)[0],n,r,a),l=u.dataSync();return"number"===i.type?l[0]:bl.toNestedArray(u.shape,l)}var c=t.attrParams[e];return c&&c.value}function NP(e,t,n,r){var a=_P(e),i=(0,o.Z)(a,2),s=i[0],u=i[1];if(null!=r){var l=r.getHashTableHandleByName(s);if(null!=l)return l}var c=n.currentContextIds.find((function(e){return!!t[PP(s,e)]}));return void 0!==c?t[PP(s,c)][u]:void 0}function OP(e,t){var n=_P(e),r=(0,o.Z)(n,3),a=r[0],i=r[1],s=r[2];return[PP(a,t&&t.currentContextId),i,s]}function PP(e,t){return t?"".concat(e,"-").concat(t):e}function _P(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function MP(e,t,n){var r=TP("pad",e,t,n);if("explicit"===r){r=TP("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],i=0;i<4;i++)a[i][0]=r[2*i],a[i][1]=r[2*i+1];return a}return r}function RP(e){return e.kept?e:Kd(e)}var FP={};Aa(FP,{json:function(){return DP}});var DP=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],LP={};Aa(LP,{json:function(){return zP}});var zP=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ZP={};Aa(ZP,{json:function(){return WP}});var WP=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],BP={};Aa(BP,{json:function(){return jP}});var jP=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],VP={};Aa(VP,{json:function(){return HP}});var HP=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],UP={};Aa(UP,{json:function(){return GP}});var GP=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],XP={};Aa(XP,{json:function(){return YP}});var YP=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],qP={};Aa(qP,{json:function(){return KP}});var KP=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],JP={};Aa(JP,{json:function(){return QP}});var QP=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],$P={};Aa($P,{json:function(){return e_}});var e_=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],t_={};Aa(t_,{json:function(){return n_}});var n_=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],r_={};Aa(r_,{json:function(){return a_}});var a_=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],i_={};Aa(i_,{json:function(){return o_}});var o_=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],s_={};Aa(s_,{json:function(){return u_}});var u_=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],l_={};Aa(l_,{json:function(){return c_}});var c_=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],d_={};Aa(d_,{json:function(){return f_}});var f_=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],p_={};Aa(p_,{json:function(){return h_}});var h_=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],m_={};Aa(m_,{json:function(){return g_}});var g_=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],v_={};Aa(v_,{json:function(){return y_}});var y_=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],b_=function(){function e(){var t;(0,Ur.Z)(this,e);var n=[FP,LP,ZP,BP,VP,UP,XP,qP,JP,$P,t_,r_,i_,s_,l_,d_,p_,m_,v_],r=(t=[]).concat.apply(t,(0,qr.Z)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,Gr.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],i=[],s=[],u=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?i.push(e[n.name]):(null==n.input||0===n.input.length)&&s.push(e[n.name]),e}),{}),l=[],c=[],d={},f={};null!=n&&(d=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var p=Object.keys(u);p.forEach((function(e){var t=u[e];t.inputNames.forEach((function(e,n){var r=OP(e),a=(0,o.Z)(r,3),i=a[0],s=a[2],l=u[i];if(null!=l.outputs){var c=l.outputs.indexOf(s);if(-1!==c){var d="".concat(i,":").concat(c);t.inputNames[n]=d}}t.inputs.push(l),l.children.push(t)}))})),0===Object.keys(f).length?p.forEach((function(e){var t=u[e];0===t.children.length&&c.push(t)})):Object.keys(f).forEach((function(e){var t=OP(e),n=(0,o.Z)(t,1)[0],r=u[n];null!=r&&(r.signatureKey=f[e],c.push(r))})),Object.keys(d).length>0?Object.keys(d).forEach((function(e){var t=OP(e),n=(0,o.Z)(t,1)[0],r=u[n];r&&(r.signatureKey=d[e],l.push(r))})):l=a;var h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var m={nodes:u,inputs:l,outputs:c,weights:i,placeholders:a,signature:n,functions:h};return s.length>0&&(m.initNodes=s),m}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=IP(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r,a=n.type;switch(n.type){case"string":void 0===(r=A_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=A_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(r=P_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=P_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(r=k_(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(r=k_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(r=O_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=O_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(r=w_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=w_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(r=M_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=M_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(r=N_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=N_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(r=__(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=__(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(r=I_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=I_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(r=E_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=E_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(r=C_(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(r=C_(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:r,type:a},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var i=[],s=[];e.signature.inputArg.forEach((function(e){var t=OP(e.name),n=(0,o.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:S_(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,i.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=OP(e),i=(0,o.Z)(r,3),s=i[0],u=i[2],l=a[s];if(null!=l.outputs){var c=l.outputs.indexOf(u);if(-1!==c){var d="".concat(s,":").concat(c);t.inputNames[n]=d}}t.inputs.push(l),l.children.push(t)}))}));var u=e.ret;e.signature.outputArg.forEach((function(e){var t=OP(u[e.name]),n=(0,o.Z)(t,2),r=n[0],i=n[1],l=a[r];null!=l&&(l.defaultOutput=i,s.push(l))}));var l=this.mapArgsToSignature(e);return{nodes:a,inputs:i,outputs:s,weights:r,placeholders:[],signature:l}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function x_(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=Hi().global;if("undefined"!=typeof t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function A_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?x_(a.s,r):n}function w_(e,t,n){var r=e[t];return r?r.b:n}function k_(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof a?a:parseInt(a,10)}function S_(e){switch("string"==typeof e&&(e=kP[e]),e){case 1:case 19:case 2:return"float32";case 3:case 9:case 6:case 4:return"int32";case 10:return"bool";case 7:return"string";default:return null}}function C_(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function I_(e,t,n){var r=e[t];return r&&r.type?S_(r.type):n}function E_(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return S_(e)})):n}function T_(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)})):[]}function N_(e,t,n){var r=e[t];return r&&r.shape?T_(r.shape):n}function O_(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"==typeof e?e:parseInt(e,10)})):n}function P_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return x_(e,r)})):n}function __(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return T_(e)})):n}function M_(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var R_=function(){function e(t,n,r){var a=this;(0,Ur.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return(0,Gr.Z)(e,[{key:"getInput",value:function(e){return NP(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return NP(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return k_(this.node.rawAttrs,e,t);if(null!=n.s)return A_(this.node.rawAttrs,e,t);if(null!=n.b)return w_(this.node.rawAttrs,e,t);if(null!=n.shape)return N_(this.node.rawAttrs,e,t);if(null!=n.type)return I_(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return O_(this.node.rawAttrs,e,t);if(null!=n.list.s)return P_(this.node.rawAttrs,e,t);if(null!=n.list.shape)return __(this.node.rawAttrs,e,t);if(null!=n.list.b)return M_(this.node.rawAttrs,e,t);if(null!=n.list.type)return E_(this.node.rawAttrs,e,t)}return t}}]),e}();function F_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!=typeof e&&"number"!=typeof t){bl.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],i=t[r];bl.assert(a<0||i<0||a===i,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function D_(e){return!("number"==typeof e||e.some((function(e){return e<0})))}function L_(e,t,n){var r=z_(e,n),a=!D_(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=z_(e.shape,r)})),!D_(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function z_(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:i}return n}var Z_=function(){function e(t,n,r,a,i,o,s){(0,Ur.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=Lm(0),Lf(this.idTensor)}return(0,Gr.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){(null==e||!e.has(t.tensor.id))&&t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?)."));return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=t.shape),F_(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,Lf(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,because the index size: ").concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Wc([],[0].concat(this.elementShape));var r=this.readMany(e);return F_(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Zv(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return Wc([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return F_(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),Dh(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,qr.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,Qv(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), and the TensorArray is not marked as dynamically resizeable"));var i=0===r?0:t.size/r,o=[];Ff((function(){t=Mh(t,[1,r,i]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,e[s],i];o[s]=Mh(zh(t,u,l),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),W_=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,Ur.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));F_(n,e.shape,"TensorList shape mismatch: "),Lf(e)})),this.idTensor=Lm(0),this.maxNumElements=a,Lf(this.idTensor)}return(0,Gr.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,qr.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){(null==e||!e.has(t.id))&&t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));F_(e,this.elementShape,"TensorList shape mismatch: ");var a=L_(this.elementShape,this.tensors,e);return Ff((function(){var e=n.tensors.map((function(e){return Mh(e,a)}));return Zv(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=L_(this.elementShape,this.tensors,e),r=this.tensors.pop();return F_(r.shape,e,"TensorList shape mismatch: "),Mh(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(F_(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Lf(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));F_(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=L_(this.elementShape,this.tensors,t);return Mh(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));F_(this.elementShape,t.shape,"TensorList shape mismatch: "),Lf(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));F_(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=L_(this.elementShape,this.tensors,n);return 0===e.length?Wc([],[0].concat(a)):Ff((function(){var t=e.map((function(e){return Mh(r.tensors[e],a)}));return Zv(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));F_(this.elementShape,t,"TensorList shape mismatch: ");var r=L_(this.elementShape,this.tensors,t);return 0===this.size()?Wc([],[0].concat(r)):Ff((function(){var e=n.tensors.map((function(e){return Mh(e,r)}));return Dh(e,0)}))}}]),e}();function B_(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));F_(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=Qv(e);return new W_(a,t,r)}function j_(e,t,n){return new W_([],e,t,n)}function V_(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,(0,qr.Z)(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var i=new W_([],n,e.dtype,r),o=Qv(e,0);return t.forEach((function(e,t){i.setItem(e,o[t])})),i}function H_(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var i=z_(e.shape.slice(1),n),o=0===r?0:e.size/r,s=Ff((function(){var n=[];e=Mh(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,t[s],o];n[s]=Mh(zh(e,u,l),i)}return e.dispose(),n})),u=new W_([],n,e.dtype,t.length),l=0;l<s.length;l++)u.setItem(l,s[l]);return u}var U_=function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D,L,z,Z,W,B,j,V,H,U,G,X,Y,q,K,J,Q,$,ee,te,ne,re,ae,ie,oe,se,ue,le,ce,de,fe,pe,he,me,ge,ve,ye,be,xe,Ae,we,ke,Se,Ce,Ie,Ee,Te,Ne,Oe,Pe,_e,Me,Re,Fe,De,Le,ze,Ze,We,Be,je,Ve,He;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?12:"LoopCond"===e.t0?16:"Switch"===e.t0?18:"Merge"===e.t0?28:"Enter"===e.t0?33:"Exit"===e.t0?35:"NextIteration"===e.t0?37:"TensorArrayV3"===e.t0?39:"TensorArrayWriteV3"===e.t0?41:"TensorArrayReadV3"===e.t0?43:"TensorArrayGatherV3"===e.t0?45:"TensorArrayScatterV3"===e.t0?47:"TensorArrayConcatV3"===e.t0?49:"TensorArraySplitV3"===e.t0?51:"TensorArraySizeV3"===e.t0?53:"TensorArrayCloseV3"===e.t0?55:"TensorListSetItem"===e.t0?57:"TensorListGetItem"===e.t0?59:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?61:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?63:"TensorListGather"===e.t0?67:"TensorListStack"===e.t0?69:"TensorListFromTensor"===e.t0?71:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?73:"TensorListPushBack"===e.t0?75:"TensorListPopBack"===e.t0?77:"TensorListSplit"===e.t0?79:"TensorListLength"===e.t0?81:"TensorListResize"===e.t0?83:85;break;case 3:return a=TP("thenBranch",t,n,r),i=TP("elseBranch",t,n,r),o=TP("cond",t,n,r),s=TP("args",t,n,r),e.next=6,o.data();case 6:if(!e.sent[0]){e.next=10;break}e.t1=r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap),e.next=11;break;case 10:e.t1=r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap);case 11:return e.abrupt("return",e.t1);case 12:return e.delegateYield((0,Er.Z)().mark((function e(){var a,i,o,s,u,l,c,d;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TP("body",t,n,r),i=TP("cond",t,n,r),o=TP("args",t,n,r),e.next=5,r.functionMap[i].executeFunctionAsync(o,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=o.map((function(e){return e.id})),e.next=9,s[0].data();case 9:l=e.sent,s.forEach((function(e){!e.kept&&-1===u.indexOf(e.id)&&e.dispose()})),c=o,d=(0,Er.Z)().mark((function e(){var t,n,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c,e.next=3,r.functionMap[a].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 3:return c=e.sent,n=c.map((function(e){return e.id})),t.forEach((function(e){!e.kept&&-1===u.indexOf(e.id)&&-1===n.indexOf(e.id)&&e.dispose()})),e.next=8,r.functionMap[i].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 8:return o=e.sent,e.next=11,o[0].data();case 11:l=e.sent,o.forEach((function(e){!e.kept&&-1===u.indexOf(e.id)&&-1===n.indexOf(e.id)&&e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!l[0]){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:c});case 18:case"end":return e.stop()}}),e)}))(),"t2",13);case 13:if("object"!==typeof(u=e.t2)){e.next=16;break}return e.abrupt("return",u.v);case 16:return l=TP("pred",t,n,r),e.abrupt("return",[RP(l)]);case 18:return c=TP("pred",t,n,r),(d=TP("data",t,n,r)).kept||(d=RP(d)),e.next=22,c.data();case 22:if(!e.sent[0]){e.next=26;break}e.t3=[void 0,d],e.next=27;break;case 26:e.t3=[d,void 0];case 27:return e.abrupt("return",e.t3);case 28:if(f=t.inputNames.find((function(e){return void 0!==NP(e,n,r)})),!f){e.next=32;break}return p=NP(f,n,r),e.abrupt("return",[RP(p)]);case 32:return e.abrupt("return");case 33:return h=TP("frameName",t,n,r),m=TP("tensor",t,n,r),e.abrupt("return",(r.enterFrame(h),[RP(m)]));case 35:return g=TP("tensor",t,n,r),e.abrupt("return",(r.exitFrame(),[RP(g)]));case 37:return v=TP("tensor",t,n,r),e.abrupt("return",(r.nextIteration(),[RP(v)]));case 39:return y=TP("size",t,n,r),b=TP("dtype",t,n,r),x=TP("elementShape",t,n,r),A=TP("dynamicSize",t,n,r),w=TP("clearAfterRead",t,n,r),k=TP("identicalElementShapes",t,n,r),S=TP("name",t,n,r),C=new Z_(S,b,y,x,k,A,w),e.abrupt("return",(r.addTensorArray(C),[C.idTensor,Lm(1)]));case 41:return I=TP("tensorArrayId",t,n,r),E=TP("index",t,n,r),T=TP("tensor",t,n,r),N=r.getTensorArray(I.id),e.abrupt("return",(N.write(E,T),[N.idTensor]));case 43:return O=TP("tensorArrayId",t,n,r),P=TP("index",t,n,r),e.abrupt("return",[r.getTensorArray(O.id).read(P)]);case 45:return _=TP("tensorArrayId",t,n,r),M=TP("indices",t,n,r),R=TP("dtype",t,n,r),e.abrupt("return",[r.getTensorArray(_.id).gather(M,R)]);case 47:return F=TP("tensorArrayId",t,n,r),D=TP("indices",t,n,r),L=TP("tensor",t,n,r),z=r.getTensorArray(F.id),e.abrupt("return",(z.scatter(D,L),[z.idTensor]));case 49:return Z=TP("tensorArrayId",t,n,r),W=r.getTensorArray(Z.id),B=TP("dtype",t,n,r),e.abrupt("return",[W.concat(B)]);case 51:return j=TP("tensorArrayId",t,n,r),V=TP("tensor",t,n,r),H=TP("lengths",t,n,r),U=r.getTensorArray(j.id),e.abrupt("return",(U.split(H,V),[U.idTensor]));case 53:return G=TP("tensorArrayId",t,n,r),X=r.getTensorArray(G.id),e.abrupt("return",[Lm(X.size(),"int32")]);case 55:return Y=TP("tensorArrayId",t,n,r),q=r.getTensorArray(Y.id),e.abrupt("return",(q.clearAndClose(),[q.idTensor]));case 57:return K=TP("tensorListId",t,n,r),J=TP("index",t,n,r),Q=TP("tensor",t,n,r),$=r.getTensorList(K.id),e.abrupt("return",($.setItem(J,Q),[$.idTensor]));case 59:return ee=TP("tensorListId",t,n,r),te=TP("index",t,n,r),ne=TP("elementShape",t,n,r),re=TP("elementDType",t,n,r),e.abrupt("return",[r.getTensorList(ee.id).getItem(te,ne,re)]);case 61:return ae=TP("indices",t,n,r),ie=TP("tensor",t,n,r),oe=TP("elementShape",t,n,r),se=TP("numElements",t,n,r),ue=V_(ie,ae,oe,se),e.abrupt("return",(r.addTensorList(ue),[ue.idTensor]));case 63:return le=TP("elementShape",t,n,r),ce=TP("elementDType",t,n,r),de="TensorListReserve"===t.op?"numElements":"maxNumElements",fe=TP(de,t,n,r),pe=j_(le,ce,fe),e.abrupt("return",(r.addTensorList(pe),[pe.idTensor]));case 67:return he=TP("tensorListId",t,n,r),me=TP("indices",t,n,r),ge=TP("elementShape",t,n,r),ve=TP("elementDType",t,n,r),e.abrupt("return",[r.getTensorList(he.id).gather(me,ve,ge)]);case 69:return ye=TP("tensorListId",t,n,r),be=TP("elementShape",t,n,r),xe=TP("elementDType",t,n,r),Ae=TP("numElements",t,n,r),e.abrupt("return",[r.getTensorList(ye.id).stack(be,xe,Ae)]);case 71:return we=TP("tensor",t,n,r),ke=TP("elementShape",t,n,r),Se=TP("elementDType",t,n,r),Ce=B_(we,ke,Se),e.abrupt("return",(r.addTensorList(Ce),[Ce.idTensor]));case 73:return Ie=TP("tensorListId",t,n,r),Ee=r.getTensorList(Ie.id),Te=TP("dtype",t,n,r),Ne=TP("elementShape",t,n,r),e.abrupt("return",[Ee.concat(Te,Ne)]);case 75:return Oe=TP("tensorListId",t,n,r),Pe=TP("tensor",t,n,r),_e=r.getTensorList(Oe.id),e.abrupt("return",(_e.pushBack(Pe),[_e.idTensor]));case 77:return Me=TP("tensorListId",t,n,r),Re=TP("elementShape",t,n,r),Fe=TP("elementDType",t,n,r),e.abrupt("return",[r.getTensorList(Me.id).popBack(Re,Fe)]);case 79:return De=TP("tensor",t,n,r),Le=TP("elementShape",t,n,r),ze=TP("lengths",t,n,r),Ze=H_(De,ze,Le),e.abrupt("return",(r.addTensorList(Ze),[Ze.idTensor]));case 81:return We=TP("tensorListId",t,n,r),Be=r.getTensorList(We.id),e.abrupt("return",[Lm(Be.size(),"int32")]);case 83:return je=TP("tensorListId",t,n,r),Ve=TP("size",t,n,r),He=r.getTensorList(je.id).resize(Ve),e.abrupt("return",(r.addTensorList(He),[He.idTensor]));case 85:throw TypeError("Node type ".concat(t.op," is not implemented"));case 86:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function G_(e,t,n){var r=TP("fusedOps",e,t,n),a=(0,o.Z)(r,2),i=a[0],s=a[1],u="biasadd"===i,l=!u,c="prelu"===s,d="fusedbatchnorm"===i,f=TP("numArgs",e,t,n);if(u){if(c&&2!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&u&&1!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(d)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=TP("strides",e,t,n),h=MP(e,t,n),m=TP("dataFormat",e,t,n).toUpperCase(),g=TP("dilations",e,t,n),v=TP("args",e,t,n),y=(0,o.Z)(v,2),b=y[0],x=y[1];return l&&(x=b,b=void 0),{stride:p,pad:h,dataFormat:m,dilations:g,biasArg:b,preluArg:x,activationFunc:s,leakyreluAlpha:TP("leakyreluAlpha",e,t,n)}}function X_(e,t,n){return{boxes:TP("boxes",e,t,n),scores:TP("scores",e,t,n),maxOutputSize:TP("maxOutputSize",e,t,n),iouThreshold:TP("iouThreshold",e,t,n),scoreThreshold:TP("scoreThreshold",e,t,n),softNmsSigma:TP("softNmsSigma",e,t,n)}}var Y_=function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?14:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?25:"Where"===e.t0?30:"ListDiff"===e.t0?36:37;break;case 3:return a=X_(t,n,r),i=a.boxes,o=a.scores,s=a.maxOutputSize,u=a.iouThreshold,l=a.scoreThreshold,c=a.softNmsSigma,e.next=12,Ob.nonMaxSuppressionWithScoreAsync(i,o,s,u,l,c);case 12:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 14:return f=X_(t,n,r),p=f.boxes,h=f.scores,m=f.maxOutputSize,g=f.iouThreshold,v=f.scoreThreshold,y=TP("padToMaxOutputSize",t,n,r),e.next=23,Ob.nonMaxSuppressionPaddedAsync(p,h,m,g,v,y);case 23:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 25:return x=X_(t,n,r),A=x.boxes,w=x.scores,k=x.maxOutputSize,S=x.iouThreshold,C=x.scoreThreshold,e.next=28,Ob.nonMaxSuppressionAsync(A,w,k,S,C);case 28:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 30:return I=qd(TP("condition",t,n,r),"bool"),e.next=33,ry(I);case 33:return e.t2=e.sent,E=[e.t2],e.abrupt("return",(I.dispose(),E));case 36:return e.abrupt("return",kv(TP("x",t,n,r),TP("y",t,n,r)));case 37:throw TypeError("Node type ".concat(t.op," is not implemented"));case 38:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),q_=function(){function e(t,n){(0,Ur.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=Lm(0),this.tensorMap=new Map,Lf(this.handle)}return(0,Gr.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return Lm(this.size(),"int32")}},{key:"import",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),Ff((function(){var e=Qv(n),t=r.length,i=e.length;bl.assert(t===i,(function(){return"The number of elements doesn't match, keys has ".concat(t," elements, the values has ").concat(i," elements.")}));for(var o=0;o<t;o++){var s=r[o],u=e[o];Lf(u),a.tensorMap.set(s,u)}return a.handle}))));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",Ff((function(){for(var e=[],t=0;t<r.length;t++){var i=r[t],o=a.findWithDefault(i,n);e.push(o)}return Zv(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ").concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ").concat(t.dtype))}}]),e}(),K_=function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u,l,c,d,f,p,h;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?5:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?10:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?15:17;break;case 3:return i=TP("keyDType",t,n,r),o=TP("valueDType",t,n,r),s=new q_(i,o),e.abrupt("return",(a.addHashTable(t.name,s),[s.handle]));case 5:return u=TP("tableHandle",t,n,r,a),l=TP("keys",t,n,r),c=TP("values",t,n,r),e.next=8,a.getHashTableById(u.id).import(l,c);case 8:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 10:return d=TP("tableHandle",t,n,r,a),f=TP("keys",t,n,r),p=TP("defaultValue",t,n,r),e.next=13,a.getHashTableById(d.id).find(f,p);case 13:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 15:return h=TP("tableHandle",t,n,r,a),e.abrupt("return",[a.getHashTableById(h.id).tensorSize()]);case 17:throw TypeError("Node type ".concat(t.op," is not implemented"));case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function J_(e,t,n,r){var a=function(e,t,n){switch(e.category){case"arithmetic":return Ff((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[eh(TP("a",e,t,n),TP("b",e,t,n))];case"AddN":return[sh(TP("tensors",e,t,n))];case"FloorMod":case"Mod":return[Zg(TP("a",e,t,n),TP("b",e,t,n))];case"Mul":return[rh(TP("a",e,t,n),TP("b",e,t,n))];case"RealDiv":case"Div":return[nh(TP("a",e,t,n),TP("b",e,t,n))];case"DivNoNan":return[Am(TP("a",e,t,n),TP("b",e,t,n))];case"FloorDiv":return[th(TP("a",e,t,n),TP("b",e,t,n))];case"Sub":return[bg(TP("a",e,t,n),TP("b",e,t,n))];case"Minimum":return[Lg(TP("a",e,t,n),TP("b",e,t,n))];case"Maximum":return[_g(TP("a",e,t,n),TP("b",e,t,n))];case"Pow":return[Dm(TP("a",e,t,n),TP("b",e,t,n))];case"SquaredDifference":return[Lv(TP("a",e,t,n),TP("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return Ff((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[ah(TP("x",e,t,n))];case"Acos":return[ih(TP("x",e,t,n))];case"Acosh":return[oh(TP("x",e,t,n))];case"Asin":return[fh(TP("x",e,t,n))];case"Asinh":return[ph(TP("x",e,t,n))];case"Atan":return[hh(TP("x",e,t,n))];case"Atan2":return[mh(TP("x",e,t,n),TP("y",e,t,n))];case"Atanh":return[gh(TP("x",e,t,n))];case"Ceil":return[Kh(TP("x",e,t,n))];case"Complex":return[zc(TP("real",e,t,n),TP("imag",e,t,n))];case"Cos":return[lm(TP("x",e,t,n))];case"Cosh":return[cm(TP("x",e,t,n))];case"Elu":return[Sm(TP("x",e,t,n))];case"Erf":return[Cm(TP("x",e,t,n))];case"Exp":return[Hm(TP("x",e,t,n))];case"Expm1":return[Gm(TP("x",e,t,n))];case"Floor":return[Km(TP("x",e,t,n))];case"Log":return[ug(TP("x",e,t,n))];case"Log1p":return[lg(TP("x",e,t,n))];case"Imag":return[Yf(TP("x",e,t,n))];case"Neg":return[qf(TP("x",e,t,n))];case"Reciprocal":return[cv(TP("x",e,t,n))];case"Real":return[Kf(TP("x",e,t,n))];case"Relu":return[dv(TP("x",e,t,n))];case"Round":return[yv(TP("x",e,t,n))];case"Selu":return[xv(TP("x",e,t,n))];case"Sigmoid":return[Lh(TP("x",e,t,n))];case"Sin":return[Cv(TP("x",e,t,n))];case"Sign":return[Sv(TP("x",e,t,n))];case"Sinh":return[Iv(TP("x",e,t,n))];case"Softplus":return[vg(TP("x",e,t,n))];case"Sqrt":return[zm(TP("x",e,t,n))];case"Square":return[Zm(TP("x",e,t,n))];case"Tanh":return[Zh(TP("x",e,t,n))];case"Tan":return[jv(TP("x",e,t,n))];case"ClipByValue":return[Jh(TP("x",e,t,n),TP("clipValueMin",e,t,n),TP("clipValueMax",e,t,n))];case"Relu6":return[fv(TP("x",e,t,n))];case"Rsqrt":return[bv(NP(e.inputNames[0],t,n))];case"Prod":return[ev(TP("x",e,t,n),TP("axes",e,t,n))];case"LeakyRelu":return[rg(TP("x",e,t,n),TP("alpha",e,t,n))];case"Prelu":return[$g(TP("x",e,t,n),TP("alpha",e,t,n))];case"IsNan":return[ng(NP(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return U_(e,t,n);case"convolution":return Ff((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=TP("stride",e,t,n),a=TP("pad",e,t,n),i=TP("dataFormat",e,t,n).toUpperCase(),o=TP("dilation",e,t,n);return[rm(TP("x",e,t,n),TP("filter",e,t,n),r,a,i,o)];case"Conv2D":var s=TP("strides",e,t,n),u=MP(e,t,n),l=TP("dataFormat",e,t,n).toUpperCase(),c=TP("dilations",e,t,n);return[nm(TP("x",e,t,n),TP("filter",e,t,n),[s[1],s[2]],u,l,[c[1],c[2]])];case"_FusedConv2D":var d=G_(e,t,n),f=d.stride,p=d.pad,h=d.dataFormat,m=d.dilations,g=d.biasArg,v=d.preluArg,y=d.activationFunc,b=d.leakyreluAlpha;return[gy.conv2d({x:TP("x",e,t,n),filter:TP("filter",e,t,n),strides:[f[1],f[2]],pad:p,dataFormat:h,dilations:[m[1],m[2]],bias:g,activation:y,preluActivationWeights:v,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var x=G_(e,t,n),A=x.stride,w=x.pad,k=x.dataFormat,S=x.dilations,C=x.biasArg,I=x.preluArg,E=x.activationFunc,T=x.leakyreluAlpha;return[gy.depthwiseConv2d({x:TP("x",e,t,n),filter:TP("filter",e,t,n),strides:[A[1],A[2]],pad:w,dataFormat:k,dilations:[S[1],S[2]],bias:C,activation:E,preluActivationWeights:I,leakyreluAlpha:T})];case"Conv2DBackpropInput":case"Conv2dTranspose":var N=TP("outputShape",e,t,n),O=TP("strides",e,t,n),P=MP(e,t,n);return[im(TP("x",e,t,n),TP("filter",e,t,n),N,[O[1],O[2]],P)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var _=TP("strides",e,t,n),M=MP(e,t,n),R=TP("dilations",e,t,n),F=TP("dataFormat",e,t,n).toUpperCase();return[mm(TP("input",e,t,n),TP("filter",e,t,n),[_[1],_[2]],M,F,[R[1],R[2]])];case"Conv3D":var D=TP("strides",e,t,n),L=TP("pad",e,t,n),z=TP("dataFormat",e,t,n).toUpperCase(),Z=TP("dilations",e,t,n);return[om(TP("x",e,t,n),TP("filter",e,t,n),[D[1],D[2],D[3]],L,z,[Z[1],Z[2],Z[3]])];case"AvgPool":var W=TP("strides",e,t,n),B=TP("pad",e,t,n),j=TP("kernelSize",e,t,n);return[Rh(TP("x",e,t,n),[j[1],j[2]],[W[1],W[2]],B)];case"MaxPool":var V=TP("strides",e,t,n),H=TP("pad",e,t,n),U=TP("kernelSize",e,t,n);return[Ng(TP("x",e,t,n),[U[1],U[2]],[V[1],V[2]],H)];case"MaxPoolWithArgmax":var G=TP("strides",e,t,n),X=TP("pad",e,t,n),Y=TP("kernelSize",e,t,n),q=TP("includeBatchInIndex",e,t,n),K=Pg(TP("x",e,t,n),[Y[1],Y[2]],[G[1],G[2]],X,q);return[K.result,K.indexes];case"AvgPool3D":var J=TP("strides",e,t,n),Q=TP("pad",e,t,n),$=TP("kernelSize",e,t,n);return[Fh(TP("x",e,t,n),[$[1],$[2],$[3]],[J[1],J[2],J[3]],Q)];case"MaxPool3D":var ee=TP("strides",e,t,n),te=TP("pad",e,t,n),ne=TP("kernelSize",e,t,n);return[Og(TP("x",e,t,n),[ne[1],ne[2],ne[3]],[ee[1],ee[2],ee[3]],te)];case"Dilation2D":var re=TP("strides",e,t,n),ae=TP("pad",e,t,n),ie=TP("dilations",e,t,n),oe=re[1],se=re[2],ue=ie[1],le=ie[2];return[vm(TP("x",e,t,n),TP("filter",e,t,n),[oe,se],ae,[ue,le],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return Ff((function(){return function(e,t,n){switch(e.op){case"Fill":var r=TP("shape",e,t,n),a=TP("dtype",e,t,n);return[qm(r,TP("value",e,t,n),a)];case"LinSpace":return[og(TP("start",e,t,n),TP("stop",e,t,n),TP("num",e,t,n))];case"Multinomial":var i=TP("logits",e,t,n),o=TP("numSamples",e,t,n),s=TP("seed",e,t,n);return[jg(i,o,s)];case"OneHot":var u=TP("indices",e,t,n),l=TP("depth",e,t,n),c=TP("onValue",e,t,n),d=TP("offValue",e,t,n);return[If(u,l,c,d)];case"Ones":return[Fg(TP("shape",e,t,n),TP("dtype",e,t,n))];case"OnesLike":return[Hg(TP("x",e,t,n))];case"RandomUniform":return[uv(TP("shape",e,t,n),TP("minval",e,t,n),TP("maxval",e,t,n),TP("dtype",e,t,n))];case"Range":return[lv(TP("start",e,t,n),TP("stop",e,t,n),TP("step",e,t,n),TP("dtype",e,t,n))];case"TruncatedNormal":var f=TP("shape",e,t,n),p=TP("mean",e,t,n),h=TP("stdDev",e,t,n),m=TP("seed",e,t,n);return[qv(f,p,h,TP("dtype",e,t,n),m)];case"Zeros":return[Rg(TP("shape",e,t,n),TP("dtype",e,t,n))];case"ZerosLike":return[xm(TP("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return Y_(e,t,n);case"evaluation":return Ff((function(){return function(e,t,n){switch(e.op){case"LowerBound":return[Tg(TP("sortedSequence",e,t,n),TP("values",e,t,n))];case"TopKV2":var r=TP("x",e,t,n),a=TP("k",e,t,n),i=TP("sorted",e,t,n),o=Yv(r,a,i);return[o.values,o.indices];case"UpperBound":return[$v(TP("sortedSequence",e,t,n),TP("values",e,t,n))];case"Unique":var s=TP("x",e,t,n),u=Kv(s);return[u.values,u.indices];case"UniqueV2":var l=TP("x",e,t,n),c=TP("axis",e,t,n),d=Kv(l,c);return[d.values,d.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return Ff((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=TP("images",e,t,n),a=TP("size",e,t,n),i=TP("alignCorners",e,t,n),o=TP("halfPixelCenters",e,t,n);return[Ob.resizeBilinear(r,[a[0],a[1]],i,o)];case"ResizeNearestNeighbor":var s=TP("images",e,t,n),u=TP("size",e,t,n),l=TP("alignCorners",e,t,n),c=TP("halfPixelCenters",e,t,n);return[Ob.resizeNearestNeighbor(s,[u[0],u[1]],l,c)];case"CropAndResize":var d=TP("image",e,t,n),f=TP("boxes",e,t,n),p=TP("boxInd",e,t,n),h=TP("cropSize",e,t,n),m=TP("method",e,t,n),g=TP("extrapolationValue",e,t,n);return[Ob.cropAndResize(d,f,p,h,m,g)];case"ImageProjectiveTransformV3":var v=TP("images",e,t,n),y=TP("transforms",e,t,n),b=TP("outputShape",e,t,n),x=TP("fillValue",e,t,n),A=TP("interpolation",e,t,n),w=TP("fillMode",e,t,n);return[Ob.transform(v,y,A.toLowerCase(),w.toLowerCase(),x,b)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return Ff((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=TP("default",e,t,n);return[NP(e.name,t,n)||r];case"Placeholder":return[NP(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[RP(TP("x",e,t,n))];case"IdentityN":return TP("x",e,t,n).map((function(e){return RP(e)}));case"Shape":return[Vv(TP("x",e,t,n).shape,"int32")];case"ShapeN":return TP("x",e,t,n).map((function(e){return Vv(e.shape)}));case"Size":return[Lm(TP("x",e,t,n).size,"int32")];case"Rank":return[Lm(TP("x",e,t,n).rank,"int32")];case"NoOp":return[Lm(1)];case"Print":var a=TP("x",e,t,n),i=TP("data",e,t,n),o=TP("message",e,t,n),s=TP("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<i.length;u++)console.log(Array.prototype.slice.call(i[u].dataSync()).slice(0,s));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return Ff((function(){return function(e,t,n){switch(e.op){case"Equal":return[ym(TP("a",e,t,n),TP("b",e,t,n))];case"NotEqual":return[Vg(TP("a",e,t,n),TP("b",e,t,n))];case"Greater":return[Qm(TP("a",e,t,n),TP("b",e,t,n))];case"GreaterEqual":return[$m(TP("a",e,t,n),TP("b",e,t,n))];case"Less":return[ag(TP("a",e,t,n),TP("b",e,t,n))];case"LessEqual":return[ig(TP("a",e,t,n),TP("b",e,t,n))];case"LogicalAnd":return[wg(TP("a",e,t,n),TP("b",e,t,n))];case"LogicalNot":return[kg(TP("a",e,t,n))];case"LogicalOr":return[Sg(TP("a",e,t,n),TP("b",e,t,n))];case"Select":case"SelectV2":return[bm(TP("condition",e,t,n),TP("a",e,t,n),TP("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return Ff((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Cf(TP("a",e,t,n),TP("b",e,t,n),TP("transposeA",e,t,n),TP("transposeB",e,t,n))];case"Einsum":return[km.apply(void 0,[TP("equation",e,t,n)].concat((0,qr.Z)(TP("tensors",e,t,n))))];case"Transpose":return[Jf(TP("x",e,t,n),TP("perm",e,t,n))];case"_FusedMatMul":var r=TP("fusedOps",e,t,n),a=(0,o.Z)(r,2),i=a[0],s=a[1],u="biasadd"===i,l="prelu"===s,c=TP("numArgs",e,t,n),d=TP("leakyreluAlpha",e,t,n);if(u){if(l&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var f=TP("args",e,t,n),p=(0,o.Z)(f,2),h=p[0],m=p[1];return[gy.matMul({a:TP("a",e,t,n),b:TP("b",e,t,n),transposeA:TP("transposeA",e,t,n),transposeB:TP("transposeB",e,t,n),bias:h,activation:s,preluActivationWeights:m,leakyreluAlpha:d})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return Ff((function(){return function(e,t,n){switch(e.op){case"EuclideanNorm":return[Vm(TP("x",e,t,n),TP("axis",e,t,n),TP("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Vh(TP("x",e,t,n),TP("mean",e,t,n),TP("variance",e,t,n),TP("offset",e,t,n),TP("scale",e,t,n),TP("epsilon",e,t,n))];case"LRN":return[sg(TP("x",e,t,n),TP("radius",e,t,n),TP("bias",e,t,n),TP("alpha",e,t,n),TP("beta",e,t,n))];case"Softmax":return[Pv(TP("x",e,t,n))];case"LogSoftmax":return[xg(TP("x",e,t,n))];case"SparseToDense":return[ly(TP("sparseIndices",e,t,n),TP("outputShape",e,t,n),TP("sparseValues",e,t,n),TP("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return Ff((function(){return function(e,t,n){switch(e.op){case"Max":var r=TP("axis",e,t,n),a=TP("keepDims",e,t,n);return[Rm(TP("x",e,t,n),r,a)];case"Mean":var i=TP("axis",e,t,n),o=TP("keepDims",e,t,n);return[Mg(TP("x",e,t,n),i,o)];case"Min":var s=TP("axis",e,t,n),u=TP("keepDims",e,t,n);return[Fm(TP("x",e,t,n),s,u)];case"Sum":var l=TP("axis",e,t,n),c=TP("keepDims",e,t,n);return[Wm(TP("x",e,t,n),l,c)];case"All":var d=TP("axis",e,t,n),f=TP("keepDims",e,t,n);return[uh(TP("x",e,t,n),d,f)];case"Any":var p=TP("axis",e,t,n),h=TP("keepDims",e,t,n);return[lh(TP("x",e,t,n),p,h)];case"ArgMax":var m=TP("axis",e,t,n);return[ch(TP("x",e,t,n),m)];case"ArgMin":var g=TP("axis",e,t,n);return[dh(TP("x",e,t,n),g)];case"Prod":var v=TP("axis",e,t,n),y=TP("keepDims",e,t,n);return[ev(TP("x",e,t,n),v,y)];case"Cumprod":var b=TP("axis",e,t,n),x=TP("exclusive",e,t,n),A=TP("reverse",e,t,n);return[dm(TP("x",e,t,n),b,x,A)];case"Cumsum":var w=TP("axis",e,t,n),k=TP("exclusive",e,t,n),S=TP("reverse",e,t,n);return[fm(TP("x",e,t,n),w,k,S)];case"Bincount":var C=TP("x",e,t,n),I=TP("weights",e,t,n),E=TP("size",e,t,n);return[Xh(C,I,E)];case"DenseBincount":var T=TP("x",e,t,n),N=TP("weights",e,t,n),O=TP("size",e,t,n),P=TP("binaryOutput",e,t,n);return[pm(T,N,O,P)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return Ff((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=TP("n",e,t,n),a=TP("axis",e,t,n),i=TP("tensors",e,t,n);return i=i.slice(0,r),[Dh(i,a)];case"Gather":var o=TP("x",e,t,n),s=TP("indices",e,t,n);return[Jm(o,qd(s,"int32"),0)];case"GatherV2":var u=TP("axis",e,t,n),l=TP("batchDims",e,t,n),c=TP("x",e,t,n),d=TP("indices",e,t,n);return[Jm(c,qd(d,"int32"),u,l)];case"Reverse":for(var f=TP("dims",e,t,n),p=[],h=0;h<f.length;h++)f[h]&&p.push(h);var m=TP("x",e,t,n);return[pv(m,p)];case"ReverseV2":var g=TP("axis",e,t,n),v=TP("x",e,t,n);return[pv(v,g)];case"Slice":var y=TP("begin",e,t,n),b=TP("size",e,t,n);return[zh(TP("x",e,t,n),y,b)];case"StridedSlice":var x=TP("begin",e,t,n),A=TP("end",e,t,n),w=TP("strides",e,t,n),k=TP("beginMask",e,t,n),S=TP("endMask",e,t,n),C=TP("ellipsisMask",e,t,n),I=TP("newAxisMask",e,t,n),E=TP("shrinkAxisMask",e,t,n),T=TP("x",e,t,n);return[Bv(T,x,A,w,k,S,C,I,E)];case"Pack":return Ff((function(){var r=TP("axis",e,t,n),a=TP("tensors",e,t,n),i=a[0].shape,o=zv(a[0]).shape,s=a.map((function(e){var t=bl.arraysEqual(e.shape,i);if(!t&&!bl.arraysEqual(zv(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:Mh(e,i)}));return[Zv(s,r)]}));case"Unpack":var N=TP("axis",e,t,n),O=TP("tensor",e,t,n);return Qv(O,N);case"Tile":var P=TP("reps",e,t,n);return[Xm(TP("x",e,t,n),P)];case"Split":case"SplitV":var _=TP("axis",e,t,n),M=TP("numOrSizeSplits",e,t,n),R=TP("x",e,t,n);return Fv(R,M,_);case"ScatterNd":var F=TP("indices",e,t,n),D=TP("values",e,t,n),L=TP("shape",e,t,n);return[sy(F,D,L)];case"GatherNd":var z=TP("x",e,t,n),Z=TP("indices",e,t,n);return[cy(z,Z)];case"SparseToDense":var W=TP("sparseIndices",e,t,n),B=TP("outputShape",e,t,n),j=TP("sparseValues",e,t,n),V=TP("defaultValue",e,t,n);return[ly(W,j,B,j.dtype===V.dtype?V:qd(V,j.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return Ff((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=Mb.sparseFillEmptyRows(TP("indices",e,t,n),TP("values",e,t,n),TP("denseShape",e,t,n),TP("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var a=Mb.sparseReshape(TP("inputIndices",e,t,n),TP("inputShape",e,t,n),TP("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[Mb.sparseSegmentMean(TP("data",e,t,n),TP("indices",e,t,n),TP("segmentIds",e,t,n))];case"SparseSegmentSum":return[Mb.sparseSegmentSum(TP("data",e,t,n),TP("indices",e,t,n),TP("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return Ff((function(){return function(e,t,n){switch(e.op){case"FFT":return[_v(TP("x",e,t,n))];case"IFFT":return[Mv(TP("x",e,t,n))];case"RFFT":return[Dv(TP("x",e,t,n))];case"IRFFT":return[Rv(TP("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return Ff((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=Rb.stringNGrams(TP("data",e,t,n),TP("dataSplits",e,t,n),TP("separator",e,t,n),TP("nGramWidths",e,t,n),TP("leftPad",e,t,n),TP("rightPad",e,t,n),TP("padWidth",e,t,n),TP("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var a=Rb.stringSplit(TP("input",e,t,n),TP("delimiter",e,t,n),TP("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[Rb.stringToHashBucketFast(TP("input",e,t,n),TP("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return Ff((function(){return function(e,t,n){switch(e.op){case"Cast":return[qd(TP("x",e,t,n),TP("dtype",e,t,n))];case"ExpandDims":var r=TP("axis",e,t,n);return[Um(TP("x",e,t,n),r)];case"Squeeze":var a=TP("axis",e,t,n);return[zv(TP("x",e,t,n),a)];case"Reshape":return[Mh(TP("x",e,t,n),TP("shape",e,t,n))];case"MirrorPad":return[zg(TP("x",e,t,n),TP("padding",e,t,n),TP("mode",e,t,n))];case"PadV2":case"Pad":return[Gg(TP("x",e,t,n),TP("padding",e,t,n),TP("constantValue",e,t,n))];case"SpaceToBatchND":var i=TP("blockShape",e,t,n),o=TP("paddings",e,t,n);return[Jg(TP("x",e,t,n),i,o)];case"BatchToSpaceND":var s=TP("blockShape",e,t,n),u=TP("crops",e,t,n);return[Bh(TP("x",e,t,n),s,u)];case"DepthToSpace":var l=TP("blockSize",e,t,n),c=TP("dataFormat",e,t,n).toUpperCase();return[hm(TP("x",e,t,n),l,c)];case"BroadcastTo":return[qh(TP("x",e,t,n),TP("shape",e,t,n))];case"BroadcastArgs":return[Yh(TP("s0",e,t,n),TP("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return K_(e,t,n,r);case"custom":var a=IP(e.op);if(a&&a.customExecutor)return a.customExecutor(new R_(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()"))}}(e,t,n);return bl.isPromise(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var Q_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,Ur.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,Gr.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function $_(e,t,n,r){var a=new Set,i=[],o=null,s=null,u=new Set,l=Object.keys(e).map((function(e){return _P(e)[0]})),c=[];null!=r&&(c=r.map((function(e){return _P(e.name)[0]})));for(var d=(0,qr.Z)(t);d.length>0;){var f=d.pop();if((rM(f)||aM(f)||iM(f))&&null==o&&(s=(o=f).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(f.name),null==n[f.name]&&-1===l.indexOf(f.name)&&-1===c.indexOf(f.name)){if(0===f.inputs.length){i.push(f.name);continue}f.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),d.push(e))}))}}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:o,syncInputs:s}}var eM=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],tM=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],nM=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function rM(e){return eM.indexOf(e.op)>=0}function aM(e){return tM.indexOf(e.op)>=0}function iM(e){return nM.indexOf(e.op)>=0}var oM=function(){function e(t,n){var r=this;(0,Ur.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,Gr.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,qr.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=$_(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,i=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has the dynamic op '").concat(a.op,"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [").concat(i,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs [").concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,i=[],o=Object.keys(a).map((function(e){return _P(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&i.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&i.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&i.push(e)}));for(var u=new Set,l=[];i.length>0;){var c=i.pop();u.add(c.name),t[c.name]||l.push(c),c.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&i.push(e)}))}return l}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[_P(e)[0]]})),i=t.map((function(e){return _P(e)[0]})),u=i.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===u.length&&(u=this._outputs);var l=this.getCompilationKey(a,u),c=this.compiledMap.get(l);null==c&&(c=this.compile(e,u),this.compiledMap.set(l,c));var d={},f={};return Ff((function(){var r=new Q_(n.weightMap,d,f,n.functionExecutorMap),a=(0,s.Z)({},n.weightMap);Object.keys(e).forEach((function(t){var n=_P(t),r=(0,o.Z)(n,2),i=r[0],s=[];s[r[1]]=e[t],a[i]=s}));for(var u=n.getFrozenTensorIds(a),l={},p=0;p<c.length;p++){var h=c[p];if(!a[h.name]){var m=J_(h,a,r,n._resourceManager);if(bl.isPromise(m))throw new Error("The execution of the op '".concat(h.op,"' returned a promise. Please use model.executeAsync() instead."));a[h.name]=m,n.checkTensorForDisposal(h.name,h,a,r,u,i,l)}}return null==n.parent&&r.dispose(u),t.map((function(e){return NP(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,i,s){var u=this;"control"===t.category||-1!==i.indexOf(e)||(n[e].forEach((function(e){null!=e&&(s[e.id]=(s[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var i=function(e,t,n){return t[PP(e,n.currentContextId)]}(e.name,n,r);null!=i&&i.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=s[e.id];if(1===n){if(u.keepTensorForDebug){var i=OP(t.name,r),l=(0,o.Z)(i,2),c=l[0],d=l[1];u.intermediateTensors[c]||(u.intermediateTensors[c]=[]),u.intermediateTensors[c][d]=e}else e.dispose();delete s[e.id]}else null!=n&&s[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;!this.tensorsMap||Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){t&&!t.kept&&!t.isDisposed&&!e.keepIds.has(t.id)&&t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c=this,d=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]&&d[2],a=d.length>3&&void 0!==d[3]?d[3]:{},i=d.length>4&&void 0!==d[4]?d[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=Hi().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(nt){console.warn(nt.message)}return this.resetIntermediateTensors(),o=new Q_(this.weightMap,a,i,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return NP(e,c.tensorsMap,o)})),u=s.map((function(e){return e.id})),l=Object.keys(t).map((function(e){return t[e].id})),e.abrupt("return",(this.keepIds=new Set([].concat((0,qr.Z)(u),(0,qr.Z)(l),(0,qr.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),s));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[i.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object.keys(t),u=i.map((function(e){return S.graph.nodes[_P(e)[0]]})),l=r.map((function(e){return _P(e)[0]})),c=l.map((function(e){return S.graph.nodes[e]})),0===c.length&&(c=this._outputs),d=$_(t,c,this.weightMap,this._initNodes),f=d.usedNodes,p=d.missingInputs,h=d.dynamicNode,m=d.syncInputs,g=[].concat((0,qr.Z)(u),(0,qr.Z)(this.graph.weights),(0,qr.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),v=(0,s.Z)({},this.weightMap),Object.keys(t).forEach((function(e){var n=_P(e),r=(0,o.Z)(n,2),a=r[0],i=[];i[r[1]]=t[e],v[a]=i})),y={},b=this.getFrozenTensorIds(v),x={};case 5:if(!(g.length>0)){e.next=11;break}return A=this.processStack(u,g,n,v,x,b,l,y,f),e.next=9,Promise.all(A);case 9:e.next=5;break;case 11:if(null==h&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),w=c.filter((function(e){return!rM(e)&&!NP(e.name,v,n)})).map((function(e){return e.name})),!(w.length>0)){e.next=16;break}throw k="",null!=h&&(k="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [".concat(m,"]")),new Error("Cannot compute the outputs [".concat(w,"] from the provided inputs [").concat(i,"]. Consider providing the following inputs: [").concat(p,"]. ").concat(k));case 16:return e.abrupt("return",v);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,i,s,u,l){for(var c=this,d=[],f=function(){var e,f,p=t.pop();n.currentContext=p.contexts;var h="";if("Enter"===p.node.op&&TP("isConstant",p.node,r,n)&&(e=OP(p.node.name,n),f=(0,o.Z)(e,1),h=f[0]),null==r[p.node.name]){var m,g,v=J_(p.node,r,n,c._resourceManager);h||(m=OP(p.node.name,n),g=(0,o.Z)(m,1),h=g[0]);var y=n.currentContext;bl.isPromise(v)?d.push(v.then((function(e){return r[h]=e,n.currentContext=y,c.checkTensorForDisposal(h,p.node,r,n,i,s,u),c.processChildNodes(p.node,t,n,r,a,l),e}))):(r[h]=v,c.checkTensorForDisposal(h,p.node,r,n,i,s,u),c.processChildNodes(p.node,t,n,r,a,l))}else c.processChildNodes(p.node,t,n,r,a,l)};t.length>0;)f();return d}},{key:"processChildNodes",value:function(e,t,n,r,a,i){e.children.forEach((function(e){var s=OP(e.name,n),u=(0,o.Z)(s,1)[0];a[u]||!i.has(e.name)||("Merge"===e.op?e.inputNames.some((function(e){return!!NP(e,r,n)}))&&(a[u]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!NP(e,r,n)}))&&(a[u]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=_P(n),i=(0,o.Z)(a,1)[0],s=t.graph.nodes[i];if(s.attrParams.shape&&s.attrParams.shape.value){var u=s.attrParams.shape.value,l=u.length===r.shape.length&&r.shape.every((function(e,t){return-1===u[t]||u[t]===e}));bl.assert(l,(function(){return"The shape of dict['".concat(s.name,"'] provided in model.execute(dict) must be [").concat(u,"], but was [").concat(r.shape,"]")}))}s.attrParams.dtype&&s.attrParams.dtype.value&&bl.assert(r.dtype===s.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(s.name,"'] provided in model.execute(dict) must be ").concat(s.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=_P(e),r=(0,o.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=_P(e),r=(0,o.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),sM=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Ur.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,Gr.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),uM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Ur.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new sM}return(0,Gr.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=Qd.browserHTTPRequest(e,this.loadOptions);else{var t=Qd.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(Qd.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for URL '").concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return bl.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=Qd.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new oM(b_.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=b_.Instance.transformGraph(e.modelInitializer);this.initializer=new oM(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}if(0!==(r=Qd.getSaveHandlers(t)).length){e.next=4;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 4:if(!(r.length>1)){e.next=6;break}throw new Error("Found more than one (".concat(r.length,") save handlers for URL '").concat(t,"'"));case 6:t=r[0];case 7:if(null!=t.save){e.next=9;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 9:return e.abrupt("return",t.save(this.artifacts));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof tc)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has ".concat(this.inputNodes.length," placeholders, while there are ").concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=3,this.executor.executeAsync(t,n);case 3:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function lM(e){return cM.apply(this,arguments)}function cM(){return cM=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&"string"==typeof t&&(t=fM(t)),r=new uM(t,n),e.next=7,r.load();case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),cM.apply(this,arguments)}function dM(e){if(null==e)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide a url or an IOHandler that loads the model");if(!e.load)throw new Error("modelUrl IO Handler ".concat(e," has no load function"));var t=new uM(e);return t.load(),t}function fM(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat("model.json").concat("?tfjs-format=file")}var pM="0.0.0",hM={};Aa(hM,{CSVDataset:function(){return cR},Dataset:function(){return JM},FileDataSource:function(){return CR},TextLineDataset:function(){return rR},URLDataSource:function(){return IR},array:function(){return $M},csv:function(){return ER},func:function(){return TR},generator:function(){return NR},microphone:function(){return _R},version_data:function(){return RR},webcam:function(){return OR},zip:function(){return eR}});var mM=wa(Ra()),gM=wa(Ra());function vM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(kM(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=e[o],u=vM(s,t,n,r);i[o]=u}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function yM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xM;return bM(e,t)}function bM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(kM(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=e.map((function(e){return e[r]})),o=bM(a,t,n);i[r]=o};for(var s in r)o(s);return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function xM(e){return null===e?null:kM(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function AM(e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vM(t,n,r=new Map),a=0,i=Array.from(r.keys());case 3:if(!(a<i.length)){e.next=14;break}if(o=i[a],s=r.get(o),!bl.isPromise(s)){e.next=11;break}return e.next=9,s;case 9:u=e.sent,r.set(o,u);case 11:a++,e.next=3;break;case 14:return e.abrupt("return",vM(t,n,r));case 15:case"end":return e.stop()}}),e)}))),wM.apply(this,arguments)}function kM(e){var t=!1;Hi().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof Fa().StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof tc)&&!(e instanceof Promise)&&!t)}function SM(e){return function(e,t){return vM(e,t)}(e,CM)}function CM(e){return e instanceof tc?{value:e.clone(),recurse:!1}:kM(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var IM=function(){function e(t){if((0,Ur.Z)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return(0,Gr.Z)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=Yr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.push(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),EM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.call(this,n.INITIAL_CAPACITY)}return(0,Gr.Z)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Fr((0,Mr.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Fr((0,Mr.Z)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Fr((0,Mr.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),Fr((0,Mr.Z)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(IM),TM=EM;function NM(e){return new RM(e)}function OM(e){return new FM(e)}function PM(e,t){return new GM(e,t)}function _M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XM.FAIL;return new YM(e,t)}TM.INITIAL_CAPACITY=32;var MM=function(){function e(){(0,Ur.Z)(this,e)}return(0,Gr.Z)(e,[{key:"toArray",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent;case 9:e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent;case 10:e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent;case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value);case 9:e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new jM(this,e)}},{key:"filter",value:function(e){return new WM(this,e)}},{key:"map",value:function(e){return new BM(this,e)}},{key:"mapAsync",value:function(e){return new VM(this,e)}},{key:"serialMapAsync",value:function(e){return new VM(this,e).serial()}},{key:"flatmap",value:function(e){return new UM(this,e)}},{key:"forEachAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new ZM(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xM;return this.rowMajorBatch(e,t).map((function(e){return yM(e,n)}))}},{key:"concatenate",value:function(e,t){return new GM(NM([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new zM(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new LM(this,e)}},{key:"prefetch",value:function(e){return new qM(this,e)}},{key:"shuffle",value:function(e,t){return new KM(this,e,t)}},{key:"serial",value:function(){return new DM(this)}}]),e}(),RM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],e.abrupt("return",(this.trav++,{value:SM(t),done:!1}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),FM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).nextFn=e,r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 7:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),DM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),LM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:Df(t.value);case 7:e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),zM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),ZM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=10;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=7;break}return e.abrupt("return",this.enableSmallLastBatch&&t.length>0?{value:t,done:!1}:{value:null,done:!0});case 7:t.push(n.value);case 8:e.next=1;break;case 10:return e.abrupt("return",{value:t,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),WM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=5;break}return e.abrupt("return",t);case 5:Df(t.value);case 6:e.next=0;break;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),BM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=rc.getTensorsInContainer(t.value),r=this.transform(t.value),a=rc.getTensorsInContainer(r),i=Yr(n);try{for(i.s();!(o=i.n()).done;)s=o.value,rc.isTensorInList(s,a)||s.dispose()}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",{value:r,done:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),jM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.upstream.next();case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),this.handler(e.t0)){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:e.next=0;break;case 12:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),VM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=rc.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:r=e.sent,a=rc.getTensorsInContainer(r),i=Yr(n);try{for(i.s();!(o=i.n()).done;)s=o.value,rc.isTensorInList(s,a)||s.dispose()}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",{value:r,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),HM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){var e;return(0,Ur.Z)(this,n),(e=t.call(this)).outputQueue=new TM,e.lastRead=Promise.resolve({value:null,done:!1}),e}return(0,Gr.Z)(n,[{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),UM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=rc.getTensorsInContainer(t.value),r=this.transform(t.value),a=rc.getTensorsInContainer(r),this.outputQueue.pushAll(r),i=Yr(n);try{for(i.s();!(o=i.n()).done;)s=o.value,rc.isTensorInList(s,a)||s.dispose()}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(HM),GM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"TODO: fill in upstream of chained summaries -> Chained"}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.readFromChain(this.lastRead),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=9;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 9:return e.next=11,this.iterator.next();case 11:return r=e.sent,e.abrupt("return",r.done?(this.iterator=null,this.readFromChain(t)):r);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(MM),XM=function(e){return e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST",e}(XM||{}),YM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,Ur.Z)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"{TODO: fill in upstream of zip summaries} -> Zip"}},{key:"nextState",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof MM?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=6,AM(this.iterators,a);case 6:if(i=e.sent,n!==r){e.next=9;break}return e.abrupt("return",{value:null,done:!0});case 9:if(!(r>0)){e.next=15;break}e.t0=this.mismatchMode,e.next=0===e.t0?13:1===e.t0?14:(e.t0,15);break;case 13:throw new Error("Zipped streams should have the same length. Mismatched at element ".concat(this.count,"."));case 14:return e.abrupt("return",{value:null,done:!0});case 15:return e.abrupt("return",(this.count++,{value:i,done:!1}));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.currentPromise=this.nextState(this.currentPromise),this.currentPromise));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),qM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new IM(r),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(MM),KM=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r,a){var i;return(0,Ur.Z)(this,n),(i=t.call(this,e,r)).upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=gM.alea(a||bl.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,Gr.Z)(n,[{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.lastRead=this.lastRead.then((function(){return t.serialNext()})),this.lastRead));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=13;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=11;break;case 10:return e.abrupt("return",(this.refill(),n));case 11:e.next=1;break;case 13:return e.abrupt("return",{value:null,done:!0});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qM),JM=function(){function e(){(0,Ur.Z)(this,e),this.size=null}return(0,Gr.Z)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return bl.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,tR));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return Ff((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return QM((0,Tr.Z)((0,Er.Z)().mark((function n(){return(0,Er.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return Ff((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return QM((0,Tr.Z)((0,Er.Z)().mark((function n(){return(0,Er.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return QM((0,Tr.Z)((0,Er.Z)().mark((function n(){return(0,Er.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,QM((0,Tr.Z)((0,Er.Z)().mark((function t(){var r;return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=OM((0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",PM(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=mM.alea(t||bl.now().toString());return QM((0,Tr.Z)((0,Er.Z)().mark((function t(){var i;return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.int32(),n&&(i+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,i.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function QM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){(0,Vr.Z)(a,n);var r=(0,Hr.Z)(a);function a(){var e;return(0,Ur.Z)(this,a),(e=r.apply(this,arguments)).size=t,e}return(0,Gr.Z)(a,[{key:"iterator",value:function(){var t=(0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(JM))}function $M(e){return QM((0,Tr.Z)((0,Er.Z)().mark((function t(){return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",NM(e));case 1:case"end":return t.stop()}}),t)}))),e.length)}function eR(e){if(!kM(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return QM((0,Tr.Z)((0,Er.Z)().mark((function t(){var n;return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,AM(e,(function(e){if(e instanceof JM)return{value:e.iterator(),recurse:!1};if(kM(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));case 2:return n=t.sent,t.abrupt("return",_M(n,1));case 4:case"end":return t.stop()}}),t)}))),t)}function tR(e){return null===e?null:function(e){return null==e||function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)||Array.isArray(e)||"object"==typeof e&&e instanceof tc||bl.isTypedArray(e)}(e[0])?{value:nR(e),recurse:!1}:{value:null,recurse:!0}}function nR(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof tc?Zv(e):Wc(e)}JM.MAX_BUFFER_SIZE=1e4;var rR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).input=e,r}return(0,Gr.Z)(n,[{key:"iterator",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.iterator();case 2:return e.abrupt("return",e.sent.decodeUTF8().split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(JM),aR='"',iR=Symbol("out"),oR=Symbol("field"),sR=Symbol("quote"),uR=Symbol("quoteafterquote"),lR=Symbol("quoteinquote"),cR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).input=e,a.hasHeader=!0,a.fullColumnNames=null,a.columnNamesValidated=!1,a.columnConfigs=null,a.configuredColumnsOnly=!1,a.delimiter=",",a.delimWhitespace=!1,a.base=new rR(e),r||(r={}),a.hasHeader=!1!==r.hasHeader,a.fullColumnNames=r.columnNames,a.columnConfigs=r.columnConfigs,a.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(bl.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),a.delimWhitespace=!0,a.delimiter=" "):a.delimiter=r.delimiter?r.delimiter:",",a}return(0,Gr.Z)(n,[{key:"columnNames",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.columnNamesValidated,e.t0){e.next=4;break}return e.next=4,this.setColumnNames();case 4:return e.abrupt("return",this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.maybeReadHeaderLine();case 2:if(t=e.sent,this.fullColumnNames||t){e.next=5;break}throw new Error("Column names must be provided if there is no header line.");case 5:if(this.fullColumnNames&&t&&bl.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."})),this.fullColumnNames||(this.fullColumnNames=t),n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1})),bl.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),!this.columnConfigs){e.next=16;break}a=0,i=Object.keys(this.columnConfigs);case 9:if(!(a<i.length)){e.next=16;break}if(o=i[a],-1!==this.fullColumnNames.indexOf(o)){e.next=13;break}throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");case 13:a++,e.next=9;break;case 16:this.columnNamesValidated=!0;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasHeader){e.next=12;break}return e.next=3,this.base.iterator();case 3:return e.next=5,e.sent.next();case 5:if(!(t=e.sent).done){e.next=8;break}throw new Error("No data was found for CSV parsing.");case 8:return n=t.value,e.abrupt("return",this.parseRow(n,!1));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.columnNamesValidated,e.t0){e.next=4;break}return e.next=4,this.setColumnNames();case 4:return e.next=6,this.base.iterator();case 6:return t=e.sent,e.abrupt("return",(this.hasHeader&&(t=t.skip(1)),t.map((function(e){return n.makeDataElement(e)}))));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var i=this.fullColumnNames[a],o=this.columnConfigs?this.columnConfigs[i]:null;if(!this.configuredColumnsOnly||o){var s=t[a],u=null;if(""===s)if(o&&void 0!==o.default)u=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column ".concat(i," is empty in this line: ").concat(e));u=void 0}else{var l=Number(s);if(isNaN(l))u=o&&"bool"===o.dtype?this.getBoolean(s):s;else if(o&&o.dtype)switch(o.dtype){case"float32":default:u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s)}else u=l}o&&o.isLabel?r[i]=u:n[i]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,a=e.length,i=iR,o=0;o<a;o++)switch(i){case iR:switch(e.charAt(o)){case aR:r=o+1,i=sR;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),i=iR;break;default:i=oR,r=o}break;case oR:if(e.charAt(o)===this.delimiter)n.push(e.substring(r,o)),i=iR,r=o+1;break;case sR:if(e.charAt(o)===aR)i=uR;break;case uR:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),i=iR,r=o+1;break;case aR:i=sR;break;default:i=lR}break;case lR:if(e.charAt(o)===aR)i=sR}if(i===uR?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}]),n}(JM),dR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;(0,Ur.Z)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var a=Math.log2(r.fftSize);if(r.fftSize<0||a<4||a>14||!Number.isInteger(a))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ".concat(r.fftSize));if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1});case 3:this.stream=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error thrown while initializing video stream: ".concat(e.t0.message));case 9:if(this.stream){e.next=11;break}throw new Error("Could not obtain audio from microphone.");case 11:if(t=window.AudioContext||window.webkitAudioContext,this.audioContext=new t,this.sampleRateHz){e.next=16;break}this.sampleRateHz=this.audioContext.sampleRate,e.next=18;break;case 16:if(this.audioContext.sampleRate===this.sampleRateHz){e.next=18;break}throw new Error("Mismatch in sampling rate: Expected: ".concat(this.sampleRateHz,"; Actual: ").concat(this.audioContext.sampleRate));case 18:n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize);case 20:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.next=4,this.getAudioData();case 4:return r=e.sent,this.includeSpectrogram&&(a=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(a,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(r.timeDataQueue),n=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),e.abrupt("return",{value:{spectrogram:t,waveform:n},done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=0,e.abrupt("return",new Promise((function(e){var i=setInterval((function(){a.includeSpectrogram&&(a.analyser.getFloatFrequencyData(a.freqData),a.freqData[0]===-1/0&&e({freqDataQueue:t,timeDataQueue:n}),t.push(a.freqData.slice(0,a.columnTruncateLength))),a.includeWaveform&&(a.analyser.getFloatTimeDomainData(a.timeData),n.push(a.timeData.slice())),++r===a.numFrames&&(clearInterval(i),e({freqDataQueue:t,timeDataQueue:n}))}),a.fftSize/a.sampleRateHz*1e3)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(bl.sizeFromShape(t));return n.set(e,n.length-e.length),Wc(n,t)}}],[{key:"create",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,r,a=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},Hi().get("IS_BROWSER")){e.next=3;break}throw new Error("microphone API is only supported in browser environment.");case 3:return r=new n(t),e.next=6,r.start();case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(MM),fR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;if((0,Ur.Z)(this,n),(a=t.call(this)).webcamVideoElement=e,a.webcamConfig=r,a.isClosed=!0,a.resize=!1,a.needToResize())if(a.resize=!0,a.cropSize=[a.webcamConfig.resizeHeight,a.webcamConfig.resizeWidth],a.cropBoxInd=Vv([0],"int32"),a.webcamConfig.centerCrop){var i=1*a.webcamConfig.resizeWidth/a.webcamVideoElement.width,o=1*a.webcamConfig.resizeHeight/a.webcamVideoElement.height,s=(1-i)/2,u=(1-o)/2,l=s+i,c=o+u;a.cropBox=Hv([u,s,c,l],[1,4])}else a.cropBox=Hv([0,0,1,1],[1,4]);return(0,Br.Z)(a)}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.webcamConfig.facingMode&&bl.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: ".concat(t.webcamConfig.facingMode,". Please provide 'user' or 'environment'")})),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}});case 4:this.stream=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.message="Error thrown while initializing video stream: ".concat(e.t0.message),e.t0;case 10:if(this.stream){e.next=12;break}throw new Error("Could not obtain video from webcam.");case 12:try{this.webcamVideoElement.srcObject=this.stream}catch(Dme){console.log(Dme),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return e.abrupt("return",(this.webcamVideoElement.play(),this.isClosed=!1,new Promise((function(e){t.webcamVideoElement.onloadedmetadata=function(){e()}}))));case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:e.prev=2,t=ap.fromPixels(this.webcamVideoElement),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(e.t0)));case 9:if(!this.resize){e.next=22;break}return e.prev=10,e.abrupt("return",{value:this.cropAndResizeFrame(t),done:!1});case 14:throw e.prev=14,e.t1=e.catch(10),new Error("Error thrown cropping the video: ".concat(e.t1.message));case 17:return e.prev=17,t.dispose(),e.finish(17);case 20:e.next=23;break;case 22:return e.abrupt("return",{value:t,done:!1});case 23:case"end":return e.stop()}}),e,this,[[2,6],[10,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return Ff((function(){var n,r=Um(qd(e,"float32"),0),a=(n=Ob.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return Mh(n,a.slice(1))}))}},{key:"capture",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(Ge){console.log(Ge),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var r,a,i=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},Hi().get("IS_BROWSER")){e.next=3;break}throw new Error("tf.data.webcam is only supported in browser environment.");case 3:if(t){e.next=7;break}if(t=document.createElement("video"),r.resizeWidth&&r.resizeHeight){e.next=6;break}throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");case 6:t.width=r.resizeWidth,t.height=r.resizeHeight;case 7:return a=new n(t,r),e.next=10,a.start();case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(MM),pR=(0,Gr.Z)((function e(){(0,Ur.Z)(this,e)})),hR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"split",value:function(e){return new mR(this,e)}}]),n}(MM),mR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.impl=new gR(e,r),a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hR),gR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r){var a;return(0,Ur.Z)(this,n),(a=t.call(this)).upstream=e,a.separator=r,a.carryover="",a}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0));case 5:(n=t.value.split(this.separator))[0]=this.carryover+n[0],r=Yr(n.slice(0,-1));try{for(r.s();!(a=r.n()).done;)i=a.value,this.outputQueue.push(i)}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",(this.carryover=n[n.length-1],!0));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(HM),vR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){return(0,Ur.Z)(this,n),t.apply(this,arguments)}return(0,Gr.Z)(n,[{key:"decodeUTF8",value:function(){return new yR(this)}}]),n}(MM),yR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).upstream=e,r.impl=new bR(e),r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hR),bR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;if((0,Ur.Z)(this,n),(r=t.call(this)).upstream=e,Hi().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var a=Fa().StringDecoder;r.decoder=new a("utf8")}return(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:return n=t.value,e.abrupt("return",(r=Hi().get("IS_BROWSER")?this.decoder.decode(n,{stream:!0}):this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(r),!0));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(HM),xR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ur.Z)(this,n),(r=t.call(this)).file=e,r.options=a,bl.assert(e instanceof Uint8Array||!!Hi().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=a.offset||0,r.chunkSize=a.chunkSize||1048576,r}return(0,Gr.Z)(n,[{key:"summary",value:function(){return"FileChunks ".concat(this.file)}},{key:"next",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))){e.next=4;break}e.t0={value:null,done:!0},e.next=8;break;case 4:return e.next=6,new Promise((function(e,n){var r=t.offset+t.chunkSize;if(t.file instanceof Uint8Array)e(new Uint8Array(t.file.slice(t.offset,r)));else{var a=new FileReader;a.onload=function(t){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return n(new TypeError("FileReader returned unknown type."));e(r)},a.onabort=function(e){return n(new Error("Aborted"))},a.onerror=function(e){return n(new Error(e.type))};var i=t.file.slice(t.offset,r);a.readAsArrayBuffer(i)}t.offset=r}));case 6:e.t1=e.sent,e.t0={value:e.t1,done:!1};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vR);function AR(e){return wR.apply(this,arguments)}function wR(){return wR=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,"string"==typeof t?a=t:(a=t.url,i=kR(t)),e.next=5,(r||bl.fetch)(a,i);case 5:if(!(o=e.sent).ok){e.next=15;break}return e.t0=Uint8Array,e.next=10,o.arrayBuffer();case 10:return e.t1=e.sent,s=new e.t0(e.t1),e.abrupt("return",new xR(s,n));case 15:throw new Error(o.statusText);case 16:case"end":return e.stop()}}),e)}))),wR.apply(this,arguments)}var kR=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function SR(e){return"string"==typeof e&&"file://"===e.slice(0,7)}var CR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ur.Z)(this,n),(r=t.call(this)).input=e,r.options=a,r}return(0,Gr.Z)(n,[{key:"iterator",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return SR(this.input)&&Hi().get("IS_NODE")&&(t=Da(),this.input=t.readFileSync(this.input.slice(7))),e.abrupt("return",new xR(this.input,this.options));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(pR),IR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ur.Z)(this,n),(r=t.call(this)).url=e,r.fileOptions=a,r}return(0,Gr.Z)(n,[{key:"iterator",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(this.url)?new CR(this.url,this.fileOptions).iterator():AR(this.url,this.fileOptions));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(pR);function ER(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new cR(new IR(e),t)}function TR(e){var t=OM(e);return QM((0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))))}function NR(e){return QM((0,Tr.Z)((0,Er.Z)().mark((function t(){var n;return(0,Er.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,t.abrupt("return",OM((function(){return n.next()})));case 4:case"end":return t.stop()}}),t)}))))}function OR(e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fR.create(t,n));case 1:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function _R(e){return MR.apply(this,arguments)}function MR(){return MR=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dR.create(t));case 1:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}var RR="0.0.0";function FR(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&bl.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var DR=Xx.whereImpl,LR=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(){var e;return(0,Ur.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new Va((0,Dr.Z)(e),_f()),e}return(0,Gr.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Hi().get("IS_NODE")&&Xb.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&bl.isString(n[0])){var a=n.map((function(e){return bl.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Xb.mergeRealAndImagArrays(a,i)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return bl.decodeString(e)}));return Yd(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return Yd(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return _f().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bl.now(),e.abrupt("return",(t(),{kernelMs:bl.now()-n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){FR([e],"where");var t=this.readSync(e.dataId);return DR(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Fr((0,Mr.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(Ha),zR=LR;zR.nextDataId=0;var ZR={};function WR(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}Aa(ZR,{addImpl:function(){return eF},bincountImpl:function(){return aF},bincountReduceImpl:function(){return iF},ceilImpl:function(){return lF},concatImpl:function(){return fF},equalImpl:function(){return pF},expImpl:function(){return gF},expm1Impl:function(){return bF},floorImpl:function(){return wF},gatherNdImpl:function(){return CF},gatherV2Impl:function(){return IF},greaterEqualImpl:function(){return OF},greaterImpl:function(){return EF},lessEqualImpl:function(){return DF},lessImpl:function(){return MF},linSpaceImpl:function(){return ZF},logImpl:function(){return WF},maxImpl:function(){return VF},maximumImpl:function(){return HF},minimumImpl:function(){return XF},multiplyImpl:function(){return KF},negImpl:function(){return eD},notEqualImpl:function(){return nD},prodImpl:function(){return uD},rangeImpl:function(){return cD},rsqrtImpl:function(){return dD},scatterImpl:function(){return hD},sigmoidImpl:function(){return mD},simpleAbsImpl:function(){return WR},sliceImpl:function(){return yD},sparseFillEmptyRowsImpl:function(){return AD},sparseReshapeImpl:function(){return wD},sparseSegmentReductionImpl:function(){return kD},sqrtImpl:function(){return SD},squaredDifferenceImpl:function(){return ED},stridedSliceImpl:function(){return OD},stringNGramsImpl:function(){return _D},stringSplitImpl:function(){return RD},stringToHashBucketFastImpl:function(){return FD},subImpl:function(){return DD},tileImpl:function(){return WD},topKImpl:function(){return VD},transposeImpl:function(){return iD},uniqueImpl:function(){return HD}});var BR={kernelName:qi,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;FR(t,"abs");var r=new Float32Array(bl.sizeFromShape(t.shape));return r=WR(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}};function jR(e){return function(t,n,r,a,i){var o=Xb.assertAndGetBroadcastShape(t,n),s=o.length,u=bl.computeStrides(o),l=bl.sizeFromShape(o),c=bl.getTypedArrayFromDType(i,l),d=t.length,f=n.length,p=bl.computeStrides(t),h=bl.computeStrides(n),m=Xb.getBroadcastDims(t,o),g=Xb.getBroadcastDims(n,o);if(m.length+g.length===0)for(var v=0;v<c.length;++v)c[v]=e(r[v%r.length],a[v%a.length]);else for(var y=function(t){var n=bl.indexToLoc(t,s,u),i=n.slice(-d);m.forEach((function(e){return i[e]=0}));var o=bl.locToIndex(i,d,p),l=n.slice(-f);g.forEach((function(e){return l[e]=0}));var v=bl.locToIndex(l,f,h);c[t]=e(r[o],a[v])},b=0;b<c.length;++b)y(b);return[c,o]}}function VR(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}var HR={kernelName:wo,backendName:"cpu",kernelFunc:VR};function UR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=UR(e,t,"float32"),a=UR(e,t,"float32");return VR({inputs:{real:r,imag:a},backend:e})}var i=bl.makeZerosTypedArray(bl.sizeFromShape(t),n);return e.makeTensorInfo(t,n,i)}function GR(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var XR={kernelName:cs,backendName:"cpu",kernelFunc:GR};function YR(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var qR={kernelName:au,backendName:"cpu",kernelFunc:YR};function KR(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dtype;if("complex64"===i){if("complex64"===a.dtype)return GR({inputs:{x:a},backend:n});var s=UR(n,a.shape,a.dtype),u=KR({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=VR({inputs:{real:u,imag:s},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),l}if("complex64"===a.dtype){var c=YR({inputs:{input:a},backend:n}),d=KR({inputs:{x:c},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(c),d}if(!bl.hasEncodingLoss(a.dtype,i)){var f=GR({inputs:{x:a},backend:n});return{dataId:f.dataId,shape:f.shape,dtype:i}}if("int32"===i){var p=n.data.get(a.dataId).values,h=Int32Array.from(p);return n.makeTensorInfo(a.shape,"int32",h)}if("bool"===i){var m=n.data.get(a.dataId).values,g=bl.toTypedArray([0],a.dtype),v=jR((function(e,t){return e!==t?1:0}))(a.shape,[],m,g,"bool"),y=(0,o.Z)(v,2),b=y[0],x=y[1];return n.makeTensorInfo(x,"bool",b)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(i))}var JR={kernelName:bo,backendName:"cpu",kernelFunc:KR};function QR(e,t,n,r){return null==n?function(n){var a=n.inputs,i=n.backend,s=a.a,u=a.b,l=i;FR([s,u],e);var c=l.data.get(s.dataId).values,d=l.data.get(u.dataId).values,f="string"===s.dtype?Xb.fromUint8ToStringArray(c):c,p="string"===s.dtype?Xb.fromUint8ToStringArray(d):d,h=r||s.dtype,m=t(s.shape,u.shape,f,p,h),g=(0,o.Z)(m,2),v=g[0],y=g[1];return l.makeTensorInfo(y,h,v)}:function(e){var a=e.inputs,i=e.backend,s=a.a,u=a.b,l=i;if("complex64"===s.dtype||"complex64"===u.dtype){var c=KR({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),f=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,h=l.data.get(f.dataId).values,m=l.data.get(p.dataId).values,g=KR({inputs:{x:u},backend:l,attrs:{dtype:"complex64"}}),v=l.data.get(g.dataId),y=v.complexTensorInfos.real,b=v.complexTensorInfos.imag,x=l.data.get(y.dataId).values,A=l.data.get(b.dataId).values,w=n(s.shape,u.shape,h,m,x,A),k=(0,o.Z)(w,3),S=k[0],C=k[1],I=k[2],E=l.makeTensorInfo(I,"float32",S),T=l.makeTensorInfo(I,"float32",C),N=VR({inputs:{real:E,imag:T},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(g),l.disposeIntermediateTensorInfo(E),l.disposeIntermediateTensorInfo(T),N}var O=l.data.get(s.dataId).values,P=l.data.get(u.dataId).values,_=r||s.dtype,M=t(s.shape,u.shape,O,P,_),R=(0,o.Z)(M,2),F=R[0],D=R[1];return l.makeTensorInfo(D,_,F)}}function $R(e){return function(t,n,r,a,i,o){var s=Xb.assertAndGetBroadcastShape(t,n),u=bl.sizeFromShape(s),l=s.length,c=bl.computeStrides(s),d=bl.getTypedArrayFromDType("float32",u),f=bl.getTypedArrayFromDType("float32",u),p=Xb.getBroadcastDims(t,s),h=Xb.getBroadcastDims(n,s),m=Xb.mergeRealAndImagArrays(r,a),g=Xb.mergeRealAndImagArrays(i,o),v=t.length,y=bl.computeStrides(t),b=n.length,x=bl.computeStrides(n);if(p.length+h.length===0)for(var A=0;A<d.length;A++){var w=A%m.length,k=A%g.length,S=e(m[2*w],m[2*w+1],g[2*k],g[2*k+1]);d[A]=S.real,f[A]=S.imag}else for(var C=function(t){var n=bl.indexToLoc(t,l,c),r=n.slice(-v);p.forEach((function(e){return r[e]=0}));var a=bl.locToIndex(r,v,y),i=n.slice(-b);h.forEach((function(e){return i[e]=0}));var o=bl.locToIndex(i,b,x),s=e(m[2*a],m[2*a+1],g[2*o],g[2*o+1]);d[t]=s.real,f[t]=s.imag},I=0;I<d.length;I++)C(I);return[d,f,s]}}var eF=jR((function(e,t){return e+t})),tF=$R((function(e,t,n,r){return{real:e+n,imag:t+r}})),nF=QR(Qi,eF,tF),rF={kernelName:Qi,backendName:"cpu",kernelFunc:nF};function aF(e,t,n,r,a){for(var i=bl.sizeFromShape(r),o=bl.makeZerosTypedArray(a,n),s=0;s<e.length;s++){var u=e[s];if(u<0)throw new Error("Input x must be non-negative!");u>=a||(o[u]+=i>0?t[s]:1)}return o}function iF(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],i=e.shape[1],o=Yd([a,n],t.dtype),s=0;s<a;s++)for(var u=0;u<i;u++){var l=e.get(s,u);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?o.set(1,s,l):t.size>0?o.set(o.get(s,l)+t.get(s,u),s,l):o.set(o.get(s,l)+1,s,l))}return o}function oF(e){return function(t,n,r){for(var a=bl.getTypedArrayFromDType(n,t.length),i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}function sF(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,s=a.x;if(FR(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var u=o,l=u.data.get(s.dataId).values,c=bl.sizeFromShape(s.shape),d=n||s.dtype,f=bl.getArrayFromDType(d,c),p=0;p<c;++p)f[p]=t(l[p],i);return u.makeTensorInfo(s.shape,d,f)}}function uF(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,s=a.x;if(FR(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var u=o,l=u.data.get(s.dataId).values,c=n||s.dtype,d=t(l,c,i);return u.makeTensorInfo(s.shape,c,d)}}var lF=oF((function(e){return Math.ceil(e)})),cF=uF(xo,lF),dF={kernelName:xo,backendName:"cpu",kernelFunc:cF};function fF(e,t,n,r){var a=bl.getArrayFromDType(n,bl.sizeFromShape(t));if(r&&"string"!==n){var i=0;e.forEach((function(e){var t=bl.sizeFromShape(e.shape);a.set(e.vals,i),i+=t}))}else{var o=0;e.forEach((function(e){for(var r="string"===n?Xb.fromUint8ToStringArray(e.vals):e.vals,i=0,s=0;s<e.shape[0];++s)for(var u=s*t[1]+o,l=0;l<e.shape[1];++l)a[u+l]=r[i++];o+=e.shape[1]}))}return a}var pF=jR((function(e,t){return e===t?1:0})),hF=QR(Ko,pF,null,"bool"),mF={kernelName:Ko,backendName:"cpu",kernelFunc:hF},gF=oF((function(e){return Math.exp(e)})),vF=uF(Jo,gF,"float32"),yF={kernelName:Jo,backendName:"cpu",kernelFunc:vF},bF=oF((function(e){return Math.expm1(e)})),xF=uF($o,bF),AF={kernelName:$o,backendName:"cpu",kernelFunc:xF},wF=oF((function(e){return Math.floor(e)})),kF=uF(rs,wF),SF={kernelName:rs,backendName:"cpu",kernelFunc:kF};function CF(e,t,n,r,a,i,o,s,u){for(var l=Yd([r,i],n),c=0;c<r;c++){for(var d=[],f=0,p=0;p<a;p++){var h=e[c*a+p];f+=h*o[p],d.push(h)}if(f<0||f>=u/i)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(s));for(var m=0;m<i;m++)l.values[c*i+m]=t.get.apply(t,(0,qr.Z)(t.indexToLoc(f*i+m)))}return l}function IF(e,t,n){for(var r=Yd(n,e.dtype),a=0;a<r.size;++a){var i=r.indexToLoc(a).slice(),o=i[0],s=i[2],u=t.locToIndex([o,s]);i[2]=t.values[u];var l=e.locToIndex(i);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}var EF=jR((function(e,t){return e>t?1:0})),TF=QR(us,EF,null,"bool"),NF={kernelName:us,backendName:"cpu",kernelFunc:TF},OF=jR((function(e,t){return e>=t?1:0})),PF=QR(ls,OF,null,"bool"),_F={kernelName:ls,backendName:"cpu",kernelFunc:PF},MF=jR((function(e,t){return e<t?1:0})),RF=QR(vs,MF,null,"bool"),FF={kernelName:vs,backendName:"cpu",kernelFunc:RF},DF=jR((function(e,t){return e<=t?1:0})),LF=QR(ys,DF,null,"bool"),zF={kernelName:ys,backendName:"cpu",kernelFunc:LF};function ZF(e,t,n){var r=(t-e)/(n-1),a=bl.makeZerosTypedArray(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}var WF=oF((function(e){return Math.log(e)})),BF=uF(xs,WF),jF={kernelName:xs,backendName:"cpu",kernelFunc:BF};function VF(e,t,n,r){for(var a=bl.getTypedArrayFromDType(r,bl.sizeFromShape(n)),i=0;i<a.length;++i){for(var o=i*t,s=e[o],u=0;u<t;++u){var l=e[o+u];(Number.isNaN(l)||l>s)&&(s=l)}a[i]=s}return a}var HF=jR((function(e,t){return Math.max(e,t)})),UF=QR(Ps,HF),GF={kernelName:Ps,backendName:"cpu",kernelFunc:UF},XF=jR((function(e,t){return Math.min(e,t)})),YF=QR(Zs,XF),qF={kernelName:Zs,backendName:"cpu",kernelFunc:YF},KF=jR((function(e,t){return e*t})),JF=$R((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),QF=QR(Vs,KF,JF),$F={kernelName:Vs,backendName:"cpu",kernelFunc:QF};function eD(e,t,n){var r=bl.createScalarValue(-1,n);return KF([],t,r,e,n)}var tD={kernelName:Hs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;FR(r,"neg");var a=eD(n.data.get(r.dataId).values,r.shape,r.dtype),i=(0,o.Z)(a,2),s=i[0],u=i[1];return n.makeTensorInfo(u,r.dtype,s)}},nD=jR((function(e,t){return e!==t?1:0})),rD=QR(Us,nD,null,"bool"),aD={kernelName:Us,backendName:"cpu",kernelFunc:rD};function iD(e,t,n,r,a){for(var i=t.length,o=bl.sizeFromShape(t),s=bl.computeStrides(t),u=bl.computeStrides(a),l=bl.getTypedArrayFromDType(n,bl.sizeFromShape(a)),c=0;c<o;++c){for(var d=bl.indexToLoc(c,i,s),f=new Array(d.length),p=0;p<f.length;p++)f[p]=d[r[p]];l[bl.locToIndex(f,i,u)]=e[c]}return l}function oD(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;FR(a,"transpose");for(var o=a.shape.length,s=new Array(o),u=0;u<s.length;u++)s[u]=a.shape[i[u]];var l=iD(r.data.get(a.dataId).values,a.shape,a.dtype,i,s);return{dataId:r.write(l,s,a.dtype),shape:s,dtype:a.dtype}}var sD={kernelName:Yu,backendName:"cpu",kernelFunc:oD};function uD(e,t,n,r){for(var a=Xb.computeOutAndReduceShapes(e,r),i=(0,o.Z)(a,2),s=i[0],u=i[1],l=cc(t,"int32"),c=bl.makeZerosTypedArray(bl.sizeFromShape(s),l),d=bl.sizeFromShape(u),f=0;f<c.length;++f){for(var p=f*d,h=1,m=0;m<d;++m)h*=n[p+m];c[f]=h}return{outVals:c,outShape:s,outDtype:l}}var lD={kernelName:nu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims;FR(a,"prod");var s=a.shape.length,u=bl.parseAxisParam(i,a.shape),l=Xb.getAxesPermutation(u,s),c=u,d=a,f=[];null!=l&&(d=oD({inputs:{x:a},backend:n,attrs:{perm:l}}),f.push(d),c=Xb.getInnerMostAxes(c.length,s));var p=n.data.get(d.dataId).values,h=uD(d.shape,d.dtype,p,c),m=h.outVals,g=h.outShape,v=h.outDtype,y=g;return o&&(y=Xb.expandShapeToKeepDim(g,u)),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(y,v,m)}};function cD(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return bl.makeZerosTypedArray(0,r);var a=Math.abs(Math.ceil((t-e)/n)),i=bl.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),i[0]=e;for(var o=1;o<i.length;o++)i[o]=i[o-1]+n;return i}var dD=oF((function(e){return 1/Math.sqrt(e)})),fD=uF(mu,dD),pD={kernelName:mu,backendName:"cpu",kernelFunc:fD};function hD(e,t,n,r,a,i,o,s,u,l){var c=[r/a,a],d=e.values,f=t.values;if(0===r)return Yd(n,t.dtype);var p=Yd(c,t.dtype);"string"==typeof u||"number"==typeof u?p.values.fill(u):"boolean"==typeof u&&p.values.fill(+u);for(var h=0;h<i;h++){for(var m=[],g=0,v=0;v<o;v++){var y=d[h*o+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var b=0;b<a;b++)l?p.values[g*a+b]+=f[h*a+b]:p.values[g*a+b]=0===t.rank?f[0]:f[h*a+b]}return p}var mD=oF((function(e){return 1/(1+Math.exp(-e))})),gD=sF(Su,(function(e){return 1/(1+Math.exp(-e))})),vD={kernelName:Su,backendName:"cpu",kernelFunc:gD};function yD(e,t,n,r,a){var i=bp.isSliceContinous(r,t,n),o=bl.sizeFromShape(n),s=bl.computeStrides(r);if(i){var u=bp.computeFlatOffset(t,s);return"string"===a?e.slice(u,u+o):e.subarray(u,u+o)}for(var l=Yd(r,a,"string"===a?Xb.fromUint8ToStringArray(e):e),c=Yd(n,a),d=0;d<c.size;++d){var f=c.indexToLoc(d),p=f.map((function(e,n){return e+t[n]}));c.set.apply(c,[l.get.apply(l,(0,qr.Z)(p))].concat((0,qr.Z)(f)))}return"string"===a?Xb.fromStringArrayToUint8(c.values):c.values}function bD(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size;FR(a,"slice");var u=bp.parseSliceParams(a,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1];bp.assertParamsValid(a,c,d);var f=yD(n.data.get(a.dataId).values,c,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,f)}var xD={kernelName:xu,backendName:"cpu",kernelFunc:bD};function AD(e,t,n,r,a,i,o){var s=t[0],u=i[0],l=new Array(u),c=new Array(s),d=t[1];if(0===u){if(0!==s)throw new Error(Xb.getSparseFillEmptyRowsIndicesDenseShapeMismatch(s));return[bl.getArrayFromDType(n,0),[0,d],bl.getArrayFromDType(a,0),l,c]}for(var f=!0,p=0,h=new Array(u).fill(0),m=0;m<s;++m){var g=e[m*d];if(g<0)throw new Error(Xb.getSparseFillEmptyRowsNegativeIndexErrorMessage(m,g));if(g>=u)throw new Error(Xb.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(m,g,u));++h[g],f=f&&g>=p,p=g}for(var v=!0,y=0;y<u;++y){var b=0===h[y];l[y]=b,v=v&&!b,h[y]=Math.max(h[y],1),y>0&&(h[y]+=h[y-1])}if(v&&f){for(var x=e,A=r,w=0;w<s;++w)c[w]=w;return[x,[s,d],A,l,c]}for(var k=h[u-1],S=bl.getArrayFromDType(n,k*d),C=bl.getArrayFromDType(a,k),I=new Array(u).fill(0),E=0;E<s;++E){var T=e[E*d],N=I[T],O=(0===T?0:h[T-1])+N;I[T]++;for(var P=0;P<d;++P)S[O*d+P]=e[E*d+P];C[O]=r[E],c[E]=O}for(var _=0;_<u;++_)if(0===I[_]){var M=0===_?0:h[_-1];S[M*d+0]=_;for(var R=1;R<d;++R)S[M*d+R]=0;C[M]=o}return[S,[k,d],C,l,c]}function wD(e,t,n,r,a){for(var i=bl.sizeFromShape(r),o=t[0],s=a.length,u=[],l=1,c=-1,d=0;d<s;++d){var f=a[d];if(-1===f){if(-1!==c)throw new Error(Xb.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(c,d));c=d,u.push(1)}else{if(f<0)throw new Error(Xb.getSparseReshapeNegativeOutputDimErrorMessage(d,f));l*=f,u.push(f)}}if(-1!==c){if(l<=0)throw new Error(Xb.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var p=Math.trunc(i/l);if(l*p!==i)throw new Error(Xb.getSparseReshapeInputOutputMultipleErrorMessage(r,u));u[c]=p}if(bl.sizeFromShape(u)!==i)throw new Error(Xb.getSparseReshapeInputOutputMismatchErrorMessage(r,u));var h=r.length,m=[];if(h>0){m[h-1]=1;for(var g=h-2;g>=0;--g)m[g]=m[g+1]*r[g+1]}var v=[];if(s>0){v[s-1]=1;for(var y=s-2;y>=0;--y)v[y]=v[y+1]*u[y+1]}for(var b=bl.getArrayFromDType(n,o*s),x=0;x<o;++x){for(var A=0,w=0;w<h;++w)A+=e[x*h+w]*m[w];for(var k=0;k<s;++k)b[x*s+k]=Math.trunc(A/v[k]),A%=v[k]}return[b,[o,s],u]}function kD(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=r.length,u=[t[0],e.length/t[0]],l=u[1],c=s>0?a[s-1]+1:0;if(c<0)throw new Error(Xb.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var d=t.slice();d[0]=c;var f=d.reduce((function(e,t){return e*t}),1),p=bl.getArrayFromDType(n,f);if(0===s)return c>0&&p.fill(o),[p,d];if(c<=0)throw new Error(Xb.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var h=0,m=1,g=0,v=a[h];;){var y=0;if(m<s){if(v===(y=a[m])){++m;continue}if(v>=y)throw new Error(Xb.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(v<0||v>=c)throw new Error(Xb.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(v,c));v>g&&p.fill(o,g*l,v*l);for(var b=h;b<m;++b){var x=r[b];if(x<0||x>=u[0])throw new Error(Xb.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(b,r[b],u[0]));for(var A=0;A<l;A++)p[v*l+A]+=e[x*l+A]}if(i)for(var w=0;w<l;w++)p[v*l+w]/=m-h;if(h=m,g=v+1,v=y,++m>s)break}return g<c&&p.fill(o,g*l,c*l),[p,d]}var SD=oF((function(e){return Math.sqrt(e)})),CD=sF(Iu,(function(e){return Math.sqrt(e)})),ID={kernelName:Iu,backendName:"cpu",kernelFunc:CD},ED=jR((function(e,t){var n=e-t;return n*n})),TD=QR(Du,ED),ND={kernelName:Du,backendName:"cpu",kernelFunc:TD};function OD(e,t,n,r){for(var a=Yd(e,t.dtype),i=0;i<a.size;i++){for(var o=a.indexToLoc(i),s=new Array(o.length),u=0;u<s.length;u++)s[u]=o[u]*n[u]+r[u];a.set.apply(a,[t.get.apply(t,s)].concat((0,qr.Z)(o)))}return a}var PD=function(){function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.separator=bl.encodeString(t),this.nGramWidths=n,this.leftPad=bl.encodeString(r),this.rightPad=bl.encodeString(a),this.padWidth=i,this.preserveShort=o}return(0,Gr.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,s=function(s){var u=o.getPadWidth(i),l=Math.max(0,u-s),c=Math.max(0,u-(a-(s+1))),d=i-(l+c),f=t+(l>0?0:s-u),p=0;p+=l*o.leftPad.length;for(var h=0;h<d;++h)p+=e[f+h].length;p+=c*o.rightPad.length,p+=(l+c+d-1)*o.separator.length,n[r+s]=new Uint8Array(p);for(var m=n[r+s],g=0,v=function(e){return e.forEach((function(e){return m[g++]=e}))},y=0;y<l;++y)v(o.leftPad),v(o.separator);for(var b=0;b<d-1;++b)v(e[f+b]),v(o.separator);if(d>0){v(e[f+d-1]);for(var x=0;x<c;++x)v(o.separator),v(o.rightPad)}else{for(var A=0;A<c-1;++A)v(o.rightPad),v(o.separator);v(o.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var i=t[0];if(0!==i)throw new Error("First split value must be 0, got ".concat(i));for(var o=1;o<a;++o){var s=t[o]>=i;if(!(s=s&&t[o]<=r))throw new Error("Invalid split value ".concat(t[o],", must be in [").concat(i,", ").concat(r,"]"));i=t[o]}if(i!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(i))}var u=a-1,l=bl.getArrayFromDType("int32",a);if(0===r||0===a){for(var c=new Array(r),d=0;d<=u;++d)l[d]=0;return[c,l]}l[0]=0;for(var f=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),l[e]=l[e-1]+a},p=1;p<=u;++p)f(p);for(var h=new Array(l[u]),m=function(r){var a=t[r],i=l[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,a,h,i,u,o),i+=u})),n.preserveShort&&i===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,a,h,i,1,s)}},g=0;g<u;++g)m(g);return[h,l]}}]),e}();function _D(e,t,n,r,a,i,o,s){return new PD(n,r,a,i,o,s).compute(e,t)}function MD(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);(!n||0!==o.length)&&r.push(o),a=i+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var l=e.subarray(0,u);(!n||0!==l.length)&&r.push(l),u=(e=e.subarray(u+1)).indexOf(s)}(!n||0!==e.length)&&r.push(e)}else for(var c=0;c<e.length;++c)r.push(e.subarray(c,c+1))}function RD(e,t,n){for(var r=e.length,a=[],i=0,o=0,s=new Array(r),u=0;u<r;++u){var l=a.length;MD(e[u],t,n,a);var c=a.length-l;s[u]=c,i+=c,o=Math.max(o,c)}for(var d=bl.getArrayFromDType("int32",2*i),f=new Array(i),p=[r,o],h=0,m=0;m<r;++m)for(var g=0;g<s[m];++g)d[2*h]=m,d[2*h+1]=g,f[h]=a[h],++h;return[d,f,p]}function FD(e,t){for(var n=bl.getArrayFromDType("int32",e.length),r=0;r<e.length;++r)n[r]=bl.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var DD=jR((function(e,t){return e-t})),LD=$R((function(e,t,n,r){return{real:e-n,imag:t-r}})),zD=QR(ju,DD,LD),ZD={kernelName:ju,backendName:"cpu",kernelFunc:zD};function WD(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=Yd(n,e.dtype),i=0;i<a.values.length;++i){for(var o=a.indexToLoc(i),s=new Array(e.rank),u=0;u<s.length;u++)s[u]=o[u]%e.shape[u];var l=e.locToIndex(s);a.values[i]=e.values[l]}return a}var BD=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function jD(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,i=t-n+1,o=Math.log(a),s=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*s*(a-s)/a)*Math.sign(i-a/2),l=Math.max(n,Math.floor(t-i*s/a+u)),c=Math.min(r,Math.floor(t+(a-i)*s/a+u));jD(e,t,l,c)}var d=e[t],f=n,p=r;for(bl.swap(e,n,t),BD(e[r],d)>0&&bl.swap(e,n,r);f<p;){for(bl.swap(e,f,p),f++,p--;BD(e[f],d)<0;)f+=1;for(;BD(e[p],d)>0;)p-=1}0===BD(e[n],d)?bl.swap(e,n,p):(p+=1,bl.swap(e,p,r)),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function VD(e,t,n,r,a){for(var i=t[t.length-1],o=e.length/i,s=i,u=bl.getTypedArrayFromDType(n,o*r),l=bl.getTypedArrayFromDType("int32",o*r),c=function(t){var n=t*s,i=e.subarray(n,n+s),o=new Array(i.length);i.forEach((function(e,t){return o[t]={value:e,index:t}})),r<o.length&&(jD(o,r),o=o.slice(0,r)),a&&o.sort(BD);for(var c=t*r,d=u.subarray(c,c+r),f=l.subarray(c,c+r),p=0;p<r;p++)d[p]=o[p].value,f[p]=o[p].index},d=0;d<o;d++)c(d);var f=t.slice();return f[f.length-1]=r,[Yd(f,n,u),Yd(f,"int32",l)]}function HD(e,t,n,r){for(var a=bl.parseAxisParam(t,n)[0],i=[1,n[0],1],o=0;o<a;o++)i[0]*=n[o];i[1]=n[a];for(var s=a+1;s<n.length;s++)i[2]*=n[s];for(var u={},l=new Int32Array(n[a]),c=new Ql(i,r,e),d=[],f=1===i[0]&&1===i[2],p=0;p<n[a];p++){var h=void 0;if(f)h=e[p].toString();else{for(var m=[],g=0;g<i[0];g++)for(var v=0;v<i[2];v++)m.push(c.get(g,p,v));h=m.join(",")}if(void 0!==u[h])l[p]=u[h];else{var y=Object.keys(u).length;u[h]=y,l[p]=y,d.push(p)}}var b=i.slice();b[1]=Object.keys(u).length;var x=new Ql(b,r);d.forEach((function(e,t){for(var n=0;n<i[0];n++)for(var r=0;r<i[2];r++)x.set(c.get(n,e,r),n,t,r)}));var A=n.slice();return A[a]=b[1],{outputValues:x.values,outputShape:A,indices:l}}var UD="0.0.0";Uf("cpu",(function(){return new zR}),1);var GD=sF(Xo,(function(e){return e>=0?e:Math.exp(e)-1})),XD={kernelName:Xo,backendName:"cpu",kernelFunc:GD};function YD(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha;FR([a],"leakyRelu");for(var o=bl.sizeFromShape(a.shape),s=n.data.get(a.dataId).values,u=bl.getTypedArrayFromDType("float32",o),l=0;l<s.length;l++)u[l]=s[l]<0?i*s[l]:s[l];return n.makeTensorInfo(a.shape,"float32",u)}var qD={kernelName:gs,backendName:"cpu",kernelFunc:YD},KD=jR((function(e,t){return e<0?t*e:e}));function JD(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;FR([r,a],"prelu");var i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=KD(r.shape,a.shape,i,s,"float32"),l=(0,o.Z)(u,2),c=l[0],d=l[1];return n.makeTensorInfo(d,"float32",c)}var QD={kernelName:tu,backendName:"cpu",kernelFunc:JD},$D=sF(ou,(function(e){return Math.max(0,e)})),eL={kernelName:ou,backendName:"cpu",kernelFunc:$D},tL=sF(fu,(function(e){return Math.min(Math.max(0,e),6)})),nL={kernelName:fu,backendName:"cpu",kernelFunc:tL};function rL(e,t,n,r,a){if("linear"===n)return GR({inputs:{x:t},backend:e});if("relu"===n)return $D({inputs:{x:t},backend:e});if("elu"===n)return GD({inputs:{x:t},backend:e});if("relu6"===n)return tL({inputs:{x:t},backend:e});if("prelu"===n)return JD({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return YD({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return gD({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function aL(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,o=bl.sizeFromShape(a.shape),s=bl.inferFromImplicitShape(i,o),u=bl.sizeFromShape(s);bl.assert(o===u,(function(){return"The new shape (".concat(s,") has ").concat(u," elements and the old shape (").concat(a.shape,") has ").concat(o," elements. The new shape and old shape must have the same number of elements.")})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var c=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;c.shape=s,d.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}var iL={kernelName:su,backendName:"cpu",kernelFunc:aL};function oL(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,s=r.transposeA,u=r.transposeB;FR([a,i],"matMul");var l=a.shape.length,c=i.shape.length,d=s?a.shape[l-2]:a.shape[l-1],f=u?i.shape[c-1]:i.shape[c-2],p=s?a.shape[l-1]:a.shape[l-2],h=u?i.shape[c-2]:i.shape[c-1],m=a.shape.slice(0,-2),g=i.shape.slice(0,-2),v=bl.sizeFromShape(m),y=bl.sizeFromShape(g),b=$f.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([p,h]);bl.assert(d===f,(function(){return"Error in matMul: inner shapes (".concat(d,") and (").concat(f,") of Tensors with shapes ").concat(a.shape," and ").concat(i.shape," and transposeA=").concat(s," and transposeB=").concat(u," must match.")}));for(var x=u?[y,h,f]:[y,f,h],A=aL({inputs:{x:a},backend:n,attrs:{shape:s?[v,d,p]:[v,p,d]}}),w=aL({inputs:{x:i},backend:n,attrs:{shape:x}}),k=s?A.shape[1]:A.shape[2],S=s?A.shape[2]:A.shape[1],C=u?w.shape[1]:w.shape[2],I=Math.max(v,y),E=n.data.get(A.dataId).values,T=n.data.get(w.dataId).values,N=bl.computeStrides(A.shape),O=bl.computeStrides(w.shape),P=s?[N[0],1,N[1]]:[N[0],N[1],1],_=(0,o.Z)(P,3),M=_[0],R=_[1],F=_[2],D=u?[1,O[1],O[0]]:[O[1],1,O[0]],L=(0,o.Z)(D,3),z=L[0],Z=L[1],W=L[2],B=S*C,j=Yd([I,S,C],A.dtype),V=j.values,H=n.blockSize,U=0;U<I;U++)for(var G=0;G<S;G+=H)for(var X=0;X<C;X+=H)for(var Y=0;Y<k;Y+=H)for(var q=Math.min(G+H,S),K=Math.min(X+H,C),J=Math.min(Y+H,k),Q=G;Q<q;Q++)for(var $=X;$<K;$++){for(var ee=0,te=Y;te<J;te++){var ne=Math.min(U,v-1)*M,re=Math.min(U,y-1)*W;ee+=E[ne+Q*R+te*F]*T[te*z+$*Z+re]}V[U*B+(Q*C+$)]+=ee}return n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(b,j.dtype,j.values)}var sL={kernelName:ho,backendName:"cpu",kernelFunc:oL};var uL={kernelName:rl,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,s=a.a,u=a.b,l=a.bias,c=a.preluActivationWeights,d=o.transposeA,f=o.transposeB,p=o.activation,h=o.leakyreluAlpha,m=[];t=oL({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:f},backend:i}),l&&(n=nF({inputs:{a:t,b:l},backend:i}),m.push(t),t=n),p&&(r=rL(i,t,p,c,h),m.push(t),t=r);for(var g=0,v=m;g<v.length;g++){var y=v[g];i.disposeIntermediateTensorInfo(y)}return t}},lL=sF(Ki,(function(e){return Math.acos(e)})),cL={kernelName:Ki,backendName:"cpu",kernelFunc:lL},dL=sF(Ji,(function(e){return Math.acosh(e)})),fL={kernelName:Ji,backendName:"cpu",kernelFunc:dL};var pL={kernelName:$i,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;FR(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),i=Yd(r[0].shape,r[0].dtype),o=i.values,s=0;s<r.length;s++)for(var u=a[s],l=0;l<o.length;l++)o[l]+=u[l];return n.makeTensorInfo(i.shape,i.dtype,i.values)}};var hL={kernelName:eo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;FR(a,"all");var u=bl.parseAxisParam(i,a.shape),l=u,c=Xb.getAxesPermutation(l,a.shape.length),d=a;null!=c&&(d=oD({inputs:{x:a},backend:n,attrs:{perm:c}}),l=Xb.getInnerMostAxes(l.length,a.shape.length)),Xb.assertAxesAreInnerMostDims("all",l,d.shape.length);for(var f=Xb.computeOutAndReduceShapes(d.shape,l),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=bl.sizeFromShape(m),v=bl.makeZerosTypedArray(bl.sizeFromShape(h),d.dtype),y=n.data.get(d.dataId).values,b=0;b<v.length;++b){for(var x=b*g,A=y[x],w=0;w<g;++w){var k=y[x+w];A=A&&k}v[b]=A}null!=c&&n.disposeIntermediateTensorInfo(d);var S=n.makeTensorInfo(h,d.dtype,v);if(s){var C=aL({inputs:{x:S},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(h,u)}});return n.disposeIntermediateTensorInfo(S),C}return S}};var mL={kernelName:to,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;FR(a,"any");var u=bl.parseAxisParam(i,a.shape),l=u,c=Xb.getAxesPermutation(l,a.shape.length),d=a;null!=c&&(d=oD({inputs:{x:a},backend:n,attrs:{perm:c}}),l=Xb.getInnerMostAxes(l.length,a.shape.length)),Xb.assertAxesAreInnerMostDims("any",l,d.shape.length);for(var f=Xb.computeOutAndReduceShapes(d.shape,l),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=bl.sizeFromShape(m),v=bl.makeZerosTypedArray(bl.sizeFromShape(h),d.dtype),y=n.data.get(d.dataId).values,b=0;b<v.length;++b){for(var x=b*g,A=y[x],w=0;w<g;++w){var k=y[x+w];A=A||k}v[b]=A}null!=c&&n.disposeIntermediateTensorInfo(d);var S=n.makeTensorInfo(h,d.dtype,v);if(s){var C=aL({inputs:{x:S},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(h,u)}});return n.disposeIntermediateTensorInfo(S),C}return S}};var gL={kernelName:no,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;FR(a,"argMax");var s=bl.parseAxisParam(i,a.shape),u=Xb.getAxesPermutation(s,a.shape.length),l=a,c=[];null!=u&&(l=oD({inputs:{x:a},backend:n,attrs:{perm:u}}),c.push(l),s=Xb.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],Xb.assertAxesAreInnerMostDims("argMax",s,l.shape.length);for(var d=Xb.computeOutAndReduceShapes(l.shape,s),f=(0,o.Z)(d,2),p=f[0],h=f[1],m=bl.sizeFromShape(p),g=bl.makeZerosTypedArray(m,"int32"),v=bl.sizeFromShape(h),y=n.data.get(l.dataId).values,b=0;b<g.length;++b){for(var x=b*v,A=y[x],w=0,k=0;k<v;++k){var S=y[x+k];S>A&&(A=S,w=k)}g[b]=w}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var vL={kernelName:ro,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;FR(a,"argMin");var s=bl.parseAxisParam(i,a.shape),u=Xb.getAxesPermutation(s,a.shape.length),l=a,c=[];null!=u&&(l=oD({inputs:{x:a},backend:n,attrs:{perm:u}}),c.push(l),s=Xb.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],Xb.assertAxesAreInnerMostDims("argMin",s,l.shape.length);for(var d=Xb.computeOutAndReduceShapes(l.shape,s),f=(0,o.Z)(d,2),p=f[0],h=f[1],m=bl.sizeFromShape(p),g=bl.makeZerosTypedArray(m,"int32"),v=bl.sizeFromShape(h),y=n.data.get(l.dataId).values,b=0;b<g.length;++b){for(var x=b*v,A=y[x],w=0,k=0;k<v;++k){var S=y[x+k];S<A&&(A=S,w=k)}g[b]=w}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},yL=sF(ao,(function(e){return Math.asin(e)})),bL={kernelName:ao,backendName:"cpu",kernelFunc:yL},xL=sF(io,(function(e){return Math.asinh(e)})),AL={kernelName:io,backendName:"cpu",kernelFunc:xL},wL=sF(oo,(function(e){return Math.atan(e)})),kL={kernelName:oo,backendName:"cpu",kernelFunc:wL},SL=jR((function(e,t){return Math.atan2(e,t)})),CL=QR(uo,SL),IL={kernelName:uo,backendName:"cpu",kernelFunc:CL},EL=sF(so,(function(e){return Math.atanh(e)})),TL={kernelName:so,backendName:"cpu",kernelFunc:EL};function NL(e,t,n,r,a,i){for(var o=a.strideHeight,s=a.strideWidth,u=a.dilationHeight,l=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,f=a.padInfo.top,p=a.padInfo.left,h="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Yd(a.outShape,n),g=m.values,v=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3],x=0;x<a.batchSize;++x)for(var A=x*v,w=x*r[0],k=0;k<a.inChannels;++k)for(var S=0;S<a.outHeight;++S)for(var C=S*o-f,I=Math.max(0,C),E=Math.min(a.inHeight,c+C),T=A+S*y,N=0;N<a.outWidth;++N){for(var O=N*s-p,P=Math.max(0,O),_=Math.min(a.inWidth,d+O),M=h,R=0,F=0,D=I;D<E;D+=u){for(var L=w+D*r[1],z=P;z<_;z+=l){var Z=e[L+z*r[2]+k];"max"===i&&Z>M?M=Z:"avg"===i&&(R+=Z,F++)}if(isNaN(M))break}g[T+N*b+k]="avg"===i?R/F:M}return m}function OL(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Yd(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=r.padInfo.top,h=r.padInfo.left,m=Yd(t,n,e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.outHeight;++y){for(var b=y*s-p,x=b;x<0;)x+=l;for(var A=Math.min(r.inHeight,d+b),w=0;w<r.outWidth;++w){for(var k=w*u-h,S=k;S<0;)S+=c;for(var C=Math.min(r.inWidth,f+k),I=Number.NEGATIVE_INFINITY,E=-1,T=x;T<A;T+=l)for(var N=T-b,O=S;O<C;O+=c){var P=O-k,_=m.get(g,T,O,v);_>I&&(I=_,E=a?i?((g*r.inHeight+T)*r.inWidth+O)*r.inChannels+v:(T*r.inWidth+O)*r.inChannels+v:N*f+P)}o.set(E,g,y,w,v)}}return o}function PL(e,t,n,r,a,i){for(var o=a.strideDepth,s=a.strideHeight,u=a.strideWidth,l=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,f=a.effectiveFilterDepth,p=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,v=a.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Yd(a.outShape,n),x=b.values,A=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],w=a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[3]*a.outShape[4],S=a.outShape[4],C=0;C<a.batchSize;++C)for(var I=C*A,E=C*r[0],T=0;T<a.inChannels;++T)for(var N=0;N<a.outDepth;++N){for(var O=N*o-m,P=O;P<0;)P+=l;for(var _=Math.min(a.inDepth,f+O),M=I+N*w,R=0;R<a.outHeight;++R){for(var F=R*s-g,D=F;D<0;)D+=c;for(var L=Math.min(a.inHeight,p+F),z=M+R*k,Z=0;Z<a.outWidth;++Z){for(var W=Z*u-v,B=W;B<0;)B+=d;for(var j=Math.min(a.inWidth,h+W),V=z+Z*S,H=y,U=0,G=0,X=P;X<_;X+=l){for(var Y=E+X*r[1],q=D;q<L;q+=c){for(var K=Y+q*r[2],J=B;J<j;J+=d){var Q=e[K+J*r[3]+T];if("max"===i&&Q>H?H=Q:"avg"===i&&(U+=Q,G++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}x[V+T]="avg"===i?U/G:H}}}return b}var _L={kernelName:lo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;FR(a,"avgPool");var i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;bl.assert(Xb.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(1,"'")}));var l,c=Xb.computePool2DInfo(a.shape,i,o,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&bl.arraysEqual(c.inShape,c.outShape))l=GR({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,f=bl.computeStrides(a.shape),p=NL(d,a.shape,a.dtype,f,c,"avg");l=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return l}};var ML={kernelName:fo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=r.dataFormat;FR(a,"avgPool3d");var c=Xb.computePool3DInfo(a.shape,i,o,1,s,u,l),d=PL(n.data.get(a.dataId).values,a.shape,a.dtype,bl.computeStrides(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var RL={kernelName:po,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;FR([a,i],"avgPool3DGrad");for(var c=Xb.computePool3DInfo(i.shape,o,s,1,u,l),d=c.strideDepth,f=c.strideHeight,p=c.strideWidth,h=c.filterDepth,m=c.filterHeight,g=c.filterWidth,v=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,A=c.effectiveFilterHeight,w=c.effectiveFilterWidth,k=x-1-c.padInfo.front,S=w-1-c.padInfo.left,C=A-1-c.padInfo.top,I=Yd(i.shape,"float32"),E=1/(h*m*g),T=n.bufferSync(a),N=0;N<c.batchSize;++N)for(var O=0;O<c.inChannels;++O)for(var P=0;P<c.inDepth;++P)for(var _=0;_<c.inHeight;++_)for(var M=0;M<c.inWidth;++M){for(var R=P-k,F=_-C,D=M-S,L=0,z=0;z<x;z+=v){var Z=(R+z)/d;if(!(Z<0||Z>=c.outDepth||Math.floor(Z)!==Z))for(var W=0;W<A;W+=y){var B=(F+W)/f;if(!(B<0||B>=c.outHeight||Math.floor(B)!==B))for(var j=0;j<w;j+=b){var V=(D+j)/p;V<0||V>=c.outWidth||Math.floor(V)!==V||(L+=T.get(N,Z,B,V,O))}}}I.set(L*E,N,P,_,M,O)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}};var FL={kernelName:co,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;FR([a,i],"avgPoolGrad");for(var s=r.filterSize,u=r.strides,l=r.pad,c=Xb.computePool2DInfo(o.shape,s,u,1,l),d=c.strideHeight,f=c.strideWidth,p=c.filterHeight,h=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,v=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,x=v-1-c.padInfo.top,A=Yd(o.shape,"float32"),w=1/(p*h),k=n.data.get(a.dataId).values,S=Yd(a.shape,"float32",k),C=0;C<c.batchSize;++C)for(var I=0;I<c.inChannels;++I)for(var E=0;E<c.inHeight;++E)for(var T=0;T<c.inWidth;++T){for(var N=E-x,O=T-b,P=0,_=0;_<v;_+=m){var M=(N+_)/d;if(!(M<0||M>=c.outHeight||Math.floor(M)!==M))for(var R=0;R<y;R+=g){var F=(O+R)/f;F<0||F>=c.outWidth||Math.floor(F)!==F||(P+=S.get(C,M,F,I))}}A.set(P*w,C,E,T,I)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};var DL={kernelName:is,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.scale,o=t.offset,s=t.mean,u=t.variance;bl.assert(s.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),bl.assert(null==o||s.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),bl.assert(null==i||s.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),FR([a,s,u,i,o],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,f=n.data.get(u.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),h=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=h.length,v=p.length,y=f.length,b=d.length,x=0,A=0,w=0,k=0,S=0;S<c.length;++S)m[S]=h[x++]+(c[S]-d[A++])*p[w++]/Math.sqrt(f[k++]+l),x>=g&&(x=0),A>=b&&(A=0),w>=v&&(w=0),k>=y&&(k=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};var LL={kernelName:mo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;FR([a],"batchToSpaceND");var s=i.reduce((function(e,t){return e*t})),u=Xb.getReshaped(a.shape,i,s),l=Xb.getPermuted(u.length,i.length),c=Xb.getReshapedPermuted(a.shape,i,s),d=Xb.getSliceBeginCoords(o,i.length),f=Xb.getSliceSize(c,o,i.length),p=aL({inputs:{x:a},backend:n,attrs:{shape:u}}),h=oD({inputs:{x:p},backend:n,attrs:{perm:l}}),m=aL({inputs:{x:h},backend:n,attrs:{shape:c}}),g=bD({inputs:{x:m},backend:n,attrs:{begin:d,size:f}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};var zL={kernelName:go,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=aF(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}};var ZL={kernelName:yo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=Xb.assertAndGetBroadcastShape(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},WL=sF(Ao,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),BL={kernelName:Ao,backendName:"cpu",kernelFunc:WL},jL={kernelName:ko,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(bl.sizeFromShape(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values,l=0;l<s.length;l++){var c=s[l],d=u[l];r[l]=Math.hypot(c,d)}return n.makeOutput(r,t.shape,"float32")}};function VL(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var HL={kernelName:fs,backendName:"cpu",kernelFunc:VL};function UL(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=bl.parseAxisParam(r,t[0].shape)[0],i=Xb.computeOutShape(t.map((function(e){return e.shape})),a);if(0===bl.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var o=t.filter((function(e){return bl.sizeFromShape(e.shape)>0}));if(1===o.length)return GR({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));if(Xb.assertParamsConsistent(s,a),"complex64"===o[0].dtype){var u=o.map((function(e){return YR({inputs:{input:e},backend:n})})),l=o.map((function(e){return VL({inputs:{input:e},backend:n})})),c=UL({inputs:u,backend:n,attrs:{axis:a}}),d=UL({inputs:l,backend:n,attrs:{axis:a}}),f=VR({inputs:{real:c,imag:d},backend:n});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),f}var p=o.map((function(e){var t=bl.sizeFromShape(e.shape.slice(a));return aL({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),h=p.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));i=Xb.computeOutShape(p.map((function(e){return e.shape})),1);var m=1===p[0].shape[0],g=fF(h,i,t[0].dtype,m),v=Xb.computeOutShape(o.map((function(e){return e.shape})),a),y=n.makeTensorInfo(v,t[0].dtype,g);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}var GL={kernelName:So,backendName:"cpu",kernelFunc:UL};function XL(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dilations,c=r.dimRoundingMode;FR([a,i],"conv2d");for(var d=Xb.convertConv2DDataFormat(u),f=Xb.computeConv2DInfo(a.shape,i.shape,o,l,s,c,!1,d),p=f.filterHeight,h=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,v=f.padInfo.left,y=f.padInfo.top,b="channelsLast"===f.dataFormat,x=new Ql(f.outShape,a.dtype),A=bl.computeStrides(a.shape),w=bl.computeStrides(i.shape),k=A[0],S=b?A[1]:A[2],C=b?A[2]:1,I=b?1:A[1],E=x.strides[0],T=b?x.strides[1]:x.strides[2],N=b?x.strides[2]:1,O=b?1:x.strides[1],P=n.data.get(a.dataId).values,_=n.data.get(i.dataId).values,M=x.values,R=0;R<f.batchSize;++R)for(var F=R*k,D=R*E,L=0;L<f.outHeight;++L)for(var z=D+L*T,Z=L*f.strideHeight-y,W=0;W<p;++W){var B=Z+W*m;if(!(B<0||B>=f.inHeight))for(var j=W*w[0],V=F+B*S,H=0;H<f.outWidth;++H)for(var U=z+H*N,G=H*f.strideWidth-v,X=0;X<h;++X){var Y=G+X*g;if(!(Y<0||Y>=f.inWidth))for(var q=V+Y*C,K=j+X*w[1],J=0;J<f.inChannels;++J){for(var Q=P[q+J*I],$=0;$<f.outChannels;++$)M[U+$*O]+=Q*_[K+$];K+=f.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,M)}var YL={kernelName:Co,backendName:"cpu",kernelFunc:XL};var qL={kernelName:Io,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dimRoundingMode,c=r.filterShape;FR([a,i],"conv2dBackpropFilter");for(var d=Xb.convertConv2DDataFormat(u),f=Xb.computeConv2DInfo(a.shape,c,o,1,s,l,!1,d),p=f.strideHeight,h=f.strideWidth,m=f.filterHeight,g=f.filterWidth,v="channelsLast"===f.dataFormat,y=new Ql(f.filterShape,"float32"),b=f.padInfo.left,x=f.padInfo.top,A=n.data.get(a.dataId).values,w=n.data.get(i.dataId).values,k=new Ql(a.shape,a.dtype,A),S=new Ql(i.shape,i.dtype,w),C=0;C<m;++C)for(var I=Math.max(0,Math.ceil((x-C)/p)),E=Math.min(f.outHeight,(f.inHeight+x-C)/p),T=0;T<g;++T)for(var N=Math.max(0,Math.ceil((b-T)/h)),O=Math.min(f.outWidth,(f.inWidth+b-T)/h),P=0;P<f.inChannels;++P)for(var _=0;_<f.outChannels;++_){for(var M=0,R=0;R<f.batchSize;++R)for(var F=I;F<E;++F)for(var D=C+F*p-x,L=N;L<O;++L){var z=T+L*h-b;M+=v?k.get(R,D,z,P)*S.get(R,F,L,_):k.get(R,P,D,z)*S.get(R,_,F,L)}y.set(M,C,T,P,_)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var KL={kernelName:Eo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.inputShape,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dimRoundingMode;FR([a,i],"conv2dBackpropInput");var f=bl.computeStrides(i.shape),p=bl.computeStrides(a.shape),h=Xb.convertConv2DDataFormat(c),m=Xb.computeConv2DInfo(s,i.shape,u,1,l,d,!1,h),g=new Ql(m.inShape,"float32"),v=g.values,y=n.data.get(a.dataId).values,b=n.data.get(i.dataId).values,x=(0,o.Z)(f,3),A=x[0],w=x[1],k=x[2],S=m.batchSize,C=m.filterHeight,I=m.filterWidth,E=m.inChannels,T=m.inHeight,N=m.inWidth,O=m.outChannels,P=m.outHeight,_=m.outWidth,M=m.strideHeight,R=m.strideWidth;h=m.dataFormat;for(var F=C-1-m.padInfo.top,D=I-1-m.padInfo.left,L="channelsLast"===h,z=g.strides[0],Z=L?g.strides[1]:g.strides[2],W=L?g.strides[2]:1,B=L?1:g.strides[1],j=p[0],V=L?p[1]:p[2],H=L?p[2]:1,U=L?1:p[1],G=0;G<S;++G)for(var X=0;X<E;++X)for(var Y=0;Y<T;++Y)for(var q=Y-F,K=Math.max(0,Math.ceil(q/M)),J=Math.min(P,(C+q)/M),Q=0;Q<N;++Q){for(var $=Q-D,ee=Math.max(0,Math.ceil($/R)),te=Math.min(_,(I+$)/R),ne=0,re=K;re<J;++re)for(var ae=re*M-q,ie=ee;ie<te;++ie)for(var oe=j*G+V*re+H*ie,se=A*(C-1-ae)+w*(I-1-(ie*R-$))+k*X,ue=0;ue<O;++ue){ne+=y[oe+U*ue]*b[se+ue]}v[z*G+Z*Y+W*Q+B*X]=ne}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var JL={kernelName:To,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations;FR([a,i],"conv3d");for(var l=Xb.computeConv3DInfo(a.shape,i.shape,o,u,s),c=l.filterDepth,d=l.filterHeight,f=l.filterWidth,p=l.dilationDepth,h=l.dilationHeight,m=l.dilationWidth,g=l.padInfo,v=g.front,y=g.left,b=g.top,x=new Ql(l.outShape,a.dtype),A=n.data.get(a.dataId).values,w=n.data.get(i.dataId).values,k=x.values,S=bl.computeStrides(a.shape),C=bl.computeStrides(i.shape),I=0;I<l.batchSize;++I)for(var E=I*S[0],T=I*x.strides[0],N=0;N<l.outDepth;++N)for(var O=T+N*x.strides[1],P=N*l.strideDepth-v,_=0;_<c;++_){var M=P+_*p;if(!(M<0||M>=l.inDepth))for(var R=_*C[0],F=E+M*S[1],D=0;D<l.outHeight;++D)for(var L=O+D*x.strides[2],z=D*l.strideHeight-b,Z=0;Z<d;++Z){var W=z+Z*h;if(!(W<0||W>=l.inHeight))for(var B=R+Z*C[1],j=F+W*S[2],V=0;V<l.outWidth;++V)for(var H=L+V*l.outChannels,U=V*l.strideWidth-y,G=0;G<f;++G){var X=U+G*m;if(!(X<0||X>=l.inWidth))for(var Y=B+G*C[2],q=j+X*l.inChannels,K=Y,J=0;J<l.inChannels;++J){for(var Q=A[q+J],$=0;$<l.outChannels;++$)k[H+$]+=Q*w[K+$];K+=l.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var QL={kernelName:No,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,s=r.strides,u=r.pad,l=r.filterShape;FR([a,i],"conv3dBackpropFilterV2");for(var c=bl.computeStrides(a.shape),d=bl.computeStrides(i.shape),f=Xb.computeConv3DInfo(a.shape,l,s,1,u),p=f.strideDepth,h=f.strideHeight,m=f.strideWidth,g=f.filterDepth,v=f.filterHeight,y=f.filterWidth,b=new Ql(f.filterShape,"float32"),x=b.values,A=(0,o.Z)(b.strides,4),w=A[0],k=A[1],S=A[2],C=A[3],I=n.data.get(i.dataId).values,E=(0,o.Z)(d,4),T=E[0],N=E[1],O=E[2],P=E[3],_=n.data.get(a.dataId).values,M=(0,o.Z)(c,4),R=M[0],F=M[1],D=M[2],L=M[3],z=f.padInfo.front,Z=f.padInfo.left,W=f.padInfo.top,B=0;B<g;++B)for(var j=Math.max(0,Math.ceil((z-B)/p)),V=Math.min(f.outDepth,(f.inDepth+z-B)/p),H=B*w,U=0;U<v;++U)for(var G=Math.max(0,Math.ceil((W-U)/h)),X=Math.min(f.outHeight,(f.inHeight+W-U)/h),Y=U*k+H,q=0;q<y;++q)for(var K=Math.max(0,Math.ceil((Z-q)/m)),J=Math.min(f.outWidth,(f.inWidth+Z-q)/m),Q=q*S+Y,$=0;$<f.inChannels;++$)for(var ee=$*C+Q,te=0;te<f.outChannels;++te){for(var ne=0,re=0;re<f.batchSize;++re)for(var ae=re*R,ie=re*T,oe=j;oe<V;++oe)for(var se=(B+oe*p-z)*F+ae,ue=oe*N+ie,le=G;le<X;++le)for(var ce=(U+le*h-W)*D+se,de=le*O+ue,fe=K;fe<J;++fe){var pe=fe*P+de;ne+=_[(q+fe*m-Z)*L+ce+$]*I[pe+te]}x[ee+te]=ne}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var $L={kernelName:Oo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.pad,u=r.strides,l=r.inputShape;FR([a],"conv3dBackpropInputV2");for(var c=bl.computeStrides(a.shape),d=bl.computeStrides(i.shape),f=Xb.computeConv3DInfo(l,i.shape,u,1,s),p=new Ql(f.inShape,"float32"),h=p.values,m=(0,o.Z)(p.strides,4),g=m[0],v=m[1],y=m[2],b=m[3],x=n.data.get(a.dataId).values,A=(0,o.Z)(c,4),w=A[0],k=A[1],S=A[2],C=A[3],I=n.data.get(i.dataId).values,E=(0,o.Z)(d,4),T=E[0],N=E[1],O=E[2],P=E[3],_=f.batchSize,M=f.filterDepth,R=f.filterHeight,F=f.filterWidth,D=f.inChannels,L=f.inDepth,z=f.inHeight,Z=f.inWidth,W=f.outChannels,B=f.outDepth,j=f.outHeight,V=f.outWidth,H=f.strideDepth,U=f.strideHeight,G=f.strideWidth,X=M-1-f.padInfo.front,Y=R-1-f.padInfo.top,q=F-1-f.padInfo.left,K=0;K<_;++K)for(var J=0;J<D;++J)for(var Q=0;Q<L;++Q)for(var $=Q-X,ee=Math.max(0,Math.ceil($/H)),te=Math.min(B,(M+$)/H),ne=0;ne<z;++ne)for(var re=ne-Y,ae=Math.max(0,Math.ceil(re/U)),ie=Math.min(j,(R+re)/U),oe=0;oe<Z;++oe){for(var se=oe-q,ue=Math.max(0,Math.ceil(se/G)),le=Math.min(V,(F+se)/G),ce=0,de=ee;de<te;++de)for(var fe=de*H-$,pe=ae;pe<ie;++pe)for(var he=pe*U-re,me=ue;me<le;++me)for(var ge=w*K+k*de+S*pe+C*me,ve=T*(M-1-fe)+N*(R-1-he)+O*(F-1-(me*G-se))+P*J,ye=0;ye<W;++ye){ce+=x[ge+ye]*I[ve+ye]}h[g*K+v*Q+y*ne+b*oe+J]=ce}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},ez=sF(Po,(function(e){return Math.cos(e)})),tz={kernelName:Po,backendName:"cpu",kernelFunc:ez},nz=sF(_o,(function(e){return Math.cosh(e)})),rz={kernelName:_o,backendName:"cpu",kernelFunc:nz};var az={kernelName:Fo,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,s=t.boxInd,u=r.cropSize,l=r.method,c=r.extrapolationValue,d=(0,o.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],g=i.shape[0],v=(0,o.Z)(u,2),y=v[0],b=v[1],x=Yd([g,y,b,m],"float32"),A=n.data.get(i.dataId).values,w=n.data.get(s.dataId).values,k=n.data.get(a.dataId).values,S=bl.computeStrides(a.shape),C=bl.computeStrides(x.shape),I=0;I<g;I++){var E=4*I,T=A[E],N=A[E+1],O=A[E+2],P=A[E+3],_=w[I];if(!(_>=f))for(var M=y>1?(O-T)*(p-1)/(y-1):0,R=b>1?(P-N)*(h-1)/(b-1):0,F=0;F<y;F++){var D=y>1?T*(p-1)+F*M:.5*(T+O)*(p-1);if(D<0||D>p-1)for(var L=0;L<b;L++)for(var z=0;z<m;z++){var Z=z+L*C[2]+F*C[1]+I*C[0];x.values[Z]=c}else if("bilinear"===l)for(var W=Math.floor(D),B=Math.ceil(D),j=D-W,V=0;V<b;V++){var H=b>1?N*(h-1)+V*R:.5*(N+P)*(h-1);if(H<0||H>h-1)for(var U=0;U<m;U++){var G=U+V*C[2]+F*C[1]+I*C[0];x.values[G]=c}else for(var X=Math.floor(H),Y=Math.ceil(H),q=H-X,K=0;K<m;K++){var J=K+X*S[2]+W*S[1]+_*S[0],Q=k[J],$=k[J=K+Y*S[2]+W*S[1]+_*S[0]],ee=k[J=K+X*S[2]+B*S[1]+_*S[0]],te=Q+($-Q)*q,ne=ee+(k[J=K+Y*S[2]+B*S[1]+_*S[0]]-ee)*q;J=K+V*C[2]+F*C[1]+I*C[0],x.values[J]=te+(ne-te)*j}}else for(var re=0;re<b;++re){var ae=b>1?N*(h-1)+re*R:.5*(N+P)*(h-1);if(ae<0||ae>h-1)for(var ie=0;ie<m;ie++){var oe=ie+re*C[2]+F*C[1]+I*C[0];x.values[oe]=c}else for(var se=Math.round(ae),ue=Math.round(D),le=0;le<m;le++){var ce=le+se*S[2]+ue*S[1]+_*S[0],de=le+re*C[2]+F*C[1]+I*C[0];x.values[de]=k[ce]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var iz={kernelName:Mo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;FR(a,"cumprod");var u=Xb.getAxesPermutation([i],a.shape.length),l=a;null!=u&&(l=oD({inputs:{x:a},backend:n,attrs:{perm:u}}));var c=Xb.getInnerMostAxes(1,a.shape.length)[0];if(c!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most axis=".concat(l.shape.length-1," but got axis=").concat(c));for(var d=cc(l.dtype,"int32"),f=bl.makeOnesTypedArray(bl.sizeFromShape(l.shape),d),p=n.data.get(l.dataId).values,h=l.shape[l.shape.length-1],m=s?function(e,t){return e+h-t-1}:function(e,t){return e+t},g=0;g<p.length;g+=h)for(var v=0;v<h;v++){var y=m(g,v);if(0===v)f[y]=o?1:p[y];else{var b=m(g,v-1);f[y]=o?p[b]*f[b]:p[y]*f[b]}}var x=n.makeTensorInfo(l.shape,d,f);if(null!=u){var A=oD({inputs:{x:x},backend:n,attrs:{perm:Xb.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),A}return x}};var oz={kernelName:Ro,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;FR(a,"cumsum");var u=Xb.getAxesPermutation([i],a.shape.length),l=a;null!=u&&(l=oD({inputs:{x:a},backend:n,attrs:{perm:u}}));var c=Xb.getInnerMostAxes(1,a.shape.length)[0];if(c!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most axis=".concat(l.shape.length-1," but got axis=").concat(c));for(var d=cc(l.dtype,"int32"),f=bl.makeZerosTypedArray(bl.sizeFromShape(l.shape),d),p=n.data.get(l.dataId).values,h=l.shape[l.shape.length-1],m=s?function(e,t){return e+h-t-1}:function(e,t){return e+t},g=0;g<p.length;g+=h)for(var v=0;v<h;v++){var y=m(g,v);if(0===v)f[y]=o?0:p[y];else{var b=m(g,v-1);f[y]=o?p[b]+f[b]:p[y]+f[b]}}var x=n.makeTensorInfo(l.shape,d,f);if(null!=u){var A=oD({inputs:{x:x},backend:n,attrs:{perm:Xb.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),A}return x}};var sz={kernelName:Do,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=aF(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}if(2===a.shape.length){var l=iF(n.bufferSync(a),n.bufferSync(i),o,s);return n.makeTensorInfo(l.shape,i.dtype,l.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank".concat(a.shape.length,"."))}};var uz={kernelName:Lo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat;bl.assert("NHWC"===o,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(o)}));for(var s=a.shape[0],u=a.shape[1],l=a.shape[2],c=a.shape[3],d=u*i,f=l*i,p=c/(i*i),h=n.data.get(a.dataId).values,m=new Float32Array(s*d*f*p),g=0,v=0;v<s;++v)for(var y=0;y<d;++y)for(var b=Math.floor(y/i),x=y%i,A=0;A<f;++A)for(var w=Math.floor(A/i),k=(x*i+A%i)*p,S=0;S<p;++S){var C=S+k+c*(w+l*(b+u*v));m[g++]=h[C]}return n.makeTensorInfo([s,d,f,p],a.dtype,m)}};function lz(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=r.dimRoundingMode;FR([a,i],"depthwiseConv2DNative");var c=bl.computeStrides(a.shape),d=bl.computeStrides(i.shape),f=u;null==f&&(f=[1,1]),bl.assert(Xb.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(f,"'")}));for(var p=Xb.computeConv2DInfo(a.shape,i.shape,o,f,s,l,!0),h=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,v=p.dilationWidth,y=p.padInfo,b=y.left,x=y.top,A=p.outChannels/p.inChannels,w=new Ql(p.outShape,a.dtype),k=n.data.get(a.dataId).values,S=n.data.get(i.dataId).values,C=w.values,I=0;I<p.batchSize;++I)for(var E=I*c[0],T=I*w.strides[0],N=0;N<p.outHeight;++N)for(var O=T+N*w.strides[1],P=N*p.strideHeight-x,_=0;_<h;++_){var M=P+_*g;if(!(M<0||M>=p.inHeight))for(var R=_*d[0],F=E+M*c[1],D=0;D<p.outWidth;++D)for(var L=O+D*w.strides[2],z=D*p.strideWidth-b,Z=0;Z<m;++Z){var W=z+Z*v;if(!(W<0||W>=p.inWidth))for(var B=R+Z*d[1],j=F+W*p.inChannels,V=L,H=B,U=0;U<p.inChannels;++U){for(var G=k[j+U],X=0;X<A;++X)C[V+X]+=G*S[H+X];V+=A,H+=A}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}var cz={kernelName:zo,backendName:"cpu",kernelFunc:lz};var dz={kernelName:Zo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.dilations,u=r.pad,l=r.dimRoundingMode,c=r.filterShape;FR([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=Xb.computeConv2DInfo(a.shape,c,o,s,u,l,!0),f=d.strideHeight,p=d.strideWidth,h=d.filterHeight,m=d.filterWidth,g=new Ql(d.filterShape,"float32"),v=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,x=n.data.get(a.dataId).values,A=new Ql(a.shape,a.dtype,x),w=n.data.get(i.dataId).values,k=new Ql(i.shape,i.dtype,w),S=0;S<h;++S)for(var C=Math.max(0,Math.ceil((y-S)/f)),I=Math.min(d.outHeight,(d.inHeight+y-S)/f),E=0;E<m;++E)for(var T=Math.max(0,Math.ceil((v-E)/p)),N=Math.min(d.outWidth,(d.inWidth+v-E)/p),O=0;O<d.outChannels;++O){for(var P=Math.trunc(O/b),_=O%b,M=0,R=0;R<d.batchSize;++R)for(var F=C;F<I;++F)for(var D=S+F*f-y,L=T;L<N;++L){var z=E+L*p-v;M+=A.get(R,D,z,P)*k.get(R,F,L,O)}g.set(M,S,E,P,_)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var fz={kernelName:Wo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,s=r.strides,u=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.inputShape;FR([a,i],"depthwiseConv2DNativeBackpropInput");for(var f=bl.computeStrides(a.shape),p=bl.computeStrides(i.shape),h=Xb.computeConv2DInfo(d,i.shape,s,u,l,c,!0),m=new Ql(h.inShape,"float32"),g=m.values,v=(0,o.Z)(m.strides,3),y=v[0],b=v[1],x=v[2],A=n.data.get(a.dataId).values,w=(0,o.Z)(f,3),k=w[0],S=w[1],C=w[2],I=n.data.get(i.dataId).values,E=(0,o.Z)(p,3),T=E[0],N=E[1],O=E[2],P=h.batchSize,_=h.filterHeight,M=h.filterWidth,R=h.inChannels,F=h.inHeight,D=h.inWidth,L=h.outChannels,z=h.outHeight,Z=h.outWidth,W=h.strideHeight,B=h.strideWidth,j=_-1-h.padInfo.top,V=M-1-h.padInfo.left,H=L/R,U=0;U<P;++U)for(var G=0;G<R;++G)for(var X=0;X<F;++X)for(var Y=X-j,q=Math.max(0,Math.ceil(Y/W)),K=Math.min(z,(_+Y)/W),J=0;J<D;++J){for(var Q=J-V,$=Math.max(0,Math.ceil(Q/B)),ee=Math.min(Z,(M+Q)/B),te=0,ne=q;ne<K;++ne)for(var re=ne*W-Y,ae=$;ae<ee;++ae)for(var ie=k*U+S*ne+C*ae,oe=T*(_-1-re)+N*(M-1-(ae*B-Q))+O*G,se=0;se<H;++se){te+=A[ie+(G*H+se)]*I[oe+se]}g[y*U+b*X+x*J+G]=te}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var pz={kernelName:Bo,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=bl.sizeFromShape(r.shape),i=n.data.get(r.dataId).values,o=Yd([a,a],r.dtype),s=o.values,u=0;u<i.length;u++)s[u*a+u]=i[u];var l=[].concat((0,qr.Z)(r.shape),(0,qr.Z)(r.shape));return n.makeTensorInfo(l,o.dtype,o.values)}},hz={kernelName:jo,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=n,c=l.data.get(a.dataId).values,d=a.shape.length,f=l.data.get(i.dataId).values,p=i.shape.length,h=Xb.computeDilation2DInfo(a.shape,i.shape,o,s,"NHWC",u),m=h.batchSize,g=h.inHeight,v=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,A=h.padInfo,w=h.strideHeight,k=h.strideWidth,S=h.filterHeight,C=h.filterWidth,I=h.dilationHeight,E=h.dilationWidth,T=h.outShape,N=bl.sizeFromShape(T),O=T.length,P=bl.getArrayFromDType(a.dtype,N),_=0;_<m;++_)for(var M=0;M<b;++M)for(var R=M*w-A.top,F=0;F<x;++F)for(var D=F*k-A.left,L=0;L<y;++L){for(var z=Number.MIN_SAFE_INTEGER,Z=0;Z<S;++Z){var W=R+Z*I;if(W>=0&&W<g)for(var B=0;B<C;++B){var j=D+B*E;if(j>=0&&j<v){var V=bl.locToIndex([_,W,j,L],d,bl.computeStrides(a.shape)),H=bl.locToIndex([Z,B,L],p,bl.computeStrides(i.shape)),U=c[V]+f[H];U>z&&(z=U)}}}P[bl.locToIndex([_,M,F,L],O,bl.computeStrides(T))]=z}return{dataId:l.write(bl.toTypedArray(P,a.dtype),T,a.dtype),shape:T,dtype:a.dtype}}},mz={kernelName:Ho,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.dy,s=r.strides,u=r.pad,l=r.dilations,c=n,d=bl.toNestedArray(a.shape,c.data.get(a.dataId).values),f=bl.toNestedArray(i.shape,c.data.get(i.dataId).values),p=Xb.computeDilation2DInfo(a.shape,i.shape,s,u,"NHWC",l),h=p.batchSize,m=p.inHeight,g=p.inWidth,v=p.inChannels,y=p.outHeight,b=p.outWidth,x=p.padInfo,A=p.strideHeight,w=p.strideWidth,k=p.filterHeight,S=p.filterWidth,C=p.dilationHeight,I=p.dilationWidth,E=p.outShape;bl.assert(o.rank===E.length,(function(){return"Error in ".concat(Ho,", dy must have the same rank as output ").concat(E.length,", but got ").concat(o.rank)}));for(var T=bl.toNestedArray(E,c.data.get(o.dataId).values),N=bl.makeZerosNestedTypedArray(i.shape,i.dtype),O=0;O<h;++O)for(var P=0;P<y;++P)for(var _=P*A-x.top,M=0;M<b;++M)for(var R=M*w-x.left,F=0;F<v;++F){for(var D=Number.MIN_SAFE_INTEGER,L=0,z=0,Z=0;Z<k;++Z){var W=_+Z*C;if(W>=0&&W<m)for(var B=0;B<S;++B){var j=R+B*I;if(j>=0&&j<g){var V=d[O][W][j][F]+f[Z][B][F];V>D&&(D=V,L=Z,z=B)}}}N[L][z][F]+=T[O][P][M][F]}return{dataId:c.write(bl.toTypedArray(N,a.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},gz={kernelName:Vo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.dy,s=r.strides,u=r.pad,l=r.dilations,c=n,d=bl.toNestedArray(a.shape,c.data.get(a.dataId).values),f=bl.toNestedArray(i.shape,c.data.get(i.dataId).values),p=Xb.computeDilation2DInfo(a.shape,i.shape,s,u,"NHWC",l),h=p.batchSize,m=p.inHeight,g=p.inWidth,v=p.inChannels,y=p.outHeight,b=p.outWidth,x=p.padInfo,A=p.strideHeight,w=p.strideWidth,k=p.filterHeight,S=p.filterWidth,C=p.dilationHeight,I=p.dilationWidth,E=p.outShape;bl.assert(o.rank===E.length,(function(){return"Error in ".concat(Vo,", dy must have the same rank as output ").concat(E.length,", but got ").concat(o.rank)}));for(var T=bl.toNestedArray(E,c.data.get(o.dataId).values),N=bl.makeZerosNestedTypedArray(a.shape,a.dtype),O=0;O<h;++O)for(var P=0;P<y;++P)for(var _=P*A-x.top,M=0;M<b;++M)for(var R=M*w-x.left,F=0;F<v;++F){for(var D=Number.MIN_SAFE_INTEGER,L=_<0?0:_,z=R<0?0:R,Z=0;Z<k;++Z){var W=_+Z*C;if(W>=0&&W<m)for(var B=0;B<S;++B){var j=R+B*I;if(j>=0&&j<g){var V=d[O][W][j][F]+f[Z][B][F];V>D&&(D=V,L=W,z=j)}}}N[O][L][z][F]+=T[O][P][M][F]}return{dataId:c.write(bl.toTypedArray(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};function vz(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,u=a.keepDims;FR(i,"sum");var l=(t="bool"===i.dtype?KR({inputs:{x:i},backend:r,attrs:{dtype:"int32"}}):GR({inputs:{x:i},backend:r})).shape.length,c=bl.parseAxisParam(s,t.shape),d=Xb.getAxesPermutation(c,l),f=c,p=t;null!=d&&(p=oD({inputs:{x:t},backend:r,attrs:{perm:d}}),f=Xb.getInnerMostAxes(f.length,l)),Xb.assertAxesAreInnerMostDims("sum",f,p.shape.length);for(var h=Xb.computeOutAndReduceShapes(p.shape,f),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=UR(r,g,Xb.upcastType(p.dtype,"int32")),b=bl.sizeFromShape(v),x=r.data.get(y.dataId).values,A=r.data.get(p.dataId).values,w=0;w<x.length;++w){for(var k=w*b,S=0,C=0;C<b;++C)S+=A[k+C];x[w]=S}if(u){var I=y;y=aL({inputs:{x:y},backend:r,attrs:{shape:Xb.expandShapeToKeepDim(y.shape,c)}}),r.disposeIntermediateTensorInfo(I)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(p),y}var yz={kernelName:Eu,backendName:"cpu",kernelFunc:vz};var bz={kernelName:Go,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=Xb.decodeEinsumEquation(r,a.length),o=i.allDims,s=i.summedDims,u=i.idDims;Xb.checkEinsumDimSizes(o.length,u,a);for(var l=Xb.getEinsumComputePath(s,u),c=l.path,d=l.steps,f=d.length,p=null,h=o.length,m=[],g=0;g<f;++g){var v,y=Yr(d[g]);try{for(y.s();!(v=y.n()).done;){var b=v.value,x=Xb.getEinsumPermutation(h,u[b]),A=x.permutationIndices,w=x.expandDims,k=void 0;Xb.isIdentityPermutation(A)?k=a[b]:(k=oD({inputs:{x:a[b]},backend:n,attrs:{perm:A}}),m.push(k));for(var S=k.shape.slice(),C=0;C<w.length;++C)S.splice(w[C],0,1);bl.arraysEqual(k.shape,S)||(k=aL({inputs:{x:k},backend:n,attrs:{shape:S}}),m.push(k)),null===p?p=k:(p=QF({inputs:{a:k,b:p},backend:n}),m.push(p))}}catch(N){y.e(N)}finally{y.f()}g<f-1&&(c[g]>=0&&(p=vz({inputs:{x:p},backend:n,attrs:{axis:c[g]-(o.length-h),keepDims:!1}}),m.push(p)),h--)}for(var I=0,E=m;I<E.length;I++){var T=E[I];T!==p&&n.disposeIntermediateTensorInfo(T)}return p}};var xz={kernelName:Yo,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;FR([r,a],"eluGrad");for(var i=new Float32Array(bl.sizeFromShape(a.shape)),o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,u=0;u<o.length;++u){var l=o[u];i[u]=l>=1?s[u]:s[u]*(l+1)}return n.makeTensorInfo(a.shape,"float32",i)}},Az=Xb.ERF_P,wz=Xb.ERF_A1,kz=Xb.ERF_A2,Sz=Xb.ERF_A3,Cz=Xb.ERF_A4,Iz=Xb.ERF_A5,Ez=sF(qo,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Az*n);return t*(1-((((Iz*r+Cz)*r+Sz)*r+kz)*r+wz)*r*Math.exp(-n*n))})),Tz={kernelName:qo,backendName:"cpu",kernelFunc:Ez};function Nz(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,i=r.dim,o=a.shape.length,s=a.shape.slice(),u=i;return i<0&&(bl.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),u=o+i+1),s.splice(u,0,1),aL({inputs:{x:a},backend:n,attrs:{shape:s}})}var Oz={kernelName:Qo,backendName:"cpu",kernelFunc:Nz},Pz=jR((function(e,t){return e/t})),_z=QR(Uo,Pz),Mz={kernelName:Uo,backendName:"cpu",kernelFunc:_z};function Rz(e,t,n){for(var r=e.shape,a=r[0],i=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,u=o.complexTensorInfos.imag,l=[a,i],c=bl.sizeFromShape(l),d=bl.getTypedArrayFromDType("float32",c),f=bl.getTypedArrayFromDType("float32",c),p=0;p<a;p++){for(var h=bD({inputs:{x:s},backend:n,attrs:{begin:[p,0],size:[1,i]}}),m=bD({inputs:{x:u},backend:n,attrs:{begin:[p,0],size:[1,i]}}),g=VR({inputs:{real:h,imag:m},backend:n}),v=Fz(g,t,n),y=v.real,b=v.imag,x=Xb.mergeRealAndImagArrays(y,b),A=0;A<i;A++){var w=Xb.getComplexWithIndex(x,A);d[p*i+A]=w.real,f[p*i+A]=w.imag}n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var k=n.makeTensorInfo(l,"float32",d),S=n.makeTensorInfo(l,"float32",f),C=VR({inputs:{real:k,imag:S},backend:n});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(S),C}function Fz(e,t,n){var r=bl.sizeFromShape(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(r)){var s=Dz(i,o,r,t,n),u=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(u,"float32",s.real),c=n.makeTensorInfo(u,"float32",s.imag),d=n.makeTensorInfo([],"float32",bl.createScalarValue(r,"float32")),f=GR({inputs:{x:d},backend:n}),p=Mz.kernelFunc({inputs:{a:l,b:d},backend:n}),h=Mz.kernelFunc({inputs:{a:c,b:f},backend:n}),m=n.data.get(p.dataId).values,g=n.data.get(h.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),{real:m,imag:g}}return s}var v=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var i=0,o=0,s=0;s<t;s++){var u=Xb.exponent(a*s,t,n),l=Xb.getComplexWithIndex(e,s);i+=l.real*u.real-l.imag*u.imag,o+=l.real*u.imag+l.imag*u.real}n&&(i/=t,o/=t),Xb.assignToTypedArray(r,i,o,a)}return r}(Xb.mergeRealAndImagArrays(i,o),r,t);return Xb.splitRealAndImagArrays(v)}function Dz(e,t,n,r,a){if(1===n)return{real:e,imag:t};var i=Xb.mergeRealAndImagArrays(e,t),o=n/2,s=Xb.complexWithEvenIndex(i),u=s.real,l=s.imag,c=[u.length],d=a.makeTensorInfo(c,"float32",u),f=a.makeTensorInfo(c,"float32",l),p=VR({inputs:{real:d,imag:f},backend:a}),h=Xb.complexWithOddIndex(i),m=h.real,g=h.imag,v=[m.length],y=a.makeTensorInfo(v,"float32",m),b=a.makeTensorInfo(v,"float32",g),x=VR({inputs:{real:y,imag:b},backend:a}),A=Dz(u,l,o,r,a),w=A.real,k=A.imag,S=[w.length],C=a.makeTensorInfo(S,"float32",w),I=a.makeTensorInfo(S,"float32",k),E=VR({inputs:{real:C,imag:I},backend:a}),T=Dz(m,g,o,r,a),N=T.real,O=T.imag,P=[N.length],_=a.makeTensorInfo(P,"float32",N),M=a.makeTensorInfo(P,"float32",O),R=VR({inputs:{real:_,imag:M},backend:a}),F=Xb.exponents(n,r),D=[F.real.length],L=a.makeTensorInfo(D,"float32",F.real),z=a.makeTensorInfo(D,"float32",F.imag),Z=VR({inputs:{real:L,imag:z},backend:a}),W=QF({inputs:{a:Z,b:R},backend:a}),B=nF({inputs:{a:E,b:W},backend:a}),j=zD({inputs:{a:E,b:W},backend:a}),V=YR({inputs:{input:B},backend:a}),H=YR({inputs:{input:j},backend:a}),U=VL({inputs:{input:B},backend:a}),G=VL({inputs:{input:j},backend:a}),X=UL({inputs:[V,H],backend:a,attrs:{axis:0}}),Y=UL({inputs:[U,G],backend:a,attrs:{axis:0}}),q=a.data.get(X.dataId).values,K=a.data.get(Y.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(Y),{real:q,imag:K}}var Lz={kernelName:es,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=bl.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],o=aL({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=Rz(o,!1,n),u=aL({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}};function zz(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype||bl.inferDtype(a),o=bl.getArrayFromDType(i,bl.sizeFromShape(r));return function(e,t,n){e.fill(t)}(o,a),t.makeTensorInfo(r,i,o)}var Zz={kernelName:ts,backendName:"cpu",kernelFunc:zz};var Wz={kernelName:ns,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,i=bl.getTypedArrayFromDType(r.dtype,bl.sizeFromShape(r.shape)),s=(0,o.Z)(r.shape,4),u=s[0],l=s[1],c=s[2],d=s[3],f=a.data.get(r.dataId).values,p=0;p<u;p++)for(var h=p*c*l*d,m=0;m<l;m++)for(var g=m*(c*d),v=0;v<c;v++)for(var y=v*d,b=0;b<d;b++){var x=Math.round(c-v-1),A=h+g+y+b,w=f[A];if(x>=0&&x<c)w=f[h+g+x*d+b];i[A]=w}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Bz=jR((function(e,t){return Math.floor(e/t)})),jz=QR(as,Bz,null,"int32"),Vz={kernelName:as,backendName:"cpu",kernelFunc:jz};var Hz={kernelName:al,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=XL({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var g=m;if("NCHW"===c&&1===o.shape.length&&1!==o.shape[0]){var v=aL({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=nF({inputs:{a:m,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else m=nF({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(g)}if(p){var y=m;if("NCHW"===c&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){var b=aL({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=rL(n,m,p,b,h),n.disposeIntermediateTensorInfo(b)}else m=rL(n,m,p,s,h);n.disposeIntermediateTensorInfo(y)}return m}};var Uz={kernelName:il,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=lz({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var g=m;m=nF({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(g)}if(p){var v=m;m=rL(n,m,p,s,h),n.disposeIntermediateTensorInfo(v)}return m}};var Gz={kernelName:ss,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=bl.sizeFromShape(r.shape),s=a.shape,u=s[s.length-1],l=Xb.prepareAndValidate(r,a),c=(0,o.Z)(l,4),d=c[0],f=c[1],p=c[2],h=c[3];if(0===f)return n.makeTensorInfo(d,r.dtype,[]);var m=CF(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,f,u,p,h,r.shape,i);return n.makeTensorInfo(d,r.dtype,m.values)}};var Xz={kernelName:os,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims;FR([a,i],"gatherV2");for(var u=bl.parseAxisParam(o,a.shape)[0],l=n.data.get(i.dataId).values,c=a.shape[u],d=function(e){var t=l[e];bl.assert(t<=c-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(c-1,"]")}))},f=0;f<l.length;++f)d(f);var p=s;null==s&&(p=0);var h=bl.sizeFromShape(i.shape),m=Xb.segment_util.collectGatherOpShapeInfo(a,i,u,p),g=aL({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),v=aL({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),y=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],b=n.bufferSync(v),x=IF(n.bufferSync(g),b,y);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(m.outputShape,x.dtype,x.values)}};var Yz={kernelName:ds,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=bl.sizeFromShape(r.shape),i=r.shape[r.shape.length-1],o=aL({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=Rz(o,!0,n),u=aL({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}},qz=sF(ps,(function(e){return Number.isFinite(e)?1:0}),"bool"),Kz={kernelName:ps,backendName:"cpu",kernelFunc:qz},Jz=sF(hs,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),Qz={kernelName:hs,backendName:"cpu",kernelFunc:Jz},$z=sF(ms,(function(e){return Number.isNaN(e)?1:0}),"bool"),eZ={kernelName:ms,backendName:"cpu",kernelFunc:$z};var tZ={kernelName:bs,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=ZF(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},nZ=sF(As,(function(e){return Math.log1p(e)})),rZ={kernelName:As,backendName:"cpu",kernelFunc:nZ},aZ=jR((function(e,t){return e&&t})),iZ=QR(ws,aZ,null,"bool"),oZ={kernelName:ws,backendName:"cpu",kernelFunc:iZ},sZ=sF(ks,(function(e){return e?0:1}),"bool"),uZ={kernelName:ks,backendName:"cpu",kernelFunc:sZ},lZ=jR((function(e,t){return e||t})),cZ=QR(Ss,lZ,null,"bool"),dZ={kernelName:Ss,backendName:"cpu",kernelFunc:cZ};var fZ={kernelName:Ts,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,o=r.bias,s=r.alpha,u=r.beta;FR(a,"LRN");var l=a.shape[3],c=l-1,d=n.data.get(a.dataId).values,f=bl.sizeFromShape(a.shape),p=new Float32Array(f);function h(e){for(var t=e%l,n=e-t+Math.max(0,t-i),r=e-t+Math.min(t+i,c),a=0;n<=r;n++){var o=d[n];a+=o*o}return a}for(var m=0;m<f;m++){var g=h(m),v=d[m]*Math.pow(o+s*g,-u);p[m]=v}return n.makeTensorInfo(a.shape,a.dtype,p)}};var pZ={kernelName:Ns,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,u=r.bias,l=r.alpha,c=r.beta;FR(o,"LRNGrad");for(var d=bl.sizeFromShape(o.shape),f=o.shape[3],p=n.data.get(o.dataId).values,h=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(d),v=d,y=0;y<v;y++){for(var b=y%f,x=y-b+Math.max(0,b-s),A=y-b+Math.min(f,b+s+1),w=0,k=x;k<A;k++)w+=Math.pow(h[k],2);w=l*w+u;for(var S=x;S<A;S++){var C=-2*l*c*h[S]*m[y]/w;y===S&&(C+=Math.pow(w,-c)),C*=p[y],g[S]+=C}}return n.makeTensorInfo(o.shape,a.dtype,g)}};function hZ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,u=n,l=a.shape,c=l.length,d=bl.parseAxisParam(i,l),f=d,p=Xb.getAxesPermutation(f,c),h=u.data.get(a.dataId).values;if(null!=p){for(var m=new Array(c),g=0;g<m.length;g++)m[g]=l[p[g]];h=iD(h,l,a.dtype,p,m),f=Xb.getInnerMostAxes(f.length,c),l=m}FR(a,"max"),Xb.assertAxesAreInnerMostDims("max",f,c);var v=Xb.computeOutAndReduceShapes(l,f),y=(0,o.Z)(v,2),b=y[0],x=y[1],A=VF(h,bl.sizeFromShape(x),b,a.dtype),w=u.write(A,b,a.dtype),k=b;return s&&(k=Xb.expandShapeToKeepDim(b,d)),{dataId:w,shape:k,dtype:a.dtype}}var mZ={kernelName:Os,backendName:"cpu",kernelFunc:hZ};var gZ={kernelName:_s,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;FR(a,"maxPool");var i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;bl.assert(Xb.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(1,"'")}));var l,c=Xb.computePool2DInfo(a.shape,i,o,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&bl.arraysEqual(c.inShape,c.outShape))l=GR({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,f=bl.computeStrides(a.shape),p=NL(d,a.shape,a.dtype,f,c,"max");l=n.makeTensorInfo(c.outShape,a.dtype,p.values)}return l}};var vZ={kernelName:Rs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=r.dataFormat;FR(a,"maxPool3d");var c=Xb.computePool3DInfo(a.shape,i,o,1,s,u,l),d=PL(n.data.get(a.dataId).values,a.shape,a.dtype,bl.computeStrides(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var yZ={kernelName:Fs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;FR([a,i],"maxPool3DGrad");for(var c=Xb.computePool3DInfo(i.shape,o,s,1,u,l),d=function(e,t){for(var n=Yd(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,f=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var v=0;v<t.outDepth;++v){for(var y=v*r-f,b=y;b<0;)b+=o;for(var x=Math.min(t.inDepth,l+y),A=0;A<t.outHeight;++A){for(var w=A*a-p,k=w;k<0;)k+=s;for(var S=Math.min(t.inHeight,c+w),C=0;C<t.outWidth;++C){for(var I=C*i-h,E=I;E<0;)E+=u;for(var T=Math.min(t.inWidth,d+I),N=Number.NEGATIVE_INFINITY,O=-1,P=b;P<x;P+=o)for(var _=P-y,M=k;M<S;M+=s)for(var R=M-w,F=E;F<T;F+=u){var D=F-I,L=e.get(m,P,M,F,g);L>=N&&(N=L,O=_*c*d+R*c+D)}n.set(O,m,v,A,C,g)}}}return n}(n.bufferSync(i),c),f=c.strideDepth,p=c.strideHeight,h=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,v=c.dilationWidth,y=c.effectiveFilterDepth,b=c.effectiveFilterHeight,x=c.effectiveFilterWidth,A=y-1-c.padInfo.front,w=x-1-c.padInfo.left,k=b-1-c.padInfo.top,S=Yd(i.shape,"float32"),C=n.bufferSync(a),I=0;I<c.batchSize;++I)for(var E=0;E<c.inChannels;++E)for(var T=0;T<c.inDepth;++T)for(var N=0;N<c.inHeight;++N)for(var O=0;O<c.inWidth;++O){for(var P=T-A,_=N-k,M=O-w,R=0,F=0;F<y;F+=m){var D=(P+F)/f;if(!(D<0||D>=c.outDepth||Math.floor(D)!==D))for(var L=0;L<b;L+=g){var z=(_+L)/p;if(!(z<0||z>=c.outHeight||Math.floor(z)!==z))for(var Z=0;Z<x;Z+=v){var W=(M+Z)/h;if(!(W<0||W>=c.outWidth||Math.floor(W)!==W)){var B=y*b*x-1-d.get(I,D,z,W,E)===F*b*x+L*x+Z?1:0;0!==B&&(R+=C.get(I,D,z,W,E)*B)}}}}S.set(R,I,T,N,O,E)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var bZ={kernelName:Ms,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;FR([i,t.output],"maxPoolGrad");for(var s=r.filterSize,u=r.strides,l=r.pad,c=r.dimRoundingMode,d=Xb.computePool2DInfo(o.shape,s,u,1,l,c),f=n.data.get(o.dataId).values,p=Yd(d.outShape,o.dtype,OL(f,o.shape,o.dtype,d).values),h=d.strideHeight,m=d.strideWidth,g=d.dilationHeight,v=d.dilationWidth,y=d.effectiveFilterHeight,b=d.effectiveFilterWidth,x=b-1-d.padInfo.left,A=y-1-d.padInfo.top,w=Yd(o.shape,"float32"),k=n.data.get(a.dataId).values,S=Yd(a.shape,"float32",k),C=0;C<d.batchSize;++C)for(var I=0;I<d.inChannels;++I)for(var E=0;E<d.inHeight;++E)for(var T=0;T<d.inWidth;++T){for(var N=E-A,O=T-x,P=0,_=0;_<y;_+=g){var M=(N+_)/h;if(!(M<0||M>=d.outHeight||Math.floor(M)!==M))for(var R=0;R<b;R+=v){var F=(O+R)/m;if(!(F<0||F>=d.outWidth||Math.floor(F)!==F)){var D=y*b-1-p.get(C,M,F,I)===_*b+R?1:0;0!==D&&(P+=S.get(C,M,F,I)*D)}}}w.set(P,C,E,T,I)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var xZ={kernelName:Ds,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,u=n.pad,l=n.includeBatchInIndex,c=r;FR(a,"MaxPoolWithArgmax");var d=c.data.get(a.dataId).values,f=Xb.computePool2DInfo(a.shape,i,s,[1,1],u),p=function(e,t,n,r,a){var i=NL(e,0,n,bl.computeStrides(t),a,"max"),o=OL(e,t,n,a,!0,r);return[i.values,o.values]}(d,a.shape,a.dtype,l,f),h=(0,o.Z)(p,2),m=h[0],g=h[1],v=c.write(m,f.outShape,a.dtype),y=c.write(g,f.outShape,a.dtype);return[{dataId:v,shape:f.outShape,dtype:a.dtype},{dataId:y,shape:f.outShape,dtype:"int32"}]}};var AZ={kernelName:Ls,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=bl.parseAxisParam(i,a.shape),u=Xb.computeOutAndReduceShapes(a.shape,s)[1],l=bl.sizeFromShape(u),c=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(d);var f=KR({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});c.push(f);var p=_z({inputs:{a:f,b:d},backend:n});c.push(p);var h=vz({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:o}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),h}};var wZ={kernelName:zs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims;FR(a,"min");var u=bl.parseAxisParam(i,a.shape),l=u,c=Xb.getAxesPermutation(l,a.shape.length),d=a;null!=c&&(d=oD({inputs:{x:a},backend:n,attrs:{perm:c}}),l=Xb.getInnerMostAxes(l.length,a.shape.length)),Xb.assertAxesAreInnerMostDims("min",l,d.shape.length);for(var f=Xb.computeOutAndReduceShapes(d.shape,l),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=bl.sizeFromShape(m),v=bl.makeZerosTypedArray(bl.sizeFromShape(h),d.dtype),y=n.data.get(d.dataId).values,b=0;b<v.length;++b){for(var x=b*g,A=y[x],w=0;w<g;++w){var k=y[x+w];(Number.isNaN(k)||k<A)&&(A=k)}v[b]=A}null!=c&&n.disposeIntermediateTensorInfo(d);var S=n.makeTensorInfo(h,d.dtype,v);if(s){var C=aL({inputs:{x:S},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(h,u)}});return n.disposeIntermediateTensorInfo(S),C}return S}};var kZ={kernelName:Ws,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.mode;FR(a,"mirrorPad");for(var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),u=i.map((function(e){return e[0]})),l=i.map((function(e,t){return e[0]+a.shape[t]})),c="reflect"===o?0:1,d=n.data.get(a.dataId).values,f=a.shape.length,p=bl.computeStrides(a.shape),h=bl.sizeFromShape(s),m=s.length,g=bl.computeStrides(s),v=bl.getTypedArrayFromDType(a.dtype,h),y=0;y<h;y++){for(var b=bl.indexToLoc(y,m,g),x=0;x<m;x++)b[x]<u[x]?b[x]=2*u[x]-b[x]-c:b[x]>=l[x]&&(b[x]=2*(l[x]-1)-b[x]+c);b=b.map((function(e,t){return e-u[t]}));var A=bl.locToIndex(b,f,p);v[y]=d[A]}return{dataId:n.write(v,s,a.dtype),shape:s,dtype:a.dtype}}},SZ=jR((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),CZ=QR(Bs,SZ),IZ={kernelName:Bs,backendName:"cpu",kernelFunc:CZ},EZ=wa(Ra());function TZ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,o=a.shape.length,s=i;if(-1===s&&(s=o-1),s!==o-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank ".concat(o," and dim was ").concat(s));var u=bl.parseAxisParam([s],a.shape),l=hZ({inputs:{x:a},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),c=Xb.expandShapeToKeepDim(l.shape,u),d=aL({inputs:{x:l},backend:n,attrs:{shape:c}}),f=zD({inputs:{a:a,b:d},backend:n}),p=vF({inputs:{x:f},backend:n}),h=vz({inputs:{x:p},backend:n,attrs:{axis:u,keepDims:!1}}),m=aL({inputs:{x:h},backend:n,attrs:{shape:c}}),g=_z({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}var NZ={kernelName:Ou,backendName:"cpu",kernelFunc:TZ};var OZ={kernelName:js,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized;FR(a,"multinomial");for(var u=s?a:TZ({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=u.shape[0],c=u.shape[1],d=n.data.get(u.dataId).values,f=[l,i],p=bl.makeZerosTypedArray(bl.sizeFromShape(f),"int32"),h=0;h<l;++h){var m=h*c,g=new Float32Array(c-1);g[0]=d[m];for(var v=1;v<g.length;++v)g[v]=g[v-1]+d[m+v];for(var y=EZ.alea(o.toString()),b=h*i,x=0;x<i;++x){var A=y();p[b+x]=g.length;for(var w=0;w<g.length;w++)if(A<g[w]){p[b+x]=w;break}}}return s||n.disposeIntermediateTensorInfo(u),n.makeTensorInfo(f,"int32",p)}},PZ=Xx.nonMaxSuppressionV3Impl;var _Z={kernelName:Gs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;FR(a,"NonMaxSuppression");var l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,d=PZ(l,c,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},MZ=Xx.nonMaxSuppressionV4Impl;var RZ={kernelName:Xs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.padToMaxOutputSize;FR(a,"NonMaxSuppressionPadded");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,f=MZ(c,d,o,s,u,l),p=f.selectedIndices,h=f.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},FZ=Xx.nonMaxSuppressionV5Impl;var DZ={kernelName:Ys,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.softNmsSigma;FR(a,"NonMaxSuppressionWithScore");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,f=FZ(c,d,o,s,u,l),p=f.selectedIndices,h=f.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}};var LZ={kernelName:Ks,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,o=r.onValue,s=r.offValue;FR(a,"oneHot");var u=bl.sizeFromShape(a.shape),l=new Float32Array(u*i);l.fill(s);for(var c=n.data.get(a.dataId).values,d=0;d<u;++d)c[d]>=0&&c[d]<i&&(l[d*i+c[d]]=o);return n.makeTensorInfo([].concat((0,qr.Z)(a.shape),[i]),"int32",l)}};function zZ(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=YR({inputs:{input:r},backend:n}),i=zZ({inputs:{x:a},backend:n}),o=VL({inputs:{input:r},backend:n}),s=zZ({inputs:{x:o},backend:n}),u=VR({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return zz({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var ZZ={kernelName:$u,backendName:"cpu",kernelFunc:zZ};var WZ={kernelName:qs,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=YR({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=VL({inputs:{input:a},backend:r}),u=zZ({inputs:{x:s},backend:r}),l=VR({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return zz({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function BZ(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Nz({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){bl.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),bl.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=Nz({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),u=UL({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var jZ={kernelName:Js,backendName:"cpu",kernelFunc:BZ};var VZ={kernelName:Qs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;FR(a,"pad");var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),u=i.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,c=bl.sizeFromShape(a.shape),d=a.shape.length,f=bl.computeStrides(a.shape),p=bl.sizeFromShape(s),h=s.length,m=bl.computeStrides(s),g=bl.getTypedArrayFromDType(a.dtype,p);0!==o&&g.fill(o);for(var v=0;v<c;v++){var y=bl.indexToLoc(v,d,f).map((function(e,t){return e+u[t]}));g[bl.locToIndex(y,h,m)]=l[v]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},HZ=jR((function(e,t){return Math.pow(e,t)})),UZ=QR(eu,HZ),GZ={kernelName:eu,backendName:"cpu",kernelFunc:UZ};var XZ={kernelName:ru,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=cD(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},YZ=sF(iu,(function(e){return 1/e})),qZ={kernelName:iu,backendName:"cpu",kernelFunc:YZ};var KZ={kernelName:cu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,u=r.size;FR(a,"resizeBilinear");for(var l=bl.computeStrides(a.shape),c=(0,o.Z)(u,2),d=c[0],f=c[1],p=(0,o.Z)(a.shape,4),h=p[0],m=p[1],g=p[2],v=p[3],y=n.data.get(a.dataId).values,b=new Float32Array(bl.sizeFromShape([h,d,f,v])),x=[i&&d>1?m-1:m,i&&f>1?g-1:g],A=[i&&d>1?d-1:d,i&&f>1?f-1:f],w=0,k=x[0]/A[0],S=x[1]/A[1],C=0;C<h;C++)for(var I=0;I<d;I++){var E=void 0;E=s?k*(I+.5)-.5:k*I;for(var T=Math.max(0,Math.floor(E)),N=E-T,O=Math.min(m-1,Math.ceil(E)),P=C*l[0]+T*l[1],_=C*l[0]+O*l[1],M=0;M<f;M++){var R=void 0;R=s?S*(M+.5)-.5:S*M;for(var F=Math.max(0,Math.floor(R)),D=R-F,L=Math.min(g-1,Math.ceil(R)),z=P+F*l[2],Z=_+F*l[2],W=P+L*l[2],B=_+L*l[2],j=0;j<v;j++){var V=y[z+j],H=y[Z+j],U=V+(y[W+j]-V)*D,G=U+(H+(y[B+j]-H)*D-U)*N;b[w++]=G}}}return n.makeTensorInfo([h,d,f,v],"float32",b)}};var JZ={kernelName:du,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;FR([i,a],"resizeBilinearGrad");for(var u=bl.computeStrides(a.shape),l=(0,o.Z)(a.shape,4),c=l[0],d=l[1],f=l[2],p=l[3],h=(0,o.Z)(i.shape,3),m=h[1],g=h[2],v=new Float32Array(c*d*f*p),y=[s&&m>1?d-1:d,s&&g>1?f-1:f],b=[s&&m>1?m-1:m,s&&g>1?g-1:g],x=y[0]/b[0],A=y[1]/b[1],w=n.data.get(i.dataId).values,k=0,S=0;S<c;S++)for(var C=S*u[0],I=0;I<m;I++)for(var E=I*x,T=Math.floor(E),N=Math.min(Math.ceil(E),d-1),O=C+T*u[1],P=C+N*u[1],_=E-T,M=1-_,R=0;R<g;R++)for(var F=R*A,D=Math.floor(F),L=Math.min(Math.ceil(F),f-1),z=F-D,Z=1-z,W=O+D*u[2],B=O+L*u[2],j=P+D*u[2],V=P+L*u[2],H=M*Z,U=M*z,G=_*Z,X=_*z,Y=0;Y<p;Y++){var q=w[k++];v[W+Y]+=q*H,v[B+Y]+=q*U,v[j+Y]+=q*G,v[V+Y]+=q*X}return n.makeTensorInfo([c,f,d,p],"float32",v)}};var QZ={kernelName:uu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,u=r.size;FR(a,"resizeNearestNeighbor");for(var l=bl.computeStrides(a.shape),c=(0,o.Z)(u,2),d=c[0],f=c[1],p=(0,o.Z)(a.shape,4),h=p[0],m=p[1],g=p[2],v=p[3],y=n.data.get(a.dataId).values,b=new Float32Array(h*d*f*v),x=[i&&d>1?m-1:m,i&&f>1?g-1:g],A=[i&&d>1?d-1:d,i&&f>1?f-1:f],w=x[0]/A[0],k=x[1]/A[1],S=0,C=0;C<h;C++)for(var I=C*l[0],E=0;E<d;E++){var T=s?w*(E+.5):w*E,N=Math.min(m-1,i?Math.round(T):Math.floor(T));s&&(N=Math.max(0,N));for(var O=I+N*l[1],P=0;P<f;P++){var _=s?k*(P+.5):k*P,M=Math.min(g-1,i?Math.round(_):Math.floor(_));s&&(M=Math.max(0,M));for(var R=O+M*l[2],F=0;F<v;F++){var D=y[R+F];b[S++]=D}}}return n.makeTensorInfo([h,d,f,v],a.dtype,b)}};var $Z={kernelName:lu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,s=r.alignCorners;FR([i,a],"resizeNearestNeighborGrad");for(var u=bl.computeStrides(a.shape),l=bl.computeStrides(i.shape),c=(0,o.Z)(a.shape,4),d=c[0],f=c[1],p=c[2],h=c[3],m=(0,o.Z)(i.shape,3),g=m[1],v=m[2],y=new Float32Array(d*f*p*h),b=n.data.get(i.dataId).values,x=[s&&g>1?f-1:f,s&&v>1?p-1:p],A=[s&&g>1?g-1:g,s&&v>1?v-1:v],w=x[0]/A[0],k=x[1]/A[1],S=1/w,C=1/k,I=2*Math.ceil(S)+2,E=2*Math.ceil(C)+2,T=0;T<d;T++)for(var N=T*u[0],O=0;O<f;O++)for(var P=N+O*u[1],_=Math.floor(O*S),M=Math.floor(_-I/2),R=0;R<p;R++)for(var F=P+R*u[2],D=Math.floor(R*C),L=Math.floor(D-E/2),z=0;z<h;z++){for(var Z=0,W=0;W<I;W++){var B=W+M;if(!(B<0||B>=g)){var j=N+B*l[1],V=B*w;if(O===Math.min(f-1,s?Math.round(V):Math.floor(V)))for(var H=0;H<E;H++){var U=H+L;if(!(U<0||U>=v)){var G=j+U*l[2],X=U*k;R===Math.min(p-1,s?Math.round(X):Math.floor(X))&&(Z+=b[G+z])}}}}y[F+z]=Z}return n.makeTensorInfo(a.shape,a.dtype,y)}};var eW={kernelName:pu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims;FR(a,"reverse");var o=a.shape.length,s=bl.parseAxisParam(i,a.shape);if(0===o)return GR({inputs:{x:a},backend:n});for(var u=new Ql(a.shape,a.dtype),l=n.bufferSync(a),c=function(e){var t=u.indexToLoc(e),n=t.slice();s.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),u.set.apply(u,[l.get.apply(l,(0,qr.Z)(n))].concat((0,qr.Z)(t)))},d=0;d<u.size;d++)c(d);return n.makeTensorInfo(u.shape,u.dtype,u.values)}},tW={kernelName:nl,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,u=n.center,l=r,c=bl.getTypedArrayFromDType(a.dtype,bl.sizeFromShape(a.shape)),d=(0,o.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],g=Xb.getImageCenter(u,p,h),v=(0,o.Z)(g,2),y=v[0],b=v[1],x=Math.sin(i),A=Math.cos(i),w=l.data.get(a.dataId).values,k=0;k<f;k++)for(var S=k*h*p*m,C=0;C<p;C++)for(var I=C*(h*m),E=0;E<h;E++)for(var T=E*m,N=0;N<m;N++){var O=[f,C,E,N],P=O[2],_=O[1],M=(P-y)*A-(_-b)*x,R=(P-y)*x+(_-b)*A;M=Math.round(M+y),R=Math.round(R+b);var F=s;if("number"!=typeof s&&(F=3===N?255:s[N]),M>=0&&M<h&&R>=0&&R<p)F=w[S+R*(h*m)+M*m+N];c[S+I+T+N]=F}return{dataId:l.write(c,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},nW=sF(hu,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),rW={kernelName:hu,backendName:"cpu",kernelFunc:nW};var aW={kernelName:gu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=Xb.calculateShapes(i,a,o),u=s.sliceRank,l=s.numUpdates,c=s.sliceSize,d=s.strides,f=s.outputSize,p=hD(n.bufferSync(a),n.bufferSync(i),o,f,c,l,u,d,0,!0);return n.makeTensorInfo(o,p.dtype,p.values)}};function iW(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<t?n=a+1:r=a;return r}function oW(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<=t?n=a+1:r=a;return r}var sW={kernelName:vu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,i=t.values,o=r.side,s=function(e,t,n,r,a,i){for(var o=bl.getArrayFromDType("int32",n*a),s=0;s<n;++s)for(var u=e.slice(s*r,(s+1)*r),l=s*a,c=0;c<a;++c)o[l+c]="left"===i?iW(u,t[c+l]):oW(u,t[c+l]);return o}(n.data.get(a.dataId).values,n.data.get(i.dataId).values,a.shape[0],a.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",s)}};var uW={kernelName:yu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e;FR([r,a,i],"select");for(var o=r.shape.length,s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=cc(a.dtype,i.dtype),d=bl.makeZerosTypedArray(bl.sizeFromShape(a.shape),c),f=0,p=0===o||o>1||1===a.shape.length?1:bl.sizeFromShape(a.shape.slice(1)),h=0;h<s.length;h++)for(var m=0;m<p;m++)1===s[h]?d[f++]=u[h]:d[f++]=l[h];return n.makeTensorInfo(a.shape,c,d)}},lW=Xb.SELU_SCALEALPHA,cW=Xb.SELU_SCALE,dW=sF(bu,(function(e){return e>=0?cW*e:lW*(Math.exp(e)-1)})),fW={kernelName:bu,backendName:"cpu",kernelFunc:dW},pW=sF(ku,(function(e){return e<0?-1:e>0?1:0})),hW={kernelName:ku,backendName:"cpu",kernelFunc:pW},mW=sF(Au,(function(e){return Math.sin(e)})),gW={kernelName:Au,backendName:"cpu",kernelFunc:mW},vW=sF(wu,(function(e){return Math.sinh(e)})),yW={kernelName:wu,backendName:"cpu",kernelFunc:vW},bW=Math.log(1.1920928955078125e-7)+2,xW=sF(Cu,(function(e){var t=e>-bW,n=e<bW,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),AW={kernelName:Cu,backendName:"cpu",kernelFunc:xW};var wW={kernelName:Tu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;FR([a],"spaceToBatchND");var s=bl.sizeFromShape(i),u=[[0,0]];u.push.apply(u,(0,qr.Z)(o));for(var l=1+i.length;l<a.shape.length;++l)u.push([0,0]);var c=VZ.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),d=Xb.getReshaped(c.shape,i,s,!1),f=Xb.getPermuted(d.length,i.length,!1),p=Xb.getReshapedPermuted(c.shape,i,s,!1),h=aL({inputs:{x:c},backend:n,attrs:{shape:d}}),m=oD({inputs:{x:h},backend:n,attrs:{perm:f}}),g=aL({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};var kW={kernelName:Pu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,s=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,d=n.data.get(s.dataId).values[0],f=AD(u,r.shape,r.dtype,l,a.dtype,c,d),p=(0,o.Z)(f,5),h=p[0],m=p[1],g=p[2],v=p[3],y=p[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],a.dtype,g),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var SW={kernelName:_u,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var s=Array.from(n.data.get(a.dataId).values),u=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),c=wD(u,r.shape,r.dtype,s,l),d=(0,o.Z)(c,3),f=d[0],p=d[1],h=d[2];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};var CW={kernelName:Mu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=kD(s,r.shape,r.dtype,u,l,!0),d=(0,o.Z)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var IW={kernelName:Ru,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=kD(s,r.shape,r.dtype,u,l),d=(0,o.Z)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var EW={kernelName:Fu,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.sparseIndices,o=n.sparseValues,s=n.defaultValue,u=a.outputShape,l=Xb.calculateShapes(o,i,u),c=l.sliceRank,d=l.numUpdates,f=l.sliceSize,p=l.strides,h=l.outputSize,m=!1,g=r.bufferSync(i);switch(o.dtype){case"bool":t=hD(g,r.bufferSync(o),u,h,f,d,c,p,Boolean(r.data.get(s.dataId).values[0]),m);break;case"float32":t=hD(g,r.bufferSync(o),u,h,f,d,c,p,r.data.get(s.dataId).values[0],m);break;case"int32":t=hD(g,r.bufferSync(o),u,h,f,d,c,p,r.data.get(s.dataId).values[0],m);break;case"string":t=hD(g,r.bufferSync(o),u,h,f,d,c,p,bl.decodeString(r.data.get(s.dataId).values[0]),m);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return r.makeTensorInfo(u,t.dtype,t.values)}};var TW={kernelName:Nu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=r.axis,s=bl.parseAxisParam(o,a.shape)[0],u=Xb.prepareSplitSize(a,i,s),l=new Array(a.shape.length).fill(0),c=a.shape.slice();return u.map((function(e){var t=(0,qr.Z)(c);t[s]=e;var r=bD({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[s]+=e,r}))}},NW={kernelName:Lu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;FR(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},OW=sF(el,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),PW={kernelName:el,backendName:"cpu",kernelFunc:OW};var _W={kernelName:zu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,o=r.end,s=r.strides,u=r.beginMask,l=r.endMask,c=r.ellipsisMask,d=r.newAxisMask,f=r.shrinkAxisMask;FR(a,"stridedSlice");var p,h=bp.sliceInfo(a.shape,i,o,s,u,l,c,d,f),m=h.finalShapeSparse,g=h.finalShape,v=h.isIdentity,y=h.sliceDim0,b=h.isSimpleSlice,x=h.begin,A=h.end,w=h.strides;if(v)p=aL({inputs:{x:a},backend:n,attrs:{shape:g}});else if(y||b){bl.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var k=bp.computeOutShape(x,A,w),S=bD({inputs:{x:a},backend:n,attrs:{begin:x,size:k}});p=aL({inputs:{x:S},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(S)}else{var C=OD(m,n.bufferSync(a),w,x);p=n.makeTensorInfo(g,C.dtype,C.values)}return p}};var MW={kernelName:Zu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,s=r.leftPad,u=r.rightPad,l=r.padWidth,c=r.preserveShortSequences,d=t.data,f=t.dataSplits,p=_D(n.data.get(d.dataId).values,n.data.get(f.dataId).values,a,i,s,u,l,c),h=(0,o.Z)(p,2),m=h[0],g=h[1];return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(f.shape,"int32",g)]}};var RW={kernelName:Wu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var s=RD(n.data.get(a.dataId).values,n.data.get(i.dataId).values[0],r),u=(0,o.Z)(s,3),l=u[0],c=u[1],d=u[2],f=c.length;return[n.makeTensorInfo([f,2],"int32",l),n.makeTensorInfo([f],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};var FW={kernelName:Bu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=FD(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},DW=sF(Vu,(function(e){return Math.tan(e)})),LW={kernelName:Vu,backendName:"cpu",kernelFunc:DW},zW=sF(Hu,(function(e){return Math.tanh(e)}));var ZW={kernelName:Uu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;FR(a,"tile");var o=WD(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};var WW={kernelName:Gu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,s=r.sorted;FR(a,"topk");var u=VD(n.data.get(a.dataId).values,a.shape,a.dtype,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1];return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var BW={kernelName:Xu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=t.transforms,s=n.interpolation,u=n.fillMode,l=n.fillValue,c=n.outputShape,d=(0,o.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],g=null!=c?c:[p,h],v=(0,o.Z)(g,2),y=v[0],b=v[1],x=[f,y,b,m],A=bl.computeStrides(a.shape),w=A[0],k=A[1],S=A[2],C=bl.getTypedArrayFromDType(a.dtype,bl.sizeFromShape(x));C.fill(l);for(var I=r.data.get(a.dataId).values,E=r.data.get(i.dataId).values,T=0;T<f;++T){for(var N=1===i.shape[0]?E:E.subarray(8*T,8*T+8),O=0;O<y;++O)for(var P=0;P<b;++P)for(var _=0;_<m;++_){var M=void 0,R=N[6]*P+N[7]*O+1;if(0!==R){var F=(N[0]*P+N[1]*O+N[2])/R,D=(N[3]*P+N[4]*O+N[5])/R,L=jW(F,h,u),z=jW(D,p,u);switch(s){case"nearest":M=HW(I,p,h,w,k,S,T,z,L,_,l);break;case"bilinear":M=UW(I,p,h,w,k,S,T,z,L,_,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or 'bilinear', but got ".concat(s))}C[T*w+O*k+P*S+_]=M}}return r.makeTensorInfo(x,a.dtype,C)}return{dataId:r.write(C,x,a.dtype),shape:a.shape,dtype:a.dtype}}};function jW(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return bl.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return bl.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return bl.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function VW(e,t,n,r,a,i,o,s,u,l,c){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*a+u*i+l]:c}function HW(e,t,n,r,a,i,o,s,u,l,c){return VW(e,t,n,r,a,i,o,Math.round(s),Math.round(u),l,c)}function UW(e,t,n,r,a,i,o,s,u,l,c){var d=Math.floor(s),f=Math.floor(u),p=d+1,h=f+1;return(p-s)*((h-u)*VW(e,t,n,r,a,i,o,d,f,l,c)+(u-f)*VW(e,t,n,r,a,i,o,d,h,l,c))+(s-d)*((h-u)*VW(e,t,n,r,a,i,o,p,f,l,c)+(u-f)*VW(e,t,n,r,a,i,o,p,h,l,c))}var GW={kernelName:qu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;FR(i,"unique");var o=HD(r.data.get(i.dataId).values,a,i.shape,i.dtype),s=o.outputValues,u=o.outputShape,l=o.indices;return[r.makeTensorInfo(u,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}};var XW={kernelName:Ku,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,s=a.shape[i],u=new Array(o-1),l=0,c=0;c<o;c++)c!==i&&(u[l++]=a.shape[c]);var d=new Array(o).fill(0),f=a.shape.slice();f[i]=1;for(var p=new Array(s),h=0;h<p.length;h++){d[i]=h;var m=bD({inputs:{x:a},backend:n,attrs:{begin:d,size:f}});p[h]=aL({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return p}};for(var YW={kernelName:Ju,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,o=r.numSegments;FR(a,"unsortedSegmentSum");for(var s=[],u=[],l=a.shape.length-i.shape.length,c=i,d=0;d<l;++d){var f=Nz({inputs:{input:c},backend:n,attrs:{dim:d+1}});c=f,u.push(f)}for(var p=0;p<o;++p){var h=bl.createScalarValue(p,"int32"),m=n.makeTensorInfo([],"int32",h),g=hF({inputs:{a:m,b:c},backend:n}),v=KR({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),y=QF({inputs:{a:v,b:a},backend:n}),b=vz({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});s.push(b),u.push(m),u.push(g),u.push(v),u.push(y),u.push(b)}var x=BZ({inputs:s,backend:n,attrs:{axis:0}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}},qW=0,KW=[uL,BR,cL,fL,rF,pL,hL,mL,gL,vL,bL,AL,kL,IL,TL,_L,ML,RL,FL,sL,DL,LL,zL,ZL,JR,dF,BL,HR,jL,GL,YL,qL,KL,JL,QL,$L,tz,rz,az,iz,oz,sz,uz,cz,dz,fz,pz,hz,mz,gz,bz,XD,xz,mF,Tz,yF,Oz,AF,Lz,Zz,Wz,SF,Vz,Hz,Uz,Gz,Xz,NF,_F,XR,Yz,HL,Kz,Qz,eZ,qD,FF,zF,tZ,jF,rZ,oZ,uZ,dZ,fZ,pZ,mZ,GF,gZ,vZ,yZ,bZ,xZ,AZ,wZ,qF,kZ,IZ,OZ,$F,tD,_Z,RZ,DZ,aD,LZ,WZ,jZ,VZ,GZ,QD,lD,XZ,qR,Mz,qZ,eL,nL,iL,KZ,JZ,QZ,$Z,eW,tW,rW,pD,aW,sW,uW,fW,vD,hW,gW,yW,xD,NZ,AW,wW,kW,SW,CW,IW,EW,TW,ID,NW,ND,PW,_W,MW,RW,FW,ZD,yz,LW,{kernelName:Hu,backendName:"cpu",kernelFunc:zW},ZW,WW,BW,sD,GW,XW,YW,ZZ];qW<KW.length;qW++){pl(KW[qW])}var JW={};Aa(JW,{assertNotComplex:function(){return tj},bindCanvasToFramebuffer:function(){return PB},bindColorTextureToFramebuffer:function(){return _B},bindTextureToProgramUniformSampler:function(){return OB},bindTextureUnit:function(){return IB},bindVertexBufferToProgramAttribute:function(){return CB},callAndCheck:function(){return oB},canBeRepresented:function(){return sB},createFragmentShader:function(){return dB},createFramebuffer:function(){return SB},createProgram:function(){return gB},createStaticIndexBuffer:function(){return xB},createStaticVertexBuffer:function(){return bB},createTexture:function(){return wB},createVertexShader:function(){return cB},getBatchDim:function(){return zB},getExtensionOrThrow:function(){return lB},getFramebufferErrorMessage:function(){return FB},getMaxTexturesInShader:function(){return XB},getNumChannels:function(){return AB},getProgramUniformLocation:function(){return NB},getProgramUniformLocationOrThrow:function(){return TB},getRowsCols:function(){return ZB},getShapeAs3D:function(){return WB},getTextureShapeFromLogicalShape:function(){return BB},getWebGLDisjointQueryTimerVersion:function(){return YB},getWebGLErrorMessage:function(){return uB},getWebGLMaxTextureSize:function(){return HB},hasExtension:function(){return qB},isCapableOfRenderingToFloatTexture:function(){return JB},isDownloadFloatTextureEnabled:function(){return QB},isReshapeFree:function(){return VB},isWebGLFenceEnabled:function(){return ej},isWebGLVersionEnabled:function(){return KB},linkProgram:function(){return vB},logShaderSourceAndInfoLog:function(){return mB},resetMaxTextureSize:function(){return UB},resetMaxTexturesInShader:function(){return GB},unbindColorTextureFromFramebuffer:function(){return MB},unbindTextureUnit:function(){return EB},validateFramebuffer:function(){return RB},validateProgram:function(){return yB},validateTextureSize:function(){return kB}});var QW={},$W={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function eB(e,t){QW[e]=t}function tB(e,t){if(!(e in QW)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;return n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete QW[e]}),!1),1===e?n.getContext("webgl",$W)||n.getContext("experimental-webgl",$W):n.getContext("webgl2",$W)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;QW[e]=n}var r=QW[e];return null==r||r.isContextLost()?(delete QW[e],tB(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),QW[e])}function nB(e,t){return[t,e]}function rB(e){var t=bl.sizeFromShape(e),n=Math.ceil(t/4);return bl.sizeToSquarishShape(n)}function aB(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function iB(e,t){var n,r,a,i,o,s,u,l,c,d,f=e;return 2===Hi().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,a=f.RGBA16F,i=f.RGBA32F,o=f.RED,u=4,l=1,c=f.HALF_FLOAT,d=f.FLOAT,s=f.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=f.RGBA,o=e.RGBA,u=4,l=4,c=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:u,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:d}}function oB(e,t){var n=t();return Hi().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+uB(e,t))}(e),n}function sB(e){return!!(Hi().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function uB(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function lB(e,t){return DB(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function cB(e,t){var n=DB(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(oB(e,(function(){return e.shaderSource(n,t)})),oB(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function dB(e,t){var n=DB(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(oB(e,(function(){return e.shaderSource(n,t)})),oB(e,(function(){return e.compileShader(n)})),Hi().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw mB(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var fB,pB,hB=/ERROR: [0-9]+:([0-9]+):/g;function mB(e,t){var n=hB.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,o=a.map((function(e,t){return bl.rightPad((t+1).toString(),i)+e})),s=0,u=0;u<o.length;u++)s=Math.max(o[u].length,s);var l=o.slice(0,r-1),c=o.slice(r-1,r),d=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(bl.rightPad(c[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function gB(e){return DB(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function vB(e,t){if(oB(e,(function(){return e.linkProgram(t)})),!Hi().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function yB(e,t){if(oB(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function bB(e,t){var n=DB(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return oB(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),oB(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function xB(e,t){var n=DB(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return oB(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),oB(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function AB(){return 2===Hi().getNumber("WEBGL_VERSION")?1:4}function wB(e){return DB(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function kB(e,t){var n=Hi().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+i+".")}}function SB(e){return DB(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function CB(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(oB(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),oB(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)})),oB(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function IB(e,t,n){LB(e,n),oB(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function EB(e,t){LB(e,t),oB(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function TB(e,t,n){return DB(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function NB(e,t,n){return e.getUniformLocation(t,n)}function OB(e,t,n,r){oB(e,(function(){return IB(e,t,r)})),oB(e,(function(){return e.uniform1i(n,r)}))}function PB(e){oB(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),oB(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),oB(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function _B(e,t,n){oB(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),oB(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function MB(e,t){oB(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),oB(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function RB(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+FB(e,t))}function FB(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function DB(e,t,n){var r=oB(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function LB(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function zB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return bl.sizeFromShape(e.slice(0,e.length-t))}function ZB(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function WB(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[zB(e)].concat((0,qr.Z)(ZB(e)))),t}function BB(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Hi().getNumber("WEBGL_MAX_TEXTURE_SIZE");t&&(n*=2,e=e.map((function(t,n){return n>=e.length-2?bl.nearestLargerEven(e[n]):e[n]})),1===e.length&&(e=[2,e[0]])),2!==e.length&&(e=bl.squeezeShape(e).newShape);var r=bl.sizeFromShape(e);if(e.length<=1&&r<=n)return[1,r];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var a,i,s=zB(e),u=2,l=2;return e.length&&(a=ZB(e),u=(i=(0,o.Z)(a,2))[0],l=i[1]),r=s*(u/2)*(l/2),bl.sizeToSquarishShape(r).map((function(e){return 2*e}))}return bl.sizeToSquarishShape(r)}function jB(e){return e%2===0}function VB(e,t){if(e=e.slice(-2),t=t.slice(-2),bl.arraysEqual(e,t)||!e.length||!t.length||0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||jB(n)&&jB(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&jB(e[0])&&jB(t[0])}function HB(e){if(null==fB){var t=tB(e);fB=t.getParameter(t.MAX_TEXTURE_SIZE)}return fB}function UB(){fB=null}function GB(){pB=null}function XB(e){if(null==pB){var t=tB(e);pB=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,pB)}function YB(e){if(0===e)return 0;var t=tB(e);return qB(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:qB(t,"EXT_disjoint_timer_query")?1:0}function qB(e,t){return null!=e.getExtension(t)}function KB(e){try{if(null!=tB(e))return!0}catch(Ge){return console.log("Error when getting WebGL context: ",Ge),!1}return!1}function JB(e){if(0===e)return!1;var t=tB(e);if(1===e){if(!qB(t,"OES_texture_float"))return!1}else if(!qB(t,"EXT_color_buffer_float"))return!1;return $B(t)}function QB(e){if(0===e)return!1;var t=tB(e);if(1!==e){if(qB(t,"EXT_color_buffer_float"))return $B(t);var n="EXT_color_buffer_half_float";if(qB(t,n)){var r=t.getExtension(n);return function(e,t){var n=iB(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!(!qB(t,"OES_texture_float")||!qB(t,"WEBGL_color_buffer_float"))&&$B(t)}function $B(e){var t=iB(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function ej(e){return 2===e&&null!=tB(e).fenceSync}function tj(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&bl.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the WebGL backend.")}))}))}var nj=Hi();function rj(){var e,t,n,r,a,i,o,s,u,l;return 2===Hi().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function aj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=bl.computeStrides(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(i,"; ").concat(o,";")})).join("")}function ij(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=bl.computeStrides(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(i,"; ").concat(o,";")})).join("")}function oj(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}function sj(e){var t=bl.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}nj.registerFlag("HAS_WEBGL",(function(){return nj.getNumber("WEBGL_VERSION")>0})),nj.registerFlag("WEBGL_VERSION",(function(){return KB(2)?2:KB(1)?1:0})),nj.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),nj.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===nj.get("WEBGL_VERSION")})),nj.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),nj.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),nj.registerFlag("WEBGL_PACK",(function(){return nj.getBool("HAS_WEBGL")})),nj.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_CLIP",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_PACK_REDUCE",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_CONV_IM2COL",(function(){return nj.getBool("WEBGL_PACK")})),nj.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return HB(nj.getNumber("WEBGL_VERSION"))})),nj.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return XB(nj.getNumber("WEBGL_VERSION"))})),nj.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=nj.getNumber("WEBGL_VERSION");return 0===e?0:YB(e)})),nj.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return nj.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Ic.isMobile()})),nj.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return JB(nj.getNumber("WEBGL_VERSION"))})),nj.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!nj.getBool("WEBGL_FORCE_F16_TEXTURES")&&nj.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),nj.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return QB(nj.getNumber("WEBGL_VERSION"))})),nj.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return ej(nj.getNumber("WEBGL_VERSION"))})),nj.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return nj.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),nj.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ".concat(e,"."))})),nj.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return Ic.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ".concat(e,"."))})),nj.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),nj.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),nj.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),nj.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var uj="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",lj=Xb.getBroadcastDims;function cj(e,t,n){var r=[];if(e.forEach((function(e){var t=bl.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Nj(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,i,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?fj(e,r):dj(e,r);var i=e.shapeInfo.logicalShape,o=t.logicalShape;return i.length<=o.length&&(a+=n?Ij(e,t):Ej(e,t)),a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),u=t.texShape,l=rj(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),d=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(pj,"\n    ").concat(hj,"\n    ").concat(mj,"\n  ")}(l);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===r[0]?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    "):1===r[1]?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(bl.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);return n?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,s="",u="b, r, c",l=2;l<e.length-1;l++)o*=e[e.length-l-1],s="\n      int b".concat(l," = index / ").concat(o,";\n      index -= b").concat(l," * ").concat(o,";\n    ")+s,u="b".concat(l,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,u,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){return 1===t[0]?n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    "):1===t[1]?n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    "):n?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){return bl.arraysEqual(e,t)?n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    "):1===e[1]?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    "):1===e[0]?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    "):n?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(ij(["r","c","d"],e),"\n    return ivec3(r, c, d);\n  }\n");var r=aj(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(ij(["r","c","d","d2"],e),"\n      return ivec4(r, c, d, d2);\n    }\n  ");var r=aj(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=aj(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=aj(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,u,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(d+=gj),[d,c,i,o,a,s,n.userCode].join("\n")}function dj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return yj(e,t);case 1:return bj(e,t);case 2:return xj(e,t);case 3:return Aj(e,t);case 4:return wj(e,t);case 5:return kj(e);case 6:return Sj(e);default:throw new Error("".concat(n.length,"-D input sampling is not yet supported"))}}function fj(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=rj();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=rj();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=i[0],s=i[1],u=rj();if(null!=i&&bl.arraysEqual(n,i))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(c,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=[1,2],u=Oj(e,n.slice(1)),l=["b","row","col"];return"\n        ".concat(fj(u,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(Pj(l,s),");\n        }\n      ")}var c=rj();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=o[0],f=o[1],p=Math.ceil(n[2]/2),h=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(f,", ").concat(h,", ").concat(p,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=rj();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=u[0],c=u[1],d=Math.ceil(i[o-1]/2),f=d*Math.ceil(i[o-2]/2),p="int b, int row, int col",h="b * ".concat(f," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)p="int b".concat(m,", ")+p,f*=i[o-m-1],h="b".concat(m," * ").concat(f," + ")+h;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(c,";\n      int texC = index - texR * ").concat(c,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(c,", ").concat(l,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var pj="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hj="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",mj="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",gj="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function vj(e){return"offset".concat(e)}function yj(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=(0,o.Z)(e.shapeInfo.texShape,2),i=a[0],s=a[1];if(1===i&&1===s)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=vj(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var l=(0,o.Z)(e.shapeInfo.texShape,2),c=l[0],d=l[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(c,", ").concat(d,", ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function bj(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(Cj(e),"\n      }\n    ");var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=vj(n);return 1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===i?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function xj(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&bl.arraysEqual(n,i)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=i[0],s=i[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var u=bl.squeezeShape(n),l=u.newShape,c=u.keptDims,d=l;if(d.length<n.length){o=Oj(e,d),s=["row","col"];return"\n      ".concat(dj(o,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(Pj(s,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Cj(e),"\n      }\n    ");var f=i[0],p=i[1],h=vj(r);return 1===p?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(h,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(h,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===f?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(h,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(h,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(p,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(h,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(h,";\n    vec2 uv = uvFromFlat(").concat(f,", ").concat(p,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function Aj(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],s=bl.squeezeShape(n),u=s.newShape,l=s.keptDims,c=u;if(c.length<n.length){var d=Oj(e,c);return"\n        ".concat(dj(d,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(Pj(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(i,", ").concat(o,", 1)));\n        ").concat(Cj(e),"\n      }\n    ");var f=e.shapeInfo.texShape,p=f[0],h=f[1],m=e.shapeInfo.flatOffset;if(h===i&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(p,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(h===o&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=vj(r);return t?"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(i," + col * ").concat(o," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i," + col * ").concat(o," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(h,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function wj(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,s=n[1]*o,u=bl.squeezeShape(n),l=u.newShape,c=u.keptDims;if(l.length<n.length){var d=Oj(e,l);return"\n      ".concat(dj(d,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(Pj(["row","col","depth","depth2"],c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(i,", 1)));\n        ").concat(Cj(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],m=p[1],g="int stride2 = ".concat(r,"Shape[3];"),v="int stride1 = ".concat(r,"Shape[2] * stride2;"),y="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===s&&null==f)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(v,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===i&&null==f)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var b=vj(r);return t?"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(v,"\n      ").concat(y,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(i," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function kj(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,o=t[2]*i,s=t[1]*o,u=bl.squeezeShape(t),l=u.newShape,c=u.keptDims;if(l.length<t.length){var d=Oj(e,l);return"\n      ".concat(dj(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Pj(["row","col","depth","depth2","depth3"],c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(i,", ").concat(a,")) +\n          depth3;\n        ").concat(Cj(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],m=p[1];if(m===s&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=vj(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(i," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Sj(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=bl.squeezeShape(t),i=a.newShape,o=a.keptDims;if(i.length<t.length){var s=Oj(e,i);return"\n      ".concat(dj(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Pj(["row","col","depth","depth2","depth3","depth4"],o),");\n      }\n    ")}var u=t[5],l=t[4]*u,c=t[3]*l,d=t[2]*c,f=t[1]*d;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(f,", ").concat(d,", ").concat(c,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(u,", 1)));\n        ").concat(Cj(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],g=h[1];if(g===f&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(d,", ").concat(c,", ").concat(l,", ").concat(u,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===u&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var v=vj(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(f," + col * ").concat(d," + depth * ").concat(c," +\n          depth2 * ").concat(l," + depth3 * ").concat(u," + depth4 + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Cj(e){var t=e.name,n=bl.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Ij(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=lj(e.shapeInfo.logicalShape,t.logicalShape),l=Tj(s),c=s-o,d=["x","y","z","w","u","v"];n=0===o?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords.".concat(d[e+c]," = 0;")})).join("\n");var f="";f=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+c])})).join(", ");var p="return outputValue;",h=1===bl.sizeFromShape(e.shapeInfo.logicalShape),m=1===bl.sizeFromShape(t.logicalShape);if(1!==o||h||m){if(h&&!m)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=o-2,v=o-1;u.indexOf(g)>-1&&u.indexOf(v)>-1?p="return vec4(outputValue.x);":u.indexOf(g)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(v)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(f,");\n      ").concat(p,"\n    }\n  ")}function Ej(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&bl.arraysEqual(o,i))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,c=Tj(u),d=lj(e.shapeInfo.logicalShape,t.logicalShape),f=u-s,p=["x","y","z","w","u","v"];l=0===s?"":u<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(p[e+f]," = 0;")})).join("\n");var h="";return h=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+f])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(h,");\n    }\n  ")}function Tj(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Nj(e,t,n){var r=bl.squeezeShape(t),a=r.newShape,i=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],u=s?t.slice(1):a,l=!e&&o>1&&!bl.arraysEqual(t,n)&&a.length<o||s;return{useSqueezeShape:l,uniformShape:l?u:t,keptDims:i}}function Oj(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Pj(e,t){return t.map((function(t){return e[t]})).join(", ")}function _j(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=a.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=cj(a,o,t),l=dB(e.gl,u),c=e.createProgram(l);return Hi().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:u,webGLProgram:c,inShapeInfos:i,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(0,s.Z)({program:t,fragmentShader:l,source:u,webGLProgram:c,inShapeInfos:i,outShapeInfo:o},Mj(e,t,c))}function Mj(e,t,n){var r,a,i,o,s={},u={},l={},c=[],d=null;o=e.getUniformLocation(n,"NAN",!1),1===Hi().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(n,"INFINITY",!1));for(var f=!1,p=0;p<t.variableNames.length;p++){var h=t.variableNames[p];s[h]=e.getUniformLocation(n,h,f),s["offset".concat(h)]=e.getUniformLocation(n,"offset".concat(h),f),t.enableShapeUniforms&&(u["".concat(h,"Shape")]=e.getUniformLocation(n,"".concat(h,"Shape"),f),l["".concat(h,"TexShape")]=e.getUniformLocation(n,"".concat(h,"TexShape"),f))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",f),i=e.getUniformLocation(n,"outShapeStrides",f),a=e.getUniformLocation(n,"outTexShape",f)),t.customUniforms&&t.customUniforms.forEach((function(t,r){c[r]=e.getUniformLocation(n,t.name,f)})),{uniformLocations:s,customUniformLocations:c,infLoc:d,nanLoc:o,inShapesLocations:u,inTexShapesLocations:l,outShapeLocation:r,outShapeStridesLocation:i,outTexShapeLocation:a}}function Rj(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but was executed with ").concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],i=a.shape;if(!bl.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes ".concat(r," and ").concat(i," must match"));if(!e.isUniform||!a.isUniform){var o=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!bl.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function Fj(e,t,n,r,a){t.program.enableShapeUniforms||(Rj(t.inShapeInfos,n),Rj([t.outShapeInfo],[r]));var i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):e.setOutputMatrixTexture(i.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===Hi().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],i=t.uniformLocations[a],o=t.uniformLocations["offset".concat(a)],s=t.inShapesLocations["".concat(a,"Shape")],u=t.inTexShapesLocations["".concat(a,"TexShape")];if(s){var l=Nj(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(s,new Int32Array(l));break;case 2:e.gl.uniform2iv(s,new Int32Array(l));break;case 3:e.gl.uniform3iv(s,new Int32Array(l));break;case 4:e.gl.uniform4iv(s,new Int32Array(l))}}if(u&&e.gl.uniform2i(u,n.texData.texShape[0],n.texData.texShape[1]),null!=i){if(n.isUniform){if(bl.sizeFromShape(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var c=n.uniformValues;c instanceof Float32Array||(c=new Float32Array(c)),e.gl.uniform1fv(i,c)}return}null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,i,r)}}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var u=bl.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(u));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(u));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(u))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var i=t.customUniformLocations[r],o=a[r];if("float"===n.type)e.gl.uniform1fv(i,o);else if("vec2"===n.type)e.gl.uniform2fv(i,o);else if("vec3"===n.type)e.gl.uniform3fv(i,o);else if("vec4"===n.type)e.gl.uniform4fv(i,o);else if("int"===n.type)e.gl.uniform1iv(i,o);else if("ivec2"===n.type)e.gl.uniform2iv(i,o);else if("ivec3"===n.type)e.gl.uniform3iv(i,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(i,o)}})),e.executeProgram()}function Dj(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,o=Nj(e.packedInputs,t.shape,i),s=o.useSqueezeShape,u=o.uniformShape,l=o.keptDims,c="",d="",f="";if(1===u.length&&e.packedInputs){var p=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];c="".concat(p[0]>1,"_").concat(p[1]>1)}else if(2!==u.length||e.packedInputs){if(u.length>2&&!e.packedInputs){var h=bl.computeStrides(u);f="".concat(h[0]===i[1],"_").concat(h[h.length-1]===i[1])}}else d="".concat(u[0]>1,"_").concat(u[1]>1);var m=t.shape.length,g=2===u.length&&bl.arraysEqual(t.shape,i),v=1===bl.sizeFromShape(t.shape),y=Xb.getBroadcastDims(t.shape,n.shape),b=!e.packedInputs&&m===n.shape.length&&bl.arraysEqual(i,n.texData.texShape),x=e.packedInputs||u.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);r+="".concat(m,"_").concat(b,"_").concat(s?l:"","_").concat(u.length,"_").concat(v,"_").concat(y,"_").concat(g,"_").concat(c,"_").concat(d,"_").concat(f,"_").concat(x,"_").concat(a)}else{var A=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(A,"_").concat(a)}}));var a=e.userCode,i=e.constructor.name;return i+="_"+r+"_"+a+"".concat(Hi().getNumber("WEBGL_VERSION"))}function Lj(e){return Hi().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var zj=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=rj();this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?ij(["r","c","d"],t):aj(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Zj=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=rj();this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?ij(["r","c","d"],t):aj(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Wj=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.outTexUsage=3;var n=rj();this.outputShape=t,this.userCode="\n      ".concat(uj,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),Bj=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=3;var n=rj();this.outputShape=t,this.userCode="\n      ".concat(uj,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),jj=(0,Gr.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,Ur.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=rj();this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sj(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),Vj=(0,Gr.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=rj();this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sj(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(i,";\n        }\n    ")})),Hj={};function Uj(e){var t=rj();return cB(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function Gj(e){return bB(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Xj(e){return xB(e,new Uint16Array([0,1,2,2,1,3]))}function Yj(e,t,n,r,a,i){kB(t,n);var o=wB(e),s=e.TEXTURE_2D;return oB(e,(function(){return e.bindTexture(s,o)})),oB(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),oB(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),oB(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),oB(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===Hi().getNumber("WEBGL_VERSION")?oB(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,i,null)})):oB(e,(function(){return e.texStorage2D(s,1,r,t,n)})),oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function qj(e){return e.internalFormatFloat}function Kj(e,t,n,r){var a=nB(t,n),i=(0,o.Z)(a,2);return Yj(e,i[0],i[1],qj(r),r.textureFormatFloat,e.FLOAT)}function Jj(e){return e.internalFormatHalfFloat}function Qj(e,t,n,r){var a=nB(t,n),i=(0,o.Z)(a,2);return Yj(e,i[0],i[1],Jj(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function $j(e){return e.downloadTextureFormat}function eV(e,t,n,r){var a=nB(t,n),i=(0,o.Z)(a,2);return Yj(e,i[0],i[1],$j(r),e.RGBA,e.UNSIGNED_BYTE)}function tV(e){return e.internalFormatPackedFloat}function nV(e,t,n,r){var a=aB(t,n),i=(0,o.Z)(a,2);return Yj(e,i[0],i[1],tV(r),e.RGBA,e.FLOAT)}function rV(e){return e.internalFormatPackedHalfFloat}function aV(e,t,n,r){var a=aB(t,n),i=(0,o.Z)(a,2);return Yj(e,i[0],i[1],rV(r),e.RGBA,r.textureTypeHalfFloat)}function iV(e,t,n){return oB(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),CB(e,t,"clipSpacePos",n,3,20,0)&&CB(e,t,"uv",n,2,20,12)}function oV(e,t,n,r,a,i){var o,s,u;oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,u=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,u=i.internalFormatPackedFloat),o.set(a),2===Hi().getNumber("WEBGL_VERSION")?oB(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):oB(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,n,r,0,e.RGBA,s,o)})),oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function sV(e,t,n){oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===Hi().getNumber("WEBGL_VERSION")?oB(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):oB(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===Hi().getNumber("WEBGL_VERSION")?oB(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):oB(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),oB(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function uV(e,t,n,r){var a=e.createBuffer();oB(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return oB(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),oB(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),oB(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function lV(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function cV(e,t,n,r){var a=nB(t,n),i=(0,o.Z)(a,2),s=i[0],u=i[1],l=new Uint8Array(function(e,t){return e*t}(t*n,4));return oB(e,(function(){return e.readPixels(0,0,s,u,r.downloadTextureFormat,e.UNSIGNED_BYTE,l)})),new Float32Array(l.buffer)}function dV(e,t,n,r,a,i,s,u){var l=e,c=new Float32Array(function(e,t){var n=aB(e,t),r=(0,o.Z)(n,2);return r[0]*r[1]*4}(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function fV(e,t,n){var r=new Float32Array(t*n*4);return oB(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}Aa(Hj,{bindVertexProgramAttributeStreams:function(){return iV},createBufferFromOutputTexture:function(){return uV},createFloat16MatrixTexture:function(){return Qj},createFloat16PackedMatrixTexture:function(){return aV},createFloat32MatrixTexture:function(){return Kj},createIndexBuffer:function(){return Xj},createPackedMatrixTexture:function(){return nV},createUnsignedBytesMatrixTexture:function(){return eV},createVertexBuffer:function(){return Gj},createVertexShader:function(){return Uj},downloadByteEncodedFloatMatrixFromOutputTexture:function(){return cV},downloadFloat32MatrixFromBuffer:function(){return lV},downloadMatrixFromPackedOutputTexture:function(){return fV},downloadPackedMatrixFromBuffer:function(){return dV},getInternalFormatForFloat16MatrixTexture:function(){return Jj},getInternalFormatForFloat16PackedMatrixTexture:function(){return rV},getInternalFormatForFloat32MatrixTexture:function(){return qj},getInternalFormatForPackedMatrixTexture:function(){return tV},getInternalFormatForUnsignedBytesMatrixTexture:function(){return $j},uploadDenseMatrixToTexture:function(){return oV},uploadPixelDataToTexture:function(){return sV}});var pV=function(){function e(t){(0,Ur.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Hi().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,eB(n,t)):this.gl=tB(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Hi().getNumber("WEBGL_VERSION")){var i="OES_texture_half_float";if(this.textureFloatExtension=lB(this.gl,"OES_texture_float"),qB(this.gl,i))this.textureHalfFloatExtension=lB(this.gl,i);else if(Hi().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),qB(this.gl,a))this.colorBufferHalfFloatExtension=lB(this.gl,a);else if(Hi().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",qB(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!qB(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=Gj(this.gl),this.indexBuffer=Xj(this.gl),this.framebuffer=SB(this.gl),this.textureConfig=iB(this.gl,this.textureHalfFloatExtension)}return(0,Gr.Z)(e,[{key:"debug",get:function(){return Hi().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;oB(t,(function(){return t.finish()})),oB(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),oB(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),oB(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),oB(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),oB(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),Kj(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),Qj(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),eV(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),sV(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),oV(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),aV(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),nV(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(MB(this.gl,this.framebuffer),this.outputTexture=null),oB(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return cV(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return dV(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return lV(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=uV(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(Hi().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return fV(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=Uj(n));var r=gB(n);return oB(n,(function(){return n.attachShader(r,t.vertexShader)})),oB(n,(function(){return n.attachShader(r,e)})),vB(n,r),this.debug&&yB(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=iV(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&oB(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&yB(this.gl,this.program),oB(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?TB(this.gl,e,t):NB(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),oB(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),OB(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=aB(t,n),a=(0,o.Z)(r,2),i=a[0],s=a[1];this.setOutputMatrixTextureDriver(e,i,s)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&yB(this.gl,this.program),RB(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),oB(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),oB(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=lB(this.gl,2===Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)&&bl.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),_B(this.gl,e,this.framebuffer),this.debug&&RB(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(_B(this.gl,this.outputTexture,this.framebuffer),this.debug&&RB(this.gl)):MB(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;_B(r,e,this.framebuffer),this.debug&&RB(r),this.outputTexture=e,oB(r,(function(){return r.viewport(0,0,t,n)})),oB(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),oB(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var hV=ZR.addImpl,mV=ZR.bincountImpl,gV=ZR.bincountReduceImpl,vV=ZR.ceilImpl,yV=ZR.concatImpl,bV=ZR.equalImpl,xV=ZR.expImpl,AV=ZR.expm1Impl,wV=ZR.floorImpl,kV=ZR.gatherNdImpl,SV=ZR.gatherV2Impl,CV=ZR.greaterImpl,IV=ZR.greaterEqualImpl,EV=ZR.lessImpl,TV=ZR.lessEqualImpl,NV=ZR.linSpaceImpl,OV=ZR.logImpl,PV=ZR.maxImpl,_V=ZR.maximumImpl,MV=ZR.minimumImpl,RV=ZR.multiplyImpl,FV=ZR.negImpl,DV=ZR.notEqualImpl,LV=ZR.prodImpl,zV=ZR.rangeImpl,ZV=ZR.rsqrtImpl,WV=ZR.scatterImpl,BV=ZR.sigmoidImpl,jV=ZR.simpleAbsImpl,VV=ZR.sliceImpl,HV=ZR.sparseFillEmptyRowsImpl,UV=ZR.sparseReshapeImpl,GV=ZR.sparseSegmentReductionImpl,XV=ZR.sqrtImpl,YV=ZR.stridedSliceImpl,qV=ZR.stringNGramsImpl,KV=ZR.stringSplitImpl,JV=ZR.stringToHashBucketFastImpl,QV=ZR.subImpl,$V=ZR.tileImpl,eH=ZR.topKImpl,tH=ZR.transposeImpl,nH=ZR.uniqueImpl;function rH(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function aH(e,t){return 1===t?[e]:rH(e,t)}var iH=function(){function e(t){if((0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Lj(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=aH("rc",this.rank),r=Tj(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(i,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return(0,Gr.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),i=2;i<this.rank;i++)a="".concat(e[e.length-1-i],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);return 1===this.rank?"getA(rc), (rc + 1 >= ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]," ? 0. : getA(rc + 1)), 0, 0"):"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),oH=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length);for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=oj(r,t);return a.map((function(t,r){var i="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),o=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(i,"; ").concat(o,";")})).join("")}(["r","c","d"],"inputShape"):aj(["r","c","d"],e),"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":sj(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var sH=function(){function e(t){(0,Ur.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,Gr.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=lH(t,n),a=cH(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=uH(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return 3===r?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):4===r?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):1===r?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):0===r?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):2===r&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=lH(n,r),i=cH(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);var o=uH(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=Hi().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var u=this.usedTextures[i],l=u.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function uH(e,t,n,r,a){var i,s=function(e,t){switch(e){case 3:return tV(t);case 4:return rV(t);case 1:return qj(t);case 0:return Jj(t);case 2:return $j(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var u=aB(e[0],e[1]),l=(0,o.Z)(u,2);i=l[0]*l[1]}else{var c=nB(e[0],e[1]),d=(0,o.Z)(c,2);i=d[0]*d[1]}var f=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,s);return i*f}function lH(e,t){if(1===e)return 3;if(0===e||null==e)return function(e){return Hi().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?3:1:e?4:0}(t);if(3===e||2===e)return 2;throw new Error("Unknown logical texture type ".concat(e))}function cH(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var dH=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),fH="if (isnan(x)) return x;",pH="return x;",hH="return abs(x);",mH="return (x >= 0.0) ? x : (exp(x) - 1.0);",gH=fH+"\n  return (x < 0.0) ? 0.0 : x;\n",vH=fH+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",yH="return x;",bH="return 1.0 / (1.0 + exp(-1.0 * x));",xH="return x;",AH="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",wH="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",kH="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",SH="return 1.0 / (1.0 + exp(-1.0 * x));",CH=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),IH=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length);var n=t.length,r=aH("rc",n),a=Tj(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),EH=Xx.whereImpl,TH={};var NH=Hi().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var OH=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a;if((0,Ur.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Hi().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof pV)a=e;else{var i=tB(Hi().getNumber("WEBGL_VERSION"),e);a=new pV(i)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var o=tB(Hi().getNumber("WEBGL_VERSION"));a=new pV(o),r.binaryCache=function(e){return e in TH||(TH[e]={}),TH[e]}(Hi().getNumber("WEBGL_VERSION")),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new sH(r.gpgpu),r.numMBBeforeWarning=null==Hi().global.screen?1024:Hi().global.screen.height*Hi().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Va((0,Dr.Z)(r),_f()),(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((Hi().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Hi().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:1,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(Hi().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:1,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,i=t.slice,o=t.shape,s=t.isPacked;if(null!=i){var u;u=s?new CH(o,yH):new dH(o,yH);var l=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,f,p=null!=this.activeTimers;if(p&&(d=bl.now()),"complex64"===r){var h=this.readSync(a.real.dataId),m=this.readSync(a.imag.dataId);f=Xb.mergeRealAndImagArrays(h,m)}else f=this.getValuesFromTexture(e);return p&&(this.downloadWaitMs+=bl.now()-d),this.convertAndCacheOnCPU(e,f)}},{key:"read",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,i=r.shape,o=r.slice,s=r.dtype,u=r.complexTensorInfos,l=r.isPacked,null==o){e.next=8;break}return n=l?new CH(i,yH):new dH(i,yH),c=this.runWebGLProgram(n,[{dataId:t,shape:i,dtype:s}],s),d=this.read(c.dataId),e.abrupt("return",(this.disposeIntermediateTensorInfo(c),d));case 8:if(null==a){e.next=10;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 10:if(!Hi().getBool("DEBUG")||Hi().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Hi().getNumber("WEBGL_VERSION")){e.next=12;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 12:if(f=null,"complex64"!==s&&Hi().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(t),m=this.texData.get(p.dataId),f=(h=this.gpgpu).createBufferFromTexture.apply(h,[m.texture.texture].concat((0,qr.Z)(rB(i))))),this.pendingRead.set(t,[]),e.t0="complex64"!==s,!e.t0){e.next=19;break}return e.next=19,this.gpgpu.createAndWaitForFence();case 19:if("complex64"!==s){e.next=28;break}return e.next=22,Promise.all([this.read(u.real.dataId),this.read(u.imag.dataId)]);case 22:v=e.sent,y=v[0],b=v[1],g=Xb.mergeRealAndImagArrays(y,b),e.next=29;break;case 28:null==f?g=this.getValuesFromTexture(t):(x=bl.sizeFromShape(i),g=this.gpgpu.downloadFloat32MatrixFromBuffer(f,x));case 29:return null!=p&&this.disposeIntermediateTensorInfo(p),null!=f&&oB(A=this.gpgpu.gl,(function(){return A.deleteBuffer(f)})),w=this.convertAndCacheOnCPU(t,g),k=this.pendingRead.get(t),e.abrupt("return",(this.pendingRead.delete(t),k.forEach((function(e){return e(w)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&_f().removeDataId(t,this),this.pendingDeletes--),w));case 32:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,i=n.slice,o=n.dtype,u=n.isPacked,l=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){var c;c=u?new CH(a,yH):new dH(a,yH);var d=this.runWebGLProgram(c,[{dataId:e,shape:a,dtype:o}],o),f=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),f}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),h=_f().makeTensorFromTensorInfo(p),m=this.texData.get(p.dataId);return(0,s.Z)({tensorRef:h},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return bl.decodeString(e)}));return Yd(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return Yd(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!sB(n))throw Hi().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value ".concat(n," cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'")):Error("The value ".concat(n," cannot be represented on this device."))}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,i=bl.sizeFromShape(n);if(Hi().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),u=this.texData.get(s.dataId),l=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[u.texture.texture].concat((0,qr.Z)(rB(n)))).subarray(0,i);return this.disposeIntermediateTensorInfo(s),l}var c=Hi().getBool("WEBGL_PACK")&&!0===a,d=c?WB(n):n,f=c?new Bj(d):new Wj(d),p=this.runWebGLProgram(f,[{shape:d,dtype:r,dataId:e}],"float32"),h=this.texData.get(p.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture.texture,h.texShape[0],h.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(p),m}},{key:"timerAvailable",value:function(){return Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var i=bl.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=bl.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,Tr.Z)((0,Er.Z)().mark((function e(){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=7;break}return e.next=3,Promise.all(i);case 3:n=e.sent,s.kernelMs=bl.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=8;break;case 7:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 8:return e.abrupt("return",(t.uploadWaitMs=0,t.downloadWaitMs=0,s));case 9:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:bl.now(),endMs:null}}},{key:"endTimer",value:function(e){return Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=bl.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Hi().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NH;return Hi().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&bl.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){Xb.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return EH(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new CH(e.shape,t),a=this.compileAndRun(r,[e],n);return _f().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=jV(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Hi().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,hH,e.dtype);var n=new dH(e.shape,hH),r=this.compileAndRun(n,[e]);return _f().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&bl.isString(n[0])){var a=n.map((function(e){return bl.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return _f().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new IH(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new iH(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[zB(e.shape)].concat((0,qr.Z)(ZB(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[zB(t)].concat((0,qr.Z)(ZB(t))),i=new oH(a,n),o=[n],s=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,i=n.dtype;if(null!=t){var o=bl.sizeFromShape(a),s=t[0]*t[1]*4;bl.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var u,l=WB(a);u=r?new Zj(l):new zj(l);var c=[null!=t?t:rB(l)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(u,[{shape:l,dtype:i,dataId:e}],i,c,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,s=this.makeTensorInfo(e.outputShape,n),u=this.texData.get(s.dataId);if(e.packedOutput&&(u.isPacked=!0),0===e.outPackingScheme){var l=null!=o?o:rB(e.outputShape);u.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(u.usage=e.outTexUsage),0===bl.sizeFromShape(s.shape))return u.values=bl.getTypedArrayFromDType(s.dtype,0),s;var c=[],d=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&bl.sizeFromShape(t.shape)<=Hi().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!VB(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),c.push(t),n=a.texData.get(t.dataId),r.shape=i}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var f,p={shape:s.shape,texData:u,isUniform:!1},h=Dj(e,d,p),m=this.getAndSaveBinary(h,(function(){return _j(a.gpgpu,e,d,p)})),g=null!=this.activeTimers;g&&(f=this.startTimer()),Hi().get("ENGINE_COMPILE_ONLY")||Fj(this.gpgpu,m,d,p,r),c.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),g&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));var v=Hi().get("WEBGL_FLUSH_THRESHOLD");if(v>0){var y=bl.now();y-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Hi().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===i){var b=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),b}return s}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;this.disposed||(Hi().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Ff((function(){if(!Hi().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Hi().getBool("DEBUG");Hi().set("DEBUG",!1);var n=e.abs(Lm(1e-8)).dataSync()[0];if(Hi().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,i=t.texture,s=t.usage,u=t.isPacked;if(null==i){var l,c=null!=this.activeTimers;c&&(l=bl.now());var d=t.texShape;if(null==d&&(d=BB(n,u),t.texShape=d),null!=a){var f,p,h,m=WB(n),g=d[1],v=d[0],y=a instanceof Uint8Array||a instanceof Uint8ClampedArray;(u||!y)&&(f=aB(d[0],d[1]),g=(p=(0,o.Z)(f,2))[0],v=p[1]),h=u?new Vj(m,y):new jj(m,y);var b=y?[v,g]:d,x=this.makeTensorInfo(b,r),A=this.texData.get(x.dataId);A.usage=y?2:1,A.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),g,v,a);var w=[[v,g]],k=this.runWebGLProgram(h,[x],r,w,!0),S=this.texData.get(k.dataId);t.texShape=S.texShape,t.isPacked=S.isPacked,t.usage=S.usage,Hi().get("ENGINE_COMPILE_ONLY")?this.disposeData(k.dataId):(t.texture=S.texture,t.values=null,this.texData.delete(k.dataId)),this.disposeIntermediateTensorInfo(x),c&&(this.uploadWaitMs+=bl.now()-l)}else{var C=this.acquireTexture(d,s,r,u);t.texture=C}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, most likely due to a memory leak"))}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*bl.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,o.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,s,u,l,c=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)a=(0,o.Z)(r[n],2),i=a[1],t.push(this.checkCompletionAsync_(i));return e.abrupt("return",Promise.all(t));case 6:for(s=function(){var e=(0,o.Z)(l[u],2)[1],n=new Promise((function(t){try{c.checkCompletion_(e),t(!0)}catch(Ue){throw Ue}}));t.push(n)},u=0,l=Object.entries(this.binaryCache);u<l.length;u++)s();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}e.t0=this.checkCompletion_(t),e.next=7;break;case 4:return e.next=6,Gb();case 6:e.t0=this.checkCompletionAsync_(t);case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS))throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)?(mB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,o.Z)(t[e],2)[1],r=Mj(this.gpgpu,n.program,n.webGLProgram),a=r.uniformLocations,i=r.customUniformLocations,s=r.infLoc,u=r.nanLoc,l=r.inShapesLocations,c=r.inTexShapesLocations,d=r.outShapeLocation,f=r.outShapeStridesLocation,p=r.outTexShapeLocation;n.uniformLocations=a,n.customUniformLocations=i,n.infLoc=s,n.nanLoc=u,n.inShapesLocations=l,n.inTexShapesLocations=c,n.outShapeLocation=d,n.outShapeStridesLocation=f,n.outTexShapeLocation=p}}}]),n}(Ha),PH=OH;PH.nextDataId=0;var _H="0.0.0";function MH(){Hi().set("WEBGL_FORCE_F16_TEXTURES",!0)}Ic.isBrowser()&&Uf("webgl",(function(){return new PH}),2);var RH={forceHalfFloat:MH},FH=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=Lj(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),DH=(0,Gr.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Xb.assertAndGetBroadcastShape(n,r);var i=this.outputShape.length;this.enableShapeUniforms=Lj(i);var o="";if(a)if(0===i||1===bl.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          ".concat(Tj(i)," coords = getOutputCoords();\n        "),1===i)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var s=aH("coords",i);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(s[i-2]," + 1) >= outShape[").concat(i," - 2];\n            bool nextColOutOfBounds =\n              (").concat(s[i-1]," + 1) >= outShape[").concat(i," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(s[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(s[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function LH(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var zH={kernelName:cs,backendName:"webgl",kernelFunc:LH};function ZH(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=LH({inputs:{x:r},backend:n}),u=LH({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:u},i}var WH={kernelName:wo,backendName:"webgl",kernelFunc:ZH},BH="return (a < 0.) ? b * a : a;",jH="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var VH={kernelName:gs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha,o=n.makeTensorInfo([],"float32",bl.createScalarValue(i,"float32")),s=Hi().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new DH(jH,a.shape,o.shape):new FH(BH,a.shape,o.shape),u=n.runWebGLProgram(s,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),u}},HH="return (a < 0.) ? b * a : a;",UH="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var GH={kernelName:tu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=Hi().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new DH(UH,r.shape,a.shape):new FH(HH,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}};function XH(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var i,o=e.inputs,s=e.backend,u=o.x,l=s,c=a||u.dtype;if(l.shouldExecuteOnCPU([u])&&null!=r){var d=l.texData.get(u.dataId),f=r(d.values,c);return l.makeTensorInfo(u.shape,c,f)}return i=Hi().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new CH(u.shape,n):new dH(u.shape,t),l.runWebGLProgram(i,[u],c)}}function YH(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,i=e.supportsComplex,s=void 0!==i&&i,u=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,i=e.backend,c=r.a,d=r.b,f=i;if(s&&"complex64"===c.dtype){var p=f.texData.get(c.dataId),h=f.texData.get(d.dataId),m=[[p.complexTensorInfos.real,h.complexTensorInfos.real],[p.complexTensorInfos.imag,h.complexTensorInfos.imag]].map((function(e){var n=(0,o.Z)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:c.shape},s={dataId:a.dataId,dtype:a.dtype,shape:d.shape},u=new FH(t,c.shape,d.shape);return f.runWebGLProgram(u,[i,s],cc(r.dtype,a.dtype))})),g=(0,o.Z)(m,2),v=g[0],y=g[1],b=ZH({inputs:{real:v,imag:y},backend:f});return f.disposeIntermediateTensorInfo(v),f.disposeIntermediateTensorInfo(y),b}var x,A=l||cc(c.dtype,d.dtype);if(("string"===c.dtype||"string"===d.dtype||f.shouldExecuteOnCPU([c,d]))&&null!=u){var w=f.texData.get(c.dataId).values,k=f.texData.get(d.dataId).values,S="string"===c.dtype?Xb.fromUint8ToStringArray(w):w,C="string"===c.dtype?Xb.fromUint8ToStringArray(k):k,I=u(c.shape,d.shape,S,C,A),E=(0,o.Z)(I,2),T=E[0],N=E[1],O=f.makeTensorInfo(N,A);return f.texData.get(O.dataId).values=T,O}return x=Hi().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new DH(n,c.shape,d.shape,a):new FH(t,c.shape,d.shape),f.runWebGLProgram(x,[c,d],A)}}function qH(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?xH:pH;if("relu"===e)return t?wH:gH;if("elu"===e)return t?AH:mH;if("relu6"===e)return t?kH:vH;if("prelu"===e)return t?UH:HH;if("leakyrelu"===e)return t?jH:BH;if("sigmoid"===e)return t?SH:bH;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var KH=(0,Gr.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,Ur.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Lj(this.outputShape.length);var c=a?t[1]:t[2],d=Math.ceil(c/2),f=a?"i * 2, rc.y":"rc.y, i * 2",p=i?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",v="";s&&(g=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),v="result = activation(result);");var y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");var b="rc.x",x="rc.x";t[0]<n[0]?b="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(g,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(b,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(f,");\n          vec4 b = getMatrixB(batchB, ").concat(p,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(m[0],");\n          result += (").concat(h[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(v,"\n\n        setOutput(result);\n      }\n    ")})),JH="return areal * breal - aimag * bimag;",QH="return areal * bimag + aimag * breal;",$H=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),eU="return a * b;";function tU(e){var t,n=e.inputs,r=e.backend,a=n.a,i=n.b,s=Xb.upcastType(a.dtype,i.dtype);if("complex64"===a.dtype){var u=r.texData.get(a.dataId),l=r.texData.get(i.dataId),c=new $H(JH,a.shape,i.shape),d=new $H(QH,a.shape,i.shape),f=[{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:a.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:i.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:i.shape}],p=r.runWebGLProgram(c,f,"float32"),h=r.runWebGLProgram(d,f,"float32"),m=ZH({inputs:{real:p,imag:h},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(h),m}if(r.shouldExecuteOnCPU([a,i])){var g=r.texData.get(a.dataId),v=r.texData.get(i.dataId),y=RV(a.shape,i.shape,g.values,v.values,s),b=(0,o.Z)(y,2),x=b[0],A=b[1],w=r.makeTensorInfo(A,s);return r.texData.get(w.dataId).values=x,w}return t=Hi().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new DH(eU,a.shape,i.shape):new FH(eU,a.shape,i.shape),r.runWebGLProgram(t,[a,i],s)}var nU={kernelName:Vs,backendName:"webgl",kernelFunc:tU};function rU(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,o=n,s=bl.sizeFromShape(a.shape),u=bl.inferFromImplicitShape(i,s),l=bl.sizeFromShape(u);bl.assert(s===l,(function(){return"The new shape (".concat(u,") has ").concat(l," elements and the old shape (").concat(a.shape,") has ").concat(s," elements. The new shape and old shape must have the same number of elements.")}));var c=o.texData.get(a.dataId);return!c.isPacked||VB(a.shape,u)||null!==c.texture&&VB(c.shape,u)?(o.incRef(a.dataId),{dataId:a.dataId,shape:u,dtype:a.dtype}):function(e,t,n){var r=[zB(e.shape)].concat((0,qr.Z)(ZB(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[zB(t)].concat((0,qr.Z)(ZB(t))),o=new oH(i,r),s=[r],u=n.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,u,o)}var aU={kernelName:su,backendName:"webgl",kernelFunc:rU},iU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s=4*Math.floor(r/4),u=r%4,l="sumValue += dot(values, ones);";if(null!=n){var c=1/n;l="sumValue += dot(values * ".concat(bl.isInt(c)?c.toPrecision(2):c,", ones);")}var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===u,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),oU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var l="".concat(n,"(").concat(n,"(").concat(n,"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])");"sum"===n?l="sumValue":"prod"===n?l="prodValue":"all"===n?l="allValue":"any"===n&&(l="anyValue");var c=4*Math.floor(r/4),d=r%4,f="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),p="vec4";"all"===n?(s="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===n&&(s="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var h="";i%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(f,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(f,"\n        } else if (").concat(2===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(f,"\n        } else if (").concat(3===d,") {\n          ").concat(p," values = ").concat(p,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(f,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}));function sU(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=Xb.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),i=e,o=0;o<a.length;o++){var s,u=a[o],l=u.inSize,c=u.windowSize,d=u.outSize,f=void 0;f="mean"===n?0===o?new iU({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d},l):new iU({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d}):new oU({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:d},n),s=i,i=r.runWebGLProgram(f,[i],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return i}var uU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=Tj(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var lU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=Tj(this.rank),o=rH("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var l="vec2(".concat(s.slice(-2).join(),")"),c="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(l,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(c,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(c,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function cU(e,t,n){var r=Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new lU(e.shape,t):new uU(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function dU(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,i=e.shape.length,s=bl.parseAxisParam(a,e.shape),u=s,l=Xb.getAxesPermutation(u,i),c=null!=l,d=e;c&&(d=cU(e,l,r),u=Xb.getInnerMostAxes(u.length,i)),Xb.assertAxesAreInnerMostDims("sum",u,i);var f=Xb.computeOutAndReduceShapes(d.shape,u),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=h;n&&(g=Xb.expandShapeToKeepDim(h,s));var v=bl.sizeFromShape(m),y=rU({inputs:{x:d},attrs:{shape:[bl.sizeFromShape(e.shape)/v,v]},backend:r}),b=sU(y,dc(e.dtype),"sum",r),x=rU({inputs:{x:b},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),c&&r.disposeIntermediateTensorInfo(d),x}(t.x,r.axis,r.keepDims,n)}var fU={kernelName:Eu,backendName:"webgl",kernelFunc:dU};function pU(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,s=r,u=i.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=i.shape[o[c]];if(s.shouldExecuteOnCPU([i])){var d=s.texData.get(i.dataId).values,f=tH(d,i.shape,i.dtype,o,l);t=s.makeTensorInfo(l,i.dtype),s.texData.get(t.dataId).values=f}else t=cU(i,o,s);return t}var hU={kernelName:Yu,backendName:"webgl",kernelFunc:pU};function mU(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,o=e.bias,s=void 0===o?null:o,u=e.preluActivationWeights,l=void 0===u?null:u,c=e.leakyreluAlpha,d=void 0===c?0:c,f=e.activation,p=void 0===f?null:f,h=t.shape.length,m=n.shape.length,g=r?t.shape[h-2]:t.shape[h-1],v=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[h-1]:t.shape[h-2],b=a?n.shape[m-2]:n.shape[m-1],x=t.shape.slice(0,-2),A=n.shape.slice(0,-2),w=bl.sizeFromShape(x),k=bl.sizeFromShape(A),S=$f.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,b]);bl.assert(g===v,(function(){return"Error in matMul: inner shapes (".concat(g,") and (").concat(v,") of Tensors with shapes ").concat(t.shape," and ").concat(n.shape," and transposeA=").concat(r," and transposeB=").concat(a," must match.")}));var C,I=r?[w,g,y]:[w,y,g],E=a?[k,b,v]:[k,v,b],T=rU({inputs:{x:t},backend:i,attrs:{shape:I}}),N=rU({inputs:{x:n},backend:i,attrs:{shape:E}}),O=[T,N],P=Math.max(w,k),_=r?T.shape[1]:T.shape[2],M=null!=s,R=null!=l,F="leakyrelu"===p,D=null!=p?qH(p,!0):null;if((1===y||1===b)&&_>1e3&&!1===(M||R||F||null!=D)){var L=T,z=N;r&&(L=pU({inputs:{x:T},backend:i,attrs:{perm:[0,2,1]}}),O.push(L)),a&&(z=pU({inputs:{x:N},backend:i,attrs:{perm:[0,2,1]}}),O.push(z));var Z=1===b,W=L;1!==b&&(W=rU({inputs:{x:L},backend:i,attrs:{shape:[P,_,1]}}),O.push(W));var B=1===b?2:1,j=z;Z&&(j=rU({inputs:{x:z},backend:i,attrs:{shape:[P,1,_]}}),O.push(j));var V=tU({inputs:{a:W,b:j},backend:i});C=dU({inputs:{x:V},backend:i,attrs:{axis:B,keepDims:!0}}),O.push(V)}else{var H=cc(t.dtype,n.dtype),U=new KH(I,E,[P,y,b],r,a,M,D,R,F),G=[T,N];if(null!=s&&G.push(s),R&&G.push(l),F){var X=i.makeTensorInfo([],"float32",bl.createScalarValue(d,"float32"));G.push(X),O.push(X)}C=i.runWebGLProgram(U,G,H)}var Y=rU({inputs:{x:C},backend:i,attrs:{shape:S}});O.push(C);for(var q=0,K=O;q<K.length;q++){var J=K[q];i.disposeIntermediateTensorInfo(J)}return Y}var gU={kernelName:rl,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,l=r.transposeB,c=r.activation;return mU({a:a,b:i,transposeA:u,transposeB:l,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},vU="return abs(x);";var yU={kernelName:qi,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var i=r.texData.get(a.dataId),o=jV(i.values);return r.makeTensorInfo(a.shape,a.dtype,o)}return t=Hi().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new CH(a.shape,vU):new dH(a.shape,vU),r.runWebGLProgram(t,[a],a.dtype)}},bU=XH({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),xU={kernelName:Ki,backendName:"webgl",kernelFunc:bU},AU=XH({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),wU={kernelName:Ji,backendName:"webgl",kernelFunc:AU},kU="return a + b;",SU=YH({opSnippet:kU,packedOpSnippet:kU,supportsComplex:!0,cpuKernelImpl:hV}),CU={kernelName:Qi,backendName:"webgl",kernelFunc:SU},IU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),EU=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var TU={kernelName:$i,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return LH({inputs:{x:a[0]},backend:r});if(a.length>Hi().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(a.length/2),o=e({inputs:a.slice(0,i),backend:r}),s=e({inputs:a.slice(i),backend:r});return e({inputs:[o,s],backend:r})}var u=a.map((function(e){return e.dtype})).reduce((function(e,t){return cc(e,t)})),l=a.map((function(e){return e.shape})),c=Hi().getBool("WEBGL_PACK")?new EU(a[0].shape,l):new IU(a[0].shape,l);return r.runWebGLProgram(c,a,u)}};var NU={kernelName:eo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,u=a.shape.length,l=bl.parseAxisParam(i,a.shape),c=l,d=Xb.getAxesPermutation(c,u),f=a;null!=d&&(f=pU({inputs:{x:a},backend:n,attrs:{perm:d}}),c=Xb.getInnerMostAxes(c.length,u)),Xb.assertAxesAreInnerMostDims("all",c,u);var p,h=Xb.computeOutAndReduceShapes(f.shape,c),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=rU({inputs:{x:f},backend:n,attrs:{shape:[-1,bl.sizeFromShape(v)]}}),b=sU(y,y.dtype,"all",n);return p=rU(s?{inputs:{x:b},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=d&&n.disposeIntermediateTensorInfo(f),p}};var OU={kernelName:to,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,u=a.shape.length,l=bl.parseAxisParam(i,a.shape),c=l,d=Xb.getAxesPermutation(c,u),f=a;null!=d&&(f=pU({inputs:{x:a},backend:n,attrs:{perm:d}}),c=Xb.getInnerMostAxes(c.length,u)),Xb.assertAxesAreInnerMostDims("any",c,u);var p,h=Xb.computeOutAndReduceShapes(f.shape,c),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=rU({inputs:{x:f},backend:n,attrs:{shape:[-1,bl.sizeFromShape(v)]}}),b=sU(y,y.dtype,"any",n);return p=rU(s?{inputs:{x:b},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=d&&n.disposeIntermediateTensorInfo(f),p}},PU=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),_U=(0,Gr.Z)((function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,bl.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var i=t[t.length-1],o=Math.ceil(i/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");var s,u,l=this.outputShape,c=l.length,d=Tj(c),f=aH("coords",c);if(1===o){var p=Tj(u=c+1);s="\n        ".concat(p," sourceLocR = ").concat(p,"(").concat(f.join(),", 0);\n        ++").concat(f[c-1],";\n        ").concat(p," sourceLocG = ").concat(p,"(").concat(f.join(),", 0);\n        ++").concat(f[c-2],";\n        ").concat(p," sourceLocA = ").concat(p,"(").concat(f.join(),", 0);\n        --").concat(f[c-1],";\n        ").concat(p," sourceLocB = ").concat(p,"(").concat(f.join(),", 0);\n        --").concat(f[c-2],";")}else u=c,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(f[c-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(f[c-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(f[c-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(f[c-2],";");var h=["x","y","z","w","u","v"].slice(0,u),m="."+h[u-1],g=h.map((function(e){return"int "+e})),v=aH("sourceLocR",u-1).concat("inIdx.r"),y=aH("sourceLocG",u-1).concat("inIdx.g"),b=aH("sourceLocB",u-1).concat("inIdx.b"),x=aH("sourceLocA",u-1).concat("inIdx.a"),A="max"===r?"greaterThan":"lessThan",w=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(v.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),k="vec4(\n            getAChannel(".concat(v.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),S=a?"":"\n      float getBestIndicesAChannel(".concat(g.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(g.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(S,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(f[c-1]," < ").concat(l[c-1]-1,";\n        bool hasNextRow = ").concat(f[c-2]," < ").concat(l[c-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(k,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(k,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(A,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function MU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);var o=Xb.computeOptimalWindowSize(i),s={windowSize:o,inSize:i,batchSize:a,outSize:Math.ceil(i/o)},u=new PU(s,n,null==r),l=[t];null!=r&&l.push(r);var c=e.runWebGLProgram(u,l,"int32");if(1===c.shape[1])return c;var d=MU(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function RU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,i=a[a.length-1],o=Xb.computeOptimalWindowSize(i),s=new _U(a,o,n,null==r),u=null==r?[t]:[t,r],l=e.runWebGLProgram(s,u,"int32");if(l.shape.length===t.shape.length){var c=RU(e,t,n,l);return e.disposeIntermediateTensorInfo(l),c}return l}function FU(e,t,n,r){var a=[n];if(Xb.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!Hi().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var i=[],s=e.texData.get(t.dataId),u=t;null!==s&&s.isPacked&&(u=e.unpackTensor(t),i.push(u));var l=Xb.computeOutAndReduceShapes(u.shape,a),c=(0,o.Z)(l,2),d=c[0],f=c[1],p=bl.sizeFromShape(f),h=rU({inputs:{x:u},backend:e,attrs:{shape:[-1,p]}});i.push(h);var m=MU(e,h,r);i.push(m);var g=rU({inputs:{x:m},backend:e,attrs:{shape:d}});return i.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return RU(e,t,r)}var DU={kernelName:no,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=bl.parseAxisParam(i,a.shape),s=Xb.getAxesPermutation(o,a.shape.length),u=a,l=[];null!=s&&(u=pU({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(u),o=Xb.getInnerMostAxes(o.length,u.shape.length)),Xb.assertAxesAreInnerMostDims("argMax",[o[0]],u.shape.length);var c=FU(n,u,o[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c}};var LU={kernelName:ro,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=bl.parseAxisParam(i,a.shape),s=Xb.getAxesPermutation(o,a.shape.length),u=a,l=[];null!=s&&(u=pU({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(u),o=Xb.getInnerMostAxes(o.length,u.shape.length)),Xb.assertAxesAreInnerMostDims("argMin",[o[0]],u.shape.length);var c=FU(n,u,o[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c}},zU=XH({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),ZU={kernelName:ao,backendName:"webgl",kernelFunc:zU},WU=XH({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),BU={kernelName:io,backendName:"webgl",kernelFunc:WU},jU=XH({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),VU={kernelName:oo,backendName:"webgl",kernelFunc:jU},HU=YH({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),UU={kernelName:uo,backendName:"webgl",kernelFunc:HU},GU=XH({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),XU={kernelName:so,backendName:"webgl",kernelFunc:GU},YU=(0,Gr.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Ur.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,g="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),v="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="0.0";if(m||(y="-1.0 / 1e-20"),r){var b=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(b," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?g:v:"wR * ".concat(f," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",A="".concat(n,"(").concat(n,"(").concat(n,"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])");"avg"===n&&(A="avgValue / count");var w=4*Math.floor(o/4),k=o%4,S="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(p,", ").concat(h,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(S,"\n          }\n\n          int xC = xCCorner + ").concat(w,";\n          if (").concat(1===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(S,"\n          } else if (").concat(2===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(S,"\n          } else if (").concat(3===k,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(S,"\n          }\n        }\n        setOutput(").concat(A,");\n      }\n    ")}})),qU=(0,Gr.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,Ur.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,d=t.dilationHeight,f=t.dilationWidth,p=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=t.padInfo.front,v=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;var b="avg"===n,x="0.0";if(b||(x="-1.0 / 1e-20"),r){var A=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(g,", ").concat(v,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(p,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(f,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(A," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(h," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="max",k="".concat(n,"(").concat(n,"(").concat(n,"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])");"avg"===n&&(k="avgValue / count");var S=4*Math.floor(o/4),C=o%4,I="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(g,", ").concat(v,", ").concat(y,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(p,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(S,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(f,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(f,", ch)\n              );\n\n              ").concat(I,"\n            }\n\n            int xC = xCCorner + ").concat(S,";\n            if (").concat(1===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(I,"\n            } else if (").concat(2===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(I,"\n            } else if (").concat(3===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(f,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(f,", ch),\n                initializationValue\n              );\n\n              ").concat(I,"\n            }\n          }\n          setOutput(").concat(k,");\n        }\n      }\n    ")}}));var KU={kernelName:lo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;tj(a,"avgPool");var i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;bl.assert(Xb.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=Xb.computePool2DInfo(a.shape,i,o,1,s,u);if(1===l.filterWidth&&1===l.filterHeight&&bl.arraysEqual(l.inShape,l.outShape))return LH({inputs:{x:a},backend:n});var c=new YU(l,"avg",!1);return n.runWebGLProgram(c,[a],"float32")}};var JU={kernelName:fo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=r.dataFormat,c=Xb.computePool3DInfo(a.shape,i,o,[1,1,1],s,u,l),d=new qU(c,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},QU=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=u-1-t.padInfo.top,d=l-1-t.padInfo.left,f=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(d,");\n      const float avgMultiplier = float(").concat(f,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),$U=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterDepth,f=t.effectiveFilterHeight,p=t.effectiveFilterWidth,h=d-1-t.padInfo.front,m=f-1-t.padInfo.top,g=p-1-t.padInfo.left,v=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(m,", ").concat(g,");\n      const float avgMultiplier = float(").concat(v,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var eG={kernelName:po,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode,c=Xb.computePool3DInfo(i.shape,o,s,[1,1,1],u,l),d=new $U(c);return n.runWebGLProgram(d,[a],i.dtype)}};var tG={kernelName:co,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;tj([a,i],"avgPoolGrad");var s=r.filterSize,u=r.strides,l=r.pad,c=Xb.computePool2DInfo(o.shape,s,u,1,l),d=new QU(c);return n.runWebGLProgram(d,[a],o.dtype)}};var nG={kernelName:ho,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return mU({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},rG=(0,Gr.Z)((function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],Xb.assertAndGetBroadcastShape(t,n),Xb.assertAndGetBroadcastShape(t,r);var s="0.0";null!=a&&(Xb.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=i&&(Xb.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(u,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),aG=(0,Gr.Z)((function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Xb.assertAndGetBroadcastShape(t,n),Xb.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=a&&(Xb.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="vec4(1.0)";null!=i&&(Xb.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(u,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),iG={kernelName:is,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.mean,o=t.variance,s=t.offset,u=t.scale;bl.assert(i.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),bl.assert(null==s||i.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),bl.assert(null==u||i.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var c=[a,i,o],d=null;null!=s&&(d=s.shape,c.push(s));var f=null;null!=u&&(f=u.shape,c.push(u));var p=Hi().getBool("WEBGL_PACK_NORMALIZATION")?new aG(a.shape,i.shape,o.shape,d,f,l):new rG(a.shape,i.shape,o.shape,d,f,l);return n.runWebGLProgram(p,c,c[0].dtype)}},oG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Tj(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return sG.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map((function(e,t){return"sourceLoc.".concat(sG[t]," = start[").concat(t,"] + coords.").concat(sG[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),sG=["x","y","z","w","u","v"];var uG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Tj(this.rank),r=aH("coords",this.rank),a=aH("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function lG(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size,u=bp.parseSliceParams(a,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1];if(bp.assertParamsValid(a,c,d),0===bl.sizeFromShape(d))return n.makeTensorInfo(d,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var f=n.texData.get(a.dataId),p=VV(f.values,c,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,p)}var h=n.texData.get(a.dataId).isPacked,m=bp.isSliceContinous(a.shape,c,d);if(h||!m){f=Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uG(d):new oG(d),p=[c];return n.runWebGLProgram(f,[a],a.dtype,p)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),o=r.texData.get(i.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=bp.computeFlatOffset(t,bl.computeStrides(e.shape));a.slice&&(s+=a.slice.flatOffset),o.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var u=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,u+1),i}(a,c,d,n)}var cG={kernelName:xu,backendName:"webgl",kernelFunc:lG},dG={kernelName:mo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;bl.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),u=Xb.getReshaped(a.shape,i,s),l=Xb.getPermuted(u.length,i.length),c=Xb.getReshapedPermuted(a.shape,i,s),d=Xb.getSliceBeginCoords(o,i.length),f=Xb.getSliceSize(c,o,i.length),p=[],h=rU({inputs:{x:a},backend:n,attrs:{shape:u}}),m=pU({inputs:{x:h},backend:n,attrs:{perm:l}}),g=rU({inputs:{x:m},backend:n,attrs:{shape:c}}),v=lG({inputs:{x:g},backend:n,attrs:{begin:d,size:f}});return p.push(h),p.push(m),p.push(g),p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var fG={kernelName:go,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.readSync(a.dataId),u=n.readSync(i.dataId),l=mV(s,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}};var pG={kernelName:yo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.readSync(r.dataId),o=n.readSync(a.dataId),s=Xb.assertAndGetBroadcastShape(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},hG=YH({opSnippet:"return float(a != b);",cpuKernelImpl:DV,dtype:"bool"}),mG={kernelName:Us,backendName:"webgl",kernelFunc:hG};function gG(e){var t=e.inputs,n=e.backend,r=t.input;return LH({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var vG={kernelName:au,backendName:"webgl",kernelFunc:gG};var yG={kernelName:bo,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,o=a.dtype;if("complex64"===o){if("complex64"===i.dtype)return LH({inputs:{x:i},backend:r});var s=Rg(i.shape),u=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),l=ZH({inputs:{real:u,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(u),l}if("complex64"===i.dtype){var c=gG({inputs:{input:i},backend:r}),d=e({inputs:{x:c},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(c),d}if(!bl.hasEncodingLoss(i.dtype,o)){var f=LH({inputs:{x:i},backend:r});return{dataId:f.dataId,shape:f.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new dH(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===o){var p=r.makeTensorInfo([],"bool",bl.getTypedArrayFromDType("bool",1)),h=hG({inputs:{a:i,b:p},backend:r});return r.disposeIntermediateTensorInfo(p),h}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(o))}},bG="return ceil(x);",xG=XH({opSnippet:bG,packedOpSnippet:bG,cpuKernelImpl:vV}),AG={kernelName:xo,backendName:"webgl",kernelFunc:xG},wG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),kG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var SG={kernelName:Ao,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.clipValueMin,s=a.clipValueMax;t=Hi().getBool("WEBGL_PACK_CLIP")?new kG(i.shape):new wG(i.shape);var u=[[o],[s]];return r.runWebGLProgram(t,[i],i.dtype,u)}},CG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function IG(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var EG={kernelName:ko,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new CG(r.shape),o=[IG(r,a.complexTensorInfos.real),IG(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},TG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.outputShape=[],this.outputShape=Xb.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],i=1;i<n.length;i++){var o=n[i-1];a.push("else if (yC < ".concat(n[i],") setOutput(getT").concat(i,"(yR, yC-").concat(o,"));"))}var s=n.length,u=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(u,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),NG=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Xb.computeOutShape(t,n);var r=this.outputShape,a=r.length,i=Tj(a),o=aH("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var u=new Array(t.length-1);u[0]=t[0][n];for(var l=1;l<u.length;l++)u[l]=u[l-1]+t[l][n];for(var c=s[n],d=s.slice(-2),f=s.join(),p="if (".concat(c," < ").concat(u[0],") {\n        return getChannel(\n            getT0(").concat(f,"), vec2(").concat(d.join(),"));\n        }"),h=1;h<u.length;h++){var m=u[h-1];p+="\n        if (".concat(c," < ").concat(u[h],"  && ").concat(c," >= ").concat(u[h-1],") {\n          return getChannel(\n            getT").concat(h,"(").concat(OG(s,c,m),"),\n            vec2(").concat(OG(d,c,m),"));\n        }")}var g=u.length,v=u[u.length-1];p+="\n        return getChannel(\n          getT".concat(g,"(").concat(OG(s,c,v),"),\n          vec2(").concat(OG(d,c,v),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(p,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," + 1;\n        if (").concat(o[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-2]," = ").concat(o[a-2]," + 1;\n        if (").concat(o[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," - 1;\n        if (").concat(o[a-2]," < ").concat(r[a-2]," &&\n            ").concat(o[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function OG(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function PG(e){var t=e.inputs,n=e.backend,r=t.input;return LH({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var _G={kernelName:fs,backendName:"webgl",kernelFunc:PG};function MG(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return gG({inputs:{input:e},backend:n})})),i=e.map((function(e){return PG({inputs:{input:e},backend:n})})),o=MG(a,t,n),s=MG(i,t,n),u=ZH({inputs:{real:o,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var c=e.map((function(e){var r=bl.sizeFromShape(e.shape.slice(t));return rU({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=c.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),f=Xb.computeOutShape(c.map((function(e){return e.shape})),1),p=1===c[0].shape[0],h=yV(d,f,r,p),m=Xb.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,h);return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>Hi().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var v=Math.floor(e.length/2),y=MG(e.slice(0,v),t,n),b=MG(e.slice(v),t,n),x=MG([y,b],t,n);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),x}if(Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var A=new NG(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(A,e,r)}var w=function(e,t,n){var r=Xb.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return rU({inputs:{x:e},attrs:{shape:[-1,bl.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),k=w.tensors2D,S=w.outShape,C=new TG(k.map((function(e){return e.shape}))),I=n.runWebGLProgram(C,k,r);k.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var E=rU({inputs:{x:I},attrs:{shape:S},backend:n});return n.disposeIntermediateTensorInfo(I),E}function RG(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=bl.parseAxisParam(r,t[0].shape)[0],i=Xb.computeOutShape(t.map((function(e){return e.shape})),a);if(0===bl.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var o=t.filter((function(e){return bl.sizeFromShape(e.shape)>0}));if(1===o.length)return LH({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return Xb.assertParamsConsistent(s,a),MG(o,a,n)}var FG={kernelName:So,backendName:"webgl",kernelFunc:RG},DG=(0,Gr.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,f=t.filterHeight,p=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4,g="channelsLast"===t.dataFormat,v=g?1:2,y=g?2:3,b=g?3:1,x="",A="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),A="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(v,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(f,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(g,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(g,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(g,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(g,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(A,"\n        setOutput(result);\n      }\n    ")})),LG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.filterDepth,f=t.filterHeight,p=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(f,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),zG=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Lj(this.outputShape.length);for(var r=n.dataFormat,a=rj(),i="channelsLast"===r,o=i?1:2,s=i?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),l="",c=0;c<=1;c++)for(var d=0;d<=1;d++)l+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(c,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function ZG(e,t){var n=e.length;return n>=3?[].concat((0,qr.Z)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function WG(e){var t,n=e.x,r=e.filter,a=e.convInfo,i=e.backend,o=e.bias,s=void 0===o?null:o,u=e.preluActivationWeights,l=void 0===u?null:u,c=e.leakyreluAlpha,d=void 0===c?0:c,f=e.activation,p=void 0===f?null:f,h=n.shape,m=i.texData.get(n.dataId),g=a.inChannels,v=h[0]*h[1]*h[2],y=a.outChannels,b="channelsLast"===a.dataFormat,x=[];if(null!=l){var A=ZG(l.shape,b);null!=A&&(l=rU({inputs:{x:l},backend:i,attrs:{shape:A}}),x.push(l))}if(null!=s){var w=ZG(s.shape,b);null!=w&&(s=rU({inputs:{x:s},backend:i,attrs:{shape:w}}),x.push(s))}if((1!==v&&1!==y||!(g>1e3))&&m.isPacked&&b&&null!=m.texture&&h[2]%2!==0&&bl.arraysEqual(m.shape.slice(-3),h.slice(-3))){var k=h[0]*h[1]*(h[2]+1),S={dataId:n.dataId,shape:[1,k,a.inChannels],dtype:n.dtype},C=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,bl.assert(VB(m.shape,S.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(S.shape," isn't free")}));var I=rU({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}});x.push(I);var E=mU({a:S,b:I,backend:i,transposeA:!1,transposeB:false,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d}),T=i.texData.get(E.dataId);bl.assert(T.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=C,T.shape=a.outShape,(t=LH({inputs:{x:E},backend:i})).shape=a.outShape,x.push(E)}else{var N=a.outHeight*a.outWidth,O=rU({inputs:{x:n},backend:i,attrs:{shape:b?[a.batchSize,N,a.inChannels]:[a.batchSize,a.inChannels,N]}}),P=rU({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}}),_=mU({a:b?O:P,b:b?P:O,transposeA:!b,transposeB:false,backend:i,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:d});t=rU({inputs:{x:_},backend:i,attrs:{shape:a.outShape}}),x.push(O),x.push(P),x.push(_)}for(var M=0,R=x;M<R.length;M++){var F=R[M];i.disposeIntermediateTensorInfo(F)}return t}function BG(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,o=void 0===i?null:i,s=e.preluActivationWeights,u=void 0===s?null:s,l=e.leakyreluAlpha,c=void 0===l?0:l,d=e.activation,f=void 0===d?null:d,p=r.filterWidth,h=r.filterHeight,m=r.inChannels,g=r.outWidth,v=r.outHeight,y="channelsLast"===r.dataFormat,b=p*h*m,x=v*g,A=[r.batchSize,b,x],w=[];if(null!=u){var k=ZG(u.shape,y);null!=k&&(u=rU({inputs:{x:u},backend:a,attrs:{shape:k}}),w.push(u))}if(null!=o){var S=ZG(o.shape,y);null!=S&&(o=rU({inputs:{x:o},backend:a,attrs:{shape:S}}),w.push(o))}var C=rU({inputs:{x:n},backend:a,attrs:{shape:[1,b,bl.sizeFromShape(n.shape)/b]}});w.push(C);var I=new zG(A,r),E=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],T=a.runWebGLProgram(I,[t],"float32",E),N=rU({inputs:{x:T},backend:a,attrs:{shape:A}});w.push(T),w.push(N);var O=null!=o,P=null!=u,_="leakyrelu"===f,M=f?qH(f,!0):null,R=new KH(y?N.shape:C.shape,y?C.shape:N.shape,y?[r.batchSize,x,r.outChannels]:[r.batchSize,r.outChannels,x],!0,!1,O,M,P,_),F=y?[N,C]:[C,N];if(o&&F.push(o),P&&F.push(u),_){var D=a.makeTensorInfo([],"float32",bl.createScalarValue(c,"float32"));F.push(D),w.push(D)}var L=a.runWebGLProgram(R,F,"float32"),z=rU({inputs:{x:L},backend:a,attrs:{shape:r.outShape}});w.push(L);for(var Z=0,W=w;Z<W.length;Z++){var B=W[Z];a.disposeIntermediateTensorInfo(B)}return z}var jG={kernelName:Co,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,u=a.pad,l=a.dataFormat,c=a.dilations,d=a.dimRoundingMode,f=Xb.convertConv2DDataFormat(l),p=Xb.computeConv2DInfo(i.shape,o.shape,s,c,u,d,!1,f);if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(Hi().getBool("WEBGL_CONV_IM2COL"))t=BG({x:i,filter:o,convInfo:p,backend:r});else{var h=new DG(p);t=r.runWebGLProgram(h,[i,o],"float32")}else t=WG({x:i,filter:o,convInfo:p,backend:r});var m=rU({inputs:{x:t},backend:r,attrs:{shape:p.outShape}});return r.disposeIntermediateTensorInfo(t),m}},VG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),HG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,l=o?1:2,c=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),UG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),GG=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,l=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var XG={kernelName:Io,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dimRoundingMode,c=r.filterShape,d=Xb.convertConv2DDataFormat(u),f=Xb.computeConv2DInfo(a.shape,c,o,1,s,l,!1,d),p=new VG(f);return n.runWebGLProgram(p,[a,i],"float32")}};var YG={kernelName:Eo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.inputShape,s=r.strides,u=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=Xb.convertConv2DDataFormat(l),f=Xb.computeConv2DInfo(o,i.shape,s,1,u,c,!1,d),p=new HG(f);return n.runWebGLProgram(p,[a,i],"float32")}};var qG={kernelName:To,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=Xb.computeConv3DInfo(a.shape,i.shape,o,u,s),c=new LG(l);return n.runWebGLProgram(c,[a,i],"float32")}};var KG={kernelName:No,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,u=r.filterShape,l=Xb.computeConv3DInfo(a.shape,u,o,1,s),c=new UG(l);return n.runWebGLProgram(c,[a,i],"float32")}};var JG={kernelName:Oo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.pad,s=r.strides,u=r.inputShape,l=Xb.computeConv3DInfo(u,i.shape,s,1,o),c=new GG(l);return n.runWebGLProgram(c,[a,i],"float32")}},QG=XH({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),$G={kernelName:Po,backendName:"webgl",kernelFunc:QG},eX=XH({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),tX={kernelName:_o,backendName:"webgl",kernelFunc:eX},nX=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var s=(0,o.Z)(t,4),u=s[0],l=s[1],c=s[2],d=s[3],f=(0,o.Z)(n,1)[0],p=(0,o.Z)(r,2),h=p[0],m=p[1];this.outputShape=[f,h,m,d];var g="bilinear"===a?1:0,v="".concat(l-1,".0"),y="".concat(c-1,".0"),b=h>1?["".concat((l-1)/(h-1)),"(y2-y1) * height_ratio","y1*".concat(v," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(v)],x=(0,o.Z)(b,3),A=x[0],w=x[1],k=x[2],S=m>1?["".concat((c-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(y," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(y)],C=(0,o.Z)(S,3),I=C[0],E=C[1],T=C[2];this.userCode="\n      const float height_ratio = float(".concat(A,");\n      const float width_ratio = float(").concat(I,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(u,") {\n          return;\n        }\n\n        float height_scale = ").concat(w,";\n        float width_scale = ").concat(E,";\n\n        float in_y = ").concat(k,";\n        if( in_y < 0.0 || in_y > ").concat(v," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(T,";\n        if( in_x < 0.0 || in_x > ").concat(y," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(g," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),rX={kernelName:Fo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,l=r.extrapolationValue,c=new nX(a.shape,i.shape,s,u,l);return n.runWebGLProgram(c,[a,i,o],"float32")}},aX=(0,Gr.Z)((function e(t,n,r,a){(0,Ur.Z)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var i=this.outputShape.length,o="*"===this.op?"1.0":"0.0",s=r?o:"getX(".concat(iX(i,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],l="",c="";r?(l=a?"end != ".concat(u-1):"end != 0",c=a?"end + 1":"end - 1"):(l=a?"end + pow2 < ".concat(u):"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Tj(i)," coords = getOutputCoords();\n        int end = ").concat(oX(i,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(l,") {\n          int idx = ").concat(c,";\n          ").concat(oX(i,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(iX(i,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function iX(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function oX(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function sX(e,t,n,r,a,i){var o=t.shape.length,s=Xb.getAxesPermutation([r],o),u=t;null!=s&&(u=pU({inputs:{x:t},backend:n,attrs:{perm:s}}));var l=Xb.getInnerMostAxes(1,o)[0];if(l!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," but got axis=").concat(r));for(var c=u.shape[l],d=LH({inputs:{x:u},backend:n}),f=0;f<=Math.ceil(Math.log2(c))-1;f++){var p=new aX(e,u.shape,!1,i),h=[[f]],m=d;d=n.runWebGLProgram(p,[d],d.dtype,h),n.disposeIntermediateTensorInfo(m)}if(a){var g=new aX(e,u.shape,a,i),v=d;d=n.runWebGLProgram(g,[d],d.dtype),n.disposeIntermediateTensorInfo(v)}if(null!=s){var y=pU({inputs:{x:d},backend:n,attrs:{perm:Xb.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(u),y}return d}var uX={kernelName:Mo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return sX("*",t.x,n,r.axis,r.exclusive,r.reverse)}};var lX={kernelName:Ro,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return sX("+",t.x,n,r.axis,r.exclusive,r.reverse)}};var cX={kernelName:Do,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),l=n.readSync(i.dataId),c=mV(u,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}if(2===a.shape.length){var d=n.bufferSync(a),f=n.bufferSync(i),p=gV(d,f,o,s);return n.makeTensorInfo(p.shape,i.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank".concat(a.shape.length,"."))}},dX=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,Gr.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var fX={kernelName:Lo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,l=("NHWC"===o?a.shape[2]:a.shape[3])*i,c=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=new dX("NHWC"===o?[s,u,l,c]:[s,c,u,l],i,o);return n.runWebGLProgram(d,[a],a.dtype)}},pX=(0,Gr.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Lj(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,l="",c="";r&&(l=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),c="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")})),hX=(0,Gr.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Lj(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,u=t.strideWidth,l=t.dilationWidth,c=t.filterHeight,d=t.filterWidth,f=d,p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",h=0;h<d;h++)p+="\n          vec4 xTexelC".concat(2*h,";\n          int xTexelC").concat(2*h,"Ready;\n          vec4 xTexelC").concat(2*h+1,";\n          int xTexelC").concat(2*h+1,"Ready;\n          vec4 xC").concat(h,";");p+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(var m=0;m<d;m++)p+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var g=0;g<(f+1)/2;g++){var v=2*g;if(p+="\n          xC = xCCorner + ".concat(v*l,";\n          "),1===u){if(v<d&&(s%2===1?(p+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(v,"Ready == 0) {\n                  xTexelC").concat(v," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(v,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(v,"Ready = 1;\n                }\n              "),p+=1===l&&v>0?"\n                xC".concat(v," = vec4(xTexelC").concat(v-2,".zw, xTexelC").concat(v,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(v," = vec4(previous.zw, xTexelC").concat(v,".xy);\n                  } else {\n                    xC").concat(v," = vec4(0.0, 0.0, xTexelC").concat(v,".xy);\n                  }\n                  ")):p+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(v,"Ready == 0) {\n                  xTexelC").concat(v," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(v,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(v,"Ready = 1;\n                }\n\n                xC").concat(v," = xTexelC").concat(v,";\n                "),v+1<d)){var y=s%2===0?bl.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(p+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(v+1,"Ready == 0) {\n                    xTexelC").concat(v+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(v+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(v+1,"Ready = 1;\n                  }\n                  "),l>1&&(p+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(v,"Ready == 0) {\n                      xTexelC").concat(v," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(v,"Ready = 1;\n                    }\n                    ")),p+="\n                  xC".concat(v+1," = vec4(xTexelC").concat(v,".zw, xTexelC").concat(v+1,".xy);\n                  ")):p+=1===y?"\n                    xC".concat(v+1," = xTexelC").concat(v,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(v+1,"Ready == 0) {\n                      xTexelC").concat(v+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(v+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(v+1,"Ready = 1;\n                    }\n\n                    xC").concat(v+1," = xTexelC").concat(v+1,";\n                    ")}}else v<d&&(s%2===1?(p+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(v,"Ready == 0) {\n                  xTexelC").concat(v," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(v,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(v,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(v+1,"Ready == 0) {\n                  xTexelC").concat(v+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(v+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(v+1,"Ready = 1;\n                }\n\n                xC").concat(v," = vec4(xTexelC").concat(v,".zw, xTexelC").concat(v+1,".zw);\n              "),v+1<d&&(p+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(v+1," = vec4(xTexelC").concat(v+1,".xy, final.xy);\n                "))):(p+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(v,"Ready == 0) {\n                  xTexelC").concat(v," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(v,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(v,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(v+1,"Ready == 0) {\n                  xTexelC").concat(v+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(v+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(v+1,"Ready = 1;\n                }\n\n                xC").concat(v," = vec4(\n                  xTexelC").concat(v,".xy, xTexelC").concat(v+1,".xy);\n              "),v+1<d&&(p+="\n                  xC".concat(v+1," = vec4(xTexelC").concat(v,".zw, xTexelC").concat(v+1,".zw);\n                "))));v<d&&(p+="\n            wTexel = getW(r, ".concat(v,", d1, q);\n            dotProd += xC").concat(v," * vec4(wTexel.xz, wTexel.xz);\n          "),v+1<d&&(p+="\n              wTexel = getW(r, ".concat(v+1,", d1, q);\n              dotProd += xC").concat(v+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}p+="\n    }\n  ",p+="\n      }\n    ";var b="",x="";r&&(b=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(p,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(A,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}));var mX={kernelName:zo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=r.dimRoundingMode,c=u;null==c&&(c=[1,1]),bl.assert(Xb.eitherStridesOrDilationsAreOne(o,c),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(c,"'")}));var d,f=Xb.computeConv2DInfo(a.shape,i.shape,o,c,s,l,!0);d=Hi().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?new hX(f):new pX(f);var p=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",p)}},gX=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),vX=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var yX={kernelName:Zo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.dilations,u=r.pad,l=r.dimRoundingMode,c=r.filterShape,d=Xb.computeConv2DInfo(a.shape,c,o,s,u,l,!0),f=new gX(d);return n.runWebGLProgram(f,[a,i],"float32")}};var bX={kernelName:Wo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.strides,s=r.dilations,u=r.pad,l=r.dimRoundingMode,c=r.inputShape,d=Xb.computeConv2DInfo(c,i.shape,o,s,u,l,!0),f=new vX(d);return n.runWebGLProgram(f,[a,i],"float32")}},xX=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var AX={kernelName:Bo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,qr.Z)(r.shape),(0,qr.Z)(r.shape)),i=bl.sizeFromShape(r.shape),o=rU({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new xX(i),u=n.runWebGLProgram(s,[o],o.dtype),l=rU({inputs:{x:u},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),l}},wX=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,l=t.dilationHeight,c=t.dilationWidth,d=a.top,f=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(f,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var kX={kernelName:jo,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,u=a.pad,l=a.dilations,c=Xb.computeDilation2DInfo(i.shape,o.shape,s,u,"NHWC",l),d=new wX(c),f=rU({inputs:{x:t=r.runWebGLProgram(d,[i,o],"float32")},backend:r,attrs:{shape:c.outShape}});return r.disposeIntermediateTensorInfo(t),f}};var SX={kernelName:Go,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=Xb.decodeEinsumEquation(r,a.length),o=i.allDims,s=i.summedDims,u=i.idDims;Xb.checkEinsumDimSizes(o.length,u,a);for(var l=Xb.getEinsumComputePath(s,u),c=l.path,d=l.steps,f=d.length,p=null,h=o.length,m=[],g=0;g<f;++g){var v,y=Yr(d[g]);try{for(y.s();!(v=y.n()).done;){var b=v.value,x=Xb.getEinsumPermutation(h,u[b]),A=x.permutationIndices,w=x.expandDims,k=void 0;Xb.isIdentityPermutation(A)?k=a[b]:(k=pU({inputs:{x:a[b]},backend:n,attrs:{perm:A}}),m.push(k));for(var S=k.shape.slice(),C=0;C<w.length;++C)S.splice(w[C],0,1);bl.arraysEqual(k.shape,S)||(k=rU({inputs:{x:k},backend:n,attrs:{shape:S}}),m.push(k)),null===p?p=k:(p=tU({inputs:{a:k,b:p},backend:n}),m.push(p))}}catch(N){y.e(N)}finally{y.f()}g<f-1&&(c[g]>=0&&(p=dU({inputs:{x:p},backend:n,attrs:{axis:c[g]-(o.length-h),keepDims:!1}}),m.push(p)),h--)}for(var I=0,E=m;I<E.length;I++){var T=E[I];T!==p&&n.disposeIntermediateTensorInfo(T)}return p}},CX=XH({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),IX={kernelName:Xo,backendName:"webgl",kernelFunc:CX},EX={kernelName:Yo,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,i=Hi().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new DH("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new FH("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},TX=YH({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:bV}),NX={kernelName:Ko,backendName:"webgl",kernelFunc:TX},OX=XH({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(Xb.ERF_P,";\n  float a1 = ").concat(Xb.ERF_A1,";\n  float a2 = ").concat(Xb.ERF_A2,";\n  float a3 = ").concat(Xb.ERF_A3,";\n  float a4 = ").concat(Xb.ERF_A4,";\n  float a5 = ").concat(Xb.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),PX={kernelName:qo,backendName:"webgl",kernelFunc:OX},_X=XH({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:xV,dtype:"float32"}),MX={kernelName:Jo,backendName:"webgl",kernelFunc:_X};function RX(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,o=i.shape.length,s=i.shape.slice(),u=a;return a<0&&(bl.assert(-(o+1)<=a,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),u=o+a+1),s.splice(u,0,1),rU({inputs:{x:i},backend:r,attrs:{shape:s}})}var FX={kernelName:Qo,backendName:"webgl",kernelFunc:RX},DX="return exp(x) - 1.0;",LX=XH({opSnippet:DX,packedOpSnippet:DX,cpuKernelImpl:AV}),zX={kernelName:$o,backendName:"webgl",kernelFunc:LX},ZX=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function WX(e,t,n){var r=n.texData.get(e.dataId),a=bl.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],o=rU({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),s=o.shape,u=new ZX("real",s,t),l=new ZX("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(u,c,"float32"),f=n.runWebGLProgram(l,c,"float32"),p=ZH({inputs:{real:d,imag:f},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f);var h=rU({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(p),h}var BX={kernelName:es,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return WX(t.input,!1,n)}},jX=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function VX(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||bl.inferDtype(a))){var o=bl.getArrayFromDType(i,bl.sizeFromShape(r));return o.fill(a),t.makeTensorInfo(r,i,o)}var s=new jX(r,a),u=[[a]];return t.runWebGLProgram(s,[],i,u)}var HX,UX={kernelName:ts,backendName:"webgl",kernelFunc:VX},GX=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),XX={kernelName:ns,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new GX(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},YX="return floor(x);",qX=XH({opSnippet:YX,packedOpSnippet:YX,cpuKernelImpl:wV}),KX={kernelName:rs,backendName:"webgl",kernelFunc:qX},JX=YH({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),QX={kernelName:as,backendName:"webgl",kernelFunc:JX},$X=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"];var n=rj(),r=(0,o.Z)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),eY=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=rj(),r=(0,o.Z)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),tY={kernelName:tl,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,s="undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement,u="undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement,l=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=(0,o.Z)(l,2),d=c[0],f=c[1],p=[f,d],h=[f,d,i];(u||s)&&(null==HX&&(HX=document.createElement("canvas").getContext("2d")),HX.canvas.width=d,HX.canvas.height=f,HX.drawImage(a,0,0,d,f),a=HX.canvas);var m=n.makeTensorInfo(p,"int32");n.texData.get(m.dataId).usage=2,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=Hi().getBool("WEBGL_PACK")?new eY(h):new $X(h),v=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),v}};var nY={kernelName:al,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=n.bias,u=n.preluActivationWeights,l=a.strides,c=a.pad,d=a.dataFormat,f=a.dilations,p=a.dimRoundingMode,h=a.activation,m=a.leakyreluAlpha,g=Xb.convertConv2DDataFormat(d),v=Xb.computeConv2DInfo(i.shape,o.shape,l,f,c,p,!1,g),y=[];if(1!==v.filterHeight||1!==v.filterWidth||1!==v.dilationHeight||1!==v.dilationWidth||1!==v.strideHeight||1!==v.strideWidth||"SAME"!==v.padInfo.type&&"VALID"!==v.padInfo.type)if(Hi().getBool("WEBGL_CONV_IM2COL"))t=BG({x:i,filter:o,convInfo:v,backend:r,bias:s,activation:h,preluActivationWeights:u,leakyreluAlpha:m});else{var b=null!=s,x=null!=u,A="leakyrelu"===h,w=h?qH(h,!1):null,k=new DG(v,b,w,x,A),S=[i,o],C=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=rU({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return y.push(n),n}return e};if(b&&S.push(C(s,d)),x&&S.push(C(u,d)),A){var I=r.makeTensorInfo([],"float32",bl.createScalarValue(m,"float32"));S.push(I),y.push(I)}t=r.runWebGLProgram(k,S,"float32")}else t=WG({x:i,filter:o,convInfo:v,backend:r,bias:s,activation:h,preluActivationWeights:u,leakyreluAlpha:m});var E=rU({inputs:{x:t},backend:r,attrs:{shape:v.outShape}});return y.push(t),y.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),E}};var rY={kernelName:il,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dilations,d=r.dimRoundingMode,f=r.activation,p=r.leakyreluAlpha,h=[],m=c;null==m&&(m=[1,1]),bl.assert(Xb.eitherStridesOrDilationsAreOne(u,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ".concat(u," and dilations '").concat(m,"'")}));var g,v=Xb.computeConv2DInfo(a.shape,i.shape,u,m,l,d,!0),y=Hi().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels===1,b=f?qH(f,y):null,x=[a,i],A=null!=o,w=null!=s,k="leakyrelu"===f;if(A&&x.push(o),w&&x.push(s),k){var S=n.makeTensorInfo([],"float32",bl.createScalarValue(p,"float32"));x.push(S),h.push(S)}g=y?new hX(v,A,b,w,k):new pX(v,A,b,w,k);var C=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],I=n.runWebGLProgram(g,x,"float32",C);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),I}},aY=(0,Gr.Z)((function e(t,n,r,a){(0,Ur.Z)(this,e),this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;var i=Tj(n.length),o=Tj(r.length),s=this.sliceDim>1?"strides[j]":"strides",u=Tj(a.length),l=a.length>1?"paramsShape[j]":"paramsShape";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(this.strides,");\n        ").concat(u," paramsShape = ").concat(u,"(").concat(this.paramsShape,");\n         void main() {\n          ").concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            out_of_bounds = out_of_bounds || index < 0;\n            out_of_bounds = out_of_bounds || index >= ").concat(l,";\n            flattenIndex += index * ").concat(s,";\n          }\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}));var iY={kernelName:ss,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,s=i[i.length-1],u=bl.sizeFromShape(r.shape),l=Xb.prepareAndValidate(r,a),c=(0,o.Z)(l,4),d=c[0],f=c[1],p=c[2],h=c[3],m=rU({inputs:{x:a},backend:n,attrs:{shape:[f,s]}}),g=rU({inputs:{x:r},backend:n,attrs:{shape:[bl.sizeFromShape(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var v=n.readSync(a.dataId),y=n.bufferSync(r),b=kV(v,y,r.dtype,f,s,p,h,r.shape,u);return n.makeTensorInfo(d,r.dtype,b.values)}var x=new aY(s,h,[f,p],r.shape),A=n.runWebGLProgram(x,[g,m],g.dtype),w=rU({inputs:{x:A},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(A),w}},oY=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Tj(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}));function sY(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims,u=bl.parseAxisParam(o,a.shape)[0];Hi().get("DEBUG")&&function(){for(var e=n.readSync(i.dataId),t=a.shape[u],r=function(n){var r=e[n];bl.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},o=0;o<e.length;++o)r(o)}();var l=Xb.segment_util.collectGatherOpShapeInfo(a,i,u,s),c=bl.sizeFromShape(i.shape),d=[],f=rU({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=rU({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,c/l.batchSize]}});d.push(f),d.push(p);var h=[l.batchSize,l.outerSize,c/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){var m=n.bufferSync(p),g=n.bufferSync(f),v=SV(g,m,h);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,v.dtype,v.values)}var y=new oY(f.shape,h),b=n.runWebGLProgram(y,[f,p],f.dtype);d.push(b);var x=rU({inputs:{x:b},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}var uY={kernelName:os,backendName:"webgl",kernelFunc:sY},lY=YH({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:CV,dtype:"bool"}),cY={kernelName:us,backendName:"webgl",kernelFunc:lY},dY=YH({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:IV}),fY={kernelName:ls,backendName:"webgl",kernelFunc:dY};var pY={kernelName:ds,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return WX(t.input,!0,n)}},hY=XH({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),mY={kernelName:ps,backendName:"webgl",kernelFunc:hY},gY=XH({opSnippet:"return float(isinf(x));",dtype:"bool"}),vY={kernelName:hs,backendName:"webgl",kernelFunc:gY},yY=XH({opSnippet:"return float(isnan(x));",dtype:"bool"}),bY={kernelName:ms,backendName:"webgl",kernelFunc:yY},xY=YH({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:EV,dtype:"bool"}),AY={kernelName:vs,backendName:"webgl",kernelFunc:xY},wY=YH({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:TV,dtype:"bool"}),kY={kernelName:ys,backendName:"webgl",kernelFunc:wY};var SY={kernelName:bs,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=NV(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},CY=XH({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:OV}),IY={kernelName:xs,backendName:"webgl",kernelFunc:CY},EY=XH({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),TY={kernelName:As,backendName:"webgl",kernelFunc:EY},NY=YH({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),OY={kernelName:ws,backendName:"webgl",kernelFunc:NY},PY=XH({opSnippet:"return float(!(x >= 1.0));"}),_Y={kernelName:ks,backendName:"webgl",kernelFunc:PY},MY=YH({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),RY={kernelName:Ss,backendName:"webgl",kernelFunc:MY},FY=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var o=n,s=t[3]-1;this.outputShape=t;var u,l="float(".concat(r,") + float(").concat(a,") * sum");u=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(o,"; j <= ").concat(o,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(s,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(u,";\n        setOutput(val);\n      }\n    ")})),DY=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o=n,s=t[3]-1;this.outputShape=t;var u,l="float(".concat(r,") + float(").concat(a,") * sum");u=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(o,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(o,"; j <= ").concat(o,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(s,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(u,";\n        setOutput(result);\n      }\n    ")})),LY={kernelName:Ts,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,o=r.bias,s=r.alpha,u=r.beta,l=Hi().getBool("WEBGL_PACK_NORMALIZATION")?new DY(a.shape,i,o,s,u):new FY(a.shape,i,o,s,u);return n.runWebGLProgram(l,[a],a.dtype)}},zY=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),ZY={kernelName:Ns,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,u=r.bias,l=r.alpha,c=r.beta,d=new zY(a.shape,s,u,l,c);return n.runWebGLProgram(d,[a,i,o],a.dtype)}};function WY(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,s=r.keepDims,u=a.shape.length,l=bl.parseAxisParam(i,a.shape),c=l,d=Xb.getAxesPermutation(c,u),f=null!=d,p=n.shouldExecuteOnCPU([a]),h=a;if(f){if(p){for(var m=n.texData.get(h.dataId).values,g=new Array(u),v=0;v<g.length;v++)g[v]=a.shape[d[v]];var y=tH(m,a.shape,a.dtype,d,g);h=n.makeTensorInfo(g,a.dtype),n.texData.get(h.dataId).values=y}else h=cU(a,d,n);c=Xb.getInnerMostAxes(c.length,u)}Xb.assertAxesAreInnerMostDims("max",c,u);var b,x=Xb.computeOutAndReduceShapes(h.shape,c),A=(0,o.Z)(x,2),w=A[0],k=A[1],S=w;if(s&&(S=Xb.expandShapeToKeepDim(w,l)),p){m=n.texData.get(h.dataId).values,g=PV(m,bl.sizeFromShape(k),S,a.dtype);b=n.makeTensorInfo(S,a.dtype),(y=n.texData.get(b.dataId)).values=g}else b=function(e,t,n,r){var a=bl.sizeFromShape(t),i=rU({inputs:{x:e},attrs:{shape:[bl.sizeFromShape(e.shape)/a,a]},backend:r}),o=sU(i,e.dtype,"max",r),s=rU({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(h,k,S,n);return f&&n.disposeIntermediateTensorInfo(h),b}var BY={kernelName:Os,backendName:"webgl",kernelFunc:WY},jY=YH({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:_V}),VY={kernelName:Ps,backendName:"webgl",kernelFunc:jY};var HY={kernelName:_s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;tj(a,"maxPool");var i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode;bl.assert(Xb.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=Xb.computePool2DInfo(a.shape,i,o,1,s,u);if(1===l.filterWidth&&1===l.filterHeight&&bl.arraysEqual(l.inShape,l.outShape))return LH({inputs:{x:a},backend:n});var c=new YU(l,"max",!1);return n.runWebGLProgram(c,[a],a.dtype)}};var UY={kernelName:Rs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,u=r.dataFormat,l=r.dimRoundingMode,c=Xb.computePool3DInfo(a.shape,i,o,[1,1,1],s,l,u),d=new qU(c,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},GY=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,u=o-1-t.padInfo.left,l=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),XY=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=u-1-t.padInfo.front,f=l-1-t.padInfo.top,p=c-1-t.padInfo.left,h=u*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(f,", ").concat(p,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var YY={kernelName:Fs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode,c=Xb.computePool3DInfo(i.shape,o,s,[1,1,1],u,l),d=new qU(c,"max",!0),f=n.runWebGLProgram(d,[i],i.dtype),p=new XY(c),h=n.runWebGLProgram(p,[a,f],i.dtype);return n.disposeIntermediateTensorInfo(f),h}};var qY={kernelName:Ms,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;tj([i,t.output],"maxPoolGrad");var s=r.filterSize,u=r.strides,l=r.pad,c=r.dimRoundingMode,d=Xb.computePool2DInfo(o.shape,s,u,1,l,c),f=new YU(d,"max",!0),p=n.runWebGLProgram(f,[o],o.dtype),h=new GY(d),m=n.runWebGLProgram(h,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),m}};var KY={kernelName:Ds,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,s=n.strides,u=n.pad,l=n.includeBatchInIndex,c=r;bl.assert(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var d=[1,1];bl.assert(Xb.eitherStridesOrDilationsAreOne(s,d),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides ".concat(s," and dilations '").concat(d,"'")}));var f=Xb.computePool2DInfo(a.shape,i,s,d,u),p=function(e,t,n,r){var a=new YU(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new YU(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,f,c),h=(0,o.Z)(p,2);return[h[0],h[1]]}};var JY={kernelName:Ls,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.keepDims,s=n.axis,u=r,l=a.shape.length,c=bl.parseAxisParam(s,a.shape),d=c,f=Xb.getAxesPermutation(d,l),p=null!=f,h=u.shouldExecuteOnCPU([a]),m=[],g=a;if(p){if(h){for(var v=u.texData.get(g.dataId).values,y=new Array(l),b=0;b<y.length;b++)y[b]=a.shape[f[b]];var x=tH(v,a.shape,a.dtype,f,y);g=u.makeTensorInfo(y,a.dtype),u.texData.get(g.dataId).values=x}else g=cU(a,f,u);m.push(g),d=Xb.getInnerMostAxes(d.length,l)}Xb.assertAxesAreInnerMostDims("sum",d,l);var A=Xb.computeOutAndReduceShapes(g.shape,d),w=(0,o.Z)(A,2),k=w[0],S=w[1],C=k;i&&(C=Xb.expandShapeToKeepDim(k,c));for(var I=function(e,t,n,r){var a=bl.sizeFromShape(t),i=rU({inputs:{x:e},attrs:{shape:[bl.sizeFromShape(e.shape)/a,a]},backend:r}),o=sU(i,"float32","mean",r),s=rU({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(g,S,C,u),E=0,T=m;E<T.length;E++){var N=T[E];u.disposeIntermediateTensorInfo(N)}return I}};var QY={kernelName:zs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,s=r.keepDims,u=a.shape.length,l=bl.parseAxisParam(i,a.shape),c=l,d=Xb.getAxesPermutation(c,u),f=a;null!=d&&(f=pU({inputs:{x:a},backend:n,attrs:{perm:d}}),c=Xb.getInnerMostAxes(c.length,a.shape.length)),Xb.assertAxesAreInnerMostDims("min",c,u);var p,h=Xb.computeOutAndReduceShapes(f.shape,c),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=rU({inputs:{x:f},backend:n,attrs:{shape:[-1,bl.sizeFromShape(v)]}}),b=sU(y,y.dtype,"min",n);return p=rU(s?{inputs:{x:b},backend:n,attrs:{shape:Xb.expandShapeToKeepDim(g,l)}}:{inputs:{x:b},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),null!=d&&n.disposeIntermediateTensorInfo(f),p}},$Y=YH({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:MV}),eq={kernelName:Zs,backendName:"webgl",kernelFunc:$Y},tq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Tj(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),nq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Tj(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=aH("rc",a),l=aH("source",a),c="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),f="reflect"===r?0:1,p="";if(1===a){var h="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(f,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(f,";\n        }\n        source -= start;\n      ");p="\n        ".concat(i," rc = outputLoc;\n        ").concat(h,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(h,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(f,") +\n                gte * ((end - 1) * 2 - source + ").concat(f,");\n        source -= start;\n      ");p="\n        ".concat(i," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[a-2]," += 1;\n        if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          ").concat(u[a-1]," += 1;\n          if(").concat(c,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")})),rq={kernelName:Ws,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.mode,s=Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nq(a.shape,i,o):new tq(a.shape,i,o);return n.runWebGLProgram(s,[a],a.dtype)}},aq=YH({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),iq={kernelName:Bs,backendName:"webgl",kernelFunc:aq},oq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),sq=YH({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),uq={kernelName:Uo,backendName:"webgl",kernelFunc:sq},lq="return a - b;",cq=YH({opSnippet:lq,packedOpSnippet:lq,supportsComplex:!0,cpuKernelImpl:QV}),dq={kernelName:ju,backendName:"webgl",kernelFunc:cq};function fq(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,o=bl.parseAxisParam([i],a.shape),s=WY({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),u=Xb.expandShapeToKeepDim(s.shape,o),l=rU({inputs:{x:s},backend:n,attrs:{shape:u}}),c=cq({inputs:{a:a,b:l},backend:n}),d=_X({inputs:{x:c},backend:n}),f=dU({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),p=rU({inputs:{x:f},backend:n,attrs:{shape:u}}),h=sq({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),h}var pq={kernelName:Ou,backendName:"webgl",kernelFunc:fq};var hq={kernelName:js,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized,u=s?a:fq({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),l=u.shape[0],c=u.shape[1],d=new oq(l,c,i),f=[[o]],p=n.runWebGLProgram(d,[u],"int32",f);return s||n.disposeIntermediateTensorInfo(u),p}};var mq={kernelName:Hs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var i=r.texData.get(a.dataId),s=FV(i.values,a.shape,a.dtype),u=(0,o.Z)(s,2),l=u[0],c=u[1];return r.makeTensorInfo(c,a.dtype,l)}return t=Hi().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new CH(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new dH(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[a],a.dtype)}},gq=Xx.nonMaxSuppressionV3Impl;var vq={kernelName:Gs,backendName:"webgl",kernelFunc:function(e){Xb.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=n.readSync(a.dataId),c=n.readSync(i.dataId),d=gq(l,c,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},yq=Xx.nonMaxSuppressionV4Impl;var bq={kernelName:Xs,backendName:"webgl",kernelFunc:function(e){Xb.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.padToMaxOutputSize,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=yq(c,d,o,s,u,l),p=f.selectedIndices,h=f.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},xq=Xx.nonMaxSuppressionV5Impl;var Aq={kernelName:Ys,backendName:"webgl",kernelFunc:function(e){Xb.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.softNmsSigma,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=xq(c,d,o,s,u,l),p=f.selectedIndices,h=f.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},wq=(0,Gr.Z)((function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),kq={kernelName:Ks,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,o=r.onValue,s=r.offValue,u=bl.sizeFromShape(a.shape),l=new wq(u,i,o,s),c=rU({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(l,[c],a.dtype);n.disposeIntermediateTensorInfo(c);var f=rU({inputs:{x:d},backend:n,attrs:{shape:[].concat((0,qr.Z)(a.shape),[i])}});return n.disposeIntermediateTensorInfo(d),f}};function Sq(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=gG({inputs:{input:r},backend:n}),i=Sq({inputs:{x:a},backend:n}),o=PG({inputs:{input:r},backend:n}),s=Sq({inputs:{x:o},backend:n}),u=ZH({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return VX({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Cq={kernelName:$u,backendName:"webgl",kernelFunc:Sq};var Iq={kernelName:qs,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=gG({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=PG({inputs:{input:a},backend:r}),u=Sq({inputs:{x:s},backend:r}),l=ZH({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return VX({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var Eq={kernelName:Js,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return RX({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){bl.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),bl.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=RX({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),u=RG({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}},Tq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Tj(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Nq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=Tj(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=aH("rc",a),l=aH("source",a),c="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),f=["".concat(i," rc = outputLoc;"),"".concat(u[a-1]," += 1;\n       if(").concat(c,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(u[a-2]," += 1;\n       if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(u[a-1]," += 1;\n         if(").concat(c,") {")],p=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",m=0,g=1===a?2:4;m<g;m++)h+="\n        ".concat(f[m],"\n        if (").concat(p,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(l.join(),"), ").concat(d,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),Oq=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;if(0===bl.sizeFromShape(a.shape)){var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]}));return VX({backend:n,attrs:{shape:s,value:o,dtype:a.dtype}})}var u=Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Nq(a.shape,i,o):new Tq(a.shape,i,o),l=[[o]];return n.runWebGLProgram(u,[a],a.dtype,l)},Pq={kernelName:Qs,backendName:"webgl",kernelFunc:Oq},_q=YH({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Mq={kernelName:eu,backendName:"webgl",kernelFunc:_q};var Rq={kernelName:nu,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,s=a.axis,u=a.keepDims,l=i.shape.length,c=[],d=bl.parseAxisParam(s,i.shape),f=d,p=Xb.getAxesPermutation(f,l),h=i;if(null!=p&&(h=pU({inputs:{x:i},backend:r,attrs:{perm:p}}),f=Xb.getInnerMostAxes(f.length,l),c.push(h)),Xb.assertAxesAreInnerMostDims("prod",f,l),r.shouldExecuteOnCPU([h])){var m=r.texData.get(h.dataId).values,g=LV(h.shape,h.dtype,m,f),v=g.outVals,y=g.outShape,b=g.outDtype;t=r.makeTensorInfo(y,b,v)}else{var x=Xb.computeOutAndReduceShapes(h.shape,f),A=(0,o.Z)(x,2),w=A[0],k=A[1],S=bl.sizeFromShape(k),C=rU({inputs:{x:h},backend:r,attrs:{shape:[-1,S]}}),I=sU(C,dc(i.dtype),"prod",r);t=rU({inputs:{x:I},backend:r,attrs:{shape:w}}),c.push(C),c.push(I)}if(u){c.push(t);var E=Xb.expandShapeToKeepDim(t.shape,d);t=rU({inputs:{x:t},backend:r,attrs:{shape:E}})}return c.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},Fq=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=zV(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},Dq={kernelName:ru,backendName:"webgl",kernelFunc:Fq},Lq=XH({opSnippet:"return 1.0 / x;"}),zq={kernelName:iu,backendName:"webgl",kernelFunc:Lq},Zq=XH({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Wq={kernelName:ou,backendName:"webgl",kernelFunc:Zq},Bq=XH({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),jq={kernelName:fu,backendName:"webgl",kernelFunc:Bq},Vq=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var s=(0,o.Z)(t,4),u=s[0],l=s[1],c=s[2],d=s[3];this.outputShape=[u,n,r,d];var f,p=[a&&n>1?l-1:l,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r];f=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/h[0],",\n          ").concat(p[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),Hq=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=(0,o.Z)(t,4),u=s[0],l=s[1],c=s[2],d=s[3];this.outputShape=[u,n,r,d];var f,p=[a&&n>1?l-1:l,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r];f=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/h[0],",\n          ").concat(p[1]/h[1],",\n          ").concat(p[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var Uq={kernelName:cu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,u=r.size,l=(0,o.Z)(u,2),c=l[0],d=l[1],f=Hi().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Hq(a.shape,c,d,i,s):new Vq(a.shape,c,d,i,s);return n.runWebGLProgram(f,[a],"float32")}},Gq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,o.Z)(n,3),i=a[1],s=a[2],u=(0,o.Z)(t,3),l=u[1],c=u[2],d=[r&&l>1?i-1:i,r&&c>1?s-1:s],f=[r&&l>1?l-1:l,r&&c>1?c-1:c],p=d[0]/f[0],h=d[1]/f[1],m=1/p,g=1/h,v=2*Math.ceil(m)+2,y=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(y,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(l,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(s-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var Xq={kernelName:du,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new Gq(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},Yq=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var s=(0,o.Z)(t,4),u=s[0],l=s[1],c=s[2],d=s[3];this.outputShape=[u,n,r,d];var f,p=[a&&n>1?l-1:l,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r],m=a?"0.5":"0.0";f=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/h[0],",\n          ").concat(p[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),qq=(0,Gr.Z)((function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=(0,o.Z)(t,4),u=s[0],l=s[1],c=s[2],d=s[3];this.outputShape=[u,n,r,d];var f,p=[a&&n>1?l-1:l,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r],m=a?"0.5":"0.0";f=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/h[0],",\n          ").concat(p[1]/h[1],",\n          ").concat(p[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(f,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var Kq={kernelName:uu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,u=r.size,l=(0,o.Z)(u,2),c=l[0],d=l[1],f=Hi().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qq(a.shape,c,d,i,s):new Yq(a.shape,c,d,i,s);return n.runWebGLProgram(f,[a],a.dtype)}},Jq=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,o.Z)(n,3),i=a[1],s=a[2],u=(0,o.Z)(t,3),l=u[1],c=u[2],d=[r&&l>1?i-1:i,r&&c>1?s-1:s],f=[r&&l>1?l-1:l,r&&c>1?c-1:c],p=d[0]/f[0],h=d[1]/f[1],m=1/p,g=1/h,v=2*Math.ceil(m)+2,y=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(y,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(l,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(d[0],") *\n                (float(dyR) / float(").concat(f[0],"));\n\n            float sourceFracCol =\n                float(").concat(d[1],") *\n                  (float(dyC) / float(").concat(f[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(s,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var Qq={kernelName:lu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new Jq(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},$q=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),i=Tj(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),eK=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=aH("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Tj(r);function u(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var tK={kernelName:pu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,o=a.shape.length,s=bl.parseAxisParam(i,a.shape);if(0===o)return LH({inputs:{x:a},backend:n});var u=Hi().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eK(a.shape,s):new $q(a.shape,s);return n.runWebGLProgram(u,[a],a.dtype)}},nK=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"==typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),rK={kernelName:nl,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,u=n.center,l=r,c=new nK(a.shape,s),d=Xb.getImageCenter(u,a.shape[1],a.shape[2]),f=(0,o.Z)(d,2),p=[[f[0],f[1],Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(c,[a],a.dtype,p)}},aK=XH({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),iK={kernelName:hu,backendName:"webgl",kernelFunc:aK},oK=XH({opSnippet:"return inversesqrt(x);",cpuKernelImpl:ZV}),sK={kernelName:mu,backendName:"webgl",kernelFunc:oK},uK=(0,Gr.Z)((function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Tj(i.length),u=Tj(o.length),l="";1===r?l="i":2===r&&(l="i, j");var c="getIndices(".concat(l,")"),d="";1===a?d="i":2===a&&(d="i, coords[1]");var f="getUpdates(".concat(d,")"),p=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(i,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(c,");\n              flattenedIndex += index * ").concat(p,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(f,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var lK={kernelName:gu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=Xb.calculateShapes(i,a,o),u=s.sliceRank,l=s.numUpdates,c=s.sliceSize,d=s.strides,f=s.outputSize,p=[f/c,c];if(0===f)return n.makeTensorInfo(o,a.dtype);var h=rU({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=rU({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),v=new uK(l,u,h.shape.length,m.shape.length,d,p),y=n.runWebGLProgram(v,[m,h,g],m.dtype),b=rU({inputs:{x:y},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),b}},cK=(0,Gr.Z)((function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var i="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),o=2===Hi().getNumber("WEBGL_VERSION")?"while (left < right) {":i,s="left"===a?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var dK={kernelName:vu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,i=t.values,o=r.side,s=new cK(a.shape[0],a.shape[1],i.shape[1],o),u=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",u)}},fK=(0,Gr.Z)((function e(t,n,r){var a,i;if((0,Ur.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],l=0;l<n.length;l++)u.push("".concat(o[l])),l<t&&s.push("".concat(o[l]));a=s.join(),i=u.join()}var c=Tj(r);this.userCode="\n      void main() {\n        ".concat(c," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")}));var pK={kernelName:yu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,o=new fK(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,i],cc(a.dtype,i.dtype))}},hK=XH({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(Xb.SELU_SCALEALPHA,";\n  float scale = ").concat(Xb.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),mK={kernelName:bu,backendName:"webgl",kernelFunc:hK},gK=XH({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:BV}),vK={kernelName:Su,backendName:"webgl",kernelFunc:gK},yK=XH({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),bK={kernelName:ku,backendName:"webgl",kernelFunc:yK},xK=XH({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),AK={kernelName:Au,backendName:"webgl",kernelFunc:xK},wK=XH({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),kK={kernelName:wu,backendName:"webgl",kernelFunc:wK},SK=XH({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),CK={kernelName:Cu,backendName:"webgl",kernelFunc:SK},IK={kernelName:Tu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;bl.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),u=[[0,0]];u.push.apply(u,(0,qr.Z)(o));for(var l=1+i.length;l<a.shape.length;++l)u.push([0,0]);var c=[],d=Oq({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),f=Xb.getReshaped(d.shape,i,s,!1),p=Xb.getPermuted(f.length,i.length,!1),h=Xb.getReshapedPermuted(d.shape,i,s,!1),m=rU({inputs:{x:d},backend:n,attrs:{shape:f}}),g=pU({inputs:{x:m},backend:n,attrs:{perm:p}}),v=rU({inputs:{x:g},backend:n,attrs:{shape:h}});return c.push(d),c.push(m),c.push(g),c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var EK={kernelName:Pu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,s=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.readSync(r.dataId),l=n.readSync(a.dataId),c=n.readSync(i.dataId),d=n.readSync(s.dataId)[0],f=HV(u,r.shape,r.dtype,l,a.dtype,c,d),p=(0,o.Z)(f,5),h=p[0],m=p[1],g=p[2],v=p[3],y=p[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],a.dtype,g),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var TK={kernelName:_u,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var s=Array.from(n.readSync(a.dataId)),u=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),c=UV(u,r.shape,r.dtype,s,l),d=(0,o.Z)(c,3),f=d[0],p=d[1],h=d[2];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};var NK={kernelName:Mu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),l=n.readSync(i.dataId),c=GV(s,r.shape,r.dtype,u,l,!0),d=(0,o.Z)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var OK={kernelName:Ru,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),l=n.readSync(i.dataId),c=GV(s,r.shape,r.dtype,u,l),d=(0,o.Z)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var PK={kernelName:Fu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,o=t.defaultValue,s=r.outputShape,u=Xb.calculateShapes(i,a,s),l=u.sliceRank,c=u.numUpdates,d=u.sliceSize,f=u.strides,p=u.outputSize;if("string"===i.dtype){var h=n.bufferSync(a),m=n.bufferSync(i),g=bl.decodeString(n.readSync(o.dataId)[0]),v=WV(h,m,s,p,d,c,l,f,g,false);return n.makeTensorInfo(s,v.dtype,v.values)}var y=new uK(c,l,a.shape.length,i.shape.length,f,[p,1],false),b=n.runWebGLProgram(y,[i,a,o],i.dtype),x=rU({inputs:{x:b},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(b),x}};var _K={kernelName:Nu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=r.axis,s=bl.parseAxisParam(o,a.shape)[0],u=Xb.prepareSplitSize(a,i,s),l=a.shape.length,c=new Array(l).fill(0),d=a.shape.slice();return u.map((function(e){var t=(0,qr.Z)(d);t[s]=e;var r=lG({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},MK="return sqrt(x);",RK=XH({opSnippet:MK,packedOpSnippet:MK,cpuKernelImpl:XV}),FK={kernelName:Iu,backendName:"webgl",kernelFunc:RK},DK=XH({opSnippet:"return x * x;"}),LK={kernelName:Lu,backendName:"webgl",kernelFunc:DK},zK="return (a - b) * (a - b);",ZK=YH({opSnippet:zK,packedOpSnippet:zK}),WK={kernelName:Du,backendName:"webgl",kernelFunc:ZK};var BK={kernelName:el,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=fH+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new dH(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},jK=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=Tj(r.length),o=Tj(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var VK={kernelName:zu,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.begin,s=a.end,u=a.strides,l=a.beginMask,c=a.endMask,d=a.ellipsisMask,f=a.newAxisMask,p=a.shrinkAxisMask,h=bp.sliceInfo(i.shape,o,s,u,l,c,d,f,p),m=h.finalShapeSparse,g=h.finalShape,v=h.isIdentity,y=h.sliceDim0,b=h.isSimpleSlice,x=h.begin,A=h.end,w=h.strides;if(v)t=rU({inputs:{x:i},backend:r,attrs:{shape:g}});else if(y||b){bl.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var k=bp.computeOutShape(x,A,w),S=lG({inputs:{x:i},backend:r,attrs:{begin:x,size:k}});t=rU({inputs:{x:S},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(S)}else if(r.shouldExecuteOnCPU([i])){var C=r.readSync(i.dataId),I=Yd(i.shape,i.dtype,C),E=YV(m,I,w,x);t=r.makeTensorInfo(g,i.dtype,E.values)}else{var T=new jK(x,w,m);t=r.runWebGLProgram(T,[i],i.dtype)}var N=rU({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),N}};var HK={kernelName:Zu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,s=r.leftPad,u=r.rightPad,l=r.padWidth,c=r.preserveShortSequences,d=t.data,f=t.dataSplits,p=n.readSync(d.dataId),h=n.readSync(f.dataId),m=qV(p,h,a,i,s,u,l,c),g=(0,o.Z)(m,2),v=g[0],y=g[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(f.shape,"int32",y)]}};var UK={kernelName:Wu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var s=n.readSync(a.dataId),u=n.readSync(i.dataId)[0],l=KV(s,u,r),c=(0,o.Z)(l,3),d=c[0],f=c[1],p=c[2],h=f.length;return[n.makeTensorInfo([h,2],"int32",d),n.makeTensorInfo([h],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var GK={kernelName:Bu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=JV(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},XK=XH({opSnippet:"return tan(x);"}),YK={kernelName:Vu,backendName:"webgl",kernelFunc:XK},qK=XH({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),KK={kernelName:Hu,backendName:"webgl",kernelFunc:qK},JK=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=Tj(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function QK(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if("string"===a.dtype||a.shape.length>5){var o=n.readSync(a.dataId),s="string"===a.dtype?o.map((function(e){return bl.decodeString(e)})):o,u=Yd(a.shape,a.dtype,s),l=$V(u,i);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var c=new JK(a.shape,i);return n.runWebGLProgram(c,[a],a.dtype)}var $K={kernelName:Uu,backendName:"webgl",kernelFunc:QK},eJ=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),tJ=(0,Gr.Z)((function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function nJ(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function rJ(e){for(var t=1;t<e;)t*=2;return t}var aJ={kernelName:Gu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,s=r.sorted,u=Hi().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Hi().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=a.shape,d=c[c.length-1];if(n.shouldExecuteOnCPU([a])||d<u||i>l){var f=n.readSync(a.dataId),p=eH(f,c,a.dtype,i,s),h=(0,o.Z)(p,2),m=h[0],g=h[1];return[n.makeTensorInfo(m.shape,m.dtype,m.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===i)return c[c.length-1]=0,[n.makeTensorInfo(c,a.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===d)return[a,VX({attrs:{shape:c,dtype:"int32",value:0},backend:n})];var v=n.texData.get(a.dataId),y=null!==v&&v.isPacked,b=y?n.unpackTensor(a):a,x=bl.sizeFromShape(c)/d,A=rU({inputs:{x:b},attrs:{shape:[x,d]},backend:n});y&&nJ(n,b);for(var w=rJ(i),k=rJ(d),S=null,C=function(){return null===S?[A,A]:[A,S]},I=function(e,t,r){var a=C(),i=new eJ(r),o=[[d],[null===S?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=S;S=n.runWebGLProgram(i,a,"int32",o),nJ(n,s)},E=1;E<w;E*=2)for(var T=2*E,N=E;N>=1;N/=2)I(T,N,[x,k]);for(var O=k;O>w;O/=2){var P=C(),_=new tJ([x,O/2]),M=[[d],[null===S?1:0],[w]],R=S;S=n.runWebGLProgram(_,P,"int32",M),nJ(n,R);for(var F=w/2,D=2*F,L=F;L>=1;L/=2)I(D,L,S.shape)}var z=S;S=lG({inputs:{x:S},backend:n,attrs:{begin:0,size:[x,i]}}),nJ(n,z);var Z=sY({inputs:{x:A,indices:S},backend:n,attrs:{axis:1,batchDims:1}});nJ(n,A);var W=c.slice(0,-1);W.push(i),z=S,S=rU({inputs:{x:S},attrs:{shape:W},backend:n}),nJ(n,z);var B=Z;return Z=rU({inputs:{x:Z},attrs:{shape:W},backend:n}),nJ(n,B),[Z,S]}},iJ=(0,Gr.Z)((function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var oJ={kernelName:Xu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,s=r.interpolation,u=r.fillMode,l=r.fillValue,c=r.outputShape,d=(0,o.Z)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],g=null!=c?c:[p,h],v=(0,o.Z)(g,2),y=v[0],b=v[1],x=new iJ(p,h,s,u,l,[f,y,b,m]);return n.runWebGLProgram(x,[a,i],"float32")}};var sJ={kernelName:qu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;tj(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),s=nH(o,a,i.shape,i.dtype),u=s.outputValues,l=s.outputShape,c=s.indices;return[r.makeTensorInfo(l,i.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var uJ={kernelName:Ku,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,u=a.shape[i],l=new Array(s-1),c=0,d=0;d<s;d++)d!==i&&(l[c++]=o.shape[d]);var f=[],p=new Array(s).fill(0),h=o.shape.slice();h[i]=1;for(var m=new Array(u),g=0;g<m.length;g++){p[i]=g;var v=lG({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=rU({inputs:{x:v},backend:n,attrs:{shape:l}});m[g]=y,f.push(v)}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},lJ=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),l=r%4,c="\n        sumValue += dot(values, segFilter);\n    ",d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var f="";i%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(f,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var cJ={kernelName:Ju,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,o=r.numSegments,s=a.shape.length,u=[],l=0,c=Xb.getAxesPermutation([l],s),d=a;null!=c&&(d=pU({inputs:{x:a},backend:n,attrs:{perm:c}}),u.push(d),l=Xb.getInnerMostAxes(1,s)[0]);var f=Xb.segment_util.computeOutShape(d.shape,l,o),p=bl.sizeFromShape([d.shape[l]]),h=rU({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});u.push(h);var m=function e(t,r,a,i,o){var s=t.shape[0],l=t.shape[1],c=Xb.segment_util.segOpComputeOptimalWindowSize(l,o),d=new lJ({windowSize:c,inSize:l,batchSize:s,numSegments:o},r),f=n.compileAndRun(d,[t,a],i);if(u.push(f),f.shape[1]===o)return f;var p=Fq({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),h=QK({inputs:{x:p},backend:n,attrs:{reps:[l/c]}});return u.push(p),u.push(h),e(f,r,h,i,o)}(h,"unsortedSegmentSum",i,dc(a.dtype),o),g=rU({inputs:{x:m},backend:n,attrs:{shape:f}}),v=g;if(null!=c){u.push(g);var y=Xb.getUndoAxesPermutation(c);v=pU({inputs:{x:v},backend:n,attrs:{perm:y}})}return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},dJ=0,fJ=[gU,yU,xU,wU,CU,TU,NU,OU,DU,LU,ZU,BU,VU,UU,XU,KU,JU,eG,tG,nG,iG,dG,fG,pG,yG,AG,SG,WH,EG,FG,jG,XG,YG,qG,KG,JG,$G,tX,rX,uX,lX,cX,fX,mX,yX,bX,AX,kX,SX,IX,EX,NX,PX,MX,FX,zX,BX,UX,XX,KX,QX,tY,nY,rY,iY,uY,cY,fY,zH,pY,_G,mY,vY,bY,VH,AY,kY,SY,IY,TY,OY,_Y,RY,LY,ZY,BY,VY,HY,UY,YY,qY,KY,JY,QY,eq,rq,iq,hq,nU,mq,vq,bq,Aq,mG,kq,Iq,Eq,Pq,Mq,GH,Rq,Dq,vG,uq,zq,Wq,jq,aU,Uq,Xq,Kq,Qq,tK,rK,iK,sK,lK,dK,pK,mK,vK,bK,AK,kK,cG,pq,CK,IK,EK,TK,NK,OK,PK,_K,FK,LK,WK,BK,VK,HK,UK,GK,dq,fU,YK,KK,$K,aJ,oJ,hU,sJ,uJ,cJ,Cq];dJ<fJ.length;dJ++){pl(fJ[dJ])}var pJ=Hi();pJ.registerFlag("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE",(function(){return 15})),pJ.registerFlag("WEBGPU_CPU_FORWARD",(function(){return!0})),pJ.registerFlag("WEBGPU_MATMUL_WORK_PER_THREAD",(function(){return 4})),pJ.registerFlag("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE",(function(){return!1})),pJ.registerFlag("WEBGPU_USE_LOW_POWER_GPU",(function(){return!1})),pJ.registerFlag("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e3})),pJ.registerFlag("WEBGPU_USE_PROFILE_TOOL",(function(){return!1})),pJ.registerFlag("WEBGPU_USE_IMPORT",(function(){return!1}));var hJ="\n  if (isNaN.r) {\n    resultTemp.r = uniforms.NAN;\n  }\n  if (isNaN.g) {\n    resultTemp.g = uniforms.NAN;\n  }\n  if (isNaN.b) {\n    resultTemp.b = uniforms.NAN;\n  }\n  if (isNaN.a) {\n    resultTemp.a = uniforms.NAN;\n  }\n  ",mJ="\n  let isModRound1Bool = vec4<i32>(round(abs(b) % vec4<f32>(2.0))) == vec4<i32>(1);\n  let isModRound1 = vec4<f32>(isModRound1Bool);\n  let multiplier = sign(a) * isModRound1 + (vec4<f32>(1.0) - isModRound1);\n  var resultTemp = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  let isExpZero = b == vec4<f32>(0.0);\n  if (isExpZero.r) {\n    resultTemp.r = 1.0;\n  }\n  if (isExpZero.g) {\n    resultTemp.g = 1.0;\n  }\n  if (isExpZero.b) {\n    resultTemp.b = 1.0;\n  }\n  if (isExpZero.a) {\n    resultTemp.a = 1.0;\n  }\n  let isNaN = a < vec4<f32>(0.0) & floor(b) < b;\n  ".concat(hJ,"\n  return resultTemp;\n  ");function gJ(e,t){var n=t?hJ:"\n  if (isnan(a)) { return a; }\n  if (isnan(b)) { return b; }\n  ";return t?"\n    var resultTemp = vec4<f32>(".concat(e,"(a, b));\n    let isNaN = isnanVec4(a) | isnanVec4(b);\n    ")+n+"\n    return resultTemp;\n  ":n+"\n    return ".concat(e,"(a, b);\n  ")}function vJ(e,t){switch(e){case 0:return"return a * b;";case 1:return"return a + b;";case 2:return"return a - b;";case 3:return"return a / b;";case 4:return t?"return vec4<f32>(a == b);":"return f32(a == b);";case 5:return t?"return vec4<f32>(a > b);":"return f32(a > b);";case 6:return t?"return vec4<f32>(a >= b);":"return f32(a >= b);";case 7:return t?"return vec4<f32>(a < b);":"return f32(a < b);";case 8:return t?"return vec4<f32>(a <= b);":"return f32(a <= b);";case 9:return t?"return (vec4<f32>(a >= vec4<f32>(1.0)) *\n  vec4<f32>(b >= vec4<f32>(1.0)));":"return f32(f32(a) >= 1.0 && f32(b) >= 1.0);";case 10:return t?"return vec4<f32>(a != b);":"return f32(a != b);";case 11:return"return (a - b) * (a - b);";case 12:return t?"\n  let ia = vec4<i32>(round(a));\n  let ib = vec4<i32>(round(b));\n  let cond = ib != vec4<i32>(0);\n  var resultTemp = vec4<i32>(0);\n  let s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    resultTemp[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    resultTemp[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    resultTemp[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    resultTemp[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4<f32>(resultTemp);\n  ":"\n  let s = sign(a) * sign(b);\n  let ia = i32(round(a));\n  let ib = i32(round(b));\n  return f32(idiv(ia, ib, s));\n  ";case 14:return t?"\n  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));\n  return (aLessThanZero * (b * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);\n  ":"if (a < 0.0) { return b * a; }  return a;";case 15:return gJ("max",t);case 16:return gJ("min",t);case 13:return t?mJ:"\n  if(a < 0.0 && floor(b) < b) {\n    return uniforms.NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  if (round(abs(b) % 2.0) != 1.0) {\n    return pow(abs(a), b);\n  }\n  return sign(a) * pow(abs(a), b);\n  ";case 17:return"return areal * breal - aimag * bimag;";case 18:return"return areal * bimag + aimag * breal;";default:throw new Error("BinaryType ".concat(e," is not implemented!"))}}function yJ(e,t){switch(e){case 0:return"return abs(a);";case 2:return"return cos(a);";case 3:return"\n  let e2x = exp(-a);\n  return (e2x + 1.0 / e2x) / 2.0;\n";case 1:return"return ceil(a);";case 4:return t?"\n  var resFloat = exp(a) - vec4<f32>(1.0);\n  if (a.r >= 0.0) {\n    resFloat.r = a.r;\n  }\n  if (a.g >= 0.0) {\n    resFloat.g = a.g;\n  }\n  if (a.b >= 0.0) {\n    resFloat.b = a.b;\n  }\n  if (a.a >= 0.0) {\n    resFloat.a = a.a;\n  }\n  return resFloat;\n":"if (a >= 0.0) { return a; }  return (exp(a) - 1.0);";case 5:return"return exp(a);";case 6:return"return exp(a) - 1.0;";case 7:return"return floor(a);";case 8:return"return a;";case 9:return"if (a < 0.0) { return 1.0/0.0; }\n  return log(a);";case 10:return"return f32(!(a >= 1.0));";case 11:return"return -a;";case 14:return t?"\n  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));\n  return (aLessThanZero * (uniforms.alpha * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);\n":"if (a < 0.0) { return uniforms.alpha * a; } return a;";case 12:return t?"\n  return select(a, vec4<f32>(0.0), a < vec4<f32>(0.0));\n":"return select(a, 0.0, a < 0.0);";case 13:return t?"return clamp(a, vec4<f32>(0.0, 0.0, 0.0, 0.0), vec4<f32>(6.0, 6.0, 6.0, 6.0));":"return clamp(a, 0.0, 6.0);";case 15:return"return 1.0/sqrt(a);";case 18:return"return 1.0 / (1.0 + exp(-1.0 * a));";case 16:return"return sin(a);";case 17:return"\n  let e2x = exp(a);\n  return (e2x - 1.0 / e2x) / 2.0;\n";case 19:return"return sqrt(a);";case 20:return"return a * a;";case 21:return"\n  let e2x = exp(-2.0 * abs(a));\n  return sign(a) * (1.0 - e2x) / (1.0 + e2x);\n";case 22:return"return f32(i32((a)));";default:throw new Error("BinaryType ".concat(e," is not implemented!"))}}function bJ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e)return null;if("linear"===e)return yJ(8);if("relu"===e)return yJ(12,t);if("elu"===e)return yJ(4,t);if("relu6"===e)return yJ(13,t);if("prelu"===e)return vJ(14,t);if("sigmoid"===e)return yJ(18,t);if("leakyrelu"===e)return yJ(14,t);throw new Error("Activation ".concat(e," has not been implemented for the WebGPU backend."))}var xJ={};Aa(xJ,{ArrayBufferToTypedArray:function(){return NJ},GPUBytesPerElement:function(){return TJ},computeDispatch:function(){return kJ},computeWorkGroupSizeForConv2d:function(){return SJ},computeWorkGroupSizeForMatMul:function(){return CJ},computeWorkPerThreadForConv2d:function(){return IJ},flatDispatchLayout:function(){return EJ},isWebGPUSupported:function(){return OJ},tilesFitEvenlyIntoShape:function(){return wJ}});var AJ=function(e){for(var t=1,n=0;n<e.length;n++)t*=e[n];return t};function wJ(e,t){if(e.length!==t.length)throw new Error("Cannot compute whether rank ".concat(e.length," tiles fit evenly into rank ").concat(t.length," shape - ranks must match."));return t.every((function(t,n){return t%e[n]===0}))}function kJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=[Math.ceil(AJ(e.x.map((function(e){return t[e]})))/(n[0]*r[0])),e.y?Math.ceil(AJ(e.y.map((function(e){return t[e]})))/(n[1]*r[1])):1,e.z?Math.ceil(AJ(e.z.map((function(e){return t[e]})))/(n[2]*r[2])):1],i=a[0],o=a[1],s=a[2];return[i,o,s]}function SJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return[8,8,1];var r=AJ(e.x.map((function(e){return t[e]}))),a=AJ(e.y.map((function(e){return t[e]})));return r<=4?[4,16,1]:a<=4?[16,4,1]:[16,16,1]}function CJ(e,t,n){return 1===e?[32,1,1]:1===n?[1,32,1]:[8,8,1]}function IJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return[4,4,1];var r=AJ(e.x.map((function(e){return t[e]}))),a=AJ(e.y.map((function(e){return t[e]})));return r<=4?[1,2,1]:a<=4?[2,1,1]:[2,2,1]}function EJ(e){return{x:e.map((function(e,t){return t}))}}function TJ(e){if("float32"===e||"int32"===e||"bool"===e||"string"===e)return 4;if("complex64"===e)return 8;throw new Error("Unknown dtype ".concat(e))}function NJ(e,t){if("float32"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function OJ(){return("undefined"!=typeof window||"undefined"!=typeof WorkerGlobalScope)&&!!navigator.gpu}var PJ=function(e,t){return e?"\n        mm_Asub[inputRow][inputCol] = mm_readA(\n          t * TileInner + inputRow,\n          globalRowStart / ".concat(t," + inputCol, globalId);\n        "):"\n        mm_Asub[inputRow][inputCol] = mm_readA(\n          globalRow + innerRow,\n          t * TileInner / ".concat(t," + inputCol, globalId);\n        ")},_J=function(e,t){return e?"\n        let ACached0 = mm_Asub[k * InnerElementSize][localRow];\n        let ACached1 = mm_Asub[k * InnerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * InnerElementSize + 2][localRow];\n        ".concat(3===t?"":"let ACached3 = mm_Asub[k * InnerElementSize + 3][localRow];","\n        for (var i = 0; i < RowPerThread; i = i + 1) {\n          acc[i] = BCached[0] * ACached0[i] + acc[i];\n          acc[i] = BCached[1] * ACached1[i] + acc[i];\n          acc[i] = BCached[2] * ACached2[i] + acc[i];\n          ").concat(3===t?"":"acc[i] = BCached[3] * ACached3[i] + acc[i];","\n        }"):"\n        for (var i = 0; i < RowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached[0] * ACached.x + acc[i];\n          acc[i] = BCached[1] * ACached.y + acc[i];\n          acc[i] = BCached[2] * ACached.z + acc[i];\n          ".concat(3===t?"":"acc[i] = BCached[3] * ACached.w + acc[i];","\n        }")};function MJ(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=i?t:r,s=i?r:t,u=i?e[1]:a;return bl.assert((i&&t===n||r%4===0||r%3===0)&&4===e[0]&&(3===a||4===a),(function(){return"tileInner ".concat(r," must be divisible by 4|3. ColPerThread ").concat(e[0]," must be 4.\n           innerElementSize ").concat(a," must be 3|4.")})),"\n  var<workgroup> mm_Asub : array<array<vec".concat(u,"<f32>, ").concat(o/u,">, ").concat(s,">;\n  var<workgroup> mm_Bsub : array<array<vec4<f32>, ").concat(n/e[0],">, ").concat(r,">;\n\n  let RowPerThread = ").concat(e[1],";\n  let ColPerThread = ").concat(e[0],";\n  let InnerElementSize = ").concat(a,";\n  let TileInner = ").concat(r,";\n\n  @stage(compute) @workgroup_size(workGroupSizeX, workGroupSizeY, workGroupSizeZ)\n  fn main(@builtin(local_invocation_id) LocalId : vec3<u32>,\n          @builtin(global_invocation_id) GlobalId : vec3<u32>,\n          @builtin(num_workgroups) NumWorkgroups: vec3<u32>,\n          @builtin(workgroup_id) workgroupId: vec3<u32>) {\n    localId = LocalId;\n    globalId = GlobalId;\n    numWorkgroups = NumWorkgroups;\n\n    let localRow = i32(localId.y);\n    let tileRow = ").concat(1===t?"0":"localRow * RowPerThread",";\n    let tileCol = i32(localId.x);\n\n    let globalRow = ").concat(1===t?"0":"i32(globalId.y) * RowPerThread",";\n    let globalCol = i32(globalId.x);\n    let globalRowStart = i32(workgroupId.y) * ").concat(t,";\n\n    let numTiles = (uniforms.dimInner - 1) / TileInner + 1;\n\n    var acc: array<vec4<f32>, RowPerThread>;\n    var BCached : array<vec4<f32>, 4>;\n\n    // Loop over shared dimension.\n    let RowPerThreadB = TileInner / i32(workGroupSizeY);\n    let tileRowB = localRow * RowPerThreadB;\n    for (var t = 0; t < numTiles; t = t + 1) {\n        // Load one tile of A into local memory.\n        for (var innerRow = 0; innerRow < RowPerThread; innerRow = innerRow + 1) {\n            let inputRow = tileRow + innerRow;\n            let inputCol = tileCol;\n            ").concat(PJ(i,u),"\n        }\n\n        // Load one tile of B into local memory.\n        for (var innerRow = 0; innerRow < RowPerThreadB; innerRow = innerRow + 1) {\n            let inputRow = tileRowB + innerRow;\n            let inputCol = tileCol;\n            mm_Bsub[inputRow][inputCol] = mm_readB(t * TileInner + inputRow, globalCol, globalId);\n        }\n\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        for (var k = 0; k < TileInner / InnerElementSize; k = k + 1) {\n            BCached[0] = mm_Bsub[k * InnerElementSize][tileCol];\n            BCached[1] = mm_Bsub[k * InnerElementSize + 1][tileCol];\n            BCached[2] = mm_Bsub[k * InnerElementSize + 2][tileCol];\n            ").concat(3===a?"":"BCached[3] = mm_Bsub[k * InnerElementSize + 3][tileCol];","\n\n            ").concat(_J(i,a),"\n        }\n\n        workgroupBarrier();\n    }\n\n    for (var innerRow = 0; innerRow < RowPerThread; innerRow = innerRow + 1) {\n        mm_write(globalRow + innerRow,\n                 globalCol,\n                 acc[innerRow], globalId);\n    }\n  }")}var RJ=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workGroupSize=[8,8,1],this.isVec4=!0,this.outputShape=n,this.dispatchLayout={x:[2],y:[1],z:[0]},1!==n[1]||i?this.elementsPerThread=[4,4,1]:this.elementsPerThread=[4,1,1],this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,this.elementsPerThread);var l=null!=o,c=null!=u;l&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),this.tileAOuter=1!==n[1]||i?this.workGroupSize[1]*this.elementsPerThread[1]:1,this.tileBOuter=this.workGroupSize[0]*this.elementsPerThread[0],this.tileInner=this.tileBOuter,this.aShape=t,this.addBias=l,this.activation=s,this.hasPreluActivationWeights=c,this.batchAEqualOne=r,this.batchBEqualOne=a,this.transposeA=i;var d=i?t[1]:t[2];this.fitAOuter=n[1]%this.tileAOuter===0,this.fitBOuter=n[2]%this.tileBOuter===0,this.fitInner=d%this.tileInner===0,this.shaderKey="matMulPackedVec4_".concat(this.activation,"_").concat(this.fitAOuter,"_").concat(this.fitBOuter,"_").concat(this.fitInner,"_").concat(this.elementsPerThread,"_").concat(this.batchAEqualOne,"_").concat(this.batchBEqualOne,"_").concat(this.transposeA)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.fitAOuter&&this.fitInner?"return A[batch * batchASize + row * uniforms.aShape[2] / 4 + col]":"if (coordsInBounds2D(vec2<i32>(row, col * 4), vec2<i32>(uniforms.aShape[1], uniforms.aShape[2]))) {\n            return A[batch * batchASize + row * uniforms.aShape[2] / 4 + col];\n        }\n        return vec4<f32>(0.0)",t=this.fitInner&&this.fitBOuter?"return B[batch * batchBSize + row * uniforms.dimBOuter / 4 + col]":"if(coordsInBounds2D(vec2<i32>(row, col * 4), vec2<i32>(uniforms.dimInner, uniforms.dimBOuter))) {\n             return B[batch * batchBSize + row * uniforms.dimBOuter / 4 + col];\n        }\n        return vec4<f32>(0.0)",n="",r="";if(this.activation){var a=bJ(this.activation,this.isVec4);n=this.hasPreluActivationWeights?"fn activation(a : vec4<f32>, outCoord : vec3<i32>) -> vec4<f32> {\n                  let b = getPreluActivationWeightsByOutputCoords(outCoord);\n                  ".concat(a,"\n                }"):"\n            fn activation(a : vec4<f32>, outCoord : vec3<i32>) -> vec4<f32> {\n              ".concat(a,"\n            }"),r="value = activation(value, outCoord);"}var i=this.addBias?"value = value + getBiasByOutputCoords(outCoord);":"";return"\n      ".concat(n,"\n      fn mm_readA(row : i32, col : i32,  globalId : vec3<u32>) -> vec4<f32> {\n        ").concat(this.batchAEqualOne?"\n          let batchASize = 0;\n          let batch = 0;\n        ":"\n          let batchASize = uniforms.aShape[1] * uniforms.aShape[2] / 4;\n          let batch = i32(globalId.z);\n        ","\n\n        ").concat(e,";\n      }\n\n      fn mm_readB(row : i32, col : i32,  globalId : vec3<u32>) -> vec4<f32> {\n        ").concat(this.batchBEqualOne?"\n          let batchBSize = 0;\n          let batch = 0;\n          ":"\n          let batchBSize = uniforms.bShape[1] * uniforms.bShape[2] / 4;\n          let batch = i32(globalId.z);\n       ","\n        ").concat(t,";\n      }\n\n      fn mm_write(row : i32, col : i32, valueIn : vec4<f32>, globalId : vec3<u32>) {\n        if (row < uniforms.dimAOuter && col * 4 < uniforms.dimBOuter)\n        {\n          var value = valueIn;\n          let batch = i32(globalId.z);\n          let outCoord = vec3<i32>(batch, row, col * 4);\n          ").concat(i,"\n          ").concat(r,"\n          setOutputAtCoords(outCoord[0], outCoord[1], outCoord[2], value);\n        }\n      }\n      ").concat(MJ(this.elementsPerThread,this.tileAOuter,this.tileBOuter,this.tileInner,4,this.transposeA),"\n    ")}}]),e}();function FJ(e,t){if(Math.max.apply(Math,(0,qr.Z)(e))>3)throw new Error("Cannot symbolically compute strides for rank > 4 tensor.");var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}var DJ=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={dtype:a.dtype,shape:a.shape},s=BJ(r,o,t,i),u=e.createShaderModule({code:s,label:t.constructor.name});return e.createComputePipeline({layout:n,compute:{module:u,entryPoint:"main"},label:t.constructor.name})};function LJ(e){if(e<=1)return"i32";if(2===e)return"vec2<i32>";if(3===e)return"vec3<i32>";if(4===e)return"vec4<i32>";if(5===e)return"vec5";if(6===e)return"vec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function zJ(e){if(0===e)return"x";if(1===e)return"y";if(2===e)return"z";if(3===e)return"w";if(4===e)return"u";if(5===e)return"v";throw Error("Index ".concat(e," is not yet supported"))}function ZJ(){return"\n    ".concat(WJ(),"\n      let index = getGlobalIndex();\n")}function WJ(){return"\n  ".concat("\n  @stage(compute) @workgroup_size(workGroupSizeX, workGroupSizeY, workGroupSizeZ)\n","\n  fn main(@builtin(local_invocation_id) LocalId : vec3<u32>,\n          @builtin(global_invocation_id) GlobalId : vec3<u32>,\n          @builtin(num_workgroups) NumWorkgroups: vec3<u32>) {\n    localId = LocalId;\n    globalId = GlobalId;\n    numWorkgroups = NumWorkgroups;\n")}function BJ(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[];if(a.push("\n      let workGroupSizeX = ".concat(n.workGroupSize[0],"u;\n      let workGroupSizeY = ").concat(n.workGroupSize[1],"u;\n      let workGroupSizeZ = ").concat(n.workGroupSize[2],"u;\n\n      var<private> localId: vec3<u32>;\n      var<private> globalId: vec3<u32>;\n      var<private> numWorkgroups: vec3<u32>;\n\n      // Only used when the y/z dimension of workgroup size is 1.\n      fn getGlobalIndex() -> i32 {\n        ").concat(YJ(n)?"  return i32(globalId.x);":"  let localInvocationIndex = localId.z * workGroupSizeX * workGroupSizeY +\n                   localId.y * workGroupSizeX + localId.x;\n               let workGroupID = (globalId - localId)/vec3<u32>(\n                   workGroupSizeX, workGroupSizeY, workGroupSizeZ);\n\n               return i32((workGroupID.z * numWorkgroups.x * numWorkgroups.y +\n                   workGroupID.y * numWorkgroups.x + workGroupID.x) *\n                   (workGroupSizeX * workGroupSizeY * workGroupSizeZ) +\n                   localInvocationIndex);\n        ","\n      }\n    ")),!0===r)return a.push("\n        struct Uniform {\n          size            : i32,\n          numChannels     : i32,\n          outShapeStrides : vec2<i32>,\n          dispatchSize    : vec3<u32>,\n        };\n\n        @group(0) @binding(0) var<storage, write> result: array<".concat(qJ(t.dtype,n.isVec4),">;\n        @group(0) @binding(2) var<uniform> uniforms: Uniform;\n      ")),[VJ,a.join("\n"),HJ(t.shape),n.getUserCode()].join("\n");var i=!1,s=!1,u="struct Uniforms { NAN : f32, ";n.variableNames.forEach((function(t,n){var r=LJ(e[n].shape.length);("vec5"===r||"vec6"===r)&&(s=!0),(i||s)&&(u+="@align(16) "),i=s,u+="".concat(t.charAt(0).toLowerCase()+t.slice(1),"Shape : ").concat(r,", ")}));var l=LJ(t.shape.length);s="vec5"===l||"vec6"===l,(i||s)&&(u+="@align(16) "),i=s,u+="outShape : ".concat(l,", ");var c=t.shape.length-1,d=LJ(c);s="vec5"===d||"vec6"===d,(i||s)&&(u+="@align(16) "),i=s,u+="\n         outShapeStrides: ".concat(d,", "),n.size&&(i&&(u+="@align(16) "),i=!1,u+="size : i32, "),n.uniforms&&(i&&(u+="@align(16) "),u+=n.uniforms),u+="};",a.push(u),n.atomic?a.push("\n      @group(0) @binding(0) var<storage, read_write> result: array<atomic<i32>>;\n    "):a.push("\n      @group(0) @binding(0) var<storage, write> result: array<".concat(qJ(t.dtype,n.isVec4),">;\n    ")),n.variableNames.forEach((function(t,r){a.push("\n      @group(0) @binding(".concat(1+r,") var<storage, read> ").concat(t,": array<").concat(n.variableTypes?n.variableTypes[r]:qJ(e[r].dtype,n.isVec4),">;\n        "))})),""!==u&&a.push("\n      @group(0) @binding(".concat(1+n.variableNames.length,") var<uniform> uniforms: Uniforms;\n      "));var f=GJ(t.shape,n.dispatchLayout),p=(0,o.Z)(f,2),h=p[0],m=p[1],g=[VJ,a.join("\n"),HJ(t.shape),h,XJ(t.shape.length)];if(n.atomic||g.push(KJ(t.shape,t.dtype,n.isVec4)),m===t.shape.length){var v=e.map((function(e,r){return UJ(e,t.shape,n.variableTypes?"vec4<f32>"===n.variableTypes[r]:n.isVec4,n.dispatchLayout.x.length===t.shape.length)})).join("\n");g.push(v)}return g.push(n.getUserCode()),g.join("\n")}function jJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=YJ(e)?"flatDispatch":"";return e.shaderKey+"_"+(e.workGroupSize?e.workGroupSize.join(","):"")+t.map((function(e){return e.length})).join(",")+n.join(",")+e.variableNames.join(",")+r+a+i}var VJ="\n  struct vec5 {x: i32, y: i32, z: i32, w: i32, u: i32};\n  struct vec6 {x: i32, y: i32, z: i32, w: i32, u: i32, v: i32};\n\n  // Checks whether coordinates lie within the bounds of the shape.\n  fn coordsInBounds2D(coord : vec2<i32>, shape : vec2<i32>) -> bool {\n    return all(coord >= vec2<i32>(0)) && all(coord < shape);\n  }\n  fn coordsInBounds3D(coord : vec3<i32>, shape : vec3<i32>) -> bool {\n    return all(coord >= vec3<i32>(0)) && all(coord < shape);\n  }\n  fn coordsInBounds4D(coord : vec4<i32>, shape : vec4<i32>) -> bool {\n    return all(coord >= vec4<i32>(0)) && all(coord < shape);\n  }\n\n  fn getIndexFromCoords1D(coord : i32, shape : i32) -> i32 {\n    return coord;\n  }\n  fn getIndexFromCoords2D(coords : vec2<i32>, shape : vec2<i32>) -> i32 {\n    return dot(coords, vec2<i32>(shape.y, 1));\n  }\n  fn getIndexFromCoords3D(coords : vec3<i32>, shape : vec3<i32>) -> i32 {\n    return dot(coords, vec3<i32>(shape.y * shape.z, shape.z, 1));\n  }\n  fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n    return dot(coords, vec4<i32>(\n        shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n  }\n  fn getIndexFromCoords5D(coords : vec5, shape : vec5) -> i32 {\n    let shapeStrides: vec5 = vec5(shape.y * shape.z * shape.w * shape.u, shape.z * shape.w * shape.u, shape.w * shape.u, shape.u, 1);\n    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u;\n  }\n  fn getIndexFromCoords6D(coords : vec6, shape : vec6) -> i32 {\n    let shapeStrides: vec6 = vec6(shape.y * shape.z * shape.w * shape.u * shape.v, shape.z * shape.w * shape.u * shape.v, shape.w * shape.u * shape.v, shape.u * shape.v, shape.v, 1);\n    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u + coords.v*shapeStrides.v;\n  }\n\n  fn idiv(a: i32, b: i32, sign: f32) -> i32 {\n    var res: i32 = a / b;\n    let mod: i32 = a % b;\n    if (sign < 0. && mod != 0) {\n      res = res - 1;\n    }\n    return res;\n  }\n\n  // NaN defination in IEEE 754-1985 is :\n  //   - sign = either 0 or 1.\n  //   - biased exponent = all 1 bits.\n  //   - fraction = anything except all 0 bits (since all 0 bits represents infinity).\n  // https://en.wikipedia.org/wiki/IEEE_754-1985#Representation_of_non-numbers\n  fn isnan(val: f32) -> bool {\n    let floatToUint: u32 = bitcast<u32>(val);\n    return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n  }\n  fn isnanVec4(val : vec4<f32>) -> vec4<bool> {\n    return vec4<bool>(isnan(val[0]), isnan(val[1]), isnan(val[2]), isnan(val[3]));\n  }\n";function HJ(e){var t=e.length;if(t<=1)return"fn getCoordsFromIndex(index : i32) -> i32 { return index; }";for(var n,r=bl.computeStrides(e),a=LJ(t),i=[],o=0;o<t;o++)i.push("d".concat(o));return 1===r.length?"    fn getCoordsFromIndex(index : i32) -> vec2<i32> {\n      let d0 = index / uniforms.outShapeStrides; let d1 = index - d0 * uniforms.outShapeStrides;\n      return vec2<i32>(d0, d1);\n    }":(n="var index2 = index;"+r.map((function(e,t){var n="let ".concat(i[t]," = index2 / uniforms.outShapeStrides.").concat(zJ(t)),a=t===r.length-1?"let ".concat(i[t+1]," = index2 - ").concat(i[t]," * uniforms.outShapeStrides.").concat(zJ(t)):"index2 = index2 - ".concat(i[t]," * uniforms.outShapeStrides.").concat(zJ(t));return"".concat(n,"; ").concat(a,";")})).join(""),"\n    fn getCoordsFromIndex(index : i32) -> ".concat(a," {\n      ").concat(n,"\n      return ").concat(a,"(").concat(i.join(","),");\n    }\n  "))}function UJ(e,t,n,r){var a=function(e,t){var n=e.name,r=e.shape.length,a=LJ(r),i="get"+n.charAt(0).toUpperCase()+n.slice(1),o=["d0","d1","d2","d3","d4","d5"].slice(0,r),s=o.map((function(e){return"".concat(e," : i32")})).join(", ");if(r<1)return t?"\n        fn ".concat(i,"() -> vec4<f32> {\n          return vec4<f32>(").concat(n,"[0]);\n        }\n      "):"\n      fn ".concat(i,"() ->f32 {\n        return f32(").concat(n,"[0]);\n      }\n    ");var u="uniforms.".concat(n.charAt(0).toLowerCase()+n.slice(1),"Shape"),l="".concat(r,"D");return 0===r&&(l="1D"),t?"\n      fn ".concat(i,"(").concat(s,") -> vec4<f32> {\n        return vec4<f32>(").concat(n,"[getIndexFromCoords").concat(l,"(").concat(a,"(").concat(o.join(","),"),\n          ").concat(u,") / 4]);\n      }\n      "):"\n    fn ".concat(i,"(").concat(s,") -> f32 {\n      return f32(").concat(n,"[getIndexFromCoords").concat(l,"(").concat(a,"(").concat(o.join(","),"),\n        ").concat(u,")]);\n    }\n   ")}(e,n);return e.shape.length<=t.length&&(a+=function(e,t,n,r){var a=e.name,i=a.charAt(0).toUpperCase()+a.slice(1),o="get"+i+"ByOutput",s=e.shape.length,u=t.length,l=LJ(u);if(bl.arraysEqual(e.shape,t)&&r)return n?"\n      fn ".concat(o,"Index(globalIndex : i32) -> vec4<f32> {\n        return vec4<f32>(").concat(a,"[globalIndex]);\n      }\n\n      fn ").concat(o,"Coords(coords : ").concat(l,") -> vec4<f32> {\n        return vec4<f32>(").concat(a,"[").concat(u>1?"getOutputIndexFromCoords(coords)":"coords"," / 4]);\n      }\n      "):"\n    fn ".concat(o,"Index(globalIndex : i32) -> f32 {\n      return f32(").concat(a,"[globalIndex]);\n    }\n\n    fn ").concat(o,"Coords(coords : ").concat(l,") -> f32 {\n      return f32(").concat(a,"[").concat(u>1?"getOutputIndexFromCoords(coords)":"coords","]);\n    }\n    ");var c=Xb.getBroadcastDims(e.shape,t),d=u-s,f="";if(0===s)return n?"\n    fn ".concat(o,"Index(globalIndex : i32) -> vec4<f32> {\n      return get").concat(i,"();\n    }\n\n    fn ").concat(o,"Coords(coords : ").concat(l,") -> vec4<f32> {\n      return get").concat(i,"();\n    }\n  "):"\n    fn ".concat(o,"Index(globalIndex : i32) -> f32{\n      return get").concat(i,"();\n    }\n\n    fn ").concat(o,"Coords(coords : ").concat(l,") -> f32{\n      return get").concat(i,"();\n    }\n  ");f=u<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(zJ(e+d)," = 0;")})).join("\n");var p="";if(u<2&&s>0)p="coords";else if(u>1){var h=LJ(s),m=e.shape.map((function(e,t){return"coords.".concat(zJ(t+d))})).join(", ");p="".concat(h,"(").concat(m,")")}else p="coords";var g="uniforms.".concat(a.charAt(0).toLowerCase()+a.slice(1),"Shape"),v="".concat(s,"D");return n?"\n    fn ".concat(o,"Index(globalIndex : i32) -> vec4<f32> {\n      var coords = getCoordsFromIndex(globalIndex);\n      ").concat(f,"\n      return ").concat(a,"[getIndexFromCoords").concat(v,"(").concat(p,", ").concat(g,") / 4];\n    }\n\n    fn ").concat(o,"Coords(coordsIn : ").concat(l,") -> vec4<f32> {\n      var coords = coordsIn;\n      ").concat(f,"\n      return ").concat(a,"[getIndexFromCoords").concat(v,"(").concat(p,", ").concat(g,") / 4];\n    }\n  "):"\n  fn ".concat(o,"Index(globalIndex : i32) -> f32 {\n    var coords = getCoordsFromIndex(globalIndex);\n    ").concat(f,"\n    return f32(").concat(a,"[getIndexFromCoords").concat(v,"(").concat(p,", ").concat(g,")]);\n  }\n\n  fn ").concat(o,"Coords(coordsIn : ").concat(l,") -> f32 {\n    var coords = coordsIn;\n    ").concat(f,"\n    return f32(").concat(a,"[getIndexFromCoords").concat(v,"(").concat(p,", ").concat(g,")]);\n  }\n")}(e,t,n,r)),a}function GJ(e,t){var n=t.x,r=t.y,a=void 0===r?[]:r,i=t.z,o=void 0===i?[]:i,s=e.length;if(n.length===s)return["fn getOutputCoords() -> ".concat(LJ(s),"{\n    let globalIndex = getGlobalIndex();\n    return getCoordsFromIndex(globalIndex);\n  }\n  "),s];for(var u="",l=[n,a,o],c=0,d=0;d<l.length;d++){var f=l[d];if(0!==f.length)if(c+=f.length,1===f.length)u+="let d".concat(f[0]," = i32(globalId[").concat(d,"]);");else{var p=FJ(f,"uniforms.outShape");u+="var index".concat(d," = i32(globalId[").concat(d,"]);");for(var h=0;h<p.length;h++)u+="let d".concat(f[h]," = index").concat(d," / ").concat(p[h],";"),h===p.length-1?u+="let d".concat(f[h+1]," = index").concat(d," - d").concat(f[h]," * ").concat(p[h],";"):u+="index".concat(d," = index").concat(d," - d").concat(f[h]," * ").concat(p[h],";")}}for(var m=[],g=0;g<c;g++)m.push("d".concat(g));var v=LJ(c),y="fn getOutputCoords() -> ".concat(v," {\n  ").concat(u,"\n");return 0===m.length?y+="return ".concat(v,"(0); }"):y+="return ".concat(v,"(").concat(m.join(","),"); }"),[y,c]}function XJ(e){var t="";switch(e){case 0:case 1:t+="\n        fn getOutputIndexFromCoords(coords : i32) -> i32 {\n          return coords;\n        }\n        ";break;case 2:t+="\n        fn getOutputIndexFromCoords(coords : vec2<i32>) -> i32 {\n          return dot(coords, vec2<i32>(uniforms.outShapeStrides, 1));\n        }\n        ";break;case 3:t+="\n        fn getOutputIndexFromCoords(coords : vec3<i32>) -> i32 {\n          return dot(coords, vec3<i32>(uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, 1));\n        }\n        ";break;case 4:t+="\n        fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n          return dot(coords, vec4<i32>(\n            uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, uniforms.outShapeStrides.z, 1));\n        }\n        ";break;case 5:t+="\n        fn getOutputIndexFromCoords(coords : vec5) -> i32 {\n          return coords.x * uniforms.outShapeStrides.x +\n              coords.y * uniforms.outShapeStrides.y +\n              coords.z * uniforms.outShapeStrides.z +\n              coords.w * uniforms.outShapeStrides.w +\n              coords.u;\n        }\n        ";break;case 6:t+="\n        fn getOutputIndexFromCoords(coords : vec6) -> i32 {\n          return coords.x * uniforms.outShapeStrides.x +\n              coords.y * uniforms.outShapeStrides.y +\n              coords.z * uniforms.outShapeStrides.z +\n              coords.w * uniforms.outShapeStrides.w +\n              coords.u * uniforms.outShapeStrides.u +\n              coords.v;\n        }\n        ";break;default:bl.assert(!1,(function(){return"Unsupported ".concat(e,"D shape")}))}return t}function YJ(e){return 1===e.dispatch[1]&&1===e.dispatch[2]}function qJ(e,t){return"float32"===e?t?"vec4<f32>":"f32":"int32"===e||"bool"===e?t?"vec4<i32>":"i32":e}function KJ(e,t,n){var r,a=e.length,i=qJ(t,n);if(r=n?"fn setOutputAtIndex(flatIndex : i32, value : vec4<f32>) {\n      result[flatIndex] = ".concat(i,"(value);\n    }\n    fn setOutputAtIndexI32(flatIndex : i32, value : vec4<i32>) {\n      result[flatIndex] = ").concat(i,"(value);\n    }"):"fn setOutputAtIndex(flatIndex : i32, value : f32) {\n      result[flatIndex] = ".concat(i,"(value);\n    }\n    fn setOutputAtIndexI32(flatIndex : i32, value : i32) {\n      result[flatIndex] = ").concat(i,"(value);\n    }"),a>=2){var o=["d0","d1","d2","d3","d4","d5"].slice(0,a),s=LJ(a);r+=n?"\n      fn setOutputAtCoords(".concat(o.map((function(e){return"".concat(e," : i32")})).join(", "),", value : vec4<f32>) {\n        let flatIndex = getOutputIndexFromCoords(").concat(s,"(").concat(o.join(", "),"));\n        setOutputAtIndex(flatIndex / 4, value);\n      }\n      fn setOutputAtCoordsI32(").concat(o.map((function(e){return"".concat(e," : i32")})).join(", "),", value : vec4<i32>) {\n        let flatIndex = getOutputIndexFromCoords(").concat(s,"(").concat(o.join(", "),"));\n        setOutputAtIndexI32(flatIndex / 4, value);\n      }\n    "):"\n      fn setOutputAtCoords(".concat(o.map((function(e){return"".concat(e," : i32")})).join(", "),", value : f32) {\n        let flatIndex = getOutputIndexFromCoords(").concat(s,"(").concat(o.join(", "),"));\n        setOutputAtIndex(flatIndex, value);\n      }\n      fn setOutputAtCoordsI32(").concat(o.map((function(e){return"".concat(e," : i32")})).join(", "),", value : i32) {\n        let flatIndex = getOutputIndexFromCoords(").concat(s,"(").concat(o.join(", "),"));\n        setOutputAtIndexI32(flatIndex, value);\n      }\n    ")}return r}var JJ=function(e){return e?"\n        mm_Asub[inputRow][inputCol] = mm_readA(\n          t * TileInner + inputRow,\n          globalRowStart + inputCol, globalId);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(\n          globalRowStart + inputRow,\n          t * TileInner + inputCol, globalId);\n        "},QJ=function(e){return e?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];"};function $J(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,a=e[1]*t[1],i=e[0]*t[0],o=n?a:r,s=n?r:a;bl.assert(s%t[1]===0&&o%t[0]===0&&r%t[1]===0,(function(){return"tileAHight ".concat(s," must be divisible by workGroupSize[1]").concat(t[1],", tileAWidth ").concat(o," must be divisible by workGroupSize[0]").concat(t[0],", tileInner ").concat(r," must be divisible by workGroupSize[1]").concat(t[1])}));var u=s/t[1],l=o/t[0],c=r/t[1];return"\n    var<workgroup> mm_Asub : array<array<f32, ".concat(o,">, ").concat(s,">;\n    var<workgroup> mm_Bsub : array<array<f32, ").concat(i,">, ").concat(r,">;\n    let RowPerThread = ").concat(e[1],";\n    let ColPerThread = ").concat(e[0],";\n    let TileInner = ").concat(r,";\n\n    @stage(compute) @workgroup_size(workGroupSizeX, workGroupSizeY, workGroupSizeZ)\n    fn main(@builtin(local_invocation_id) LocalId : vec3<u32>,\n            @builtin(global_invocation_id) GlobalId : vec3<u32>,\n            @builtin(num_workgroups) NumWorkgroups: vec3<u32>,\n            @builtin(workgroup_id) workgroupId: vec3<u32>) {\n      localId = LocalId;\n      globalId = GlobalId;\n      numWorkgroups = NumWorkgroups;\n\n      let tileRow = i32(localId.y) * RowPerThread;\n      let tileCol = i32(localId.x) * ColPerThread;\n\n      let globalRow = i32(globalId.y) * RowPerThread;\n      let globalCol = i32(globalId.x) * ColPerThread;\n\n      let globalRowStart = i32(workgroupId.y) * ").concat(a,";\n\n      let numTiles = (uniforms.dimInner - 1) / TileInner + 1;\n\n      var acc : array<array<f32, ColPerThread>, RowPerThread>;\n\n      // Without this initialization strange values show up in acc.\n      for (var innerRow = 0; innerRow < RowPerThread; innerRow = innerRow + 1) {\n        for (var innerCol = 0; innerCol < ColPerThread; innerCol = innerCol + 1) {\n          acc[innerRow][innerCol] = 0.0;\n        }\n      }\n\n      let tileRowA = i32(localId.y) * ").concat(u,";\n      let tileColA = i32(localId.x) * ").concat(l,";\n      let tileRowB = i32(localId.y) * ").concat(c,";\n      // Loop over shared dimension.\n      for (var t = 0; t < numTiles; t = t + 1) {\n        // Load one tile of A into local memory.\n        for (var innerRow = 0; innerRow < ").concat(u,"; innerRow = innerRow + 1) {\n          for (var innerCol = 0; innerCol < ").concat(l,"; innerCol = innerCol + 1) {\n            let inputRow = tileRowA + innerRow;\n            let inputCol = tileColA + innerCol;\n            ").concat(JJ(n),"\n          }\n        }\n\n        // Load one tile of B into local memory.\n        for (var innerRow = 0; innerRow < ").concat(c,"; innerRow = innerRow + 1) {\n          for (var innerCol = 0; innerCol < ColPerThread; innerCol = innerCol + 1) {\n            let inputRow = tileRowB + innerRow;\n            let inputCol = tileCol + innerCol;\n            mm_Bsub[inputRow][inputCol] = mm_readB(\n              t * ").concat(r," + inputRow,\n              globalCol + innerCol, globalId);\n          }\n        }\n\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        var BCached : array<f32, ColPerThread>;\n        for (var k = 0; k < TileInner; k = k + 1) {\n          for (var inner = 0; inner < ColPerThread; inner = inner + 1) {\n            BCached[inner] = mm_Bsub[k][tileCol + inner];\n          }\n\n          for (var innerRow = 0; innerRow < RowPerThread; innerRow = innerRow + 1) {\n            ").concat(QJ(n),"\n            for (var innerCol = 0; innerCol < ColPerThread; innerCol = innerCol + 1) {\n              acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n            }\n          }\n        }\n\n        workgroupBarrier();\n      }\n\n      for (var innerRow = 0; innerRow < RowPerThread; innerRow = innerRow + 1) {\n        for (var innerCol = 0; innerCol < ColPerThread; innerCol = innerCol + 1) {\n          mm_write(globalRow + innerRow,\n                   globalCol + innerCol,\n                   acc[innerRow][innerCol], globalId);\n        }\n      }\n    }\n  ")}var eQ=function(e){return e?"\n      mm_readA(colA, globalRow, globalId),\n      mm_readA(colA + 1, globalRow, globalId),\n      mm_readA(colA + 2, globalRow, globalId),\n      mm_readA(colA + 3, globalRow, globalId)\n  ":"\n      mm_readA(globalRow, colA, globalId),\n      mm_readA(globalRow, colA + 1, globalId),\n      mm_readA(globalRow, colA + 2, globalId),\n      mm_readA(globalRow, colA + 3, globalId)\n  "};var tQ=function(){function e(t,n,r,a,i){var s,u,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workGroupSize=[16,16,1],this.outputShape=n,this.dispatchLayout={x:[2],y:[1],z:[0]};var h=l?t[1]:t[2];this.workGroupSize=CJ(n[1],0,n[2]),(1===n[1]||1===n[2])&&(r=1),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[r,r,1]),bl.arraysEqual(this.dispatch,[1,1,1])&&(r=1,this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[r,r,1]));var m=null!=d,g=null!=p;m&&this.variableNames.push("bias"),g&&this.variableNames.push("preluActivationWeights"),this.workPerThread=r,this.transposeA=l,this.transposeB=c,this.addBias=m,this.activation=f,this.hasPreluActivationWeights=g,this.batchAEqualOne=a,this.batchBEqualOne=i,s=this.getShapeFit(n[1],n[2],h),u=(0,o.Z)(s,3),this.fitAOuter=u[0],this.fitBOuter=u[1],this.fitInner=u[2],this.shaderKey="matMulPacked_".concat(this.workPerThread,"_").concat(l,"_").concat(c,"_").concat(this.activation,"_").concat(this.fitAOuter,"_").concat(this.fitBOuter,"_").concat(this.fitInner,"_").concat(this.outputShape[1]>1,"_").concat(this.batchAEqualOne,"_").concat(this.batchBEqualOne)}return(0,Gr.Z)(e,[{key:"getShapeFit",value:function(e,t,n){var r=this.workGroupSize[1]*this.workPerThread,a=this.workGroupSize[0]*this.workPerThread;return this.tileInner=32,1===this.outputShape[1]&&(this.tileInner=4*this.workGroupSize[0]),[e%r===0,t%a===0,n%this.tileInner===0]}},{key:"getUserCode",value:function(){var e,t=this.fitAOuter&&this.fitInner?"return A[batch * batchASize + row * uniforms.aShape[2] + col];":"\n        if(row < uniforms.aShape[1] && col < uniforms.aShape[2]) {\n          return A[batch * batchASize + row * uniforms.aShape[2] + col];\n        }\n        return 0.0;\n         ";e=!1===this.transposeB?"return B[batch * batchBSize + row * uniforms.dimBOuter + col];":"return B[batch * batchBSize + col * uniforms.dimInner + row];";var n="",r="";if(this.activation){var a=bJ(this.activation,!1);n=this.hasPreluActivationWeights?"fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n               let b = getPreluActivationWeightsByOutputCoords(outCoord);\n               ".concat(a,"\n            }"):"\n              fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n                ".concat(a,"\n              }\n            "),r="value = activation(value, outCoord);"}var i=this.addBias?"value = value + getBiasByOutputCoords(outCoord);":"";return"\n      ".concat(n,"\n\n      fn mm_readA(row : i32, col : i32,  globalId : vec3<u32>) -> f32 {\n        ").concat(this.batchAEqualOne?"\n        let batch = 0;\n        let batchASize = 0;\n        ":"\n        let batch = i32(globalId.z);\n        let batchASize = uniforms.aShape[1] * uniforms.aShape[2];\n        ","\n        ").concat(t,"\n      }\n\n      fn mm_readB(row : i32, col : i32,  globalId : vec3<u32>) -> f32 {\n        ").concat(this.batchBEqualOne?"\n        let batch = 0;\n        let batchBSize = 0;\n        ":"\n        let batch = i32(globalId.z);\n        let batchBSize = uniforms.bShape[1] * uniforms.bShape[2];\n        ","\n        ").concat(e,"\n      }\n\n      fn mm_write(row : i32, col : i32, valueIn : f32, globalId : vec3<u32>) {\n        ").concat(this.fitAOuter&&this.fitBOuter?"":"if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)","\n        {\n        var value = valueIn;\n        let batch = i32(globalId.z);\n        let outCoord = vec3<i32>(batch, row, col);\n        ").concat(i,"\n        ").concat(r,"\n        setOutputAtCoords(batch, row, col, value);\n        }\n      }\n      ").concat(this.outputShape[1]>1?$J([this.workPerThread,this.workPerThread,1],this.workGroupSize,this.transposeA,this.tileInner):function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return bl.assert(1===e[1]&&1===e[2],(function(){return"A linear work group size is required. But got ".concat(e,".")})),"\n    let TileSize = ".concat(4*e[0],";\n    var<workgroup> mm_Asub : array<vec4<f32>, ").concat(e[0],">;\n\n    ").concat(WJ(),"\n      let tileCol = i32(localId.x);\n      let globalCol = i32(globalId.x);\n      let globalRow = i32(globalId.y);\n\n      let numTiles = (uniforms.dimInner - 1) / TileSize + 1;\n\n      // Without this initialization strange values show up in acc.\n      var acc = 0.0;\n\n      // Loop over shared dimension.\n      for (var t = 0; t < numTiles; t = t + 1) {\n        // Load one tile of A into local memory.\n        let colA = t * TileSize + tileCol * 4;\n        mm_Asub[tileCol] = vec4<f32>(").concat(eQ(t),");\n        workgroupBarrier();\n\n        // Compute acc values for a single thread.\n        for (var k = 0; k < TileSize / 4; k = k + 1) {\n          let rowB = t * TileSize + k * 4;\n          let BCached = vec4<f32>(mm_readB(rowB, globalCol, globalId),\n                              mm_readB(rowB + 1, globalCol, globalId),\n                              mm_readB(rowB + 2, globalCol, globalId),\n                              mm_readB(rowB + 3, globalCol, globalId));\n\n          let ACached = mm_Asub[k];\n          acc = acc + dot(ACached, BCached);\n        }\n\n        workgroupBarrier();\n      }\n\n      mm_write(globalRow, globalCol, acc, globalId);\n    }\n  ")}(this.workGroupSize,this.transposeA),"\n    ")}}]),e}();var nQ=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workGroupSize=[256,1,1],this.outputShape=t,this.dispatchLayout={x:[],y:[1,2],z:[0]},this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize);var l=null!=o,c=null!=u;l&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),this.transposeA=a,this.transposeB=i,this.addBias=l,this.activation=s,this.hasPreluActivationWeights=c,this.batchAEqualOne=n,this.batchBEqualOne=r,this.shaderKey="matMulReduce_".concat(this.activation,"_").concat(a,"_").concat(i,"_").concat(this.batchAEqualOne,"_").concat(this.batchBEqualOne)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e,t;e=!1===this.transposeA?"return f32(A[batch * batchASize + row * uniforms.dimInner + col]);":"return f32(A[batch * batchASize + col * uniforms.dimAOuter + row]);",t=!1===this.transposeB?"return f32(B[batch * batchBSize + row * uniforms.dimBOuter + col]);":"return f32(B[batch * batchBSize + col * uniforms.dimInner + row]);";var n="",r="";if(this.activation){var a=bJ(this.activation,!1);n=this.hasPreluActivationWeights?"fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n               let b = getPreluActivationWeightsByOutputCoords(outCoord);\n               ".concat(a,"\n            }"):"\n              fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n                ".concat(a,"\n              }\n            "),r="value = activation(value, outCoord);"}var i=this.addBias?"value = value + getBiasByOutputCoords(outCoord);":"";return"\n      ".concat(n,"\n\n      fn mm_readA(batchIn: i32, row : i32, col : i32) -> f32 {\n        ").concat(this.batchAEqualOne?"\n          let batchASize = 0;\n          let batch = 0;\n          ":"\n          let batchASize = uniforms.aShape[1] * uniforms.aShape[2];\n          let batch = batchIn;\n          ","\n        ").concat(e,"\n      }\n\n      fn mm_readB(batchIn: i32, row : i32, col : i32) -> f32 {\n        ").concat(this.batchBEqualOne?"\n          let batch = 0;\n          let batchBSize = 0;\n          ":"\n          let batch = batchIn;\n          let batchBSize = uniforms.bShape[1] * uniforms.bShape[2];\n          ","\n        ").concat(t,"\n      }\n\n      fn mm_write(batch: i32, row : i32, col : i32, valueIn : f32) {\n        var value = valueIn;\n        let outCoord = vec3<i32>(batch, row, col);\n        ").concat(i,"\n        ").concat(r,"\n        setOutputAtCoords(batch, row, col, value);\n      }\n      ").concat("\n    var<workgroup> sumValues : array<f32, workGroupSizeX>;\n    ".concat(WJ(),"\n      let coords = getOutputCoords();\n      let batch = coords[0];\n      let row = coords[1];\n      let col = coords[2];\n      var sum = 0.0;\n      let Length = uniforms.dimInner;\n      for (var k = i32(localId.x); k < Length; k = k + i32(workGroupSizeX)) {\n        let dataA = mm_readA(batch, row, k);\n        let dataB = mm_readB(batch, k, col);\n        sum = sum + dataA * dataB;\n      }\n      sumValues[localId.x] = sum;\n      workgroupBarrier();\n\n      for(var currentSize = workGroupSizeX / 2u; currentSize > 1u;\n          currentSize = currentSize / 2u) {\n        if (localId.x < currentSize)\n        {\n          sumValues[localId.x] = sumValues[localId.x] + sumValues[localId.x + currentSize];\n        }\n        workgroupBarrier();\n      }\n\n      if (localId.x == 0u) {\n        sum = sumValues[0] + sumValues[1];\n        mm_write(batch, row, col, sum);\n      }\n    }\n  "),"\n    ")}}]),e}();var rQ=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workGroupSize=[8,16,1],bl.assert(t[1]<=16||n[2]<=16,(function(){return"This program can be only used when A width or B Height are small"})),this.outputShape=r,this.dispatchLayout={x:[2],y:[1],z:[0]},this.dispatch=[Math.ceil(r[2]/this.workGroupSize[0]),Math.ceil(2*r[1]/this.workGroupSize[1]),r[0]];var s=null!=a;s&&this.variableNames.push("bias");var u=null!=o;u&&this.variableNames.push("preluActivationWeights"),this.addBias=s,this.activation=i,this.hasPreluActivationWeights=u,this.batchAEqualOne=1===t[0],this.batchBEqualOne=1===n[0],this.shaderKey="matMulSmallOutputSize_".concat(this.activation,"_").concat(this.batchAEqualOne,"_").concat(this.batchBEqualOne)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="",t="";if(this.activation){var n=bJ(this.activation,!1);e=this.hasPreluActivationWeights?"fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n            let b = getPreluActivationWeightsByOutputCoords(outCoord);\n            ".concat(n,"\n            }"):"fn activation(a : f32, outCoord : vec3<i32>) -> f32 {\n            ".concat(n,"\n        }"),t="value = activation(value, outCoord);"}var r=this.addBias?"value = value + getBiasByOutputCoords(outCoord);":"";return"\n      ".concat(e,"\n\n      fn mm_readA(row : i32, col : i32,  globalId : vec3<u32>) -> f32 {\n        ").concat(this.batchAEqualOne?"\n          let batch = 0;\n          let batchASize = 0;\n          ":"\n          let batchASize = uniforms.aShape[1] * uniforms.aShape[2];\n          let batch = i32(globalId.z);\n          ","\n        ").concat("if (coordsInBounds2D(vec2<i32>(row, col), vec2<i32>(uniforms.dimAOuter, uniforms.dimInner))) {\n          return A[batch * batchASize + row * uniforms.dimInner + col];\n        }\n        return 0.0;","\n      }\n      fn mm_readB(row : i32, col : i32,  globalId : vec3<u32>) -> f32 {\n        ").concat(this.batchBEqualOne?"\n          let batch = 0;\n          let batchBSize = 0;\n          ":"\n          let batch = i32(globalId.z);\n          let batchBSize = uniforms.bShape[1] * uniforms.bShape[2];\n          ","\n        ").concat("if (coordsInBounds2D(vec2<i32>(row, col), vec2<i32>(uniforms.dimInner, uniforms.dimBOuter))) {\n           return B[batch * batchBSize + row * uniforms.dimBOuter + col];\n         }\n         return 0.0;","\n      }\n      fn mm_write(row : i32, col : i32, valueIn : f32, globalId : vec3<u32>) {\n        if (coordsInBounds2D(vec2<i32>(row, col), vec2<i32>(uniforms.dimAOuter, uniforms.dimBOuter))) {\n          let batch = i32(globalId.z);\n          let outCoord = vec3<i32>(batch, row, col);\n          var value = valueIn;\n          ").concat(r,"\n          ").concat(t,"\n          setOutputAtCoords(batch, row, col, value);\n        }\n      }\n      ").concat(function(e){var t=e[1]/2,n=e[0],r=t>n?t:n;return"\n  var<workgroup> mm_Asub1 : array<array<f32, ".concat(r,">, ").concat(t,">;\n  var<workgroup> mm_Bsub1 : array<array<f32, ").concat(n,">, ").concat(r,">;\n  var<workgroup> mm_Asub2 : array<array<f32, ").concat(r,">, ").concat(t,">;\n  var<workgroup> mm_Bsub2 : array<array<f32, ").concat(n,">, ").concat(r,">;\n\n  // If the output size is small for matrix multiplication, avoid to use vec4\n  // and handle some elements per thread to optimally utilize the ALU.\n  // Introduces two shared memory buffers, some logical threads could handle\n  // arithmetic operations and others handle IO operations between barrier api,\n  // makes ALUs and load/store units work simultaneously, could improves\n  // the performance.\n  ").concat(WJ(),"\n    let tileRow = i32(localId.y);\n    let tileCol = i32(localId.x);\n    let globalRow = i32(globalId.y);\n    let globalCol = i32(globalId.x);\n\n    // uniforms.dimInner should be greater than 0.\n    let numTiles = (uniforms.dimInner - 1) / ").concat(r," + 1;\n    var acc = 0.0;\n\n    var globalColA = tileCol;\n    var globalRowB = tileRow;\n    for (var t = 0; t < numTiles; t = t + 1) {\n      if (t == 0) {\n        if (tileRow < ").concat(t,") {\n          // Load one tile of A and B into local memory.\n          // globalRow is always greater than or equal tileRow.\n          mm_Asub1[tileRow][tileCol] =\n              mm_readA((globalRow - tileRow) / 2 + tileRow, globalColA, globalId);\n          globalColA = globalColA + ").concat(r,";\n          mm_Bsub1[tileRow][tileCol] = mm_readB(globalRowB, globalCol, globalId);\n          globalRowB = globalRowB + ").concat(r,";\n        }\n      } else {\n        if (tileRow < ").concat(t,") {\n          // Load one tile of A and B into local memory.\n          // globalRow is always greater than or equal tileRow.\n          mm_Asub1[tileRow][tileCol] =\n              mm_readA((globalRow - tileRow) / 2 + tileRow, globalColA, globalId);\n          globalColA = globalColA + ").concat(r,";\n          mm_Bsub1[tileRow][tileCol] = mm_readB(globalRowB, globalCol, globalId);\n          globalRowB = globalRowB + ").concat(r,";\n        } else {\n          // Compute acc values for a single thread.\n          for (var k = 0; k < ").concat(r,"; k = k + 1) {\n            let subRow = tileRow - ").concat(t,";\n            if (subRow < 0) {\n              continue;\n            }\n            acc = acc + mm_Asub2[subRow][k] * mm_Bsub2[k][tileCol];\n          }\n        }\n      }\n      workgroupBarrier();\n      if (t != 0) {\n        t = t + 1;\n      }\n\n      if (t < numTiles) {\n        if (tileRow < ").concat(t,") {\n          // Load one tile of A and B into local memory.\n          // globalRow is always greater than or equal tileRow.\n          mm_Asub2[tileRow][tileCol] =\n              mm_readA((globalRow - tileRow) / 2 + tileRow, globalColA, globalId);\n          globalColA = globalColA + ").concat(r,";\n          mm_Bsub2[tileRow][tileCol] = mm_readB(globalRowB, globalCol, globalId);\n          globalRowB = globalRowB + ").concat(r,";\n        } else {\n          // Compute acc values for a single thread.\n          for (var k = 0; k < ").concat(r,"; k = k + 1) {\n            let subRow = tileRow - ").concat(t,";\n            if (subRow < 0) {\n              continue;\n            }\n            acc = acc + mm_Asub1[subRow][k] * mm_Bsub1[k][tileCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    let writeCol = (globalRow - tileRow) / 2 + tileRow - ").concat(t,";\n    if (tileRow >= ").concat(t," && writeCol >= 0) {\n      mm_write(writeCol, globalCol, acc, globalId);\n    }\n  }\n  ")}(this.workGroupSize),"\n    ")}}]),e}();function aQ(e){var t=e.inputs,n=e.attrs,r=t.x,a=n.shape,i=bl.sizeFromShape(r.shape),o=bl.inferFromImplicitShape(a,i),s=bl.sizeFromShape(o);return bl.assert(i===s,(function(){return"The new shape (".concat(o,") has ").concat(s," elements and the old shape (").concat(r.shape,") has ").concat(i," elements. The new shape and old shape must have the same number of elements.")})),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:o,dtype:r.dtype}}var iQ={kernelName:su,backendName:"webgpu",kernelFunc:aQ};function oQ(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,o=e.bias,s=void 0===o?null:o,u=e.preluActivationWeights,l=void 0===u?null:u,c=e.leakyreluAlpha,d=void 0===c?0:c,f=e.activation,p=void 0===f?null:f,h=t.shape.length,m=n.shape.length,g=r?t.shape[h-2]:t.shape[h-1],v=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[h-1]:t.shape[h-2],b=a?n.shape[m-2]:n.shape[m-1],x=t.shape.slice(0,-2),A=n.shape.slice(0,-2),w=bl.sizeFromShape(x),k=bl.sizeFromShape(A),S=$f.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,b]);bl.assert(g===v,(function(){return"Error in matMul: inner shapes (".concat(g,") and (").concat(v,") of Tensors with shapes ").concat(t.shape," and ").concat(n.shape," and transposeA=").concat(r," and transposeB=").concat(a," must match.")}));var C,I=r?[w,g,y]:[w,y,g],E=a?[k,b,v]:[k,v,b],T=aQ({inputs:{x:t},backend:i,attrs:{shape:I}}),N=aQ({inputs:{x:n},backend:i,attrs:{shape:E}}),O=[T,N],P=Math.max(w,k),_=1===w,M=1===k,R=(g%4===0&&!r||y%4===0&&r)&&b%4===0&&!a;C=y*b<=32?new nQ([P,y,b],_,M,r,a,s,p,l):r||a||!(y<=16&&(b<=512||v>=2*b)||b<=16&&(y<=512||g>=2*y))?R?new RJ(I,[P,y,b],_,M,r,s,p,l):new tQ(I,[P,y,b],Hi().get("WEBGPU_MATMUL_WORK_PER_THREAD"),_,M,r,a,s,p,l):new rQ(I,E,[P,y,b],s,p,l);var F=[T,N];s&&F.push(s),l&&F.push(l);var D=[{type:"int32",data:[y]},{type:"int32",data:[b]},{type:"int32",data:[g]}];"leakyrelu"===p&&(D.push({type:"float32",data:[d]}),C.uniforms+=" alpha : f32,");var L=i.runWebGPUProgram(C,F,t.dtype,D),z=aQ({inputs:{x:L},backend:i,attrs:{shape:S}});O.push(L);for(var Z=0,W=O;Z<W.length;Z++){var B=W[Z];i.disposeData(B.dataId)}return z}var sQ={kernelName:rl,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,l=r.transposeB,c=r.activation;return oQ({a:a,b:i,transposeA:u,transposeB:l,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},uQ=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.workGroupSize=[128,1,1],this.size=!0,this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="binaryOpComplex_".concat(t),this.op=t}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      fn binaryOpComplex(\n          areal : f32, aimag : f32, breal : f32, bimag : f32) -> f32 {\n        ".concat(vJ(this.op,!1),"\n      }\n\n      ").concat(ZJ(),"\n        if(index < uniforms.size) {\n          let areal = getARealByOutputIndex(index);\n          let aimag = getAImagByOutputIndex(index);\n          let breal = getBRealByOutputIndex(index);\n          let bimag = getBImagByOutputIndex(index);\n          setOutputAtIndex(index, binaryOpComplex(areal, aimag, breal, bimag));\n        }\n      }\n    ")}}]),e}(),lQ=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.size=!0;this.workGroupSize=[256,1,1],this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.dispatchLayout=EJ(this.outputShape),this.lastDimensionSize=a?r[0]:n[0],this.lastDimensionSize<256?this.workPerThread=1:this.lastDimensionSize<512?this.workPerThread=2:this.workPerThread=4,this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.useSharedMemoryWithB=a,this.op=t,this.shaderKey="binaryShared_".concat(t,"_").concat(this.lastDimensionSize,"_").concat(this.useSharedMemoryWithB)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.lastDimensionSize>1?"coords[".concat(this.outputShape.length-1,"]"):"0",t=this.useSharedMemoryWithB?"let a = getAByOutputCoords(coords);\n         let b = sharedBuf[".concat(e,"];"):"let a = sharedBuf[".concat(e,"];\n         let b = getBByOutputCoords(coords);");return"\n        fn binaryOperation(a : f32, b : f32) -> f32 {\n          ".concat(vJ(this.op,!1),"\n        }\n        var<workgroup> sharedBuf : array<f32, ").concat(this.lastDimensionSize,">;\n        ").concat(ZJ(),"\n\n          // Fill in the shared memory buffer. Here we need a loop to make sure\n          // that all data in A|B are uploaded when |sharedMemorySize| is larger\n          // than work group size.\n          for(var localIndex = i32(localId.x); localIndex < ").concat(this.lastDimensionSize,"; localIndex = localIndex + ").concat(this.workGroupSize[0],") {\n            sharedBuf[localIndex] = f32(").concat(this.useSharedMemoryWithB?"B":"A","[localIndex]);\n          }\n          workgroupBarrier();\n\n          for(var i = 0; i < ").concat(this.workPerThread,"; i = i + 1) {\n            let flatIndex = index * ").concat(this.workPerThread," + i;\n            if(flatIndex < uniforms.size) {\n              let coords = getCoordsFromIndex(flatIndex);\n\n              ").concat(t,"\n              setOutputAtIndex(flatIndex, binaryOperation(a, b));\n            }\n          }\n        }\n        ")}}]),e}(),cQ=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.workPerThread=4,this.isVec4=!0,this.size=!0;this.workGroupSize=[128,1,1],this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.op=t,this.shaderKey="binaryVec4_".concat(t)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      fn binaryOperation(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\n        ".concat(vJ(this.op,this.isVec4),"\n      }\n      ").concat(ZJ(),"\n        if (index < uniforms.size) {\n          let a = getAByOutputIndex(index);\n          let b = getBByOutputIndex(index);\n          setOutputAtIndex(index, binaryOperation(a, b));\n        }\n      }\n    ")}}]),e}(),dQ=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["A","B"],this.size=!0;this.workGroupSize=[128,1,1],this.outputShape=Xb.assertAndGetBroadcastShape(n,r),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="binary_".concat(t),this.op=t}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      fn binaryOperation(a : f32, b : f32) -> f32 {\n        ".concat(vJ(this.op,!1),"\n      }\n      ").concat(ZJ(),"\n        if (index < uniforms.size) {\n          let a = getAByOutputIndex(index);\n          let b = getBByOutputIndex(index);\n          setOutputAtIndex(index, binaryOperation(a, b));\n        }\n      }\n      ")}}]),e}();function fQ(e,t,n){if(bl.arraysEqual(t,n)&&bl.sizeFromShape(t)%4===0)return new cQ(e,t,n);var r=1===t.length&&n.length>1&&t[0]<1024,a=1===n.length&&t.length>1&&n[0]<1024;return r||a?new lQ(e,t,n,a):new dQ(e,t,n)}function pQ(e){var t=e.inputs.x;return e.backend.incRef(t.dataId),{dataId:t.dataId,shape:t.shape,dtype:t.dtype}}var hQ={kernelName:cs,backendName:"webgpu",kernelFunc:pQ};function mQ(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.tensorMap.get(i.dataId),s=pQ({inputs:{x:r},backend:n}),u=pQ({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:u},i}var gQ={kernelName:wo,backendName:"webgpu",kernelFunc:mQ},vQ=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.size=!0;this.workGroupSize=[128,1,1],this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.op=n,this.shaderKey="unary_".concat(n)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      fn unaryOperation(a : f32) -> f32 {\n        ".concat(yJ(this.op,!1),"\n      }\n      ").concat(ZJ(),"\n        if (index < uniforms.size) {\n          let a = getAByOutputIndex(index);\n          setOutputAtIndex(index, unaryOperation(a));\n        }\n      }\n      ")}}]),e}();function yQ(e){var t=e.opType,n=e.cpuKernelImpl,r=e.dtype;return function(e){var a=e.inputs,i=e.backend,o=a.x,s=i,u=r||o.dtype;if(s.shouldExecuteOnCPU([o])&&null!=n){var l=s.tensorMap.get(o.dataId),c=n(l.values,u);return s.makeTensorInfo(o.shape,u,c)}var d=new vQ(o.shape,t);return s.runWebGPUProgram(d,[o],u)}}function bQ(e){var t=e.opSnippet,n=e.cpuKernelImpl,r=e.supportsComplex,a=void 0!==r&&r,i=e.dtype;return function(e){var r=e.inputs,s=e.backend,u=r.a,l=r.b,c=s;if(a&&"complex64"===u.dtype){var d,f,p=c.tensorMap.get(u.dataId),h=c.tensorMap.get(l.dataId);if(0!==t){var m=[[p.complexTensorInfos.real,h.complexTensorInfos.real],[p.complexTensorInfos.imag,h.complexTensorInfos.imag]].map((function(e){var n=(0,o.Z)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:u.shape},s={dataId:a.dataId,dtype:a.dtype,shape:l.shape},d=fQ(t,u.shape,l.shape);return c.runWebGPUProgram(d,[i,s],cc(r.dtype,a.dtype))})),g=(0,o.Z)(m,2);d=g[0],f=g[1]}else{var v=new uQ(17,u.shape,l.shape),y=new uQ(18,u.shape,l.shape),b=[{dataId:p.complexTensorInfos.real.dataId,dtype:p.complexTensorInfos.real.dtype,shape:u.shape},{dataId:p.complexTensorInfos.imag.dataId,dtype:p.complexTensorInfos.imag.dtype,shape:u.shape},{dataId:h.complexTensorInfos.real.dataId,dtype:h.complexTensorInfos.real.dtype,shape:l.shape},{dataId:h.complexTensorInfos.imag.dataId,dtype:h.complexTensorInfos.imag.dtype,shape:l.shape}];d=c.runWebGPUProgram(v,b,"float32"),f=c.runWebGPUProgram(y,b,"float32")}var x=mQ({inputs:{real:d,imag:f},backend:c});return c.disposeData(d.dataId),c.disposeData(f.dataId),x}var A=i||cc(u.dtype,l.dtype);if(("string"===u.dtype||"string"===l.dtype||c.shouldExecuteOnCPU([u,l]))&&null!=n){var w=c.tensorMap.get(u.dataId).values,k=c.tensorMap.get(l.dataId).values,S="string"===u.dtype?Xb.fromUint8ToStringArray(w):w,C="string"===u.dtype?Xb.fromUint8ToStringArray(k):k,I=n(u.shape,l.shape,S,C,A),E=(0,o.Z)(I,2),T=E[0],N=E[1];return c.makeTensorInfo(N,A,T)}var O=fQ(t,u.shape,l.shape);return c.runWebGPUProgram(O,[u,l],A)}}var xQ=ZR.addImpl,AQ=ZR.ceilImpl,wQ=ZR.concatImpl,kQ=ZR.equalImpl,SQ=ZR.expImpl,CQ=ZR.expm1Impl,IQ=ZR.floorImpl,EQ=ZR.gatherNdImpl,TQ=ZR.gatherV2Impl,NQ=ZR.greaterEqualImpl,OQ=ZR.greaterImpl,PQ=ZR.lessEqualImpl,_Q=ZR.lessImpl,MQ=ZR.logImpl,RQ=ZR.maxImpl,FQ=ZR.maximumImpl,DQ=ZR.minimumImpl,LQ=ZR.multiplyImpl,zQ=ZR.negImpl,ZQ=ZR.notEqualImpl,WQ=ZR.prodImpl,BQ=ZR.rangeImpl,jQ=ZR.rsqrtImpl,VQ=ZR.scatterImpl,HQ=ZR.simpleAbsImpl,UQ=ZR.sliceImpl,GQ=ZR.stridedSliceImpl,XQ=ZR.stringNGramsImpl,YQ=ZR.subImpl,qQ=ZR.tileImpl,KQ=ZR.topKImpl,JQ=ZR.transposeImpl,QQ=(ZR.uniqueImpl,yQ({opType:0,cpuKernelImpl:HQ})),$Q={kernelName:qi,backendName:"webgpu",kernelFunc:QQ},e$=bQ({opSnippet:1,cpuKernelImpl:xQ,supportsComplex:!0}),t$={kernelName:Qi,backendName:"webgpu",kernelFunc:e$},n$=function(){function e(t){(0,Ur.Z)(this,e),this.workPerThread=4,this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t[0],this.variableNames=t.map((function(e,t){return"T".concat(t)})),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.shaderKey="addN"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=[];this.variableNames.forEach((function(t){e.push("let v".concat(t," = get").concat(t,"ByOutputCoords(coords);"))}));var t=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");return"\n      ".concat(ZJ(),"\n        for (var i = 0; i < ").concat(this.workPerThread,"; i = i + 1) {\n          let flatIndex = index * ").concat(this.workPerThread," + i;\n          if (flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndex);\n            ").concat(e.join("\n        "),"\n            setOutputAtIndex(flatIndex, ").concat(t,");\n          }\n        }\n      }\n    ")}}]),e}();var r$={kernelName:$i,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;if(1===r.length)return pQ({inputs:{x:r[0]},backend:n});var a=r.map((function(e){return e.dtype})).reduce((function(e,t){return cc(e,t)})),i=r.map((function(e){return e.shape})),o=new n$(i);return n.runWebGPUProgram(o,r,a)}},a$=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.workGroupSize=[64,1,1],this.variableNames=["x"],this.uniforms="infinityValue : f32,",this.size=!0;var a=[n];Xb.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.length),this.op="min"===r?"<":">";var i=Xb.computeOutAndReduceShapes(t,a),s=(0,o.Z)(i,1)[0];this.outputShape=0===s.length?[1]:s,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,[1,1,1]),this.inputShape=t,this.shaderKey="argMinMax".concat(this.op)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this,t="\n      var<workgroup> xBestIndices : array<i32, ".concat(this.workGroupSize[0],">;\n      var<workgroup> xBestValues : array<f32, ").concat(this.workGroupSize[0],">;\n    ");return"\n      fn DIV_CEIL(a : u32, b : u32) -> u32 {\n        return ((a - 1u) / b + 1u);\n      }\n\n      ".concat(t,"\n\n      ").concat(ZJ(),"\n        let outputIndex = index / i32(workGroupSizeX);\n        let reduceLength = ").concat(1===e.inputShape.length?"uniforms.xShape":"uniforms.xShape.".concat(zJ(e.inputShape.length-1)),";\n\n        var bestIndex = i32(localId.x);\n        var bestValue = uniforms.infinityValue;\n        let outputCoords = getCoordsFromIndex(outputIndex);\n        for (var k = i32(localId.x); k < reduceLength && outputIndex < uniforms.size;\n            k = k + i32(workGroupSizeX)) {\n          let candidate = getX(").concat(function(){var t="";if(1===e.outputShape.length)1!==e.inputShape.length&&(t+="outputCoords,");else for(var n=0;n<e.outputShape.length;n++)t+="outputCoords.".concat(zJ(n),",");return t}()," k);\n          if (!isnan(candidate) && candidate ").concat(this.op," bestValue) {\n            bestValue = candidate;\n            bestIndex = k;\n          }\n        }\n        xBestValues[localId.x] = bestValue;\n        xBestIndices[localId.x] = bestIndex;\n        workgroupBarrier();\n\n        var reduceSize = min(u32(reduceLength), workGroupSizeX);\n        for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n            currentSize = reduceSize / 2u) {\n          let interval = DIV_CEIL(reduceSize, 2u);\n          if (localId.x < currentSize) {\n            let candidate = xBestValues[localId.x + interval];\n            if (candidate ").concat(this.op," bestValue) {\n              bestValue = candidate;\n              xBestValues[localId.x] = bestValue;\n              xBestIndices[localId.x] = xBestIndices[localId.x + interval];\n            }\n          }\n          reduceSize = interval;\n          workgroupBarrier();\n        }\n\n        if (localId.x == 0u && outputIndex < uniforms.size) {\n          setOutputAtIndexI32(outputIndex, xBestIndices[localId.x]);\n        }\n      }\n    ")}}]),e}(),i$=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.workGroupSize=[16,16,1];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.dispatchLayout={x:[0],y:[1]},this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[1,1,1]),this.shaderKey="transposeShared"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      let TILE_DIM = ".concat(this.workGroupSize[0],";\n      var<workgroup> tile : array<array<f32, ").concat(this.workGroupSize[0]+1,">, ").concat(this.workGroupSize[0],">;\n      ").concat("\n  @stage(compute) @workgroup_size(workGroupSizeX, workGroupSizeY, workGroupSizeZ)\n","\n      fn main(@builtin(local_invocation_id) localId : vec3<u32>,\n              @builtin(workgroup_id) workgroupId : vec3<u32>) {\n        var x = i32(workgroupId.x) * TILE_DIM + i32(localId.x);\n        var y = i32(workgroupId.y) * TILE_DIM + i32(localId.y);\n        let width = uniforms.outShape[0];\n        let height = uniforms.outShape[1];\n        if (x < width && y < height) {\n          tile[localId.y][localId.x] = A[y * width + x];\n        }\n        workgroupBarrier();\n\n        x = i32(workgroupId.y) * TILE_DIM + i32(localId.x);\n        y = i32(workgroupId.x) * TILE_DIM + i32(localId.y);\n        if (x < height && y < width) {\n          setOutputAtIndex((y * height + x), tile[localId.x]\n            [localId.y]);\n        }\n      }\n    ")}}]),e}(),o$=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.workPerThread=4,this.workGroupSize=[64,1,1],this.size=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.newDim=n,this.shaderKey="transpose_".concat(n)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=LJ(this.outputShape.length),t=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=new Array(t),r=0;r<e.length;r++)n[e[r]]="resRC.".concat(zJ(r));return n.join()}(this.newDim);return"\n      ".concat(ZJ(),"\n\n        for(var i = 0; i < ").concat(this.workPerThread,"; i = i + 1) {\n          let flatIndex = index * ").concat(this.workPerThread," + i;\n          if(flatIndex < uniforms.size) {\n            let resRC = getCoordsFromIndex(flatIndex);\n            setOutputAtIndex(flatIndex, A[getIndexFromCoords").concat(this.outputShape.length,"D(\n              ").concat(e,"(").concat(t,"), uniforms.aShape)]);\n          }\n        }\n      }\n    ")}}]),e}();function s$(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.perm,o=n,s=a.shape.length,u=new Array(s),l=0;l<u.length;l++)u[l]=a.shape[i[l]];if(n.shouldExecuteOnCPU([a])){var c=o.tensorMap.get(a.dataId).values,d=JQ(c,a.shape,a.dtype,i,u);return n.makeTensorInfo(u,a.dtype,d)}if(2===a.shape.length&&bl.arraysEqual(i,[1,0])){var f=new i$(a.shape,i);return o.runWebGPUProgram(f,[a],a.dtype)}var p=new o$(a.shape,i);return o.runWebGPUProgram(p,[a],a.dtype)}var u$={kernelName:Yu,backendName:"webgpu",kernelFunc:s$};var l$={kernelName:no,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=bl.parseAxisParam(i,a.shape),s=Xb.getAxesPermutation(o,a.shape.length),u=a,l=[];null!=s&&(u=s$({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(u),o=Xb.getInnerMostAxes(o.length,u.shape.length)),Xb.assertAxesAreInnerMostDims("argMax",[o[0]],u.shape.length);var c=new a$(u.shape,o[0],"max"),d=[{type:"float32",data:[Number.NEGATIVE_INFINITY]}],f=n.runWebGPUProgram(c,[u],"int32",d);return l.forEach((function(e){return n.disposeData(e.dataId)})),f}};var c$={kernelName:ro,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=bl.parseAxisParam(i,a.shape),s=Xb.getAxesPermutation(o,a.shape.length),u=a,l=[];null!=s&&(u=s$({inputs:{x:a},backend:n,attrs:{perm:s}}),l.push(u),o=Xb.getInnerMostAxes(o.length,u.shape.length)),Xb.assertAxesAreInnerMostDims("argMin",[o[0]],u.shape.length);var c=new a$(u.shape,o[0],"min"),d=[{type:"float32",data:[Number.POSITIVE_INFINITY]}],f=n.runWebGPUProgram(c,[u],"int32",d);return l.forEach((function(e){return n.disposeData(e.dataId)})),f}},d$=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="stride : vec2<i32>, pad : vec2<i32>, dilation : vec2<i32>, convDims : vec2<i32>, filterDims : vec2<i32>,",this.workGroupSize=[128,1,1],this.size=!0,this.outputShape=t.outShape,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="pool2D_".concat(n),this.poolType=n}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="resultValue = max(value, resultValue);";"avg"===this.poolType&&(e="resultValue = resultValue + value; count = count + 1.0;");var t="resultValue";return"avg"===this.poolType&&(t="resultValue / count"),"\n      ".concat(ZJ(),"\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n          let batch = coords[0];\n          let xRCCorner = vec2<i32>(coords.yz) * uniforms.stride - uniforms.pad;\n          let xRCorner = xRCCorner.x;\n          let xCCorner = xRCCorner.y;\n\n          var resultValue = ").concat("avg"===this.poolType?"0.0":"-1.0 / pow(10.0, -20.0)",";\n          var count = 0.0;\n\n          for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + uniforms.dilation.x) {\n            let xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= uniforms.convDims.x) {\n              continue;\n            }\n\n            for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + uniforms.dilation.y) {\n              let xC = xCCorner + wC;\n              if (xC < 0 || xC >= uniforms.convDims.y) {\n                continue;\n              }\n\n              let value = getX(batch, xR, xC, coords[3]);\n              ").concat(e,"\n            }\n          }\n\n          setOutputAtIndex(index, ").concat(t,");\n        }\n      }\n    ")}}]),e}(),f$=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="stride : vec2<i32>,",this.workGroupSize=[256,1,1],this.size=!0,this.outputShape=t.outShape,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="poolWithFilterSizeEqualsOne"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let batch = coords[0];\n          let d = coords[3];\n\n          let xRCCorner = coords.yz * uniforms.stride;\n          let xRCorner = xRCCorner.x;\n          let xCCorner = xRCCorner.y;\n\n          let value = getX(batch, xRCorner, xCCorner, d);\n          setOutputAtIndex(index, value);\n        }\n      }\n    ")}}]),e}();var p$={kernelName:lo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,u=r.dimRoundingMode,l=Xb.computePool2DInfo(a.shape,i,o,1,s,u);if(1===l.filterWidth&&1===l.filterHeight&&bl.arraysEqual(l.inShape,l.outShape))return pQ({inputs:{x:a},backend:n});var c,d=[{type:"int32",data:[l.strideHeight,l.strideWidth]}];return 1===l.filterHeight&&1===l.filterWidth?c=new f$(l):(c=new d$(l,"avg"),d.push({type:"int32",data:[l.padInfo.top,l.padInfo.left]},{type:"int32",data:[l.dilationHeight,l.dilationWidth]},{type:"int32",data:[l.inHeight,l.inWidth]},{type:"int32",data:[l.effectiveFilterHeight,l.effectiveFilterWidth]})),n.runWebGPUProgram(c,[a],a.dtype,d)}};var h$={kernelName:ho,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return oQ({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},m$=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["source"],this.workPerThread=1,this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.rank=n.length,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.start=t,this.uniforms="start : ".concat(LJ(t.length),", "),this.shaderKey="slice"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e,t=LJ(this.rank),n=function(e){if(1===e)return"sourceLoc";if(e<=6)return g$.slice(0,e).map((function(e){return"sourceLoc.".concat(e)})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);return e=1===this.start.length?this.outputShape.map((function(e,t){return"sourceLoc = uniforms.start + coords;"})):this.outputShape.map((function(e,t){return"sourceLoc.".concat(g$[t]," = uniforms.start[").concat(t,"] + coords.").concat(g$[t],";")})),"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          var sourceLoc : ").concat(t,";\n          let coords = getCoordsFromIndex(index);\n          ").concat(e.join("\n"),"\n          setOutputAtIndex(index, getSource(").concat(n,"));\n        }\n      }\n    ")}}]),e}(),g$=["x","y","z","w","u","v"];function v$(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,s=r.size,u=bp.parseSliceParams(a,i,s),l=(0,o.Z)(u,2),c=l[0],d=l[1];if(bp.assertParamsValid(a,c,d),n.shouldExecuteOnCPU([a])||"string"===a.dtype){var f=n.tensorMap.get(a.dataId),p=UQ(f.values,c,d,a.shape,a.dtype);return n.makeTensorInfo(d,a.dtype,p)}if(0===bl.sizeFromShape(d))return n.makeTensorInfo(d,a.dtype,[]);var h=new m$(c,d),m=[{type:"int32",data:c}];return n.runWebGPUProgram(h,[a],a.dtype,m)}var y$={kernelName:xu,backendName:"webgpu",kernelFunc:v$},b$={kernelName:mo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;bl.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGPU backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),u=Xb.getReshaped(a.shape,i,s),l=Xb.getPermuted(u.length,i.length),c=Xb.getReshapedPermuted(a.shape,i,s),d=Xb.getSliceBeginCoords(o,i.length),f=Xb.getSliceSize(c,o,i.length),p=[],h=aQ({inputs:{x:a},backend:n,attrs:{shape:u}}),m=s$({inputs:{x:h},backend:n,attrs:{perm:l}}),g=aQ({inputs:{x:m},backend:n,attrs:{shape:c}}),v=v$({inputs:{x:g},backend:n,attrs:{begin:d,size:f}});return p.push(h),p.push(m),p.push(g),p.forEach((function(e){return n.disposeData(e.dataId)})),v}},x$=bQ({opSnippet:10,dtype:"bool",cpuKernelImpl:ZQ}),A$={kernelName:Us,backendName:"webgpu",kernelFunc:x$};function w$(e){var t=e.inputs,n=e.backend,r=t.input;return pQ({inputs:{x:n.tensorMap.get(r.dataId).complexTensorInfos.real},backend:n})}var k$={kernelName:au,backendName:"webgpu",kernelFunc:w$};var S$={kernelName:bo,backendName:"webgpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,o=a.dtype;if("complex64"===o){if("complex64"===i.dtype)return pQ({inputs:{x:i},backend:r});var s=Rg(i.shape),u=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),l=mQ({inputs:{real:u,imag:s},backend:r});return s.dispose(),r.disposeData(u.dataId),l}if("complex64"===i.dtype){var c=w$({inputs:{input:i},backend:r}),d=e({inputs:{x:c},backend:r,attrs:{dtype:o}});return r.disposeData(c.dataId),d}if(!bl.hasEncodingLoss(i.dtype,o)){var f=pQ({inputs:{x:i},backend:r});return{dataId:f.dataId,shape:f.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new vQ(e.shape,22),r=t.runWebGPUProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===o){var p=r.makeTensorInfo([],"bool",bl.getTypedArrayFromDType("bool",1)),h=x$({inputs:{a:i,b:p},backend:r});return r.disposeData(p.dataId),h}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(o))}},C$=yQ({opType:1,cpuKernelImpl:AQ}),I$={kernelName:xo,backendName:"webgpu",kernelFunc:C$},E$=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workPerThread=4,this.workGroupSize=[64,1,1],this.isVec4=!0,this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.shaderKey="clipVec4"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if(index < uniforms.size) {\n          let value = getAByOutputIndex(index);\n          var clampedValue : vec4<f32>;\n          for (var i = 0; i < 4; i = i + 1) {\n            if (isnan(value[i])) {\n              clampedValue[i] = value[i];\n            } else {\n              clampedValue[i] = clamp(value[i], uniforms.minVal, uniforms.maxVal);\n            }\n          }\n\n          setOutputAtIndex(index, clampedValue);\n        }\n      }\n    ")}}]),e}(),T$=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="clip"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if(index < uniforms.size) {\n          let value = getAByOutputIndex(index);\n          if (isnan(value)) {\n            setOutputAtIndex(index, value);\n            return;\n          }\n          setOutputAtIndex(index, clamp(value, uniforms.minVal, uniforms.maxVal));\n        }\n      }\n    ")}}]),e}();var N$={kernelName:Ao,backendName:"webgpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=[{type:"float32",data:[a.clipValueMin]},{type:"float32",data:[a.clipValueMax]}];return t=bl.sizeFromShape(i.shape)%4===0?new E$(i.shape):new T$(i.shape),r.runWebGPUProgram(t,[i],i.dtype,o)}},O$=function(){function e(t){(0,Ur.Z)(this,e),this.uniforms="",this.workPerThread=4,this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=Xb.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)})),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]),this.offsetLength=t.length-1;for(var n=0;n<this.offsetLength;n++)this.uniforms+="offset".concat(n," : i32,");this.shaderKey="concat"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=[];if(this.offsetLength>0){e.push("if (yC < uniforms.offset0){ setOutputAtCoords(coords.x, coords.y, getT0(yR, yC)); }");for(var t=1;t<this.offsetLength;t++)e.push("else if (yC < uniforms.offset".concat([t],"){ setOutputAtCoords(coords.x, coords.y, getT").concat(t,"(yR, yC - uniforms.offset").concat(t-1,")); }"));var n=this.offsetLength,r=this.offsetLength-1;e.push("else { setOutputAtCoords(coords.x, coords.y, getT".concat(n,"(yR, yC - uniforms.offset").concat(r,")); }"))}else e.push("setOutputAtCoords(coords.x, coords.y, getT0(yR, yC));");return"\n      ".concat(ZJ(),"\n        for(var i = 0; i < ").concat(this.workPerThread,"; i = i + 1) {\n          let flatIndex = index * ").concat(this.workPerThread," + i;\n          if(flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndex);\n            let yR = coords.x;\n            let yC = coords.y;\n\n            ").concat(e.join("\n        "),"\n          }\n        }\n      }\n    ")}}]),e}();function P$(e){var t=e.inputs,n=e.backend,r=t.input;return pQ({inputs:{x:n.tensorMap.get(r.dataId).complexTensorInfos.imag},backend:n})}var _$={kernelName:fs,backendName:"webgpu",kernelFunc:P$};function M$(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return w$({inputs:{input:e},backend:n})})),i=e.map((function(e){return P$({inputs:{input:e},backend:n})})),o=M$(a,t,n),s=M$(i,t,n),u=mQ({inputs:{real:o,imag:s},backend:n});return a.forEach((function(e){return n.disposeData(e.dataId)})),i.forEach((function(e){return n.disposeData(e.dataId)})),n.disposeData(o.dataId),n.disposeData(s.dataId),u}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var c=e.map((function(e){var r=bl.sizeFromShape(e.shape.slice(t));return aQ({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=c.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),f=Xb.computeOutShape(c.map((function(e){return e.shape})),1),p=1===c[0].shape[0],h=wQ(d,f,r,p),m=Xb.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,h);return c.forEach((function(e){return n.disposeData(e.dataId)})),g}var v=function(e,t,n){var r=Xb.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return aQ({inputs:{x:e},backend:n,attrs:{shape:[bl.sizeFromShape(e.shape.slice(0,t)),bl.sizeFromShape(e.shape.slice(t))]}})})),outShape:r}}(e,t,n),y=v.tensors2D,b=v.outShape,x=y.map((function(e){return e.shape})),A=new O$(x),w=[],k=new Array(x.length-1);if(k.length>0){k[0]=x[0][1],w.push({type:"int32",data:[k[0]]});for(a=1;a<k.length;a++)k[a]=k[a-1]+x[a][1],w.push({type:"int32",data:[k[a]]})}var S=n.runWebGPUProgram(A,y,y[0].dtype,w);y.forEach((function(e){return n.disposeData(e.dataId)}));var C=aQ({inputs:{x:S},backend:n,attrs:{shape:b}});return n.disposeData(S.dataId),C}function R$(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=bl.parseAxisParam(r,t[0].shape)[0],i=Xb.computeOutShape(t.map((function(e){return e.shape})),a);if(0===bl.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var o=t.filter((function(e){return bl.sizeFromShape(e.shape)>0}));if(1===o.length)return pQ({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return Xb.assertParamsConsistent(s,a),M$(o,a,n)}var F$={kernelName:So,backendName:"webgpu",kernelFunc:R$},D$=function(e){switch(e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error("innerElementSize ".concat(e," is not supported."))}};var L$=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>, dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=t.outShape,this.isChannelsLast="channelsLast"===t.dataFormat,this.isVec4=u,this.dispatchLayout=this.isChannelsLast?{x:[3],y:[1,2],z:[0]}:{x:[2,3],y:[1],z:[0]},this.workGroupSize=SJ(this.dispatchLayout,this.outputShape,this.isVec4),this.elementsPerThread=IJ(this.dispatchLayout,this.outputShape,this.isVec4),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,this.elementsPerThread),this.innerElementSize=this.isVec4?t.inChannels%4===0?4:3:this.elementsPerThread[0],this.isVec4&&(this.variableTypes=3===this.innerElementSize?["f32","vec4<f32>"]:["vec4<f32>","vec4<f32>"]),i&&(this.variableNames.push("bias"),this.isVec4&&this.variableTypes.push("vec4<f32>")),s&&(this.variableNames.push("preluActivationWeights"),this.isVec4&&this.variableTypes.push("vec4<f32>")),this.addBias=i,this.activation=o,this.hasPreluActivationWeights=s,this.tileAOuter=this.workGroupSize[1]*this.elementsPerThread[1],this.tileBOuter=this.workGroupSize[0]*this.elementsPerThread[0],this.tileInner=Math.max(this.workGroupSize[0]*this.innerElementSize,this.workGroupSize[1]),this.fitAOuter=n%this.tileAOuter===0,this.fitBOuter=r%this.tileBOuter===0,this.fitInner=a%this.tileInner===0,this.shaderKey="conv2DMM_".concat(this.elementsPerThread,"_").concat(this.activation,"}_").concat(this.fitAOuter,"_").concat(this.fitBOuter,"_").concat(this.fitInner,"_").concat(this.isVec4,"_").concat(this.innerElementSize,"_").concat(this.isChannelsLast)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.isVec4?MJ(this.elementsPerThread,this.tileAOuter,this.tileBOuter,this.tileInner,this.innerElementSize,!this.isChannelsLast):$J(this.elementsPerThread,this.workGroupSize,!this.isChannelsLast,this.tileInner),t=this.isVec4?[this.isChannelsLast?this.innerElementSize:4,4,4]:[1,1,1];return"\n    ".concat(function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:4,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:4,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:4,c=function(e){switch(e){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}},d=function(e){switch(e){case 1:return"return W[row * uniforms.wShape[3] + colIn];";case 4:return"return W[row * uniforms.wShape[3] / 4 + colIn];";default:throw new Error("innerElementSize ".concat(e," is not supported."))}},f=e?"\n      let coord = vec4<i32>(batch, xRow, xCol, xCh);\n      ":"\n      let coord = vec4<i32>(batch, xCh, xRow, xCol);\n      ",p=e?"\n      let outCoord = vec4<i32>(\n        batch,\n        row / outWidth,\n        row % outWidth,\n        col);\n      ":"\n      let outCoord = vec4<i32>(\n        batch,\n        row,\n        col / outWidth,\n        col % outWidth);\n      ",h=e?"uniforms.xShape[1]":"uniforms.xShape[2]",m=e?"uniforms.xShape[2]":"uniforms.xShape[3]",g=e?"row":"col",v=e?"col":"row",y="\n      let inChannels = uniforms.wShape[2];\n      let outWidth = ".concat(e?"uniforms.outShape[2]":"uniforms.outShape[3]",";\n      let outRow = ").concat(g," / outWidth;\n      let outCol = ").concat(g," % outWidth;\n\n      let WRow = ").concat(v," / (uniforms.filterDims[1] * inChannels);\n      let WCol = ").concat(v," / inChannels % uniforms.filterDims[1];\n      let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];\n      let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];\n      let xCh = ").concat(v," % inChannels;\n      var resData = ").concat(D$(s),"(0.0);\n      // The bounds checking is always needed since we use it to pad zero for\n      // the 'same' padding type.\n      if (xRow >= 0 && xRow < ").concat(h," && xCol >= 0 && xCol < ").concat(m,") {\n        ").concat(f,"\n        let xIndex = getIndexFromCoords4D(coord, uniforms.xShape);\n        ").concat(c(s),"\n      }\n      return resData;"),b=e?t&&r?"\n      let col = colIn * ".concat(s,";\n      ").concat(y):"\n      let col = colIn * ".concat(s,";\n      if (row < uniforms.dimAOuter && col < uniforms.dimInner) {\n        ").concat(y,"\n      }\n      return ").concat(D$(s),"(0.0);"):r&&n?"\n      let col = colIn * ".concat(s,";\n      ").concat(y):"\n      let col = colIn * ".concat(s,";\n      if (row < uniforms.dimInner && col < uniforms.dimBOuter) {\n        ").concat(y,"\n      }\n      return ").concat(D$(s),"(0.0);"),x="".concat(d(u)),A=D$(l),w=D$(e?s:u),k=D$(e?u:s),S="",C="";if(i){var I=bJ(i,4===l);S=o?"fn activation(a: ".concat(A,", outCoord : vec4<i32>) -> ").concat(A," {\n              let b = getPreluActivationWeightsByOutputCoords(outCoord);\n              ").concat(I,"\n           }"):"\n           fn activation(a : ".concat(A,", outCoord : vec4<i32>) -> ").concat(A," {\n             ").concat(I,"\n           }"),C="value = activation(value, outCoord);"}return"\n      ".concat(S,"\n      fn mm_readA(row : i32, colIn : i32, globalId : vec3<u32>) -> ").concat(w," {\n        var batch = i32(globalId.z);\n        ").concat(e?b:x,"\n      }\n\n      fn mm_readB(row : i32, colIn : i32, globalId : vec3<u32>) -> ").concat(k," {\n        var batch = i32(globalId.z);\n        ").concat(e?x:b,"\n      }\n\n      fn mm_write(row : i32, colIn : i32, valueIn : ").concat(A,", globalId : vec3<u32>) {\n        var col = colIn * ").concat(l,";\n        if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)\n        {\n        var batch = i32(globalId.z);\n        var value = valueIn;\n        let outWidth = ").concat(e?"uniforms.outShape[2]":"uniforms.outShape[3]",";\n        ").concat(p,"\n        ").concat(a?"value = value + getBiasByOutputCoords(outCoord);":"","\n        ").concat(C,"\n        setOutputAtCoords(outCoord[0], outCoord[1], outCoord[2], outCoord[3], value);\n        }\n      }")}(this.isChannelsLast,this.fitAOuter,this.fitBOuter,this.fitInner,this.addBias,this.activation,this.hasPreluActivationWeights,t[0],t[1],t[2]),"\n    ").concat(e,"\n  ")}}]),e}();function z$(e,t){var n=e.length;return n>=3?[].concat((0,qr.Z)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function Z$(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,o=void 0===i?null:i,s=e.preluActivationWeights,u=void 0===s?null:s,l=e.leakyreluAlpha,c=void 0===l?0:l,d=e.activation,f=void 0===d?null:d,p=null!=o,h=null!=u,m="channelsLast"===r.dataFormat;if(m&&r.filterHeight===r.inHeight&&r.filterWidth===r.inWidth&&"VALID"===r.padInfo.type||1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return function(e){var t,n,r=e.x,a=e.filter,i=e.convInfo,o=e.backend,s=e.bias,u=void 0===s?null:s,l=e.preluActivationWeights,c=void 0===l?null:l,d=e.leakyreluAlpha,f=void 0===d?0:d,p=e.activation,h=void 0===p?null:p,m="channelsLast"===i.dataFormat,g=!m,v=[];if(m&&i.filterHeight===i.inHeight&&i.filterWidth===i.inWidth&&"VALID"===i.padInfo.type){var y=i.inHeight*i.inWidth*i.inChannels;t=aQ({inputs:{x:r},backend:o,attrs:{shape:[1,i.batchSize,y]}}),n=aQ({inputs:{x:a},backend:o,attrs:{shape:[1,y,i.outChannels]}})}else t=aQ({inputs:{x:r},backend:o,attrs:{shape:m?[i.batchSize,i.inHeight*i.inWidth,i.inChannels]:[i.batchSize,i.inChannels,i.inHeight*i.inWidth]}}),n=aQ({inputs:{x:a},backend:o,attrs:{shape:[1,i.inChannels,i.outChannels]}});if(v.push(t),v.push(n),null!=c){var b=z$(c.shape,m);null!=b&&(c=aQ({inputs:{x:c},backend:o,attrs:{shape:b}}),v.push(c))}if(null!=u){var x=z$(u.shape,m);null!=x&&(u=aQ({inputs:{x:u},backend:o,attrs:{shape:x}}),v.push(u))}var A=oQ({a:m?t:n,b:m?n:t,transposeA:g,transposeB:!1,backend:o,bias:u,activation:h,preluActivationWeights:c,leakyreluAlpha:f}),w=aQ({inputs:{x:A},backend:o,attrs:{shape:i.outShape}});v.push(A);for(var k=0,S=v;k<S.length;k++){var C=S[k];o.disposeData(C.dataId)}return w}({x:t,filter:n,convInfo:r,backend:a,bias:o,activation:f,preluActivationWeights:u,leakyreluAlpha:c});var g=((r.inChannels%4===0||r.inChannels%3===0)&&m||r.outWidth%4===0&&!m)&&r.outChannels%4===0,v=m?r.outHeight*r.outWidth:r.outChannels,y=m?r.outChannels:r.outHeight*r.outWidth,b=r.filterHeight*r.filterWidth*r.inChannels,x=[r.padInfo.top,r.padInfo.left],A=[{type:"int32",data:[r.filterHeight,r.filterWidth]},{type:"int32",data:[].concat(x)},{type:"int32",data:[r.strideHeight,r.strideWidth]},{type:"int32",data:[r.dilationHeight,r.dilationWidth]},{type:"int32",data:[v]},{type:"int32",data:[y]},{type:"int32",data:[b]}],w=new L$(r,v,y,b,p,f,h,g),k=[],S=[t,n];p&&(!m&&1===o.shape.length&&(o=aQ({inputs:{x:o},backend:a,attrs:{shape:[o.shape[0],1,1]}}),k.push(o)),S.push(o)),h&&(!m&&1===u.shape.length&&(u=aQ({inputs:{x:u},backend:a,attrs:{shape:[u.shape[0],1,1]}}),k.push(u)),S.push(u)),"leakyrelu"===f&&(A.push({type:"float32",data:[c]}),w.uniforms+=" alpha : f32,");for(var C=a.runWebGPUProgram(w,S,t.dtype,A),I=0,E=k;I<E.length;I++){var T=E[I];a.disposeData(T.dataId)}return C}var W$={kernelName:Co,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.filter,o=n.strides,s=n.pad,u=n.dataFormat,l=n.dilations,c=n.dimRoundingMode,d=Xb.convertConv2DDataFormat(u);return Z$({x:a,filter:i,convInfo:Xb.computeConv2DInfo(a.shape,i.shape,o,l,s,c,!1,d),backend:r})}},B$=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, stride : vec2<i32>, outBackprop : vec4<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=t.inShape,bl.assert("channelsLast"===t.dataFormat,(function(){return"TODO: NCHW is unimplemented"})),this.dispatchLayout={x:[3],y:[1,2],z:[0]},this.workGroupSize=SJ(this.dispatchLayout,this.outputShape),this.elementsPerThread=IJ(this.dispatchLayout,this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,this.elementsPerThread),this.shaderKey="conv2DDerInputMM_".concat(this.elementsPerThread)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n    fn mm_readA(row : i32, col : i32, globalId : vec3<u32>) -> f32 {\n      var batch = i32(globalId.z);\n      if (row < uniforms.dimAOuter && col < uniforms.dimInner) {\n      \n    let outRow = row / uniforms.outShape[2];\n    let outCol = row % uniforms.outShape[2];\n\n    let WRow = col / (uniforms.filterDims[1] * uniforms.outBackprop[3]);\n    let WCol = col / uniforms.outBackprop[3] % uniforms.filterDims[1];\n    let xR = f32(outRow - uniforms.pads[0] + WRow) / f32(uniforms.stride[0]);\n    let xC = f32(outCol - uniforms.pads[1] + WCol) / f32(uniforms.stride[1]);\n    if (xR < 0.0 || xR >= f32(uniforms.outBackprop[1]) || fract(xR) > 0.0) {\n      return 0.0;\n    }\n    if (xC < 0.0 || xC >= f32(uniforms.outBackprop[2]) || fract(xC) > 0.0) {\n      return 0.0;\n    }\n    let coord = vec4<i32>(\n        batch,\n        i32(xR),\n        i32(xC),\n        col % uniforms.outBackprop[3]);\n    return x[getIndexFromCoords4D(coord, uniforms.xShape)];\n    }\n    return 0.0;\n    }\n\n    fn mm_readB(row : i32, col : i32, globalId : vec3<u32>) -> f32 {\n      let coordX = uniforms.filterDims.x - 1 -\n          row / (uniforms.filterDims[1] * uniforms.outBackprop[3]);\n      let coordY = uniforms.filterDims.y - 1 -\n          (row / uniforms.outBackprop[3]) % uniforms.filterDims[1];\n      if (row < uniforms.dimInner && col < uniforms.dimBOuter &&\n          coordX >= 0 && coordY >= 0) {\n        let coord = vec4<i32>(coordX, coordY, col,\n            row % uniforms.outBackprop[3]);\n        return W[getIndexFromCoords4D(coord, uniforms.wShape)];\n      }\n      return 0.0;\n    }\n\n    fn mm_write(row : i32, col : i32, valueInput : f32, globalId : vec3<u32>) {\n      if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)\n      {\n      var batch = i32(globalId.z);\n      var value = valueInput;\n      let outCoord = vec4<i32>(\n          batch,\n          row / uniforms.outShape[2],\n          row % uniforms.outShape[2],\n          col);\n      result[getIndexFromCoords4D(outCoord, uniforms.outShape)] = value;\n      }\n    }\n\n    ".concat($J(this.elementsPerThread,this.workGroupSize),"\n  ")}}]),e}(),j$=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["dy","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, stride : vec2<i32>, outBackprop : vec4<i32>,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t.inShape,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.isChannelsLast="channelsLast"===t.dataFormat,this.shaderKey="conv2DDerInput_".concat(this.isChannelsLast)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.isChannelsLast?1:2,t=this.isChannelsLast?2:3,n=this.isChannelsLast?3:1;return"\n    ".concat(ZJ()," {\n      if(index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let batch = coords[0];\n        let d1 = coords[").concat(n,"];\n\n        let dyCorner = vec2<i32>(coords[").concat(e,"]), coords[").concat(t,"]) - uniforms.pads;\n        let dyRCorner = dyCorner.x;\n        let dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n        for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + 1) {\n          let dyR = (f32(dyRCorner) + f32(wR)) / f32(uniforms.stride.x);\n          let wRPerm = uniforms.filterDims.x - 1 - wR;\n          if (dyR < 0.0 || dyR >= f32(uniforms.outBackprop[1]) || fract(dyR) > 0.0 ||\n              wRPerm < 0) {\n            continue;\n          }\n          let idyR = dyR;\n\n          for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + 1) {\n            let dyC = (f32(dyCCorner) + f32(wC)) / f32(uniforms.stride.y);\n            let wCPerm = uniforms.filterDims.y - 1 - wC;\n            if (dyC < 0.0 || dyC >= f32(uniforms.outBackprop[2]) ||\n                fract(dyC) > 0.0 || wCPerm < 0) {\n              continue;\n            }\n            let idyC = dyC;\n\n            for (var d2 = 0; d2 < uniforms.outBackprop[3]; d2 = d2 + 1) {\n              if (").concat(this.isChannelsLast,") {\n                let xValue = getDy(batch, idyR, idyC, d2);\n                let wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd = dotProd + xValue * wValue;\n              } else {\n                let xValue = getDy(batch, d2, idyR, idyC);\n                let wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd = dotProd + xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutputAtIndex(index, dotProd);\n      }\n    }\n  ")}}]),e}();var V$={kernelName:Eo,backendName:"webgpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.dy,o=n.filter,s=a.inputShape,u=a.strides,l=a.pad,c=a.dataFormat,d=a.dimRoundingMode,f=Xb.convertConv2DDataFormat(c),p=Xb.computeConv2DInfo(s,o.shape,u,1,l,d,!1,f),h=[{type:"int32",data:[p.filterHeight,p.filterWidth]},{type:"int32",data:[p.filterHeight-1-p.padInfo.top,p.filterWidth-1-p.padInfo.left]},{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.batchSize,p.outHeight,p.outWidth,p.outChannels]}];if(Hi().getBool("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE"))t=new j$(p);else{t=new B$(p);var m=p.inShape[1]*p.inShape[2],g=p.inShape[3],v=p.filterHeight*p.filterWidth*p.outChannels;h.push({type:"uint32",data:[m]},{type:"uint32",data:[g]},{type:"uint32",data:[v]})}return r.runWebGPUProgram(t,[i,o],"float32",h)}},H$=yQ({opType:2}),U$={kernelName:Po,backendName:"webgpu",kernelFunc:H$},G$=yQ({opType:3}),X$={kernelName:_o,backendName:"webgpu",kernelFunc:G$},Y$=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.uniforms="extrapolationValue : f32,",this.workGroupSize=[64,1,1],this.size=!0;var i=(0,o.Z)(n,1)[0];this.outputShape=[i,r[0],r[1],t],this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.methodId="bilinear"===a?1:0,this.cropHeightBiggerThan1=this.outputShape[1]>1,this.cropWidthBiggerThan1=this.outputShape[2]>1,this.shaderKey="cropAndResize_".concat(this.methodId,"_").concat(this.cropHeightBiggerThan1,"_").concat(this.cropWidthBiggerThan1)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="f32(uniforms.imageShape[1] - 1)",t="f32(uniforms.imageShape[2] - 1)",n=this.cropHeightBiggerThan1?["(".concat(e," / f32(uniforms.outShape[1] - 1))"),"(y2-y1) * height_ratio","y1*".concat(e," + f32(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(e)],r=(0,o.Z)(n,3),a=r[0],i=r[1],s=r[2],u=this.cropWidthBiggerThan1?["(".concat(t," / f32(uniforms.outShape[2] - 1))"),"(x2-x1) * width_ratio","x1*".concat(t," + f32(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(t)],l=(0,o.Z)(u,3),c=l[0],d=l[1],f=l[2];return"\n      ".concat(ZJ(),"\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let height_ratio = f32(").concat(a,");\n        let width_ratio = f32(").concat(c,");\n        let b = coords[0];\n        let y = coords[1];\n        let x = coords[2];\n        let d = coords[3];\n        // get box vals\n        let y1 = getBoxes(b, 0);\n        let x1 = getBoxes(b, 1);\n        let y2 = getBoxes(b, 2);\n        let x2 = getBoxes(b, 3);\n        // get image in batch index\n        let bInd = i32(round(getBoxInd(b)));\n        if(bInd < 0 || bInd >= uniforms.outShape[0]) {\n          return;\n        }\n        let height_scale = ").concat(i,";\n        let width_scale = ").concat(d,";\n        let in_y = ").concat(s,";\n        if( in_y < 0.0 || in_y > ").concat(e," ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let in_x = ").concat(f,";\n        if( in_x < 0.0 || in_x > ").concat(t," ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let sourceFracIndexCR = vec2<f32>(in_x,in_y);\n        if(").concat(this.methodId," == 1) {\n          // Compute the four integer indices.\n          let sourceFloorCR = vec2<i32>(sourceFracIndexCR);\n          let sourceCeilCR = vec2<i32>(ceil(sourceFracIndexCR));\n          let topLeft = getImage(bInd, sourceFloorCR.y, sourceFloorCR.x, d);\n          let bottomLeft = getImage(bInd, sourceCeilCR.y, sourceFloorCR.x, d);\n          let topRight = getImage(bInd, sourceFloorCR.y, sourceCeilCR.x, d);\n          let bottomRight = getImage(bInd, sourceCeilCR.y, sourceCeilCR.x, d);\n          let fracCR = sourceFracIndexCR - vec2<f32>(sourceFloorCR);\n          let top = topLeft + (topRight - topLeft) * fracCR.x;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          let newValue = top + (bottom - top) * fracCR.y;\n          setOutputAtIndex(index, newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          let sourceNearestCR = vec2<i32>(floor(\n            sourceFracIndexCR + vec2<f32>(0.5,0.5)));\n          let newValue = getImage(\n            bInd, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    }\n    ")}}]),e}(),q$={kernelName:Fo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,l=r.extrapolationValue,c=new Y$(a.shape[3],i.shape,s,u),d=[{type:"float32",data:[l]}];return n.runWebGPUProgram(c,[a,i,o],"float32",d)}},K$=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="index : f32,",this.size=!0;this.workGroupSize=[128,1,1],this.outputShape=n,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.exclusive=r,this.reverse=a,this.op=t,this.shaderKey="cum_".concat(this.op,"_").concat(this.exclusive,"_").concat(this.reverse)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.outputShape.length,t="*"===this.op?"1.0":"0.0",n=this.exclusive?t:"getX(".concat(J$(e,"coords",this.op),")"),r=this.outputShape[this.outputShape.length-1],a="",i="";return this.exclusive?(a=this.reverse?"end != ".concat(r-1):"end != 0",i=this.reverse?"end + 1":"end - 1"):(a=this.reverse?"end + pow2 < ".concat(r):"end >= pow2",i=this.reverse?"end + pow2":"end - pow2"),"\n      ".concat(ZJ(),"\n       if (index < uniforms.size) {\n         var coords = getCoordsFromIndex(index);\n\n         let end = ").concat(Q$(e,"coords",this.op),";\n         var val = ").concat(n,";\n         let pow2 = i32(pow(2.0, uniforms.index));\n         if (").concat(a,") {\n           let idx = ").concat(i,";\n           ").concat(Q$(e,"coords",this.op)," = idx;\n           val ").concat(this.op,"= getX(").concat(J$(e,"coords",this.op),");\n         }\n         setOutputAtIndex(index, val);\n       }\n      }\n    ")}}]),e}();function J$(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function Q$(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function $$(e,t,n,r,a,i){var o=t.shape.length,s=Xb.getAxesPermutation([r],o),u=t;null!=s&&(u=s$({inputs:{x:t},backend:n,attrs:{perm:s}}));var l=Xb.getInnerMostAxes(1,o)[0];if(l!==o-1)throw new Error("WebGPU cumprod shader expects an inner-most axis=".concat(t.shape.length-1," but got axis=").concat(r));for(var c=u.shape[l],d=pQ({inputs:{x:u},backend:n}),f=0;f<=Math.ceil(Math.log2(c))-1;f++){var p=new K$(e,u.shape,!1,i),h=d,m=[{type:"float32",data:[f]}];d=n.runWebGPUProgram(p,[d],d.dtype,m),n.disposeData(h.dataId)}if(a){var g=new K$(e,u.shape,a,i),v=d;d=n.runWebGPUProgram(g,[d],d.dtype,[{type:"float32",data:[0]}]),n.disposeData(v.dataId)}if(null!=s){var y=s$({inputs:{x:d},backend:n,attrs:{perm:Xb.getUndoAxesPermutation(s)}});return n.disposeData(d.dataId),n.disposeData(u.dataId),y}return d}var e0={kernelName:Mo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return $$("*",t.x,n,r.axis,r.exclusive,r.reverse)}};var t0={kernelName:Ro,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return $$("+",t.x,n,r.axis,r.exclusive,r.reverse)}},n0=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["x"],this.workGroupSize=[64,1,1],this.size=!0,this.uniforms="blockSize : i32,",this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="depthToSpace_".concat(n),this.dataFormat=n}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let h = ").concat(this.getHeightCoordString(),";\n          let w = ").concat(this.getWidthCoordString(),";\n          let d = ").concat(this.getDepthCoordString(),";\n\n          let in_h = h / uniforms.blockSize;\n          let offset_h = h % uniforms.blockSize;\n          let in_w = w / uniforms.blockSize;\n          let offset_w = w % uniforms.blockSize;\n          let offset_d = (offset_h * uniforms.blockSize + offset_w) *\n            ").concat(this.getOutputDepthSize(),";\n          let in_d = d + offset_d;\n\n          let rlt = ").concat(this.getInputSamplingString(),";\n          setOutputAtIndex(index, rlt);\n        }\n      }")}},{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?"uniforms.outShape[3]":"uniforms.outShape[1]"}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var r0={kernelName:Lo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,l=("NHWC"===o?a.shape[2]:a.shape[3])*i,c=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=[{type:"int32",data:[i]}],f=new n0("NHWC"===o?[s,u,l,c]:[s,c,u,l],o);return n.runWebGPUProgram(f,[a],a.dtype,d)}},a0=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.uniforms="pad : vec2<i32>, stride : vec2<i32>, dilation : vec2<i32>, inDims : vec2<i32>,",this.workGroupSize=[4,4,4],this.isVec4=!0,this.outputShape=t.outShape,this.dispatchLayout={x:[0,1],y:[2],z:[3]},this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[1,4,4]),bl.assert("channelsLast"===t.dataFormat,(function(){return"TODO: NCHW is unimplemented"})),n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.convInfo=t,this.addBias=n,this.activation=r,this.hasPreluActivation=a,this.shaderKey="depthwise3x3_".concat(r)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="",t="";if(this.activation){var n=bJ(this.activation,this.isVec4);e=this.hasPreluActivation?"fn activation(a : vec4<f32>, outCoord : vec4<i32>) -> vec4<f32> {\n          let b = getPreluActivationWeightsByOutputCoords(outCoord);\n          ".concat(n,"\n        }"):"\n        fn activation(a : vec4<f32>, outCoord : vec4<i32>) -> vec4<f32> {\n            ".concat(n,"\n          }\n        "),t="dotProd[i] = activation(dotProd[i], coords);"}var r=this.addBias?"dotProd[i] = dotProd[i] + getBiasByOutputCoords(coords);":"";return"\n      ".concat(e,"\n\n      ").concat("\n  @stage(compute) @workgroup_size(workGroupSizeX, workGroupSizeY, workGroupSizeZ)\n","\n      fn main(@builtin(global_invocation_id) globalId: vec3<u32>) {\n        let batch = 0;\n        let r = i32(globalId.x);\n        let c = i32(globalId.y) * 4;\n        let d2 = i32(globalId.z) * 4;\n        let xRCCorner = vec2<i32>(r, c) * uniforms.stride - uniforms.pad;\n        let d1 = d2;\n        let q = 0;\n\n        let xRCorner = xRCCorner.x;\n        let xCCorner = xRCCorner.y;\n\n        var wVals : array<vec4<f32>, 9>;\n        wVals[0] = getW(0, 0, d1, q);\n        wVals[1] = getW(0, 1, d1, q);\n        wVals[2] = getW(0, 2, d1, q);\n        wVals[3] = getW(1, 0, d1, q);\n        wVals[4] = getW(1, 1, d1, q);\n        wVals[5] = getW(1, 2, d1, q);\n        wVals[6] = getW(2, 0, d1, q);\n        wVals[7] = getW(2, 1, d1, q);\n        wVals[8] = getW(2, 2, d1, q);\n\n        var xVals : array<array<vec4<f32>, 6>, 3>;\n        for (var wR = 0; wR < 3; wR = wR + 1) {\n          let xR = xRCorner + wR * uniforms.dilation[0];\n          for (var wC = 0; wC < 6; wC = wC + 1) {\n            let xC = xCCorner + wC * uniforms.dilation[1];\n            if (xR < 0 || xR >= uniforms.inDims[0] || xC < 0 || xC >= uniforms.inDims[1]) {\n              xVals[wR][wC] = vec4<f32>(0.0);\n            } else {\n              xVals[wR][wC] = getX(batch, xR, xC, d1);\n            }\n          }\n        }\n\n        var dotProd : array<vec4<f32>, 4>;\n        dotProd[0] = vec4<f32>(0.0);\n        dotProd[1] = vec4<f32>(0.0);\n        dotProd[2] = vec4<f32>(0.0);\n        dotProd[3] = vec4<f32>(0.0);\n\n        for (var wR = 0; wR < 3; wR = wR + 1) {\n          for (var wC = 0; wC < 3; wC = wC + 1) {\n            let indexW = wR * 3 + wC;\n            dotProd[0] = dotProd[0] + xVals[wR][0 + wC] * wVals[indexW];\n            dotProd[1] = dotProd[1] + xVals[wR][1 + wC] * wVals[indexW];\n            dotProd[2] = dotProd[2] + xVals[wR][2 + wC] * wVals[indexW];\n            dotProd[3] = dotProd[3] + xVals[wR][3 + wC] * wVals[indexW];\n          }\n        }\n\n        for (var i = 0; i < 4; i = i + 1) {\n          let coords = vec4<i32>(batch, r, c + i, d2);\n          if (coordsInBounds4D(coords, uniforms.outShape)) {\n            ").concat(r,"\n            ").concat(t,"\n            setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], dotProd[i]);\n          }\n        }\n      }\n    ")}}]),e}(),i0=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Ur.Z)(this,e),this.variableNames=["x","W"],this.uniforms="pad : vec2<i32>, stride : vec2<i32>, dilation : vec2<i32>,\n      inDims : vec2<i32>, filterHeight : i32, filterWidth : i32,\n      channelMul : i32,",this.workGroupSize=[256,1,1],this.outputShape=t.outShape,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),bl.assert("channelsLast"===t.dataFormat,(function(){return"TODO: NCHW is unimplemented"})),n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.convInfo=t,this.addBias=n,this.activation=r,this.hasPreluActivation=a,this.shaderKey="depthwise_".concat(this.activation)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="",t="";if(this.activation){var n=bJ(this.activation,!1);e=this.hasPreluActivation?"fn activation(a : f32, outCoord : vec4<i32>) -> f32 {\n          let b = getPreluActivationWeightsByOutputCoords(outCoord);\n          ".concat(n,"\n        }"):"\n          fn activation(a : f32, outCoord : vec4<i32>) -> f32 {\n            ".concat(n,"\n          }\n        "),t="dotProd = activation(dotProd, coords);"}var r=this.addBias?"dotProd = dotProd + getBiasByOutputCoords(coords);":"";return"\n      ".concat(e,"\n\n      fn writeResult(batch : i32, row : i32, col : i32, chan : i32,\n          value : f32) {\n        let coord = vec4<i32>(batch, row, col, chan);\n        if (coordsInBounds4D(coord, uniforms.outShape)) {\n          setOutputAtCoords(batch, row, col, chan, value);\n        }\n      }\n\n      ").concat(WJ(),"\n        let coords = getOutputCoords();\n        let batch = coords[0];\n        let xRCCorner = vec2<i32>(coords.yz) * uniforms.stride - uniforms.pad;\n        let d2 = coords[3];\n        let d1 = d2 / uniforms.channelMul;\n        let q = d2 - d1 * uniforms.channelMul;\n\n        let inputRowStart = xRCCorner.x;\n        let inputColStart = xRCCorner.y;\n        let inputRowEnd = inputRowStart + uniforms.filterHeight *\n            uniforms.dilation[0];\n        let inputColEnd = inputColStart + uniforms.filterWidth *\n            uniforms.dilation[1];\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        var dotProd = 0.0;\n\n        // Extract if checking out of for loop for performance.\n        if (inputRowStart >= 0 && inputColStart >= 0 &&\n          inputRowEnd < uniforms.inDims[0] &&\n              inputColEnd < uniforms.inDims[1]) {\n            // Here using a constant value |this.convInfo.filterHeight| instead\n            // of uniform value is in order to loop unrolling.\n            for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {\n              let xR = inputRowStart + wR * uniforms.dilation[0];\n\n              for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {\n                let xC = inputColStart + wC * uniforms.dilation[1];\n\n                let xVal = getX(batch, xR, xC, d1);\n                let wVal = getW(wR, wC, d1, q);\n                dotProd = dotProd + xVal * wVal;\n              }\n            }\n          } else {\n            for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {\n              let xR = inputRowStart + wR * uniforms.dilation[0];\n\n              if (xR < 0 || xR >= uniforms.inDims[0]) {\n                continue;\n              }\n\n              for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {\n                let xC = inputColStart + wC * uniforms.dilation[1];\n\n                if (xC < 0 || xC >= uniforms.inDims[1]) {\n                  continue;\n                }\n\n                let xVal = getX(batch, xR, xC, d1);\n                let wVal = getW(wR, wC, d1, q);\n                dotProd = dotProd + xVal * wVal;\n              }\n            }\n          }\n\n        ").concat(r,"\n        ").concat(t,"\n        writeResult(batch, coords[1], coords[2], d2, dotProd);\n      }\n    ")}}]),e}();var o0={kernelName:zo,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,u=r.dilations,l=r.dimRoundingMode,c=u;null==c&&(c=[1,1]);var d,f=Xb.computeConv2DInfo(a.shape,i.shape,o,c,s,l,!0),p=[{type:"int32",data:[f.padInfo.top,f.padInfo.left]},{type:"int32",data:[f.strideHeight,f.strideWidth]},{type:"int32",data:[f.dilationHeight,f.dilationWidth]},{type:"int32",data:[f.inHeight,f.inWidth]}];return 1===f.batchSize&&f.inHeight===f.outHeight&&f.inWidth===f.outWidth&&1===f.strideHeight&&1===f.strideWidth&&f.filterHeight===f.filterWidth&&f.inChannels===f.outChannels&&1===f.dilationHeight&&1===f.dilationWidth&&3===f.filterHeight&&f.inChannels%4===0?d=new a0(f):(d=new i0(f),p.push({type:"int32",data:[f.filterHeight]},{type:"int32",data:[f.filterWidth]},{type:"int32",data:[f.outChannels/f.inChannels]})),n.runWebGPUProgram(d,[a,i],a.dtype,p)}},s0=bQ({opSnippet:0,cpuKernelImpl:LQ,supportsComplex:!0}),u0={kernelName:Vs,backendName:"webgpu",kernelFunc:s0},l0=function(){function e(t,n){(0,Ur.Z)(this,e),this.workGroupSize=[64,1,1],this.variableNames=["x"],this.uniforms="reduceSize : i32,",this.size=!0,this.inputShape=[t.batchSize,t.inSize];var r=Xb.computeOutAndReduceShapes(this.inputShape,[1]),a=(0,o.Z)(r,1)[0];this.outputShape=0===a.length?[1]:a,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,[1,1,1]),this.reduceType=n,this.shaderKey="reduce_".concat(n)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="",t="0.0";"min"===this.reduceType||"max"===this.reduceType?(e="\n         if (isnan(candidate)) {\n          bestValue = uniforms.NAN;\n         } else if (!isnan(bestValue) && candidate ".concat("min"===this.reduceType?"<":">"," bestValue)\n           {  bestValue = candidate; }"),t="f32(x[offset])"):"sum"===this.reduceType||"mean"===this.reduceType?e=" bestValue = bestValue + candidate; ":"prod"===this.reduceType&&(e=" bestValue = bestValue * candidate; ",t="1.0");var n="mean"===this.reduceType?"setOutputAtIndex(outputIndex, bestValue / f32(uniforms.reduceSize));":"setOutputAtIndex(outputIndex, bestValue);";return"\n       fn DIV_CEIL(a : u32, b : u32) -> u32 {\n        return ((a - 1u) / b + 1u);\n       }\n\n       ".concat("\n         var<workgroup> xBestValues : array<f32, ".concat(this.workGroupSize[0],">;\n       "),"\n       fn getOffset(outputIndex : i32) -> i32 {\n         let outputCoords = getCoordsFromIndex(outputIndex);\n         let offset = ",1===this.outputShape.length?"outputCoords":"outputCoords[0]"," * uniforms.reduceSize;\n          return offset;\n       }\n       ").concat(ZJ(),"\n         let outputIndex = index / i32(workGroupSizeX);\n         let offset = getOffset(outputIndex);\n         var bestValue = ").concat(t,";\n         let Length = uniforms.reduceSize;\n         let WorkPerThread = DIV_CEIL(u32(Length), workGroupSizeX);\n         for (var k = i32(localId.x); k < Length && outputIndex < uniforms.size;\n             k = k + i32(workGroupSizeX)) {\n           let candidate = f32(x[offset + k]);\n           ").concat(e,"\n         }\n         xBestValues[localId.x] = bestValue;\n         workgroupBarrier();\n\n         var reduceSize = min(u32(Length), workGroupSizeX);\n         for (var currentSize = reduceSize / 2u; reduceSize > 1u;\n             currentSize = reduceSize / 2u) {\n           let interval = DIV_CEIL(reduceSize, 2u);\n           if (localId.x < currentSize) {\n            let candidate = xBestValues[localId.x + interval];\n            ").concat(e,"\n            xBestValues[localId.x] = bestValue;\n           }\n           reduceSize = interval;\n           workgroupBarrier();\n         }\n\n         if (localId.x == 0u && outputIndex < uniforms.size) {\n          ").concat(n,"\n        }\n       }\n     ")}}]),e}();function c0(e,t,n,r,a){var i=e.shape.length,s=[],u=bl.parseAxisParam(t,e.shape),l=u,c=Xb.getAxesPermutation(l,i),d=e;null!=c&&(d=s$({inputs:{x:e},attrs:{perm:c},backend:a}),l=Xb.getInnerMostAxes(l.length,i),s.push(d)),Xb.assertAxesAreInnerMostDims(r,l,i);var f,p=Xb.computeOutAndReduceShapes(d.shape,l),h=(0,o.Z)(p,2),m=h[0],g=h[1],v=m;if(n&&(v=Xb.expandShapeToKeepDim(m,u)),"max"!==r&&"prod"!==r||!a.shouldExecuteOnCPU([d])){var y=bl.sizeFromShape(g),b={windowSize:y,inSize:y,batchSize:bl.sizeFromShape(d.shape)/y,outSize:1},x="mean"===r?"float32":dc(e.dtype),A=[{type:"int32",data:[y]}],w=new l0(b,r),k=a.runWebGPUProgram(w,[d],x,A);s.push(k),f=aQ({inputs:{x:k},attrs:{shape:v},backend:a})}else{var S=a.tensorMap.get(d.dataId).values;switch(r){case"max":var C=RQ(S,bl.sizeFromShape(g),v,e.dtype);f=a.makeTensorInfo(v,e.dtype,C);break;case"prod":var I=WQ(d.shape,d.dtype,S,l),E=I.outVals,T=I.outShape,N=I.outDtype;f=a.makeTensorInfo(T,N,E);break;default:throw new Error("".concat(r," CPU implementation is not yet supported."))}}return s.forEach((function(e){return a.disposeData(e.dataId)})),f}function d0(e){var t=e.inputs,n=e.backend,r=e.attrs;return c0(t.x,r.axis,r.keepDims,"sum",n)}var f0={kernelName:Eu,backendName:"webgpu",kernelFunc:d0};var p0={kernelName:Go,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=Xb.decodeEinsumEquation(r,a.length),o=i.allDims,s=i.summedDims,u=i.idDims;Xb.checkEinsumDimSizes(o.length,u,a);for(var l=Xb.getEinsumComputePath(s,u),c=l.path,d=l.steps,f=d.length,p=null,h=o.length,m=[],g=0;g<f;++g){var v,y=Yr(d[g]);try{for(y.s();!(v=y.n()).done;){var b=v.value,x=Xb.getEinsumPermutation(h,u[b]),A=x.permutationIndices,w=x.expandDims,k=void 0;Xb.isIdentityPermutation(A)?k=a[b]:(k=s$({inputs:{x:a[b]},backend:n,attrs:{perm:A}}),m.push(k));for(var S=k.shape.slice(),C=0;C<w.length;++C)S.splice(w[C],0,1);bl.arraysEqual(k.shape,S)||(k=aQ({inputs:{x:k},backend:n,attrs:{shape:S}}),m.push(k)),null===p?p=k:(p=s0({inputs:{a:k,b:p},backend:n}),m.push(p))}}catch(N){y.e(N)}finally{y.f()}g<f-1&&(c[g]>=0&&(p=d0({inputs:{x:p},backend:n,attrs:{axis:c[g]-(o.length-h),keepDims:!1}}),m.push(p)),h--)}for(var I=0,E=m;I<E.length;I++){var T=E[I];T!==p&&n.disposeData(T.dataId)}return p}},h0=yQ({opType:4}),m0={kernelName:Xo,backendName:"webgpu",kernelFunc:h0},g0=bQ({opSnippet:4,dtype:"bool",cpuKernelImpl:kQ}),v0={kernelName:Ko,backendName:"webgpu",kernelFunc:g0},y0=yQ({opType:5,cpuKernelImpl:SQ,dtype:"float32"}),b0={kernelName:Jo,backendName:"webgpu",kernelFunc:y0};function x0(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,o=i.shape.length,s=i.shape.slice(),u=a;return a<0&&(bl.assert(-(o+1)<=a,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),u=o+a+1),s.splice(u,0,1),aQ({inputs:{x:i},backend:r,attrs:{shape:s}})}var A0={kernelName:Qo,backendName:"webgpu",kernelFunc:x0},w0=yQ({opType:6,cpuKernelImpl:CQ}),k0={kernelName:$o,backendName:"webgpu",kernelFunc:w0},S0=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=[],this.outputShape=[],this.uniforms="value : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="fill"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n    ".concat(ZJ(),"\n      if (index < uniforms.size) {\n        setOutputAtIndex(index, uniforms.value);\n      }\n    }\n  ")}}]),e}();function C0(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||bl.inferDtype(a))){var o=bl.getArrayFromDType(i,bl.sizeFromShape(r));return o.fill(a),t.makeTensorInfo(r,i,o)}var s=new S0(r),u=[{type:"float32",data:[a]}];return t.runWebGPUProgram(s,[],i,u)}var I0,E0={kernelName:ts,backendName:"webgpu",kernelFunc:C0},T0=function(){function e(t){(0,Ur.Z)(this,e),this.outputShape=[],this.variableNames=["x"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="flipLeftRight"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let coordX = uniforms.xShape[2] - coords[2] - 1;\n          let outputValue = getX(coords[0], coords[1], coordX, coords[3]);\n          setOutputAtIndex(index, outputValue);\n        }\n      }\n    ")}}]),e}(),N0={kernelName:ns,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new T0(r.shape);return a.runWebGPUProgram(i,[r],r.dtype)}},O0=yQ({opType:7,cpuKernelImpl:IQ}),P0={kernelName:rs,backendName:"webgpu",kernelFunc:O0},_0=bQ({opSnippet:12,dtype:"int32"}),M0={kernelName:as,backendName:"webgpu",kernelFunc:_0},R0=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,Ur.Z)(this,e),this.outputShape=[0],this.variableNames=[],this.workGroupSize=[256,1,1],this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.useImport=n,this.shaderKey="fromPixels_".concat(this.useImport)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.useImport?"textureLoad(src, vec2<i32>(coords.yx));":"textureLoad(src, vec2<i32>(coords.yx), 0)";return"\n      @binding(1) @group(0) var src: ".concat(this.useImport?"texture_external":"texture_2d<f32>",";\n\n      ").concat(ZJ(),"\n        let flatIndexBase = index * uniforms.numChannels;\n        for (var i = 0; i < uniforms.numChannels; i = i + 1) {\n          let flatIndex = flatIndexBase + i;\n          if (flatIndex < uniforms.size) {\n            let coords = getCoordsFromIndex(flatIndexBase);\n            let values = ").concat(e,";\n            result[flatIndex] = i32(floor(255.0 * values[i]));\n          }\n        }\n      }\n  ")}}]),e}(),F0={kernelName:tl,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels;if(null==a)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var s="undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement,u="undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement,l="undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&a instanceof OffscreenCanvas,c="undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap,d=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],f=(0,o.Z)(d,2),p=f[0],h=f[1],m=[h,p,i];if(Hi().getBool("WEBGPU_USE_IMPORT")&&s)return D0({externalImage:a,backend:n,attrs:r,outShape:m,useImport:!0});if((s||u)&&(null==I0&&(I0=document.createElement("canvas").getContext("2d")),I0.canvas.width=p,I0.canvas.height=h,I0.drawImage(a,0,0,p,h),a=I0.canvas),c||l||s||u)return D0({externalImage:a,backend:n,attrs:r,outShape:m,useImport:!1});var g=a.data,v=g;if(null!=i&&4!==i){v=new Uint8Array(a.width*a.height*i);for(var y=g.length,b=0,x=0;x<y;x++)x%4<i&&(v[b++]=g[x])}var A=n.makeTensorInfo(m,"int32");return n.tensorMap.get(A.dataId).values=new Int32Array(v),n.maybeReleaseBuffer(A.dataId),n.uploadToGPU(A.dataId),A}};function D0(e){var t=e.externalImage,n=e.backend,r=e.attrs,a=e.outShape,i=e.useImport,o=r.numChannels,s=bl.sizeFromShape(a),u=bl.computeStrides(a),l=new R0(a,i),c=[{type:"uint32",data:[s]},{type:"uint32",data:[o]},{type:"uint32",data:(0,qr.Z)(u)},{type:"uint32",data:(0,qr.Z)(l.dispatch)}];return n.runFromPixelsProgram(l,a,c,i,t)}var L0=function(){function e(t,n,r,a,i){(0,Ur.Z)(this,e),this.uniforms="varianceEpsilon : f32,",this.workGroupSize=[128,1,1],this.size=!0,this.variableNames=["x","mean","variance"],Xb.assertAndGetBroadcastShape(t,n),Xb.assertAndGetBroadcastShape(t,r),this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),null!=a&&(Xb.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset")),null!=i&&(Xb.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale")),this.offsetShape=a,this.scaleShape=i,this.shaderKey="batchNorm"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="0.0";null!=this.offsetShape&&(e="getOffsetByOutputIndex(index)");var t="1.0";return null!=this.scaleShape&&(t="getScaleByOutputIndex(index)"),"\n      ".concat(ZJ(),"\n        if (index < uniforms.size)\n        {\n          let xValue = getXByOutputIndex(index);\n          let meanValue = getMeanByOutputIndex(index);\n          let varianValue = getVarianceByOutputIndex(index);\n          let offsetValue = ").concat(e,";\n          let scaleValue = ").concat(t,";\n          let inv = scaleValue * inverseSqrt(varianValue + f32(uniforms.varianceEpsilon));\n          setOutputAtIndex(index,dot(vec3<f32>(xValue, -meanValue, offsetValue), vec3<f32>(inv, inv, 1.0)));\n        }\n      }\n  ")}}]),e}(),z0={kernelName:is,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.scale,o=t.offset,s=t.mean,u=t.variance,l=n.varianceEpsilon,c=r,d=[a,s,u],f=null;null!=o&&(f=o.shape,d.push(o));var p=null;null!=i&&(p=i.shape,d.push(i));var h=new L0(a.shape,s.shape,u.shape,f,p),m=[{type:"float32",data:[l]}];return c.runWebGPUProgram(h,d,a.dtype,m)}};var Z0={kernelName:al,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=Xb.convertConv2DDataFormat(c);return Z$({x:a,filter:i,convInfo:Xb.computeConv2DInfo(a.shape,i.shape,u,d,l,f,!1,m),backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:h,activation:p})}};var W0={kernelName:il,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dilations,d=r.dimRoundingMode,f=r.activation,p=r.leakyreluAlpha,h=c;null==h&&(h=[1,1]),bl.assert(Xb.eitherStridesOrDilationsAreOne(u,h),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ".concat(u," and dilations '").concat(h,"'")}));var m=Xb.computeConv2DInfo(a.shape,i.shape,u,h,l,d,!0),g=[a,i],v=null!=o,y=null!=s;v&&g.push(o),y&&g.push(s);var b,x=[{type:"int32",data:[m.padInfo.top,m.padInfo.left]},{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]},{type:"int32",data:[m.inHeight,m.inWidth]}];return 1===m.batchSize&&m.inHeight===m.outHeight&&m.inWidth===m.outWidth&&1===m.strideHeight&&1===m.strideWidth&&m.filterHeight===m.filterWidth&&m.inChannels===m.outChannels&&1===m.dilationHeight&&1===m.dilationWidth&&3===m.filterHeight&&m.inChannels%4===0?b=new a0(m,v,f,y):(b=new i0(m,v,f,y),x.push({type:"int32",data:[m.filterHeight]},{type:"int32",data:[m.filterWidth]},{type:"int32",data:[m.outChannels/m.inChannels]})),"leakyrelu"===f&&(x.push({type:"float32",data:[p]}),b.uniforms+=" alpha : f32,"),n.runWebGPUProgram(b,g,"float32",x)}},B0=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A","indices"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="gathernd_".concat(t),this.sliceDim=t,this.uniforms="sliceDim : i32, strides : ".concat(LJ(t),",")}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e;return e=this.sliceDim>1?"uniforms.strides[j]":"uniforms.strides","\n        ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          var flattenIndex = 0;\n          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {\n            let indexTemp = i32(round(getIndices(coords[0], j)));\n            let strideNum = ").concat(e,";\n            flattenIndex = flattenIndex + indexTemp * strideNum;\n          }\n\n          setOutputAtIndex(index, getA(flattenIndex, coords[1]));\n        }\n      }\n      ")}}]),e}();var j0={kernelName:ss,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,s=i[i.length-1],u=bl.sizeFromShape(r.shape),l=Xb.prepareAndValidate(r,a),c=(0,o.Z)(l,4),d=c[0],f=c[1],p=c[2],h=c[3],m=aQ({inputs:{x:a},backend:n,attrs:{shape:[f,s]}}),g=aQ({inputs:{x:r},backend:n,attrs:{shape:[bl.sizeFromShape(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var v=n.readSync(a.dataId),y=n.bufferSync(r),b=EQ(v,y,r.dtype,f,s,p,h,r.shape,u);return n.makeTensorInfo(d,r.dtype,b.values)}var x=new B0(s,[f,p]),A=[{type:"int32",data:[s]},{type:"int32",data:h}],w=n.runWebGPUProgram(x,[g,m],g.dtype,A),k=aQ({inputs:{x:w},backend:n,attrs:{shape:d}});return n.disposeData(m.dataId),n.disposeData(g.dataId),n.disposeData(w.dataId),k}},V0=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A","indices"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t.slice(),this.aShape=t,this.outputShape=n,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="gather"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=function(e){for(var t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[],r=0;r<e.length;r++)2===r?n.push("indexZ"):n.push("".concat(t[r]));return n.join()}(this.aShape);return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          let indexZ = i32(getIndices(resRC.x, resRC.z));\n          let inBounds = select(0.0, 1.0, indexZ >= 0 && indexZ < uniforms.aShape[2]);\n          setOutputAtIndex(index, inBounds * getA(").concat(e,"));\n        }\n      }\n    ")}}]),e}();function H0(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims,u=bl.parseAxisParam(o,a.shape)[0],l=Xb.segment_util.collectGatherOpShapeInfo(a,i,u,s),c=bl.sizeFromShape(i.shape),d=[],f=aQ({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=aQ({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,c/l.batchSize]}});d.push(f),d.push(p);var h=[l.batchSize,l.outerSize,c/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([a,i])){var m=n.tensorMap.get(p.dataId).values,g=Yd(p.shape,p.dtype,m),v=n.tensorMap.get(f.dataId).values,y=Yd(f.shape,f.dtype,v),b=TQ(y,g,h);return d.forEach((function(e){return n.disposeData(e.dataId)})),n.makeTensorInfo(l.outputShape,b.dtype,b.values)}var x=new V0(f.shape,h),A=n.runWebGPUProgram(x,[f,p],f.dtype);d.push(A);var w=aQ({inputs:{x:A},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeData(e.dataId)})),w}var U0={kernelName:os,backendName:"webgpu",kernelFunc:H0},G0=bQ({opSnippet:5,cpuKernelImpl:OQ,dtype:"bool"}),X0={kernelName:us,backendName:"webgpu",kernelFunc:G0},Y0=bQ({opSnippet:6,dtype:"bool",cpuKernelImpl:NQ}),q0={kernelName:ls,backendName:"webgpu",kernelFunc:Y0};var K0={kernelName:gs,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=[{type:"float32",data:[r.alpha]}],o=new vQ(a.shape,14);return o.uniforms="alpha : f32,",n.runWebGPUProgram(o,[a],"float32",i)}},J0=bQ({opSnippet:7,dtype:"bool",cpuKernelImpl:_Q}),Q0={kernelName:vs,backendName:"webgpu",kernelFunc:J0},$0=bQ({opSnippet:8,dtype:"bool",cpuKernelImpl:PQ}),e1={kernelName:ys,backendName:"webgpu",kernelFunc:$0},t1=yQ({opType:9,cpuKernelImpl:MQ}),n1={kernelName:xs,backendName:"webgpu",kernelFunc:t1},r1=bQ({opSnippet:9,dtype:"bool"}),a1={kernelName:ws,backendName:"webgpu",kernelFunc:r1},i1=yQ({opType:10}),o1={kernelName:ks,backendName:"webgpu",kernelFunc:i1};function s1(e){var t=e.inputs,n=e.backend,r=e.attrs;return c0(t.x,r.reductionIndices,r.keepDims,"max",n)}var u1={kernelName:Os,backendName:"webgpu",kernelFunc:s1},l1=bQ({opSnippet:15,cpuKernelImpl:FQ}),c1={kernelName:Ps,backendName:"webgpu",kernelFunc:l1};var d1={kernelName:_s,backendName:"webgpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.filterSize,s=a.strides,u=a.pad,l=a.dimRoundingMode,c=Xb.computePool2DInfo(i.shape,o,s,1,u,l),d=[];if(1===c.filterHeight&&1===c.filterWidth){if(bl.arraysEqual(c.inShape,c.outShape))return pQ({inputs:{x:i},backend:r});t=new f$(c),d.push({type:"int32",data:[c.strideHeight,c.strideWidth]})}else t=new d$(c,"max"),d.push({type:"int32",data:[c.strideHeight,c.strideWidth]},{type:"int32",data:[c.padInfo.top,c.padInfo.left]},{type:"int32",data:[c.dilationHeight,c.dilationWidth]},{type:"int32",data:[c.inHeight,c.inWidth]},{type:"int32",data:[c.effectiveFilterHeight,c.effectiveFilterWidth]});return r.runWebGPUProgram(t,[i],i.dtype,d)}};var f1={kernelName:Ls,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.keepDims;return c0(a,r.axis,i,"mean",n)}};var p1={kernelName:zs,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return c0(t.x,r.axis,r.keepDims,"min",n)}},h1=bQ({opSnippet:16,cpuKernelImpl:DQ}),m1={kernelName:Zs,backendName:"webgpu",kernelFunc:h1},g1=function(){function e(t,n,r){var a=this;(0,Ur.Z)(this,e),this.uniforms="",this.variableNames=["x"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]})),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.xShape=t,n.map((function(e,t){a.uniforms+=" pad".concat(t," : vec2<i32>,")})),this.offset="reflect"===r?0:1,this.shaderKey="mirrorPad_".concat(r)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.xShape.length,t=this.xShape.map((function(e,t){return"uniforms.pad".concat(t,"[0]")})).join(","),n=this.xShape.map((function(t,n){return"uniforms.pad".concat(n,"[0] + uniforms.xShape").concat(e>1?"[".concat(n,"]"):"")})).join(","),r=1===e?"start":"start[i]",a=1===e?"end":"end[i]",i=1===e?"outC":"outC[i]",o=LJ(e),s=e>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,e):"coords";return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let start = ").concat(o,"(").concat(t,");\n          let end = ").concat(o,"(").concat(n,");\n          var outC = getCoordsFromIndex(index);\n          for (var i = 0; i < ").concat(e,"; i = i + 1) {\n            if (").concat(i," < ").concat(r,") {\n              ").concat(i," = ").concat(r," * 2 - ").concat(i," - ").concat(this.offset,";\n            } else if(").concat(i," >= ").concat(a,") {\n              ").concat(i," = (").concat(a," - 1) * 2 - ").concat(i," + ").concat(this.offset,";\n            }\n          }\n          let coords = outC - start;\n          setOutputAtIndex(index, getX(").concat(s,"));\n        }\n      }\n    ")}}]),e}(),v1={kernelName:Ws,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.paddings,o=n.mode,s=r,u=i.map((function(e){return{type:"int32",data:[e[0],e[1]]}})),l=new g1(a.shape,i,o);return s.runWebGPUProgram(l,[a],a.dtype,u)}};var y1={kernelName:Hs,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;if(n.shouldExecuteOnCPU([r])){var a=n.tensorMap.get(r.dataId),i=zQ(a.values,r.shape,r.dtype),s=(0,o.Z)(i,2),u=s[0],l=s[1];return n.makeTensorInfo(l,r.dtype,u)}var c=new vQ(r.shape,11);return n.runWebGPUProgram(c,[r],r.dtype)}};var b1={kernelName:Gs,backendName:"webgpu",kernelFunc:function(e){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=n.readSync(a.dataId),c=n.readSync(i.dataId),d=Xx.nonMaxSuppressionV3Impl(l,c,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}};var x1={kernelName:Ys,backendName:"webgpu",kernelFunc:function(e){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.softNmsSigma,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=o,p=s,h=u,m=l,g=Xx.nonMaxSuppressionV5Impl(c,d,f,p,h,m),v=g.selectedIndices,y=g.selectedScores;return[n.makeTensorInfo([v.length],"int32",new Int32Array(v)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};function A1(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=w$({inputs:{input:r},backend:n}),i=A1({inputs:{x:a},backend:n}),o=P$({inputs:{input:r},backend:n}),s=A1({inputs:{x:o},backend:n}),u=mQ({inputs:{real:i,imag:s},backend:n});return n.disposeData(a.dataId),n.disposeData(i.dataId),n.disposeData(o.dataId),n.disposeData(s.dataId),u}return C0({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var w1={kernelName:$u,backendName:"webgpu",kernelFunc:A1};var k1={kernelName:qs,backendName:"webgpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=w$({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=P$({inputs:{input:a},backend:r}),u=A1({inputs:{x:s},backend:r}),l=mQ({inputs:{real:o,imag:u},backend:r});return r.disposeData(i.dataId),r.disposeData(o.dataId),r.disposeData(s.dataId),r.disposeData(u.dataId),l}return C0({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var S1={kernelName:Js,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return x0({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){bl.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),bl.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=x0({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),u=R$({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeData(e.dataId)})),u}},C1=function(){function e(t,n){var r=this;(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="constantValue : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]})),this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),n.map((function(e,t){r.uniforms+=" pad".concat(t," : vec2<i32>,")})),this.xShape=t,this.shaderKey="pad"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this.xShape.length,t=LJ(e),n=this.xShape.map((function(e,t){return"uniforms.pad".concat(t,"[0]")})).join(","),r=this.xShape.map((function(t,n){return"uniforms.pad".concat(n,"[0] + uniforms.xShape").concat(e>1?"[".concat(n,"]"):"")})).join(","),a=e>1?"".concat(t,"(").concat(n,")"):"".concat(n),i=e>1?"".concat(t,"(").concat(r,")"):"".concat(r),o=e>1?"any(outC < start)":"outC < start",s=e>1?"any(outC >= end)":"outC >= end",u=e>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,e):"coords";return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let start = ").concat(a,";\n          let end = ").concat(i,";\n          let outC = getCoordsFromIndex(index);\n\n          if (").concat(o," || ").concat(s,") {\n            setOutputAtIndex(index, uniforms.constantValue);\n          } else {\n            let coords = outC - start;\n            setOutputAtIndex(index, getX(").concat(u,"));\n          }\n        }\n      }\n    ")}}]),e}(),I1=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;if(i.every((function(e){return bl.arraysEqual(e,[0,0])})))return pQ({inputs:{x:a},backend:n});if(0===bl.sizeFromShape(a.shape)){var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]}));return C0({backend:n,attrs:{shape:s,value:o,dtype:a.dtype}})}var u=[{type:"float32",data:[o]}];i.map((function(e){return u.push({type:"int32",data:[e[0],e[1]]})}));var l=new C1(a.shape,i);return n.runWebGPUProgram(l,[a],a.dtype,u)},E1={kernelName:Qs,backendName:"webgpu",kernelFunc:I1},T1=bQ({opSnippet:13}),N1={kernelName:eu,backendName:"webgpu",kernelFunc:T1};var O1={kernelName:tu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=new dQ(14,r.shape,a.shape);return n.runWebGPUProgram(i,[r,a],"float32")}};var P1={kernelName:nu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return c0(t.x,r.axis,r.keepDims,"prod",n)}},_1={kernelName:ru,backendName:"webgpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=BQ(r,a,i,o);return t.makeTensorInfo([s.length],o,s)}},M1=bQ({opSnippet:3}),R1={kernelName:Uo,backendName:"webgpu",kernelFunc:M1},F1=yQ({opType:12}),D1={kernelName:ou,backendName:"webgpu",kernelFunc:F1},L1=yQ({opType:13}),z1={kernelName:fu,backendName:"webgpu",kernelFunc:L1},Z1=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, halfPixelCenters : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=[t[0],n,r,t[3]],this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="resizeBilinear"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let d = coords[3];\n          let rc = coords.yz;\n\n          let effectiveInSize = vec2<f32>(\n            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveOutSize = vec2<f32>(\n            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveInputOverOutputRatioRC =\n              effectiveInSize / effectiveOutSize;\n\n          // Fractional source index\n          let sourceFracIndexRC =\n            (vec2<f32>(rc) + vec2<f32>(uniforms.halfPixelCenters)) *\n            effectiveInputOverOutputRatioRC - vec2<f32>(uniforms.halfPixelCenters);\n\n          // Compute the four integer indices.\n          let sourceFloorRC = vec2<i32>(sourceFracIndexRC);\n          let sourceCeilRC = vec2<i32>(\n            min(vec2<f32>(uniforms.xShape.yz) - vec2<f32>(1.0), ceil(sourceFracIndexRC)));\n\n          let topLeft = getX(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          let bottomLeft = getX(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          let topRight = getX(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          let bottomRight = getX(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          let fracRC = sourceFracIndexRC - vec2<f32>(sourceFloorRC);\n\n          let top = topLeft + (topRight - topLeft) * fracRC.y;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          let newValue = top + (bottom - top) * fracRC.x;\n\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    ")}}]),e}();var W1={kernelName:cu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.size,u=r.halfPixelCenters,l=(0,o.Z)(s,2),c=l[0],d=l[1],f=[{type:"float32",data:[i&&c>1?1:0,i&&d>1?1:0]},{type:"float32",data:[u?.5:0]}],p=new Z1(a.shape,c,d);return n.runWebGPUProgram(p,[a],"float32",f)}},B1=function(){function e(t,n,r,a){(0,Ur.Z)(this,e),this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, roundBase : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=[t[0],n,r,t[3]],this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.halfPixelCenters=a,this.shaderKey="resizeNearest_".concat(a)}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e;return e=this.halfPixelCenters?"max((vec2<f32>(rc) + vec2<f32>(0.5)) * effectiveInputOverOutputRatioRC, vec2<f32>(0.0))":"vec2<f32>(rc) * effectiveInputOverOutputRatioRC","\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let coords = getCoordsFromIndex(index);\n          let b = coords[0];\n          let d = coords[3];\n          let rc = coords.yz;\n\n          let effectiveInSize = vec2<f32>(\n            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveOutSize = vec2<f32>(\n            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],\n            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);\n\n          let effectiveInputOverOutputRatioRC =\n              effectiveInSize / effectiveOutSize;\n\n          // Fractional source index\n          let sourceFracIndexRC = ").concat(e,";\n\n          // Compute the coordinators of nearest neighbor point.\n          let inputShapeRC = vec2<f32>(f32(uniforms.xShape.y), f32(uniforms.xShape.z));\n          let sourceNearestRC = vec2<i32>(\n            min(inputShapeRC - 1.0, floor(sourceFracIndexRC + uniforms.roundBase)));\n          let newValue = getX(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    ")}}]),e}();var j1={kernelName:uu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,s=r.halfPixelCenters,u=r.size,l=(0,o.Z)(u,2),c=l[0],d=l[1],f=[{type:"float32",data:[i&&c>1?1:0,i&&d>1?1:0]},{type:"float32",data:[i?.5:0]}],p=new B1(a.shape,c,d,s);return n.runWebGPUProgram(p,[a],a.dtype,f)}},V1=function(){function e(t,n){(0,Ur.Z)(this,e),this.outputShape=[],this.variableNames=["x"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.uniforms="centerX : f32, centerY : f32, sinRadians : f32,\n          cosRadians : f32,",this.shaderKey="rotate",this.outputShape=t,"number"==typeof n?(this.uniforms+=" fillValue : f32,",this.fillSnippet="var outputValue = uniforms.fillValue;",this.shaderKey+="_float"):(this.uniforms+=" fillValue : vec3<f32>,",this.fillSnippet="var outputValue = uniforms.fillValue[coords[3]];",this.shaderKey+="_vec3")}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n        ".concat(ZJ(),"\n\n          if (index < uniforms.size) {\n            let coords = getCoordsFromIndex(index);\n            let coordXFloat = (f32(coords[2]) - uniforms.centerX) *\n                uniforms.cosRadians - (f32(coords[1]) - uniforms.centerY) *\n                uniforms.sinRadians;\n            let coordYFloat = (f32(coords[2]) - uniforms.centerX) *\n                uniforms.sinRadians + (f32(coords[1]) - uniforms.centerY) *\n                uniforms.cosRadians;\n            let coordX = i32(round(coordXFloat + uniforms.centerX));\n            let coordY = i32(round(coordYFloat + uniforms.centerY));\n            ").concat(this.fillSnippet,"\n            if(coordX >= 0 && coordX < uniforms.xShape[2] && coordY >= 0 &&\n                coordY < uniforms.xShape[1]) {\n              outputValue = getX(coords[0], coordY, coordX, coords[3]);\n            }\n            setOutputAtIndex(index, outputValue);\n          }\n        }\n      ")}}]),e}(),H1={kernelName:nl,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,s=n.fillValue,u=n.center,l=r,c=new V1(a.shape,s),d=Xb.getImageCenter(u,a.shape[1],a.shape[2]),f=(0,o.Z)(d,2),p=[{type:"float32",data:[f[0]]},{type:"float32",data:[f[1]]},{type:"float32",data:[Math.sin(i)]},{type:"float32",data:[Math.cos(i)]}];return"number"==typeof s?p.push({type:"float32",data:[Number.parseFloat(s.toFixed(2))]}):p.push({type:"float32",data:s}),l.runWebGPUProgram(c,[a],a.dtype,p)}},U1=yQ({opType:15,cpuKernelImpl:jQ}),G1={kernelName:mu,backendName:"webgpu",kernelFunc:U1},X1=function(){function e(t,n,r,a,i,o,s){(0,Ur.Z)(this,e),this.variableNames=["updates","indices"],this.workGroupSize=[64,1,1],this.atomic=!0,this.outputShape=o,this.type=s,this.dispatchLayout=EJ(t),this.dispatch=kJ(this.dispatchLayout,t,this.workGroupSize),this.sliceDimGreaterThanOne=n>1,this.shaderKey="scatter_".concat(r,"_").concat(a,"_").concat(this.sliceDimGreaterThanOne,"_").concat(s);var u=LJ(i.length);this.uniforms="sliceDim : i32, strides: ".concat(u,", size: i32,"),this.updatesRank=a,this.indicesRank=r}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e="";1===this.indicesRank?e="coords[0]":2===this.indicesRank&&(e="coords[0], j");var t="getIndices(".concat(e,")"),n=this.sliceDimGreaterThanOne?"uniforms.strides[j]":"uniforms.strides",r="",a="",i="";1===this.updatesRank?(r="coords[0]",a="flattenedIndex",i="\n      fn getUpdatesCoordsFromFlatIndex(index : i32) -> i32 {\n        return index;\n      }\n      "):2===this.updatesRank&&(r="coords[0], coords[1]",a="vec2<i32>(flattenedIndex, coords[1])",i="\n      fn getUpdatesCoordsFromFlatIndex(index : i32) -> vec2<i32> {\n        let d0 = index / uniforms.updatesShape[1];\n        let d1 = index - d0 * uniforms.updatesShape[1];\n        return vec2<i32>(d0, d1);\n      }\n      ");var o="getUpdates(".concat(r,")"),s="int32"===this.type?"atomicAdd(&(result[flatIndex]), i32(updateValue));":"\n     var oldValue = atomicLoad(&(result[flatIndex]));\n     var exchanged = false;\n     for (; !exchanged;) {\n       let newValueF32 = bitcast<f32>(oldValue) + updateValue;\n       let newValue = bitcast<i32>(newValueF32);\n       let res = atomicCompareExchangeWeak(&(result[flatIndex]), oldValue, newValue);\n       oldValue = res.old_value;\n       exchanged = res.exchanged;\n     }\n     ";return"\n    ".concat(i,"\n\n      ").concat(ZJ(),"\n\n        if (index < uniforms.size) {\n          let coords = getUpdatesCoordsFromFlatIndex(index);\n          var flattenedIndex = 0;\n          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {\n            let indexInside = i32(round(").concat(t,"));\n            flattenedIndex = flattenedIndex + indexInside * ").concat(n,";\n          }\n          let updateValue = ").concat(o,";\n          let flatIndex = getOutputIndexFromCoords(").concat(a,");\n\n         ").concat(s,"\n        }\n      }")}}]),e}();var Y1={kernelName:gu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=Xb.calculateShapes(i,a,o),u=s.sliceRank,l=s.numUpdates,c=s.sliceSize,d=s.strides,f=s.outputSize,p=[f/c,c];if(0===f)return n.makeTensorInfo(o,a.dtype);var h=aQ({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=aQ({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),g=m.dtype,v=C0({backend:n,attrs:{shape:p,value:0,dtype:g}}),y=[{type:"int32",data:[u]},{type:"int32",data:d},{type:"int32",data:[bl.sizeFromShape(m.shape)]}],b=new X1(m.shape,u,h.shape.length,m.shape.length,d,p,g),x=n.runWebGPUProgram(b,[m,h],g,y,v),A=aQ({inputs:{x:x},backend:n,attrs:{shape:o}});return n.disposeData(h.dataId),n.disposeData(m.dataId),n.disposeData(x.dataId),A}},q1=function(){function e(t,n,r){(0,Ur.Z)(this,e),this.variableNames=["c","a","b"],this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.cRank=t,this.rank=r,this.shaderKey="select"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e,t;if(this.rank>4)throw Error("Where for rank ".concat(this.rank," is not yet supported"));if(1===this.rank)t="resRC",e="resRC";else{for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=[],i=0;i<this.outputShape.length;i++)a.push("".concat(n[i])),i<this.cRank&&r.push("".concat(n[i]));e=r.join(),t=a.join()}return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          let cVal = getC(").concat(e,");\n          if (cVal >= 1.0) {\n            setOutputAtIndex(index, getA(").concat(t,"));\n          } else {\n            setOutputAtIndex(index, getB(").concat(t,"));\n          }\n        }\n      }\n    ")}}]),e}();var K1={kernelName:yu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,o=new q1(r.shape.length,a.shape,a.shape.length);return n.runWebGPUProgram(o,[r,a,i],cc(a.dtype,i.dtype))}},J1=yQ({opType:18}),Q1={kernelName:Su,backendName:"webgpu",kernelFunc:J1},$1=yQ({opType:16}),e2={kernelName:Au,backendName:"webgpu",kernelFunc:$1},t2=yQ({opType:17}),n2={kernelName:wu,backendName:"webgpu",kernelFunc:t2},r2=bQ({opSnippet:2,cpuKernelImpl:YQ,supportsComplex:!0}),a2={kernelName:ju,backendName:"webgpu",kernelFunc:r2};var i2={kernelName:Ou,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,o=bl.parseAxisParam([i],a.shape),s=s1({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),u=Xb.expandShapeToKeepDim(s.shape,o),l=aQ({inputs:{x:s},backend:n,attrs:{shape:u}}),c=r2({inputs:{a:a,b:l},backend:n}),d=y0({inputs:{x:c},backend:n}),f=d0({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),p=aQ({inputs:{x:f},backend:n,attrs:{shape:u}}),h=M1({inputs:{a:d,b:p},backend:n});return n.disposeData(s.dataId),n.disposeData(l.dataId),n.disposeData(c.dataId),n.disposeData(d.dataId),n.disposeData(f.dataId),n.disposeData(p.dataId),h}},o2={kernelName:Tu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;bl.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGPU backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),u=[[0,0]];u.push.apply(u,(0,qr.Z)(o));for(var l=1+i.length;l<a.shape.length;++l)u.push([0,0]);var c=[],d=I1({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),f=Xb.getReshaped(d.shape,i,s,!1),p=Xb.getPermuted(f.length,i.length,!1),h=Xb.getReshapedPermuted(d.shape,i,s,!1),m=aQ({inputs:{x:d},backend:n,attrs:{shape:f}}),g=s$({inputs:{x:m},backend:n,attrs:{perm:p}}),v=aQ({inputs:{x:g},backend:n,attrs:{shape:h}});return c.push(d),c.push(m),c.push(g),c.forEach((function(e){return n.disposeData(e.dataId)})),v}},s2=function(){function e(t,n,r,a,i,o){(0,Ur.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.workGroupSize=[64,1,1],this.workPerThread=4,this.size=!0,this.outputShape=o,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]);var s=n>1;this.shaderKey="scatter_".concat(r,"_").concat(a,"_").concat(s);var u=LJ(i.length);this.uniforms="updateSize : i32, sliceDim : i32, strides: ".concat(u,",");var l="";1===r?l="i":2===r&&(l="i, j"),this.indicesSnippet="getIndices(".concat(l,")");var c="";1===a?c="i":2===a&&(c="i, coords[1]"),this.updatesSnippet="getUpdates(".concat(c,")"),this.strideString=s?"uniforms.strides[j]":"uniforms.strides"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n      ".concat(ZJ(),"\n\n        let globalIndex = index * ").concat(this.workPerThread,";\n        if (globalIndex < uniforms.size) {\n          var sum = vec4<f32>(0.0);\n          var found = vec4<bool>(false);\n          for (var i = 0; i < uniforms.updateSize; i = i + 1) {\n            var flattenedIndex = 0;\n            for (var j = 0; j < uniforms.sliceDim; j = j + 1) {\n              let indexInside = i32(round(").concat(this.indicesSnippet,"));\n              flattenedIndex = flattenedIndex + indexInside * ").concat(this.strideString,";\n            }\n            for (var innerIndex = 0; innerIndex < ").concat(this.workPerThread,"; innerIndex = innerIndex + 1) {\n              let curIndex = globalIndex + innerIndex;\n              let coords = getCoordsFromIndex(curIndex);\n              if (flattenedIndex == coords[0]) {\n                sum[innerIndex] = sum[innerIndex] + ").concat(this.updatesSnippet,";\n                found[innerIndex] = true;\n              }\n            }\n          }\n          for (var innerIndex = 0; innerIndex < ").concat(this.workPerThread,"; innerIndex = innerIndex + 1) {\n            let curIndex = globalIndex + innerIndex;\n            if (curIndex < uniforms.size)\n            {\n              setOutputAtIndex(curIndex, mix(getDefaultValue(), sum[innerIndex], f32(found[innerIndex])));\n            }\n          }\n        }\n      }")}}]),e}();var u2={kernelName:Fu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,o=t.defaultValue,s=r.outputShape,u=Xb.calculateShapes(i,a,s),l=u.sliceRank,c=u.numUpdates,d=u.sliceSize,f=u.strides,p=u.outputSize;if("string"===i.dtype){var h=n.bufferSync(a),m=n.bufferSync(i),g=bl.decodeString(n.readSync(o.dataId)[0]),v=VQ(h,m,s,p,d,c,l,f,g,false);return n.makeTensorInfo(s,v.dtype,v.values)}var y=[{type:"int32",data:[c]},{type:"int32",data:[l]},{type:"int32",data:f}],b=new s2(c,l,a.shape.length,i.shape.length,f,[p,1],false),x=n.runWebGPUProgram(b,[i,a,o],i.dtype,y),A=aQ({inputs:{x:x},backend:n,attrs:{shape:s}});return n.disposeData(x.dataId),A}};var l2={kernelName:Nu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=r.axis,s=bl.parseAxisParam(o,a.shape)[0],u=Xb.prepareSplitSize(a,i,s),l=a.shape.length,c=new Array(l).fill(0),d=a.shape.slice();return u.map((function(e){var t=(0,qr.Z)(d);t[s]=e;var r=v$({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},c2=yQ({opType:19}),d2={kernelName:Iu,backendName:"webgpu",kernelFunc:c2},f2={kernelName:Lu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,i=new vQ(r.shape,20);return a.runWebGPUProgram(i,[r],r.dtype)}},p2=bQ({opSnippet:11}),h2={kernelName:Du,backendName:"webgpu",kernelFunc:p2},m2=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["x"],this.workPerThread=1,this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize,[this.workPerThread,1,1]);var n=LJ(this.outputShape.length);this.uniforms="begin : ".concat(n,",  strides : ").concat(n,", "),this.shaderKey="stridedSlice"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=this,t="";if(1===this.outputShape.length)t="coords * uniforms.strides + uniforms.begin";else{var n=0;t=this.outputShape.map((function(t,r){return n++,1===e.outputShape.length?"coords * uniforms.strides[".concat(r,"] + uniforms.begin[").concat(r,"]"):"coords[".concat(n-1,"] * uniforms.strides[").concat(r,"] + uniforms.begin[").concat(r,"]")})).join(",")}return"\n       ".concat(ZJ(),"\n         if (index < uniforms.size) {\n           let coords = getCoordsFromIndex(index);\n           setOutputAtIndex(index, getX(").concat(t,"));\n         }\n       }\n     ")}}]),e}();var g2={kernelName:zu,backendName:"webgpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.begin,s=a.end,u=a.strides,l=a.beginMask,c=a.endMask,d=a.ellipsisMask,f=a.newAxisMask,p=a.shrinkAxisMask,h=bp.sliceInfo(i.shape,o,s,u,l,c,d,f,p),m=h.finalShapeSparse,g=h.finalShape,v=h.isIdentity,y=h.sliceDim0,b=h.isSimpleSlice,x=h.begin,A=h.end,w=h.strides;if(v)t=aQ({inputs:{x:i},backend:r,attrs:{shape:g}});else if(y||b){bl.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var k=bp.computeOutShape(x,A,w),S=v$({inputs:{x:i},backend:r,attrs:{begin:x,size:k}});t=aQ({inputs:{x:S},backend:r,attrs:{shape:g}}),r.disposeData(S.dataId)}else if(r.shouldExecuteOnCPU([i])){var C=r.readSync(i.dataId),I=Yd(i.shape,i.dtype,C),E=GQ(m,I,w,x);t=r.makeTensorInfo(g,i.dtype,E.values)}else{var T=new m2(m),N=[{type:"int32",data:x},{type:"int32",data:w}],O=r.runWebGPUProgram(T,[i],i.dtype,N);t=aQ({inputs:{x:O},backend:r,attrs:{shape:g}}),r.disposeData(O.dataId)}return t}};var v2={kernelName:Zu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,s=r.leftPad,u=r.rightPad,l=r.padWidth,c=r.preserveShortSequences,d=t.data,f=t.dataSplits,p=n.readSync(d.dataId),h=n.readSync(f.dataId),m=XQ(p,h,a,i,s,u,l,c),g=(0,o.Z)(m,2),v=g[0],y=g[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(f.shape,"int32",y)]}},y2=yQ({opType:21}),b2={kernelName:Hu,backendName:"webgpu",kernelFunc:y2},x2=function(){function e(t,n){(0,Ur.Z)(this,e),this.variableNames=["A"],this.workGroupSize=[64,1,1],this.size=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.rank=this.outputShape.length,this.shaderKey="tile"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>=5)throw Error("Tile for rank ".concat(e," is not yet supported"));if(1===e)return"(resRC % ".concat(t,"aShape)");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e;a++)r.push("(".concat(n[a]," % ").concat(t,"aShape[").concat(a,"])"));return r.join()}(this.rank,"uniforms.");return"\n      ".concat(ZJ(),"\n        if (index < uniforms.size) {\n          let resRC = getCoordsFromIndex(index);\n          setOutputAtIndex(index, getA(").concat(e,"));\n        }\n      }\n    ")}}]),e}();var A2={kernelName:Uu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if(n.shouldExecuteOnCPU([a])||"string"===a.dtype||a.shape.length>=5){var o=n.readSync(a.dataId),s="string"===a.dtype?o.map((function(e){return bl.decodeString(e)})):o,u=Yd(a.shape,a.dtype,s),l=qQ(u,i);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var c=new x2(a.shape,i);return n.runWebGPUProgram(c,[a],a.dtype)}},w2=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","indices"],this.workGroupSize=[256,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.uniforms="inputSize : i32, firstPass : i32, negativeInf : f32,\n        dir : i32, inc : i32,",this.shaderKey="swap"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n        ".concat(ZJ(),"\n          if (index < uniforms.size) {\n            let outC = getCoordsFromIndex(index);\n            let batch = outC[0];\n            let elemIdx = outC[1];\n            // We compare elements pair-wise within a group of size 2 * inc.\n            // The comparing rule for each group alternates between ascending\n            // and descending. Within each group, we compare each pair at\n            // positions i and i+inc. To decide whether an element at position i\n            // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n            // inc, it is in the first half of the group, we denote it as x0,\n            // otherwise we denote it as x1.\n            // For example, as shown in the Bitonic top K paper referenced\n            // above, Figure5(a) shows that element[1] is in the second half of\n            // the group when group size is 2, but it is in the first half of\n            // the group when group size is 4.\n            let isFirstInPair = elemIdx % (2 * uniforms.inc) < uniforms.inc;\n            var i = 0;\n            if (isFirstInPair) {\n              i = elemIdx;\n            } else {\n              i = elemIdx - uniforms.inc;\n            }\n\n            var i0 = 0;\n            if (uniforms.firstPass == 1) {\n              i0 = i;\n            } else {\n              i0 = i32(getIndices(batch, i));\n            }\n\n            var i1 = 0;\n            if (uniforms.firstPass == 1) {\n              i1 = i + uniforms.inc;\n            } else {\n              i1 = i32(getIndices(batch, i + uniforms.inc));\n            }\n\n            var x0 = f32(0.0);\n            var x1 = f32(0.0);\n            if (i0 < uniforms.inputSize) {\n              x0 = getX(batch, i0);\n            } else {\n              x0 = uniforms.negativeInf;\n            }\n            if (i1 < uniforms.inputSize) {\n              x1 = getX(batch, i1);\n            } else {\n              x1 = uniforms.negativeInf;\n            }\n\n            let reverse = elemIdx % (2 * uniforms.dir) >= uniforms.dir;\n            let isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n            if (reverse == isGreater) {\n              // Elements in opposite order of direction\n              let iTemp = i0;\n              i0 = i1;\n              i1 = iTemp;\n            }\n            if (isFirstInPair) {\n              setOutputAtIndex(index, f32(i0));\n            } else {\n              setOutputAtIndex(index, f32(i1));\n            }\n          }\n        }\n      ")}}]),e}(),k2=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["x","indices"],this.workGroupSize=[256,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.uniforms="inputSize : i32, firstPass : i32, k : i32,",this.shaderKey="merge"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n        ".concat(ZJ(),"\n          if (index < uniforms.size) {\n            let outC = getCoordsFromIndex(index);\n            let batch = outC[0];\n            let elemIdx = outC[1];\n            // The output size is half of the previous size.\n            // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _\n            // (k=4), we only need to output the indices at positions |, the\n            // indices at positions _ can be thrown away, see Figure5(b) After\n            // Phase 2 (Merge phase) in the Bitonic Top K paper referenced\n            // above.\n            // For example, the paper shows we only need to output the orange\n            // bars. The output sequence should look like this | | | | | | | |.\n            // Because the sequence is halved, to map the output index back to\n            // the previous sequence to find the corresponding value, we need\n            // to double the index. When we double the index, we basically\n            // interpolate a position, so 2i looks like\n            // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k\n            // position of each 2k positions by - elemIdx % k. E.g. for output\n            // at index 4,5,6,7, we want to get the corresponding element at\n            // original index 8,9,10,11, for output at index 8,9,10,11,\n            // we want to get the corresponding element at original index\n            // 16,17,18,19, so on and so forth.\n\n            var i = 0;\n            if (elemIdx < uniforms.k) {\n              i = elemIdx;\n            } else {\n              i = elemIdx * 2 - elemIdx % uniforms.k;\n            }\n            var i0 = 0;\n            if (uniforms.firstPass == 1) {\n              i0 = i;\n            } else {\n              i0 = i32(getIndices(batch, i));\n            }\n            var i1 = 0;\n            if (uniforms.firstPass == 1) {\n              i1 = i + uniforms.k;\n            } else {\n              i1 = i32(getIndices(batch, i + uniforms.k));\n            }\n\n            let x0 = getX(batch, i0);\n            var x1 = f32(0.0);\n            if (i1 < uniforms.inputSize) {\n              x1 = getX(batch, i1);\n            } else {\n              x1 = x0;\n            }\n\n            if (x0 >= x1) {\n              setOutputAtIndex(index, f32(i0));\n            } else {\n              setOutputAtIndex(index, f32(i1));\n            }\n          }\n        }\n      ")}}]),e}();function S2(e,t){null!==t&&e.disposeData(t.dataId)}function C2(e){for(var t=1;t<e;)t*=2;return t}var I2={kernelName:Gu,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,s=r.sorted,u=a.shape,l=u[u.length-1];if(n.shouldExecuteOnCPU([a])){var c=n.readSync(a.dataId),d=KQ(c,u,a.dtype,i,s),f=(0,o.Z)(d,2),p=f[0],h=f[1];return[n.makeTensorInfo(p.shape,p.dtype,p.values),n.makeTensorInfo(h.shape,h.dtype,h.values)]}if(0===i)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===l)return[a,C0({attrs:{shape:u,dtype:"int32",value:0},backend:n})];for(var m=bl.sizeFromShape(u)/l,g=aQ({inputs:{x:a},attrs:{shape:[m,l]},backend:n}),v=C2(i),y=C2(l),b=null,x=function(){return null===b?[g,g]:[g,b]},A=function(e,t,r){var a=x(),i=new w2(r),o=[{type:"int32",data:[l]},{type:"int32",data:[null===b?1:0]},{type:"float32",data:[Number.NEGATIVE_INFINITY]},{type:"int32",data:[e]},{type:"int32",data:[t]}],s=b;b=n.runWebGPUProgram(i,a,"int32",o),S2(n,s)},w=1;w<v;w*=2)for(var k=2*w,S=w;S>=1;S/=2)A(k,S,[m,y]);for(var C=y;C>v;C/=2){var I=x(),E=new k2([m,C/2]),T=[{type:"int32",data:[l]},{type:"int32",data:[null===b?1:0]},{type:"int32",data:[v]}],N=b;b=n.runWebGPUProgram(E,I,"int32",T),S2(n,N);for(var O=v/2,P=2*O,_=O;_>=1;_/=2)A(P,_,b.shape)}var M=b;b=v$({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,i]}}),S2(n,M);var R=H0({inputs:{x:g,indices:b},backend:n,attrs:{axis:1,batchDims:1}});S2(n,g);var F=u.slice(0,-1);F.push(i),M=b,b=aQ({inputs:{x:b},attrs:{shape:F},backend:n}),S2(n,M);var D=R;return R=aQ({inputs:{x:R},attrs:{shape:F},backend:n}),S2(n,D),[R,b]}},E2=function(){function e(t){(0,Ur.Z)(this,e),this.variableNames=["Image","Transforms"],this.uniforms="interpolationModeId : i32, fillModeId : i32, fillValue : f32,",this.workGroupSize=[64,1,1],this.size=!0,this.outputShape=t,this.dispatchLayout=EJ(this.outputShape),this.dispatch=kJ(this.dispatchLayout,this.outputShape,this.workGroupSize),this.shaderKey="transform"}return(0,Gr.Z)(e,[{key:"getUserCode",value:function(){return"\n          fn mapCoord(outCoord : f32, len : f32) -> f32{\n            var inCoord = outCoord;\n            if(uniforms.fillModeId == 2) {\n              if (inCoord < 0.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz2 = 2.0 * len;\n                  if (inCoord < sz2) {\n                    inCoord = sz2 * f32(i32(f32(-inCoord / sz2))) +\n                    inCoord;\n                  }\n                  if (inCoord < -len) {\n                    inCoord = inCoord + sz2;\n                  } else {\n                    inCoord = -inCoord - 1.0;\n                  }\n                }\n              } else if (inCoord > len - 1.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz2 = 2.0 * len;\n                  inCoord = inCoord - sz2 * f32(i32(f32(inCoord / sz2)));\n                  if (inCoord >= len) {\n                    inCoord = sz2 - inCoord - 1.0;\n                  }\n                }\n              }\n              return clamp(inCoord, 0.0, len - 1.0);\n            } else if (uniforms.fillModeId == 3) {\n              if (inCoord < 0.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz = len - 1.0;\n                  inCoord = inCoord + len * (f32(i32(f32(-inCoord / sz))) + 1.0);\n                }\n              } else if (inCoord > len - 1.0) {\n                if (len <= 1.0) {\n                  inCoord = 0.0;\n                } else {\n                  let sz = len - 1.0;\n                  inCoord = inCoord - len * f32(i32(f32(inCoord / sz)));\n                }\n              }\n              return clamp(inCoord, 0.0, len - 1.0);\n            } else if (uniforms.fillModeId == 4) {\n              return clamp(outCoord, 0.0, len - 1.0);\n            }\n            return outCoord;\n          }\n          fn readWithFillValue(batch : i32, coordY : i32, coordX : i32,\n            channel : i32) -> f32 {\n            var outputValue : f32;\n            if (0 <= coordY && coordY < uniforms.imageShape[1] && 0 <= coordX && coordX < uniforms.imageShape[2]) {\n                outputValue = getImage(batch, coordY, coordX, channel);\n            } else {\n              outputValue = uniforms.fillValue;\n            }\n            return outputValue;\n          }\n\n          ".concat(ZJ(),"\n            if (index < uniforms.size) {\n              let coords = getCoordsFromIndex(index);\n              var outputValue : f32;\n              let batch = coords[0];\n              let x = coords[2];\n              let y = coords[1];\n              let channel = coords[3];\n              let xf = f32(x);\n              let yf = f32(y);\n              let a1 = getTransforms(batch, 0);\n              let a2 = getTransforms(batch, 1);\n              let a3 = getTransforms(batch, 2);\n              let b1 = getTransforms(batch, 3);\n              let b2 = getTransforms(batch, 4);\n              let b3 = getTransforms(batch, 5);\n              let c1 = getTransforms(batch, 6);\n              let c2 = getTransforms(batch, 7);\n              let projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = uniforms.fillValue;\n              } else {\n                let inX = (a1 * xf + a2 * yf + a3) / projection;\n                let inY = (b1 * xf + b2 * yf + b3) / projection;\n                let mapX = mapCoord(inX, f32(uniforms.imageShape[2]));\n                let mapY = mapCoord(inY, f32(uniforms.imageShape[1]));\n\n                if (uniforms.interpolationModeId == 1) {\n                  let coordY = i32(round(mapY));\n                  let coordX = i32(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  let yFloor = floor(mapY);\n                  let xFloor = floor(mapX);\n                  let yCeil = yFloor + 1.0;\n                  let xCeil = xFloor + 1.0;\n                  let valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, i32(yFloor), i32(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, i32(yFloor), i32(xCeil), channel);\n                  let valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, i32(yCeil), i32(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, i32(yCeil), i32(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutputAtIndex(index, outputValue);\n            }\n          }\n        ")}}]),e}();var T2={kernelName:Xu,backendName:"webgpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.image,s=n.transforms,u=a.interpolation,l=a.fillMode,c=a.fillValue,d=a.outputShape,f=(0,o.Z)(i.shape,4),p=f[0],h=f[1],m=f[2],g=f[3],v=null!=d?d:[h,m],y=(0,o.Z)(v,2),b=y[0],x=y[1],A=new E2([p,b,x,g]),w="nearest"===u?1:2;switch(l){case"constant":default:t=1;break;case"reflect":t=2;break;case"wrap":t=3;break;case"nearest":t=4}var k=[{type:"int32",data:[w]},{type:"int32",data:[t]},{type:"float32",data:[c]}];return r.runWebGPUProgram(A,[i,s],"float32",k)}};for(var N2={kernelName:Ku,backendName:"webgpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,u=a.shape[i],l=new Array(s-1),c=0,d=0;d<s;d++)d!==i&&(l[c++]=o.shape[d]);var f=[],p=new Array(s).fill(0),h=o.shape.slice();h[i]=1;for(var m=new Array(u),g=0;g<m.length;g++){p[i]=g;var v=v$({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=aQ({inputs:{x:v},backend:n,attrs:{shape:l}});m[g]=y,f.push(v)}return f.forEach((function(e){return n.disposeData(e.dataId)})),m}},O2=0,P2=[sQ,$Q,t$,r$,l$,c$,p$,h$,b$,S$,I$,N$,gQ,F$,W$,V$,U$,X$,q$,e0,t0,r0,o0,p0,m0,v0,b0,A0,k0,E0,N0,F0,P0,M0,z0,Z0,W0,j0,U0,X0,q0,hQ,_$,K0,Q0,e1,n1,a1,o1,u1,c1,d1,f1,p1,m1,v1,u0,y1,b1,x1,A$,k1,S1,E1,N1,O1,P1,_1,k$,R1,D1,z1,iQ,W1,j1,H1,G1,Y1,K1,Q1,e2,n2,y$,g2,v2,i2,o2,u2,l2,d2,f2,h2,a2,f0,b2,A2,I2,T2,u$,N2,w1];O2<P2.length;O2++){pl(P2[O2])}var _2=function(){function e(t){(0,Ur.Z)(this,e),this.device=t,this.numUsedBuffers=0,this.numFreeBuffers=0,this.freeBuffers=new Map,this.usedBuffers=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}return(0,Gr.Z)(e,[{key:"acquireUploadBuffer",value:function(e,t){return this.acquireBuffer(e,t,!0)}},{key:"acquireBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=M2(e,t);if(this.freeBuffers.has(r)||this.freeBuffers.set(r,[]),this.usedBuffers.has(r)||this.usedBuffers.set(r,[]),this.numBytesUsed+=e,this.numUsedBuffers++,this.freeBuffers.get(r).length>0){this.numFreeBuffers--;var a=this.freeBuffers.get(r).shift();return this.usedBuffers.get(r).push(a),a}this.numBytesAllocated+=e;var i=this.device.createBuffer({mappedAtCreation:n,size:e,usage:t});return this.usedBuffers.get(r).push(i),i}},{key:"releaseBuffer",value:function(e,t,n){if(0!==this.freeBuffers.size){var r=M2(t,n);this.freeBuffers.has(r)||this.freeBuffers.set(r,[]),this.freeBuffers.get(r).push(e),this.numFreeBuffers++,this.numUsedBuffers--;var a=this.usedBuffers.get(r),i=a.indexOf(e);if(i<0)throw new Error("Cannot release a buffer that was never provided by this buffer manager");a.splice(i,1),this.numBytesUsed-=t}}},{key:"releaseUploadBuffer",value:function(e,t,n){var r=this;e.mapAsync(GPUMapMode.WRITE).then((function(){r.releaseBuffer(e,t,n)}),(function(e){}))}},{key:"getNumUsedBuffers",value:function(){return this.numUsedBuffers}},{key:"getNumFreeBuffers",value:function(){return this.numFreeBuffers}},{key:"dispose",value:function(){this.freeBuffers.forEach((function(e,t){e.forEach((function(e){e.destroy()}))})),this.usedBuffers.forEach((function(e,t){e.forEach((function(e){e.destroy()}))})),this.freeBuffers=new Map,this.usedBuffers=new Map,this.numUsedBuffers=0,this.numFreeBuffers=0,this.numBytesUsed=0,this.numBytesAllocated=0}}]),e}();function M2(e,t){return"".concat(e,"_").concat(t)}var R2=function(){function e(t){(0,Ur.Z)(this,e),this.device=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures=new Map,this.usedTextures=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}return(0,Gr.Z)(e,[{key:"acquireTexture",value:function(e,t,n,r){var a=e*t*D2(n),i=F2(e,t,n,r);if(this.freeTextures.has(i)||this.freeTextures.set(i,[]),this.usedTextures.has(i)||this.usedTextures.set(i,[]),this.numBytesUsed+=a,this.numUsedTextures++,this.freeTextures.get(i).length>0){this.numFreeTextures--;var o=this.freeTextures.get(i).shift();return this.usedTextures.get(i).push(o),o}this.numBytesAllocated+=a;var s=this.device.createTexture({size:[e,t],format:n,usage:r});return this.usedTextures.get(i).push(s),s}},{key:"releaseTexture",value:function(e,t,n,r,a){if(0!==this.freeTextures.size){var i=F2(t,n,r,a);this.freeTextures.has(i)||this.freeTextures.set(i,[]),this.freeTextures.get(i).push(e),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures.get(i),s=o.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(s,1);var u=t*n*D2(r);this.numBytesUsed-=u}}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){this.freeTextures.forEach((function(e,t){e.forEach((function(e){e.destroy()}))})),this.usedTextures.forEach((function(e,t){e.forEach((function(e){e.destroy()}))})),this.freeTextures=new Map,this.usedTextures=new Map,this.numUsedTextures=0,this.numFreeTextures=0,this.numBytesUsed=0,this.numBytesAllocated=0}}]),e}();function F2(e,t,n,r){return"".concat(e,"_").concat(t,"_").concat(n,"_").concat(r)}function D2(e){if("rgba8unorm"===e)return 16;throw new Error("".concat(e," is not supported!"))}var L2=Hi().getNumber("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD"),z2=function(e,t){var n=e.limits.maxComputeWorkgroupsPerDimension,r=t.dispatchLayout,a=t.dispatch;if(a.every((function(e){return e<=n})))return a;bl.assert(a[0]>n&&void 0===r.y&&void 0===r.z,(function(){return"Dispatch size exceeds WebGPU limits in Y or Z dimension."}));var i=Math.ceil(Math.sqrt(a[0]));return i>n?(i=Math.ceil(Math.cbrt(a[0])),bl.assert(i<=n,(function(){return"Total dispatch size exceeds WebGPU maximum."})),[i,i,i]):[i,i,1]},Z2=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,Ur.Z)(this,n),(r=t.call(this)).commandQueueOwnedIds=new WeakSet,r.tensorDisposalQueue=[],r.uniformDisposalQueue=[],r.stagingDisposalQueue=[],r.textureDisposalQueue=[],r.disposed=!1,r.uploadWaitMs=0,r.downloadWaitMs=0,r.dispatchNumberInEncoder=0,r.fromPixelTextureLayout=null,r.fromPixelImportTextureLayout=null,!OJ())throw new Error("WebGPU is not supported on this device");return r.layoutCache={},r.pipelineCache={},r.device=e,r.queue=e.queue,r.currentCommandEncoder=null,r.currentComputePass=null,r.supportTimeQuery=a,r.bufferManager=new _2(r.device),r.textureManager=new R2(r.device),r.tensorMap=new Va((0,Dr.Z)(r),_f()),r.supportTimeQuery&&(r.querySet=r.device.createQuerySet({type:"timestamp",count:2})),Hi().getBool("WEBGPU_USE_PROFILE_TOOL")&&(r.dummyCanvas=document.createElement("canvas"),r.dummyCanvas.width=1,r.dummyCanvas.height=1,r.dummyContext=r.dummyCanvas.getContext("webgpu"),r.dummyContext.configure({device:e,format:"bgra8unorm"}),document.body.appendChild(r.dummyCanvas)),(0,Br.Z)(r)}return(0,Gr.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"floatPrecision",value:function(){return 32}},{key:"defaultGpuBufferUsage",value:function(){return GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST}},{key:"flushDisposalQueue",value:function(){var e=this;this.tensorDisposalQueue.forEach((function(t){e.maybeReleaseBuffer(t),e.tensorMap.delete(t)})),this.uniformDisposalQueue.forEach((function(t){return e.bufferManager.releaseBuffer(t.buffer,t.byteSize,t.usage)})),this.stagingDisposalQueue.forEach((function(t){return e.bufferManager.releaseUploadBuffer(t.buffer,t.byteSize,t.usage)})),this.textureDisposalQueue.forEach((function(t){return e.textureManager.releaseTexture(t.texture,t.width,t.height,t.format,t.usage)})),this.tensorDisposalQueue=[],this.uniformDisposalQueue=[],this.stagingDisposalQueue=[],this.textureDisposalQueue=[]}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.tensorMap.has(e)){var n=this.tensorMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;if(this.commandQueueOwnedIds.has(e))return this.tensorDisposalQueue.push(e),!1;this.maybeReleaseBuffer(e);var r=this.tensorMap.get(e),a=r.complexTensorInfos;null!=a&&(this.disposeData(a.real.dataId,!0),this.disposeData(a.imag.dataId,!0)),this.tensorMap.delete(e)}return!0}},{key:"memory",value:function(){return{numBytesInGPU:this.bufferManager.numBytesUsed,numBytesAllocatedInGPU:this.bufferManager.numBytesAllocated,unreliable:!1}}},{key:"getBufferManager",value:function(){return this.bufferManager}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"acquireBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultGpuBufferUsage();return this.bufferManager.acquireBuffer(e,t)}},{key:"maybeReleaseBuffer",value:function(e){var t=this.tensorMap.get(e);null!=t&&null!=t.bufferInfo.buffer&&(this.bufferManager.releaseBuffer(t.bufferInfo.buffer,t.bufferInfo.byteSize,t.bufferInfo.usage),t.bufferInfo.buffer=null)}},{key:"refCount",value:function(e){return this.tensorMap.has(e)?this.tensorMap.get(e).refCount:0}},{key:"incRef",value:function(e){this.tensorMap.get(e).refCount++}},{key:"decRef",value:function(e){this.tensorMap.has(e)&&this.tensorMap.get(e).refCount--}},{key:"write",value:function(e,t,n){if("complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()},a=bl.sizeFromShape(t)*TJ(n);return this.tensorMap.set(r,{dtype:n,shape:t,values:e,bufferInfo:{byteSize:a,usage:this.defaultGpuBufferUsage()},refCount:1}),r}},{key:"move",value:function(e,t,n,r,a){if("complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i=bl.sizeFromShape(n)*TJ(r);this.tensorMap.set(e,{dtype:r,shape:n,values:t,bufferInfo:{byteSize:i,usage:this.defaultGpuBufferUsage()},refCount:a})}},{key:"submitQueue",value:function(){this.ensureComputePassEnded(),this.queue.submit([this.currentCommandEncoder.finish()]),this.currentCommandEncoder=null,this.dispatchNumberInEncoder=0,this.commandQueueOwnedIds=new WeakSet,this.flushDisposalQueue()}},{key:"getBuffer",value:function(e){return this.uploadToGPU(e),this.tensorMap.get(e).bufferInfo.buffer}},{key:"ensureCommandEncoderReady",value:function(){this.currentCommandEncoder||(this.currentCommandEncoder=this.device.createCommandEncoder())}},{key:"ensureComputePassEnded",value:function(){this.currentComputePass&&(this.currentComputePass.end(),this.currentComputePass=null)}},{key:"getComputePass",value:function(){return this.currentComputePass||(this.currentComputePass=this.currentCommandEncoder.beginComputePass()),this.currentComputePass}},{key:"getBufferData",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.acquireBuffer(n,GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ),this.ensureCommandEncoderReady(),this.ensureComputePassEnded(),this.currentCommandEncoder.copyBufferToBuffer(t,0,r,0,n),this.submitQueue(),e.next=7,r.mapAsync(GPUMapMode.READ);case 7:return a=r.getMappedRange().slice(0),e.abrupt("return",(r.unmap(),null!=r&&this.bufferManager.releaseBuffer(r,n,GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ),Hi().getBool("WEBGPU_USE_PROFILE_TOOL")&&(bl.assert(void 0!==this.dummyContext,(function(){return"Fail to get context for profiling tool"})),this.dummyContext.getCurrentTexture()),a));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.tensorMap.get(e);return this.maybeReleaseBuffer(e),n.values=t,n.values}},{key:"readSync",value:function(e){var t=this.tensorMap.get(e).values;if(null==t)throw new Error("WebGPU readSync is only available for CPU-resident tensors.");return t}},{key:"read",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tensorMap.has(t)){e.next=2;break}throw new Error("Tensor ".concat(t," was not registered!"));case 2:if(n=this.tensorMap.get(t),null==(r=n.values)){e.next=5;break}return e.abrupt("return",this.convertAndCacheOnCPU(t,r));case 5:if("complex64"!==n.dtype){e.next=14;break}return e.next=8,Promise.all([this.read(n.complexTensorInfos.real.dataId),this.read(n.complexTensorInfos.imag.dataId)]);case 8:i=e.sent,o=i[0],s=i[1],a=Xb.mergeRealAndImagArrays(o,s),e.next=23;break;case 14:if(null==n.values){e.next=18;break}e.t0=n.values,e.next=21;break;case 18:return e.next=20,this.getBufferData(n.bufferInfo.buffer,n.bufferInfo.byteSize);case 20:e.t0=e.sent;case 21:u=e.t0,a=NJ(u,n.dtype);case 23:return e.abrupt("return",(this.convertAndCacheOnCPU(t,a),a));case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=this.tensorMap.get(e),n=t.values,r=t.dtype,a=t.shape,i=t.bufferInfo;if("complex64"===r)throw new Error("Does not support reading buffer for complex64 dtype.");if(null==i.buffer)throw null!=n?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var o=bl.sizeFromShape(a)*TJ(r),s=this.acquireBuffer(o);this.ensureCommandEncoderReady(),this.ensureComputePassEnded(),this.currentCommandEncoder.copyBufferToBuffer(i.buffer,0,s,0,o),this.submitQueue();var u=this.makeTensorInfo(a,r),l=_f().makeTensorFromTensorInfo(u);return this.tensorMap.get(u.dataId).bufferInfo.buffer=s,{tensorRef:l,buffer:s,bufSize:o}}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return bl.decodeString(e)}));return Yd(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return Yd(e.shape,e.dtype,t)}},{key:"time",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.activeTimers,r=[],a=!1,null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t(),i=bl.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=bl.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=n,a&&(this.programTimersStack=null),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},e.next=7,Promise.all(i);case 7:return u=e.sent,e.abrupt("return",(s.kernelMs=bl.sum(u),s.getExtraProfileInfo=function(){return u.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},this.uploadWaitMs=0,this.downloadWaitMs=0,s));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAndSavePipeline",value:function(e,t){return e in this.pipelineCache||(this.pipelineCache[e]=t()),this.pipelineCache[e]}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&bl.isString(n[0])){var a=n.map((function(e){return bl.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"tensorToBinding",value:function(e){if(!e)return null;var t=this.tensorMap.get(e.dataId);return{offset:0,size:t.bufferInfo.byteSize,buffer:t.bufferInfo.buffer}}},{key:"getQueryTime",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.supportTimeQuery?this.getTimeFromQuerySet(t):0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadToGPU",value:function(e){var t=this.tensorMap.get(e);if(null==t.bufferInfo.buffer&&(t.bufferInfo.buffer=this.acquireBuffer(t.bufferInfo.byteSize),t.values)){var n=this.bufferManager.acquireUploadBuffer(t.bufferInfo.byteSize,GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC),r=n.getMappedRange();"int32"===t.dtype||"bool"===t.dtype?new Int32Array(r).set(t.values):new Float32Array(r).set(t.values),n.unmap(),this.ensureCommandEncoderReady(),this.ensureComputePassEnded(),this.currentCommandEncoder.copyBufferToBuffer(n,0,t.bufferInfo.buffer,0,t.bufferInfo.byteSize);var a={byteSize:t.bufferInfo.byteSize,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC,buffer:n};this.stagingDisposalQueue.push(a)}}},{key:"makeUniforms",value:function(e){var t=0,n=0,r=[];e.forEach((function(e){var a;switch(0===e.data.length&&(e.data=[1]),e.data.length){case 1:a=4;break;case 2:a=8;break;case 3:case 4:case 5:case 6:a=16;break;default:bl.assert(!1,(function(){return"Unsupported ".concat(e.data.length,"D shape")}))}(5===n||6===n)&&(a=16),t=Math.ceil(t/a)*a,n=e.data.length,r.push(t),t+=4*e.data.length}));var a=new ArrayBuffer(t);e.forEach((function(e,t){var n=r[t];"int32"===e.type?new Int32Array(a,n,e.data.length).set(e.data):"uint32"===e.type?new Uint32Array(a,n,e.data.length).set(e.data):new Float32Array(a,n,e.data.length).set(e.data)}));var i=this.acquireBuffer(t,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.queue.writeBuffer(i,0,a,0,t);var o={byteSize:t,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM,buffer:i};return this.uniformDisposalQueue.push(o),{offset:0,size:t,buffer:i}}},{key:"createLayout",value:function(e){var t=[];t.push({binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}});for(var n=0;n<e;n++)t.push({binding:n+1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}});t.push({binding:e+1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}});var r=this.device.createBindGroupLayout({entries:t});return{bindGroupLayout:r,pipelineLayout:this.device.createPipelineLayout({bindGroupLayouts:[r]})}}},{key:"getCachedOrCreateLayout",value:function(e){return e in this.layoutCache||(this.layoutCache[e]=this.createLayout(e)),this.layoutCache[e]}},{key:"makeBindGroup",value:function(e,t,n,r,a){var i=[r].concat((0,qr.Z)(n));return a&&i.push(a),e.createBindGroup({layout:t,entries:i.map((function(e,t){return{binding:t,resource:e}}))})}},{key:"runWebGPUProgram",value:function(e,t,n,r,a){var i=this;if(!a){if(a=this.makeTensorInfo(e.outputShape,n),0===bl.sizeFromShape(a.shape))return this.tensorMap.get(a.dataId).values=bl.getTypedArrayFromDType(a.dtype,0),a;this.uploadToGPU(a.dataId)}e.dispatch=z2(this.device,e);var o=[{type:"float32",data:[NaN]}],s=t.concat(a).map((function(e){return e.shape})),u="int32";s.map((function(e){o.push({type:u,data:e})}));var l=bl.computeStrides(a.shape);if(o.push({type:u,data:l}),e.size){var c=bl.sizeFromShape(e.outputShape);o.push({type:u,data:[e.isVec4?c/4:c]})}r&&(o=[].concat((0,qr.Z)(o),(0,qr.Z)(r)));var d=this.makeUniforms(o),f=t.map((function(t,n){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");return i.uploadToGPU(t.dataId),{dtype:i.tensorMap.get(t.dataId).dtype,shape:t.shape,name:e.variableNames[n]}})),p=f.map((function(e){return e.dtype})).concat(a.dtype),h=f.map((function(e){return Xb.getBroadcastDims(e.shape,a.shape)})),m=f.map((function(e){return bl.arraysEqual(e.shape,a.shape)})).join("_"),g=h.map((function(e){return e.join("_")})).join(";"),v=jJ(e,s,p,g,m),y=this.getCachedOrCreateLayout(e.variableNames.length),b=y.bindGroupLayout,x=y.pipelineLayout,A=this.getAndSavePipeline(v,(function(){return DJ(i.device,e,x,f,a)})),w=null!=this.activeTimers,k=this.makeBindGroup(this.device,b,t.map((function(e){return i.tensorToBinding(e)})),this.tensorToBinding(a),d);this.ensureCommandEncoderReady();var S=this.getComputePass();return w&&this.supportTimeQuery&&S.writeTimestamp(this.querySet,0),S.setPipeline(A),S.setBindGroup(0,k),S.dispatchWorkgroups(e.dispatch[0],e.dispatch[1],e.dispatch[2]),w&&this.supportTimeQuery&&S.writeTimestamp(this.querySet,1),this.dispatchNumberInEncoder++,t.forEach((function(e){i.commandQueueOwnedIds.add(e.dataId)})),this.commandQueueOwnedIds.add(a.dataId),Hi().get("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE")<=this.dispatchNumberInEncoder&&this.submitQueue(),w&&this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(this.querySet)}),a}},{key:"getFromPixelTextureLayout",value:function(e){return e?(null===this.fromPixelImportTextureLayout&&(this.fromPixelImportTextureLayout=this.createFromPixelTextureLayout(!0)),this.fromPixelImportTextureLayout):(null===this.fromPixelTextureLayout&&(this.fromPixelTextureLayout=this.createFromPixelTextureLayout(!1)),this.fromPixelTextureLayout)}},{key:"createFromPixelTextureLayout",value:function(e){var t=[];t.push({binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}),e?t.push({binding:1,visibility:GPUShaderStage.COMPUTE,externalTexture:{}}):t.push({binding:1,visibility:GPUShaderStage.COMPUTE,texture:{}}),t.push({binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{}});var n=this.device.createBindGroupLayout({entries:t});return{bindGroupLayout:n,pipelineLayout:this.device.createPipelineLayout({bindGroupLayouts:[n]})}}},{key:"copyExternalImageToTexture",value:function(e,t){var n=GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING,r="rgba8unorm",a=this.textureManager.acquireTexture(t[1],t[0],r,n),i=a.createView();this.queue.copyExternalImageToTexture({source:e},{texture:a},[t[1],t[0]]);var o={width:t[1],height:t[0],format:r,usage:n,texture:a};return this.textureDisposalQueue.push(o),i}},{key:"runFromPixelsProgram",value:function(e,t,n,r,a){var i=this;e.dispatch=z2(this.device,e);var o=this.makeTensorInfo(t,"int32");if(0===bl.sizeFromShape(o.shape))return this.tensorMap.get(o.dataId).values=bl.getTypedArrayFromDType(o.dtype,0),o;this.uploadToGPU(o.dataId);var s,u=jJ(e,[o.shape]),l=this.getFromPixelTextureLayout(r),c=this.getAndSavePipeline(u,(function(){return DJ(i.device,e,l.pipelineLayout,[],o,!0)}));if(r){var d={source:a};s=this.device.importExternalTexture(d)}else s=this.copyExternalImageToTexture(a,o.shape);var f=this.tensorToBinding(o),p=this.makeUniforms(n),h=this.device.createBindGroup({layout:l.bindGroupLayout,entries:[{binding:0,resource:{buffer:f.buffer}},{binding:1,resource:s},{binding:2,resource:{buffer:p.buffer}}]});this.ensureCommandEncoderReady();var m=this.getComputePass(),g=null!=this.activeTimers;return g&&this.supportTimeQuery&&m.writeTimestamp(this.querySet,0),m.setPipeline(c),m.setBindGroup(0,h),m.dispatchWorkgroups(e.dispatch[0],e.dispatch[1],e.dispatch[2]),g&&this.supportTimeQuery&&m.writeTimestamp(this.querySet,1),this.commandQueueOwnedIds.add(o.dataId),this.dispatchNumberInEncoder++,Hi().get("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE")<=this.dispatchNumberInEncoder&&this.submitQueue(),g&&this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(this.querySet)}),o}},{key:"getTimeFromQuerySet",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.acquireBuffer(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),r=this.acquireBuffer(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),this.ensureCommandEncoderReady(),this.ensureComputePassEnded(),this.currentCommandEncoder.resolveQuerySet(t,0,2,n,0),this.currentCommandEncoder.copyBufferToBuffer(n,0,r,0,16),this.submitQueue(),e.next=8,r.mapAsync(GPUMapMode.READ);case 8:return a=new BigUint64Array(r.getMappedRange()),i=Number(a[1]-a[0]),e.abrupt("return",(r.unmap(),this.bufferManager.releaseBuffer(r,16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST),this.bufferManager.releaseBuffer(n,16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),i/1e6));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L2;return Hi().getBool("WEBGPU_CPU_FORWARD")&&e.every((function(e){return null==t.tensorMap.get(e.dataId).bufferInfo.buffer&&bl.sizeFromShape(e.shape)<n}))}},{key:"numDataIds",value:function(){return this.tensorMap.numDataIds()-this.tensorDisposalQueue.length}},{key:"dispose",value:function(){this.disposed||(this.bufferManager.dispose(),this.textureManager.dispose(),this.disposed=!0)}}]),n}(Ha),W2=Z2;W2.nextDataId=0;var B2={};Aa(B2,{WebGPUBackend:function(){return W2},webgpu_util:function(){return xJ}}),OJ()&&Uf("webgpu",(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hi().set("CHECK_COMPUTATION_FOR_ERRORS",!1),t={powerPreference:Hi().get("WEBGPU_USE_LOW_POWER_GPU")?"low-power":"high-performance"},e.next=4,navigator.gpu.requestAdapter(t);case 4:return n=e.sent,r=n.limits,a={},i=n.features.has("timestamp-query"),a.requiredLimits={maxComputeWorkgroupStorageSize:r.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:r.maxComputeWorkgroupsPerDimension},i?a.requiredFeatures=["timestamp-query"]:console.warn("This device doesn't support timestamp-query extension. Start Chrome browser with flag --disable-dawn-features=disallow_unsafe_apis then try again. Or zero will shown for the kernel time when profiling mode isenabled. Using performance.now is not workable for webgpu sinceit doesn't support synchronously to read data from GPU."),e.next=11,n.requestDevice(a);case 11:return o=e.sent,e.abrupt("return",new W2(o,i));case 13:case"end":return e.stop()}}),e)}))),3);var j2,V2=function(e){return e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64",e}(V2||{}),H2=function(e){return e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu",e}(H2||{});var U2={kernelName:rl,backendName:"wasm",setupFunc:function(e){j2=e.wasm.cwrap(rl,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights;if("float32"!==a.dtype||"float32"!==i.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");var u=r.transposeA,l=r.transposeB,c=r.activation,d=r.leakyreluAlpha,f=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(i.dataId).id,h=0;if(null!=o){var m=n.dataIdMap.get(o.dataId);if(1!==m.shape.length)throw new Error("_FusedMatMul only supports rank-1 bias but got rank ".concat(m.shape.length,"."));h=m.id}var g=null==s?0:n.dataIdMap.get(s.dataId).id,v=H2[c];if(null==v)throw new Error("".concat(c," activation not yet supported for FusedConv2D in the wasm backend."));var y=u?a.shape[2]:a.shape[1],b=l?i.shape[1]:i.shape[2],x=$f.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)),A=n.makeOutput([].concat((0,qr.Z)(x),[y,b]),a.dtype),w=n.dataIdMap.get(A.dataId).id,k=new Uint8Array(new Int32Array(a.shape).buffer),S=new Uint8Array(new Int32Array(i.shape).buffer);return j2(f,k,a.shape.length,p,S,i.shape.length,u,l,v,h,g,d||0,w),A}};function G2(e,t){var n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){var r=e.backend,a=e.inputs.x,i=r.dataIdMap.get(a.dataId).id,o=r.makeOutput(a.shape,t||a.dtype),s=r.dataIdMap.get(o.dataId).id;return 0===bl.sizeFromShape(o.shape)||n(i,V2[a.dtype],s),o}}}var X2=G2(qi);function Y2(e,t,n){var r;return{kernelName:e,backendName:"wasm",setupFunc:function(t){r=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){var t=e.backend,a=e.inputs,i=a.a,o=a.b,s=t.dataIdMap.get(i.dataId).id,u=t.dataIdMap.get(o.dataId).id,l=null!=n?n:i.dtype,c=Xb.assertAndGetBroadcastShape(i.shape,o.shape),d=t.makeOutput(c,l);if(0===bl.sizeFromShape(c))return d;var f=new Uint8Array(new Int32Array(i.shape).buffer),p=new Uint8Array(new Int32Array(o.shape).buffer),h=t.dataIdMap.get(d.dataId).id;return r(s,f,i.shape.length,u,p,o.shape.length,V2[i.dtype],h),d}}}var q2,K2=Y2(Qi);var J2={kernelName:$i,backendName:"wasm",setupFunc:function(e){q2=e.wasm.cwrap($i,null,["array","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=n.makeOutput(t[0].shape,t[0].dtype);if(0===bl.sizeFromShape(r.shape))return r;var a=t.map((function(e){return n.dataIdMap.get(e.dataId).id})),i=new Uint8Array(new Int32Array(a).buffer),o=n.dataIdMap.get(r.dataId).id;return q2(i,a.length,V2[r.dtype],o),r}};function Q2(e){var t=e.inputs.x,n=e.backend,r=n.makeOutput(t.shape,t.dtype),a=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(r).set(a),r}var $2,e5={kernelName:cs,backendName:"wasm",kernelFunc:Q2};function t5(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=function(e,t){for(var n=[],r=[],a=0;a<e.length;++a)1!==e[a]&&n.push(e[a]),1!==e[t[a]]&&r.push(t[a]);for(var i=0;i<r.length;++i){for(var o=-1,s=0;s<r.length;++s)r[s]>=i&&(-1===o||r[o]>r[s])&&(o=s);r[o]=i}return[n,r]}(t.x.shape,r.perm),i=(0,o.Z)(a,2),s=i[0],u=i[1],l=!0,c=0;c<u.length;c++)u[c]!==c&&(l=!1);var d=function(e,t){for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];return n}(t.x.shape,r.perm),f={dataId:t.x.dataId,shape:s,dtype:t.x.dtype};if(l){var p=Q2({inputs:t,backend:n});return p.shape=d,p}var h=n.makeOutput(d,f.dtype),m=n.dataIdMap.get(f.dataId).id,g=n.dataIdMap.get(h.dataId).id,v=new Uint8Array(new Int32Array(u).buffer),y=new Uint8Array(new Int32Array(f.shape).buffer);return $2(m,y,f.shape.length,V2[f.dtype],g,v,u.length),h}var n5,r5={kernelName:Yu,backendName:"wasm",kernelFunc:t5,setupFunc:function(e){$2=e.wasm.cwrap(Yu,null,["number","array","number","number","number","array","number"])}};function a5(e,t,n){var r=e.shape,a=e.shape.length,i=bl.parseAxisParam(t,r),o=i,s=Xb.getAxesPermutation(o,a),u=null,l=!1;if(null!=s){for(var c=new Array(a),d=0;d<c.length;d++)c[d]=r[s[d]];o=Xb.getInnerMostAxes(o.length,a),u=t5({inputs:{x:e},attrs:{perm:s},backend:n});var f=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(u.dataId).id!==f&&(l=!0)}return{transposed:u,originalAxes:i,axes:o,inputWasTransposed:l}}var i5,o5={kernelName:eo,backendName:"wasm",setupFunc:function(e){n5=e.wasm.cwrap(eo,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=s,c=a5(s,a,t),d=c.transposed,f=c.axes,p=c.originalAxes,h=c.inputWasTransposed;h&&(l=d,u=w=t.dataIdMap.get(d.dataId).id);var m=l.shape.length;Xb.assertAxesAreInnerMostDims("all",f,m);var g=Xb.computeOutAndReduceShapes(l.shape,f),v=(0,o.Z)(g,2),y=v[0],b=v[1],x=bl.sizeFromShape(b),A=t.makeOutput(y,s.dtype);if(0!==bl.sizeFromShape(l.shape)){var w=t.dataIdMap.get(A.dataId).id;n5(u,x,w)}if(h&&t.disposeData(d.dataId),i){var k=Xb.expandShapeToKeepDim(A.shape,p);A.shape=k}return A}};var s5,u5={kernelName:to,backendName:"wasm",setupFunc:function(e){i5=e.wasm.cwrap(to,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=s,c=a5(s,a,t),d=c.transposed,f=c.axes,p=c.originalAxes,h=c.inputWasTransposed;h&&(l=d,u=w=t.dataIdMap.get(d.dataId).id);var m=l.shape.length;Xb.assertAxesAreInnerMostDims("any",f,m);var g=Xb.computeOutAndReduceShapes(l.shape,f),v=(0,o.Z)(g,2),y=v[0],b=v[1],x=bl.sizeFromShape(b),A=t.makeOutput(y,s.dtype);if(0!==bl.sizeFromShape(l.shape)){var w=t.dataIdMap.get(A.dataId).id;i5(u,x,w)}if(h&&t.disposeData(d.dataId),i){var k=Xb.expandShapeToKeepDim(A.shape,p);A.shape=k}return A}};var l5,c5={kernelName:no,backendName:"wasm",kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs.axis,a=n.x,i=t.dataIdMap.get(a.dataId).id,o=i,s=a,u=a5(a,r,t),l=u.transposed,c=u.axes,d=u.inputWasTransposed;if(d){var f=t.dataIdMap.get(l.dataId).id;f!==i&&(s=l,o=f)}var p=s.shape.slice(0,-1),h=t.makeOutput(p,"int32"),m=t.dataIdMap.get(h.dataId).id,g=bl.sizeFromShape(h.shape),v=s.shape[c[0]];return s5(o,V2[s.dtype],g,v,m),d&&t.disposeData(l.dataId),h},setupFunc:function(e){s5=e.wasm.cwrap(no,null,["number","number","number","number","number"])}};var d5={kernelName:lo,backendName:"wasm",setupFunc:function(e){l5=e.wasm.cwrap(lo,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=r.dataIdMap.get(a.dataId).id,o=n.filterSize,s=n.strides,u=n.pad,l=n.dimRoundingMode,c=Xb.computePool2DInfo(a.shape,o,s,1,u,l),d=c.filterHeight,f=c.filterWidth,p=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.strideHeight,y=c.strideWidth,b=c.inChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'".concat(c.dataFormat,"'. Please use 'channelsLast'."));if(1!==c.dilationWidth||1!==c.dilationHeight)throw new Error("was backend only supports average pooling with dilation = [1, 1], got [".concat(c.dilationHeight,", ").concat(c.dilationWidth,"]."));var x=r.makeOutput(c.outShape,"float32"),A=r.dataIdMap.get(x.dataId).id;return l5(i,a.shape[0],a.shape[1],a.shape[2],d,f,p,h,m,g,v,y,b,A),x}};function f5(e){var t=e.inputs,n=e.attrs,r=t.x,a=n.shape,i=bl.sizeFromShape(r.shape),o=bl.inferFromImplicitShape(a,i);return bl.assert(i===bl.sizeFromShape(o),(function(){return"new shape: ".concat(o,", old shape: ").concat(r.shape,". New shape and old shape must have the same number of elements.")})),e.backend.incRef(r.dataId),{dataId:r.dataId,shape:o,dtype:r.dtype}}var p5,h5={kernelName:su,backendName:"wasm",kernelFunc:f5};var m5={kernelName:ho,backendName:"wasm",setupFunc:function(e){p5=e.wasm.cwrap(ho,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=r.transposeA,s=r.transposeB;if("float32"!==a.dtype||"float32"!==i.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");var u=a.shape.length,l=i.shape.length,c=o?a.shape[u-2]:a.shape[u-1],d=s?i.shape[l-1]:i.shape[l-2],f=o?a.shape[u-1]:a.shape[u-2],p=s?i.shape[l-2]:i.shape[l-1],h=a.shape.slice(0,-2),m=i.shape.slice(0,-2),g=bl.sizeFromShape(h),v=bl.sizeFromShape(m),y=$f.assertAndGetBroadcastShape(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([f,p]);bl.assert(c===d,(function(){return"Error in matMul: inner shapes (".concat(c,") and (").concat(d,") of Tensors with shapes ").concat(a.shape," and ").concat(i.shape," and transposeA=").concat(o," and transposeB=").concat(s," must match.")}));var b=s?[v,p,d]:[v,d,p],x=f5({inputs:{x:a},backend:n,attrs:{shape:o?[g,c,f]:[g,f,c]}}),A=f5({inputs:{x:i},backend:n,attrs:{shape:b}}),w=n.dataIdMap.get(x.dataId).id,k=n.dataIdMap.get(A.dataId).id,S=o?x.shape[2]:x.shape[1],C=s?A.shape[1]:A.shape[2],I=Math.max(g,v),E=n.makeOutput([I,S,C],x.dtype),T=n.dataIdMap.get(E.dataId).id,N=new Uint8Array(new Int32Array(x.shape).buffer),O=new Uint8Array(new Int32Array(A.shape).buffer);return p5(w,N,x.shape.length,k,O,A.shape.length,o,s,T),n.disposeData(x.dataId),n.disposeData(A.dataId),E.shape=y,E}};function g5(e){var t=e.inputs.x,n=e.attrs,r=n.begin,a=n.size,i=e.backend,s=bp.parseSliceParams(t,r,a),u=(0,o.Z)(s,2),l=u[0],c=u[1],d=bp.isSliceContinous(t.shape,l,c),f=i.readSync(t.dataId),p=i.makeOutput(c,t.dtype),h=bl.computeStrides(t.shape),m=i.dataIdMap.get(p.dataId);if(d){var g=bp.computeFlatOffset(l,h);return"string"===t.dtype?m.stringBytes=f.slice(g,g+bl.sizeFromShape(c)):i.typedArrayFromHeap(p).set(f.subarray(g,g+bl.sizeFromShape(c))),p}if("string"===t.dtype){var v=yD(f,l,c,t.shape,t.dtype);return m.stringBytes=v,p}var y=i.typedArrayFromHeap(p),b=t.shape.length;if(2===b)!function(e,t,n,r,a){for(var i=0,o=r[0],s=r[1],u=o+a[0],l=o;l<u;l++){var c=l*t+s;n.set(e.subarray(c,c+a[1]),i),i+=a[1]}}(f,h[0],y,l,c);else if(3===b)!function(e,t,n,r,a,i){for(var o=0,s=a[0],u=a[1],l=a[2],c=s+i[0],d=u+i[1],f=s;f<c;f++)for(var p=u;p<d;p++){var h=f*t+p*n+l;r.set(e.subarray(h,h+i[2]),o),o+=i[2]}}(f,h[0],h[1],y,l,c);else if(4===b)!function(e,t,n,r,a,i,o){for(var s=0,u=i[0],l=i[1],c=i[2],d=u+o[0],f=l+o[1],p=c+o[2],h=i[3],m=u;m<d;m++)for(var g=l;g<f;g++)for(var v=c;v<p;v++){var y=m*t+g*n+v*r+h;a.set(e.subarray(y,y+o[3]),s),s+=o[3]}}(f,h[0],h[1],h[2],y,l,c);else{var x=yD(f,l,c,t.shape,t.dtype);y.set(x)}return p}var v5={kernelName:xu,backendName:"wasm",kernelFunc:g5};var y5={kernelName:mo,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops,s=i.reduce((function(e,t){return e*t})),u=Xb.getReshaped(a.shape,i,s),l=Xb.getPermuted(u.length,i.length),c=Xb.getReshapedPermuted(a.shape,i,s),d=Xb.getSliceBeginCoords(o,i.length),f=Xb.getSliceSize(c,o,i.length),p=f5({inputs:{x:a},backend:n,attrs:{shape:u}}),h=t5({inputs:{x:p},backend:n,attrs:{perm:l}}),m=g5({inputs:{x:f5({inputs:{x:h},backend:n,attrs:{shape:c}})},backend:n,attrs:{begin:d,size:f}});return n.disposeData(p.dataId),n.disposeData(h.dataId),n.disposeData(p.dataId),m}};function b5(e){var t=e.inputs.x,n=e.attrs.dtype,r=e.backend,a=r.makeOutput(t.shape,n),i=r.typedArrayFromHeap(t);return r.typedArrayFromHeap(a).set(i),a}var x5,A5={kernelName:bo,backendName:"wasm",kernelFunc:b5},w5=G2(xo);var k5={kernelName:Ao,backendName:"wasm",setupFunc:function(e){x5=e.wasm.cwrap(Ao,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.clipValueMin,o=r.clipValueMax,s=n.dataIdMap.get(a.dataId).id,u=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(u.dataId).id;return x5(s,i,o,l),u}};function S5(e){var t=e.inputs,n=e.backend,r=bl.parseAxisParam(e.attrs.axis,t[0].shape)[0],a=Xb.computeOutShape(t.map((function(e){return e.shape})),r),i=t.filter((function(e){return bl.sizeFromShape(e.shape)>0}));if(1===i.length)return Q2({inputs:{x:i[0]},backend:n});var o=n.makeOutput(a,t[0].dtype);if(0===bl.sizeFromShape(a))return o;var s=i.map((function(e){return e.shape}));if(Xb.assertParamsConsistent(s,r),"string"===i[0].dtype){var u=i.map((function(e){var t=bl.sizeFromShape(e.shape.slice(r));return f5({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),l=u.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}}));a=Xb.computeOutShape(u.map((function(e){return e.shape})),1);var c=1===u[0].shape[0],d=fF(l,a,t[0].dtype,c),f=Xb.computeOutShape(i.map((function(e){return e.shape})),r);return o.shape=f,n.dataIdMap.get(o.dataId).stringBytes=Xb.fromStringArrayToUint8(d),u.forEach((function(e){return n.disposeData(e.dataId)})),o}for(var p=bl.sizeFromShape(i[0].shape.slice(0,r)),h=0,m=i.map((function(e){var t=bl.sizeFromShape(e.shape.slice(r));return h+=t,t})),g=i.map((function(e){return n.typedArrayFromHeap(e)})),v=n.typedArrayFromHeap(o),y=0;y<p;y++)for(var b=y*h,x=0;x<g.length;x++){var A=m[x],w=y*A,k=g[x].subarray(w,w+A);v.set(k,b),b+=A}return o}var C5,I5={kernelName:So,backendName:"wasm",kernelFunc:S5};var E5,T5={kernelName:Co,backendName:"wasm",setupFunc:function(e){C5=e.wasm.cwrap(Co,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.filter,o=r.dataIdMap.get(a.dataId).id,s=r.dataIdMap.get(i.dataId).id,u=n.strides,l=n.dilations,c=n.pad,d=n.dimRoundingMode,f=n.dataFormat,p=Xb.convertConv2DDataFormat(f),h=Xb.computeConv2DInfo(a.shape,i.shape,u,l,c,d,!1,p),m=h.filterHeight,g=h.filterWidth,v=h.padInfo.top,y=h.padInfo.right,b=h.padInfo.bottom,x=h.padInfo.left,A=h.dilationHeight,w=h.dilationWidth,k=h.strideHeight,S=h.strideWidth,C=h.inChannels,I=h.outChannels,E="SAME"===h.padInfo.type?1:0;if("channelsLast"!==h.dataFormat)throw new Error("wasm backend Conv2D does not support dataFormat:'".concat(h.dataFormat,"'. Please use 'channelsLast'."));var T=r.makeOutput(h.outShape,"float32"),N=r.dataIdMap.get(T.dataId).id;return C5(o,a.shape[0],a.shape[1],a.shape[2],s,m,g,v,y,b,x,E,A,w,k,S,C,I,N),T}};var N5,O5={kernelName:Eo,backendName:"wasm",setupFunc:function(e){E5=e.wasm.cwrap(Eo,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=n.dy,i=n.filter,s=r.strides,u=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=r.inputShape,f=Xb.convertConv2DDataFormat(l),p=Xb.computeConv2DInfo(d,i.shape,s,1,u,c,!1,f),h=p.batchSize,m=p.filterHeight,g=p.filterWidth,v=p.inChannels,y=p.inHeight,b=p.inWidth,x=p.outChannels,A=p.outHeight,w=p.outWidth,k=p.strideHeight,S=p.strideWidth,C=m-1-p.padInfo.top,I=g-1-p.padInfo.left,E="channelsLast"===p.dataFormat,T=bl.computeStrides(p.inShape),N=bl.computeStrides(a.shape),O=bl.computeStrides(i.shape),P=(0,o.Z)(O,3),_=P[0],M=P[1],R=P[2],F=T[0],D=E?T[1]:T[2],L=E?T[2]:1,z=E?1:T[1],Z=N[0],W=E?N[1]:N[2],B=E?N[2]:1,j=E?1:N[1],V=t.makeOutput(p.inShape,"float32"),H=t.dataIdMap.get(V.dataId).id,U=t.dataIdMap.get(a.dataId).id,G=t.dataIdMap.get(i.dataId).id;return E5(U,G,h,m,g,y,b,v,A,w,x,k,S,C,I,_,M,R,F,D,L,z,Z,W,B,j,H),V}},P5=G2(Po),_5=G2(_o),M5=function(e){return e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest",e}(M5||{});var R5,F5={kernelName:Fo,backendName:"wasm",setupFunc:function(e){N5=e.wasm.cwrap(Fo,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){var t,n=e.backend,r=e.inputs,a=e.attrs,i=a.method,s=a.extrapolationValue,u=a.cropSize,l=r.image,c=r.boxes,d=r.boxInd,f=c.shape[0],p=(0,o.Z)(u,2),h=p[0],m=p[1],g=[f,h,m,l.shape[3]],v=n.dataIdMap.get(l.dataId);"float32"!==l.dtype&&(t=b5({backend:n,inputs:{x:l},attrs:{dtype:"float32"}}),v=n.dataIdMap.get(t.dataId));var y=v.id,b=n.dataIdMap.get(c.dataId).id,x=n.dataIdMap.get(d.dataId).id,A=n.makeOutput(g,"float32"),w=n.dataIdMap.get(A.dataId).id,k=new Uint8Array(new Int32Array(l.shape).buffer);return N5(y,b,x,f,k,h,m,M5[i],s,w),null!=t&&n.disposeData(t.dataId),A}};var D5,L5={kernelName:Mo,backendName:"wasm",setupFunc:function(e){R5=e.wasm.cwrap(Mo,null,["number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse,u=a.shape.length;bl.assert("float32"===a.dtype||"int32"===a.dtype,(function(){return"cumprod does not support ".concat(a.dtype," tensors in the WASM backend")}));var l=Xb.getAxesPermutation([i],u),c=a;null!==l&&(c=t5({inputs:{x:a},attrs:{perm:l},backend:n}));var d=Xb.getInnerMostAxes(1,u)[0];Xb.assertAxesAreInnerMostDims("cumprod",[d],u);var f=n.makeOutput(c.shape,c.dtype),p=c.shape[d],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(f.dataId).id;R5(h,o?1:0,s?1:0,p,m,V2[a.dtype]);var g=f;return null!==l&&(g=t5({inputs:{x:f},attrs:{perm:Xb.getUndoAxesPermutation(l)},backend:n}),n.disposeData(c.dataId),n.disposeData(f.dataId)),g}};var z5,Z5={kernelName:Ro,backendName:"wasm",setupFunc:function(e){D5=e.wasm.cwrap(Ro,null,["number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse,u=a.shape.length;bl.assert("float32"===a.dtype||"int32"===a.dtype,(function(){return"cumsum does not support ".concat(a.dtype," tensors in the WASM backend")}));var l=Xb.getAxesPermutation([i],u),c=a;null!==l&&(c=t5({inputs:{x:a},attrs:{perm:l},backend:n}));var d=Xb.getInnerMostAxes(1,u)[0];Xb.assertAxesAreInnerMostDims("cumsum",[d],u);var f=n.makeOutput(c.shape,c.dtype),p=c.shape[d],h=n.dataIdMap.get(c.dataId).id,m=n.dataIdMap.get(f.dataId).id;D5(h,o?1:0,s?1:0,p,m,V2[a.dtype]);var g=f;return null!==l&&(g=t5({inputs:{x:f},attrs:{perm:Xb.getUndoAxesPermutation(l)},backend:n}),n.disposeData(c.dataId),n.disposeData(f.dataId)),g}};var W5,B5={kernelName:Lo,backendName:"wasm",setupFunc:function(e){z5=e.wasm.cwrap(Lo,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=n.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,l=("NHWC"===o?a.shape[2]:a.shape[3])*i,c=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d="NHWC"===o?[s,u,l,c]:[s,c,u,l],f=t.makeOutput(d,"float32"),p=t.dataIdMap.get(a.dataId).id,h=new Uint8Array(new Int32Array(bl.computeStrides(a.shape)).buffer),m=new Uint8Array(new Int32Array(d).buffer),g=new Uint8Array(new Int32Array(bl.computeStrides(d)).buffer),v=t.dataIdMap.get(f.dataId).id;return z5(p,i,"NHWC"===o?1:0,h,a.shape.length-1,m,g,d.length,v),f}};var j5={kernelName:zo,backendName:"wasm",setupFunc:function(e){W5=e.wasm.cwrap(zo,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.filter,o=r.dataIdMap.get(a.dataId).id,s=r.dataIdMap.get(i.dataId).id,u=n.strides,l=n.dilations,c=n.pad,d=n.dimRoundingMode,f=null==l?[1,1]:l,p=Xb.computeConv2DInfo(a.shape,i.shape,u,f,c,d,!0),h=p.filterHeight,m=p.filterWidth,g=p.padInfo.top,v=p.padInfo.right,y=p.padInfo.bottom,b=p.padInfo.left,x=p.dilationHeight,A=p.dilationWidth,w=p.strideHeight,k=p.strideWidth,S=p.inChannels,C=p.outChannels,I="SAME"===p.padInfo.type?1:0;if("channelsLast"!==p.dataFormat)throw new Error("wasm backend DepthwiseConv2dNative does not support dataFormat:'".concat(p.dataFormat,"'. Please use 'channelsLast'."));var E=r.makeOutput(p.outShape,"float32"),T=r.dataIdMap.get(E.dataId).id;return W5(o,a.shape[0],a.shape[1],a.shape[2],s,h,m,g,v,y,b,I,x,A,w,k,S,C,T),E}},V5=G2(Xo),H5=Y2(Ko,0,"bool"),U5=G2(Jo,"float32");function G5(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.input,i=n.dim,o=a.shape.length,s=a.shape.slice(),u=i;return i<0&&(bl.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),u=o+i+1),s.splice(u,0,1),f5({inputs:{x:a},backend:r,attrs:{shape:s}})}var X5={kernelName:Qo,backendName:"wasm",kernelFunc:G5};function Y5(e){var t=e.attrs,n=t.shape,r=t.value,a=t.dtype,i=e.backend,o=i.makeOutput(n,a);return i.typedArrayFromHeap(o).fill(r),o}var q5,K5={kernelName:ts,backendName:"wasm",kernelFunc:Y5};var J5,Q5={kernelName:ns,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n.makeOutput(r.shape,r.dtype),i=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,u=(0,o.Z)(r.shape,4),l=u[0],c=u[1],d=u[2],f=u[3];return q5(i,l,c,d,f,s),a},setupFunc:function(e){q5=e.wasm.cwrap(ns,null,["number","number","number","number","number","number"])}},$5=G2(rs),e3=Y2(as);var t3,n3={kernelName:is,backendName:"wasm",setupFunc:function(e){J5=e.wasm.cwrap(is,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs.varianceEpsilon,a=n.x,i=n.mean,o=n.variance,s=n.offset,u=n.scale,l=t.dataIdMap.get(a.dataId).id,c=t.dataIdMap.get(i.dataId).id,d=t.dataIdMap.get(o.dataId).id,f=null!=s?t.dataIdMap.get(s.dataId).id:0,p=null!=u?t.dataIdMap.get(u.dataId).id:0,h=t.makeOutput(a.shape,a.dtype);if(0===bl.sizeFromShape(a.shape))return h;var m=t.dataIdMap.get(h.dataId).id;return J5(l,c,d,f,p,r,m),h}};var r3,a3={kernelName:al,backendName:"wasm",setupFunc:function(e){t3=e.wasm.cwrap(al,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=n.strides,l=n.pad,c=n.dilations,d=n.dataFormat,f=n.dimRoundingMode,p=n.activation,h=n.leakyreluAlpha,m=Xb.computeConv2DInfo(a.shape,i.shape,u,c,l,f),g=H2[p];if(null==g)throw new Error("".concat(p," activation not yet supported for FusedConv2D in the wasm backend."));var v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(i.dataId).id,b=m.outChannels,x=0;if(null!=o){var A=r.dataIdMap.get(o.dataId);if(1!==A.shape.length)throw new Error("FusedConv2D only supports rank-1 bias but got rank ".concat(A.shape.length,"."));if(A.shape[0]!==b)throw new Error("FusedConv2D bias shape (".concat(A.shape,") does not match the number of output channels (").concat(b,")"));x=A.id}var w=m.filterHeight,k=m.filterWidth,S=m.padInfo.top,C=m.padInfo.right,I=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,O=m.strideHeight,P=m.strideWidth,_=m.inChannels,M="SAME"===m.padInfo.type?1:0,R=m.batchSize,F=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedConv2D does not support dataFormat:'".concat(d,"'. Please use 'NHWC'."));var L=r.makeOutput(m.outShape,"float32"),z=r.dataIdMap.get(L.dataId).id,Z=null==s?0:r.dataIdMap.get(s.dataId).id;return t3(v,R,F,D,y,w,k,x,S,C,I,E,M,T,N,O,P,_,b,g,Z,h||0,z),L}};var i3,o3={kernelName:il,backendName:"wasm",setupFunc:function(e){r3=e.wasm.cwrap(il,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=n.strides,l=n.pad,c=n.dilations,d=n.dataFormat,f=n.dimRoundingMode,p=n.activation,h=n.leakyreluAlpha,m=Xb.computeConv2DInfo(a.shape,i.shape,u,c,l,f,!0),g=H2[p];if(null==g)throw new Error("".concat(p," activation not yet supported for FusedDepthwiseConv2D in the wasm backend."));var v=r.dataIdMap.get(a.dataId).id,y=r.dataIdMap.get(i.dataId).id,b=m.outChannels,x=0;if(null!=o){var A=r.dataIdMap.get(o.dataId);if(1!==A.shape.length)throw new Error("FusedDepthwiseConv2D only supports rank-1 bias but got rank ".concat(A.shape.length,"."));if(A.shape[0]!==b)throw new Error("FusedDepthwiseConv2D bias shape (".concat(A.shape,") does not match the number of output channels (").concat(b,")"));x=A.id}var w=m.filterHeight,k=m.filterWidth,S=m.padInfo.top,C=m.padInfo.right,I=m.padInfo.bottom,E=m.padInfo.left,T=m.dilationHeight,N=m.dilationWidth,O=m.strideHeight,P=m.strideWidth,_=m.inChannels,M="SAME"===m.padInfo.type?1:0,R=m.batchSize,F=m.inHeight,D=m.inWidth;if("NHWC"!==d)throw new Error("wasm backend FusedDepthwiseConv2D does not support dataFormat:'".concat(d,"'. Please use 'NHWC'."));var L=r.makeOutput(m.outShape,"float32"),z=r.dataIdMap.get(L.dataId).id,Z=null==s?0:r.dataIdMap.get(s.dataId).id;return r3(v,R,F,D,y,w,k,x,S,C,I,E,M,T,N,O,P,_,b,g,Z,h||0,z),L}};var s3,u3={kernelName:ss,backendName:"wasm",setupFunc:function(e){i3=e.wasm.cwrap(ss,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=n.params,a=n.indices,i=pp.prepareAndValidate(r,a),s=(0,o.Z)(i,4),u=s[0],l=s[1],c=s[2],d=s[3],f=t.makeOutput(u,r.dtype);if(0===l)return f;var p=a.shape,h=p[p.length-1],m=t.dataIdMap.get(r.dataId).id,g=t.dataIdMap.get(a.dataId).id,v=new Uint8Array(new Int32Array(d).buffer),y=t.dataIdMap.get(f.dataId).id;return i3(m,V2[r.dtype],g,l,h,c,v,y),f}};var l3,c3={kernelName:os,backendName:"wasm",setupFunc:function(e){s3=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){for(var t=e.backend,n=e.inputs,r=e.attrs,a=n.x,i=n.indices,o=r.axis,s=r.batchDims,u=bl.parseAxisParam(o,a.shape)[0],l=t.readSync(i.dataId),c=a.shape[u],d=function(e){var t=l[e];bl.assert(t<=c-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(c-1,"]")}))},f=0;f<l.length;++f)d(f);var p=Xb.segment_util.collectGatherOpShapeInfo(a,i,u,s),h=f5({inputs:{x:a},attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]},backend:t}),m=bl.sizeFromShape(i.shape),g=f5({inputs:{x:i},attrs:{shape:[p.batchSize,m/p.batchSize]},backend:t}),v=[p.batchSize,p.outerSize,m/p.batchSize,p.sliceSize],y=t.makeOutput(v,a.dtype);if(0===bl.sizeFromShape(a.shape))return y;var b=h.shape.length-1,x=t.dataIdMap.get(h.dataId).id,A=t.dataIdMap.get(g.dataId).id,w=t.dataIdMap.get(y.dataId).id,k=new Uint8Array(new Int32Array(bl.computeStrides(h.shape)).buffer),S=new Uint8Array(new Int32Array(bl.computeStrides(v)).buffer);return s3(x,V2[a.dtype],k,b,A,p.batchSize,S,w),t.disposeData(h.dataId),t.disposeData(g.dataId),y.shape=p.outputShape,y}},d3=Y2(us,0,"bool"),f3=Y2(ls,0,"bool");var p3,h3={kernelName:gs,backendName:"wasm",setupFunc:function(e){l3=e.wasm.cwrap(gs,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.inputs.x,n=e.attrs.alpha,r=e.backend,a=r.dataIdMap.get(t.dataId).id,i=r.makeOutput(t.shape,"float32");if(0!==bl.sizeFromShape(t.shape)){var o=r.dataIdMap.get(i.dataId).id;l3(a,V2[t.dtype],n,o)}return i}},m3=Y2(vs,0,"bool"),g3=Y2(ys,0,"bool"),v3=G2(xs),y3=Y2(ws,0,"bool"),b3=G2(ks),x3=Y2(Ss,0,"bool"),A3=Y2(Cs,0,"bool");var w3,k3={kernelName:Os,backendName:"wasm",setupFunc:function(e){p3=e.wasm.cwrap(Os,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.reductionIndices,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=s,c=a5(s,a,t),d=c.transposed,f=c.axes,p=c.originalAxes,h=c.inputWasTransposed;h&&(l=d,u=w=t.dataIdMap.get(d.dataId).id);var m=l.shape.length;Xb.assertAxesAreInnerMostDims("max",f,m);var g=Xb.computeOutAndReduceShapes(l.shape,f),v=(0,o.Z)(g,2),y=v[0],b=v[1],x=bl.sizeFromShape(b),A=t.makeOutput(y,s.dtype);if(0!==bl.sizeFromShape(l.shape)){var w=t.dataIdMap.get(A.dataId).id;p3(u,V2[s.dtype],x,w)}if(h&&t.disposeData(d.dataId),i){var k=Xb.expandShapeToKeepDim(A.shape,p);A.shape=k}return A}},S3=Y2(Ps);var C3,I3={kernelName:_s,backendName:"wasm",setupFunc:function(e){w3=e.wasm.cwrap(_s,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=r.dataIdMap.get(a.dataId).id;bl.assert("float32"===a.dtype,(function(){return"Error in MaxPool: only float32 input is supported. Got ".concat(a.dtype,".")}));var o=n.filterSize,s=n.strides,u=n.pad,l=n.dimRoundingMode,c=Xb.computePool2DInfo(a.shape,o,s,1,u,l),d=c.filterHeight,f=c.filterWidth,p=c.padInfo.top,h=c.padInfo.right,m=c.padInfo.bottom,g=c.padInfo.left,v=c.dilationHeight,y=c.dilationWidth,b=c.strideHeight,x=c.strideWidth,A=c.inChannels,w=c.outChannels;if("channelsLast"!==c.dataFormat)throw new Error("wasm backend does not support dataFormat:'".concat(c.dataFormat,"'. Please use 'channelsLast'."));var k=r.makeOutput(c.outShape,"float32"),S=r.dataIdMap.get(k.dataId).id;return w3(i,a.shape[0],a.shape[1],a.shape[2],d,f,p,h,m,g,v,y,b,x,A,w,S),k}};var E3,T3={kernelName:Ls,backendName:"wasm",setupFunc:function(e){C3=e.wasm.cwrap(Ls,null,["number, number, number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=u,c=s,d=a5(s,a,t),f=d.transposed,p=d.axes,h=d.originalAxes,m=d.inputWasTransposed,g=p;m&&(S=t.dataIdMap.get(f.dataId).id)!==u&&(c=f,l=S,g=Xb.getInnerMostAxes(g.length,c.shape.length)),Xb.assertAxesAreInnerMostDims("mean",g,c.shape.length);var v=Xb.computeOutAndReduceShapes(c.shape,g),y=(0,o.Z)(v,2),b=y[0],x=y[1],A=bl.sizeFromShape(x),w=c;"float32"!==c.dtype&&(w=b5({backend:t,inputs:{x:c},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(w.dataId).id);var k=t.makeOutput(b,"float32");if(0!==bl.sizeFromShape(c.shape)){var S=t.dataIdMap.get(k.dataId).id;C3(l,A,S)}if(m&&t.disposeData(f.dataId),i){var C=Xb.expandShapeToKeepDim(k.shape,h);k.shape=C}return"float32"!==c.dtype&&t.disposeData(w.dataId),k}};var N3,O3={kernelName:zs,backendName:"wasm",setupFunc:function(e){E3=e.wasm.cwrap(zs,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=u,c=s,d=a5(s,a,t),f=d.transposed,p=d.axes,h=d.originalAxes,m=d.inputWasTransposed;m&&(k=t.dataIdMap.get(f.dataId).id)!==u&&(c=f,l=k);var g=c.shape.length;Xb.assertAxesAreInnerMostDims("min",p,g);var v=Xb.computeOutAndReduceShapes(c.shape,p),y=(0,o.Z)(v,2),b=y[0],x=y[1],A=bl.sizeFromShape(x),w=t.makeOutput(b,c.dtype);if(0!==bl.sizeFromShape(c.shape)){var k=t.dataIdMap.get(w.dataId).id;E3(l,V2[s.dtype],A,k)}if(m&&t.disposeData(f.dataId),i){var S=Xb.expandShapeToKeepDim(w.shape,h);w.shape=S}return w}},P3=Y2(Zs),_3=function(e){return e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric",e}(_3||{});var M3,R3={kernelName:Ws,backendName:"wasm",kernelFunc:function(e){var t=e.inputs.x,n=e.backend,r=e.attrs,a=r.paddings,i=r.mode,o=a.map((function(e,n){return e[0]+t.shape[n]+e[1]})),s=n.dataIdMap.get(t.dataId).id,u=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(u.dataId).id,c=new Uint8Array(new Int32Array(t.shape).buffer),d=a.map((function(e){return e[0]})),f=a.map((function(e){return e[1]})),p=new Uint8Array(new Int32Array(d).buffer),h=new Uint8Array(new Int32Array(f).buffer);return N3(s,c,t.shape.length,V2[t.dtype],p,h,_3[i],l),u},setupFunc:function(e){N3=e.wasm.cwrap(Ws,null,["number","array","number","number","array","array","number","number"])}},F3=Y2(Vs),D3=G2(Hs);function L3(e,t){var n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),r=n[0],a=n[1],i=n[2],o=n[3];return e.wasm._free(t),{pSelectedIndices:r,selectedSize:a,pSelectedScores:i,pValidOutputs:o}}var z3,Z3={kernelName:Gs,backendName:"wasm",setupFunc:function(e){M3=e.wasm.cwrap(Gs,"number",["number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.iouThreshold,i=r.maxOutputSize,o=r.scoreThreshold,s=n.boxes,u=n.scores,l=t.dataIdMap.get(s.dataId).id,c=t.dataIdMap.get(u.dataId).id,d=L3(t,M3(l,c,i,a,o)),f=d.pSelectedIndices,p=d.selectedSize,h=d.pSelectedScores,m=d.pValidOutputs;return t.wasm._free(h),t.wasm._free(m),t.makeOutput([p],"int32",f)}};var W3,B3={kernelName:Xs,backendName:"wasm",setupFunc:function(e){z3=e.wasm.cwrap(Xs,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.iouThreshold,i=r.maxOutputSize,o=r.scoreThreshold,s=r.padToMaxOutputSize,u=n.boxes,l=n.scores,c=t.dataIdMap.get(u.dataId).id,d=t.dataIdMap.get(l.dataId).id,f=L3(t,z3(c,d,i,a,o,s)),p=f.pSelectedIndices,h=f.selectedSize,m=f.pSelectedScores,g=f.pValidOutputs;return t.wasm._free(m),[t.makeOutput([h],"int32",p),t.makeOutput([],"int32",g)]}};var j3,V3={kernelName:Ys,backendName:"wasm",setupFunc:function(e){W3=e.wasm.cwrap(Ys,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.iouThreshold,i=r.maxOutputSize,o=r.scoreThreshold,s=r.softNmsSigma,u=n.boxes,l=n.scores,c=t.dataIdMap.get(u.dataId).id,d=t.dataIdMap.get(l.dataId).id,f=L3(t,W3(c,d,i,a,o,s)),p=f.pSelectedIndices,h=f.selectedSize,m=f.pSelectedScores,g=f.pValidOutputs;return t.wasm._free(g),[t.makeOutput([h],"int32",p),t.makeOutput([h],"float32",m)]}},H3=Y2(Us,0,"bool");var U3={kernelName:Ks,backendName:"wasm",setupFunc:function(e){j3=e.wasm.cwrap(Ks,null,["number","number","number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,o=r.onValue,s=r.offValue,u=n.makeOutput([].concat((0,qr.Z)(a.shape),[i]),"int32"),l=n.dataIdMap.get(u.dataId).id,c=n.dataIdMap.get(a.dataId).id;return j3(c,i,o,s,l),u}};var G3={kernelName:qs,backendName:"wasm",kernelFunc:function(e){var t=e.inputs.x,n=e.backend,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(1),r}};var X3,Y3={kernelName:Js,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return G5({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){bl.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),bl.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=G5({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),u=S5({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeData(e.dataId)})),u}};var q3,K3={kernelName:Qs,backendName:"wasm",kernelFunc:function(e){var t=e.inputs.x,n=e.backend,r=e.attrs,a=r.paddings,i=r.constantValue,o=a.map((function(e,n){return e[0]+t.shape[n]+e[1]}));if(0===bl.sizeFromShape(t.shape))return Y5({backend:n,attrs:{shape:o,value:i,dtype:t.dtype}});var s=n.dataIdMap.get(t.dataId).id,u=n.makeOutput(o,t.dtype),l=n.dataIdMap.get(u.dataId).id,c=new Uint8Array(new Int32Array(t.shape).buffer),d=a.map((function(e){return e[0]})),f=a.map((function(e){return e[1]})),p=new Uint8Array(new Int32Array(d).buffer),h=new Uint8Array(new Int32Array(f).buffer);return X3(s,c,t.shape.length,V2[t.dtype],p,h,i,l),u},setupFunc:function(e){X3=e.wasm.cwrap(Qs,null,["number","array","number","number","array","array","number","number"])}},J3=Y2(eu);var Q3,$3={kernelName:tu,backendName:"wasm",setupFunc:function(e){q3=e.wasm.cwrap(tu,null,["number","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id,s=i,u=r,l=u;"float32"!==u.dtype&&(l=b5({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),s=n.dataIdMap.get(l.dataId).id);var c=n.makeOutput(r.shape,"float32"),d=n.dataIdMap.get(c.dataId).id;return q3(s,o,d),"float32"!==u.dtype&&n.disposeData(l.dataId),c}};var e4,t4={kernelName:nu,backendName:"wasm",setupFunc:function(e){Q3=e.wasm.cwrap(nu,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=u,c=s,d=a5(s,a,t),f=d.transposed,p=d.axes,h=d.originalAxes,m=d.inputWasTransposed,g=p;m&&(k=t.dataIdMap.get(f.dataId).id)!==u&&(c=f,l=k,g=Xb.getInnerMostAxes(g.length,c.shape.length)),Xb.assertAxesAreInnerMostDims("prod",g,c.shape.length);var v=Xb.computeOutAndReduceShapes(c.shape,g),y=(0,o.Z)(v,2),b=y[0],x=y[1],A=bl.sizeFromShape(x),w=t.makeOutput(b,c.dtype);if(0!==bl.sizeFromShape(c.shape)){var k=t.dataIdMap.get(w.dataId).id;Q3(l,A,V2[w.dtype],k)}if(m&&t.disposeData(f.dataId),i){var S=Xb.expandShapeToKeepDim(w.shape,h);w.shape=S}return w}},n4={kernelName:ru,backendName:"wasm",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=cD(r,a,i,o),u=t.makeOutput([s.length],o);return t.typedArrayFromHeap(u).set(s),u}},r4=Y2(Uo),a4=G2(ou),i4=G2(fu);var o4,s4={kernelName:cu,backendName:"wasm",setupFunc:function(e){e4=e.wasm.cwrap(cu,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t,n=e.backend,r=e.inputs,a=e.attrs,i=r.images,s=a.alignCorners,u=a.halfPixelCenters,l=a.size,c=(0,o.Z)(l,2),d=c[0],f=c[1],p=(0,o.Z)(i.shape,4),h=p[0],m=p[1],g=p[2],v=p[3],y=[h,d,f,v],b=n.dataIdMap.get(i.dataId);"float32"!==b.dtype&&(t=b5({backend:n,inputs:{x:i},attrs:{dtype:"float32"}}),b=n.dataIdMap.get(t.dataId));var x=b.id,A=n.makeOutput(y,"float32");if(0===bl.sizeFromShape(i.shape))return A;var w=n.dataIdMap.get(A.dataId).id;return e4(x,h,m,g,v,d,f,s?1:0,u?1:0,w),null!=t&&n.disposeData(t.dataId),A}};var u4,l4={kernelName:pu,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,o=bl.parseAxisParam(i,a.shape);if(0===a.shape.length)return Q2({inputs:{x:a},backend:n});var s=n.makeOutput(a.shape,a.dtype),u=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(s.dataId).id,c=new Uint8Array(new Int32Array(o).buffer),d=new Uint8Array(new Int32Array(a.shape).buffer);o4(u,c,o.length,d,a.shape.length,l);var f=f5({inputs:{x:s},attrs:{shape:a.shape},backend:n});return n.disposeData(s.dataId),f},setupFunc:function(e){o4=e.wasm.cwrap(pu,null,["number","array","number","array","number","number"])}};var c4,d4={kernelName:nl,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=r.radians,s=r.fillValue,u=r.center,l=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(a.dataId).id,d=n.dataIdMap.get(l.dataId).id,f=(0,o.Z)(a.shape,4),p=f[0],h=f[1],m=f[2],g=f[3],v=Xb.getImageCenter(u,h,m),y=(0,o.Z)(v,2),b=y[0],x=y[1],A="number"==typeof s?[s,s,s,0===s?0:255]:[].concat((0,qr.Z)(s),[255]),w=new Uint8Array(new Int32Array(A).buffer);return u4(c,p,h,m,g,i,b,x,w,A.length,d),l},setupFunc:function(e){u4=e.wasm.cwrap(nl,null,["number","number","number","number","number","number","number","number","array","number","number"])}},f4=G2(hu),p4=G2(mu);var h4,m4={kernelName:gu,backendName:"wasm",setupFunc:function(e){c4=e.wasm.cwrap(gu,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=n.indices,i=n.updates,o=r.shape,s=t.makeOutput(o,i.dtype);if(0===bl.sizeFromShape(o))return s;var u=mp.calculateShapes(i,a,o),l=u.sliceRank,c=u.numUpdates,d=u.sliceSize,f=u.strides,p=u.outputSize,h=t.dataIdMap.get(a.dataId).id,m=t.dataIdMap.get(i.dataId).id,g=new Uint8Array(new Int32Array(f).buffer),v=t.dataIdMap.get(s.dataId).id;return c4(h,m,V2[i.dtype],l,c,d,g,p,v),s}};var g4,v4={kernelName:yu,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,o=n.dataIdMap.get(r.dataId).id,s=n.dataIdMap.get(a.dataId).id,u=n.dataIdMap.get(i.dataId).id,l=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(l.dataId).id,d=r.shape.length,f=a.shape.length,p=0===d||d>1||1===f?1:bl.sizeFromShape(a.shape.slice(1));return h4(o,s,u,p,c),l},setupFunc:function(e){h4=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}};var y4,b4={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){g4=e.wasm.cwrap(Su,null,["number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs.x,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(a.dataId).id;return 0===bl.sizeFromShape(a.shape)||g4(r,i),a}},x4=G2(Au);var A4={kernelName:Ou,backendName:"wasm",setupFunc:function(e){y4=e.wasm.cwrap(Ou,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs.logits,r=e.attrs.dim,a=t.dataIdMap.get(n.dataId).id,i=t.makeOutput(n.shape,n.dtype),o=t.dataIdMap.get(i.dataId).id,s=n.shape[r],u=bl.sizeFromShape(n.shape)/s;return 0===bl.sizeFromShape(i.shape)||y4(a,o,s,u),i}};var w4,k4={kernelName:Tu,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings,s=bl.sizeFromShape(i),u=[[0,0]];u.push.apply(u,(0,qr.Z)(o));for(var l=1+i.length;l<a.shape.length;++l)u.push([0,0]);var c=K3.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),d=Xb.getReshaped(c.shape,i,s,!1),f=Xb.getPermuted(d.length,i.length,!1),p=Xb.getReshapedPermuted(c.shape,i,s,!1),h=f5({inputs:{x:c},backend:n,attrs:{shape:d}}),m=t5({inputs:{x:h},backend:n,attrs:{perm:f}}),g=f5({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeData(c.dataId),n.disposeData(h.dataId),n.disposeData(m.dataId),g}};var S4,C4={kernelName:Pu,backendName:"wasm",setupFunc:function(e){w4=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){var t,n=e.backend,r=e.inputs,a=r.indices,i=r.values,o=r.denseShape,s=r.defaultValue,u=a.shape[0],l=a.shape[1],c=n.readSync(o.dataId)[0],d=[u+c,l],f=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(i.dataId).id,h=n.dataIdMap.get(s.dataId).id,m=n.makeOutput(d,a.dtype),g=n.dataIdMap.get(m.dataId).id,v=n.makeOutput(d.slice(0,1),i.dtype),y=n.dataIdMap.get(v.dataId).id,b=n.makeOutput([c],"bool"),x=n.dataIdMap.get(b.dataId).id,A=n.makeOutput([u],a.dtype),w=n.dataIdMap.get(A.dataId).id,k=n.makeOutput([4],"int32"),S=n.dataIdMap.get(k.dataId).id,C=w4(f,p,V2[i.dtype],u,c,l,h,g,y,x,w,S),I=n.readSync(k.dataId);switch(I[0]){case 1:t=Xb.getSparseFillEmptyRowsIndicesDenseShapeMismatch(I[1]);break;case 2:t=Xb.getSparseFillEmptyRowsNegativeIndexErrorMessage(I[1],I[2]);break;case 3:t=Xb.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(I[1],I[2],I[3]);break;default:t=""}if(n.disposeData(k.dataId),t)throw n.disposeData(m.dataId),n.disposeData(v.dataId),n.disposeData(b.dataId),n.disposeData(A.dataId),new Error(t);var E=m,T=v;return C!==d[0]&&(E=g5({inputs:{x:m},attrs:{begin:0,size:[C,l]},backend:n}),T=g5({inputs:{x:v},attrs:{begin:0,size:C},backend:n}),n.disposeData(m.dataId),n.disposeData(v.dataId)),[E,T,b,A]}};var I4,E4={kernelName:_u,backendName:"wasm",setupFunc:function(e){S4=e.wasm.cwrap(_u,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=n.inputIndices,a=n.inputShape,i=n.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var o=t.dataIdMap.get(r.dataId).id,s=t.dataIdMap.get(a.dataId).id,u=t.dataIdMap.get(i.dataId).id,l=r.shape[0],c=bl.sizeFromShape(i.shape),d=t.makeOutput([l,c],r.dtype),f=t.dataIdMap.get(d.dataId).id,p=t.makeOutput([c],i.dtype),h=t.dataIdMap.get(p.dataId).id,m=t.makeOutput([3],"int32"),g=t.dataIdMap.get(m.dataId).id;S4(o,s,u,l,f,h,g);var v,y=t.readSync(m.dataId);switch(y[0]){case 0:v=Xb.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(y[1],y[2]);break;case 1:v=Xb.getSparseReshapeNegativeOutputDimErrorMessage(y[1],y[2]);break;case 2:v=Xb.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage();break;case 3:var b=Array.from(t.readSync(a.dataId)),x=Array.from(t.readSync(p.dataId));v=Xb.getSparseReshapeInputOutputMultipleErrorMessage(b,x);break;case 4:var A=Array.from(t.readSync(a.dataId)),w=Array.from(t.readSync(p.dataId));v=Xb.getSparseReshapeInputOutputMismatchErrorMessage(A,w);break;default:v=""}if(t.disposeData(m.dataId),v)throw t.disposeData(d.dataId),t.disposeData(p.dataId),new Error(v);return[d,p]}};function T4(e){I4=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function N4(e,t){var n=e.backend,r=e.inputs,a=r.data,i=r.indices,o=r.segmentIds,s=i.shape[0],u=n.readSync(o.dataId,s-1,s)[0],l=s>0?u+1:0;if(l<0)throw new Error(Xb.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var c=a.shape.slice();c[0]=l;var d=n.dataIdMap.get(a.dataId).id,f=n.dataIdMap.get(i.dataId).id,p=n.dataIdMap.get(o.dataId).id,h=n.makeOutput(c,a.dtype),m=n.dataIdMap.get(h.dataId).id,g=n.makeOutput([4],"int32"),v=n.dataIdMap.get(g.dataId).id;I4(d,V2[a.dtype],a.shape[0],f,p,m,v,t,0);var y,b=n.readSync(g.dataId);switch(b[0]){case 0:y=Xb.getSparseSegmentReductionNegativeSegmentIdsErrorMessage();break;case 1:y=Xb.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage();break;case 2:y=Xb.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(b[1],b[2]);break;case 3:y=Xb.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(b[1],b[2],b[3]);break;default:y=""}if(n.disposeData(g.dataId),y)throw n.disposeData(h.dataId),new Error(y);return h}var O4={kernelName:Mu,backendName:"wasm",setupFunc:T4,kernelFunc:function(e){return N4(e,!0)}};var P4={kernelName:Ru,backendName:"wasm",setupFunc:T4,kernelFunc:function(e){return N4(e,!1)}};var _4,M4={kernelName:Nu,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.numOrSizeSplits,o=n.axis,s=bl.parseAxisParam(o,a.shape)[0],u=Xb.prepareSplitSize(a,i,s),l=new Array(a.shape.length).fill(0),c=a.shape.slice();return u.map((function(e){var t=(0,qr.Z)(c);t[s]=e;var n=g5({inputs:{x:a},attrs:{begin:l,size:t},backend:r});return l[s]+=e,n}))}},R4=G2(Iu),F4=G2(Lu),D4=Y2(Du);var L4,z4={kernelName:el,backendName:"wasm",setupFunc:function(e){_4=e.wasm.cwrap(el,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs.alpha,a=n.x,i=t.dataIdMap.get(a.dataId).id,o=t.makeOutput(a.shape,a.dtype),s=t.dataIdMap.get(o.dataId).id;return _4(i,r,V2[a.dtype],s),o}};var Z4,W4={kernelName:zu,backendName:"wasm",setupFunc:function(e){L4=e.wasm.cwrap(zu,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){var t,n=e.backend,r=e.inputs,a=e.attrs,i=r.x,o=a.begin,s=a.end,u=a.strides,l=a.beginMask,c=a.endMask,d=a.ellipsisMask,f=a.newAxisMask,p=a.shrinkAxisMask,h=bp.sliceInfo(i.shape,o,s,u,l,c,d,f,p),m=h.finalShapeSparse,g=h.finalShape,v=h.isIdentity,y=h.sliceDim0,b=h.isSimpleSlice,x=h.begin,A=h.end,w=h.strides;if(v)t=f5({inputs:{x:i},backend:n,attrs:{shape:g}});else if(y||b){bl.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var k=bp.computeOutShape(x,A,w),S=g5({inputs:{x:i},backend:n,attrs:{begin:x,size:k}});t=f5({inputs:{x:S},backend:n,attrs:{shape:g}}),n.disposeData(S.dataId)}else{var C=n.makeOutput(m,"float32"),I=n.dataIdMap.get(i.dataId).id,E=new Uint8Array(new Int32Array(bl.computeStrides(i.shape)).buffer),T=new Uint8Array(new Int32Array(x).buffer),N=new Uint8Array(new Int32Array(A).buffer),O=new Uint8Array(new Int32Array(w).buffer),P=new Uint8Array(new Int32Array(m).buffer),_=new Uint8Array(new Int32Array(bl.computeStrides(m)).buffer),M=n.dataIdMap.get(C.dataId).id;L4(I,E,i.shape.length,T,N,O,P,_,m.length,M),t=f5({inputs:{x:C},backend:n,attrs:{shape:g}}),n.disposeData(C.dataId)}return t}},B4=Y2(ju);var j4,V4={kernelName:Eu,backendName:"wasm",setupFunc:function(e){Z4=e.wasm.cwrap(Eu,null,["number","number","number","number"])},kernelFunc:function(e){var t=e.backend,n=e.inputs,r=e.attrs,a=r.axis,i=r.keepDims,s=n.x,u=t.dataIdMap.get(s.dataId).id,l=u,c=s,d=a5(s,a,t),f=d.transposed,p=d.axes,h=d.originalAxes,m=d.inputWasTransposed,g=p;m&&(k=t.dataIdMap.get(f.dataId).id)!==u&&(c=f,l=k,g=Xb.getInnerMostAxes(g.length,c.shape.length)),Xb.assertAxesAreInnerMostDims("sum",g,c.shape.length);var v=Xb.computeOutAndReduceShapes(c.shape,g),y=(0,o.Z)(v,2),b=y[0],x=y[1],A=bl.sizeFromShape(x),w=t.makeOutput(b,c.dtype);if(0!==bl.sizeFromShape(c.shape)){var k=t.dataIdMap.get(w.dataId).id;Z4(l,A,V2[w.dtype],k)}if(m&&t.disposeData(f.dataId),i){var S=Xb.expandShapeToKeepDim(w.shape,h);w.shape=S}return w}},H4=G2(Vu),U4=G2(Hu);var G4,X4={kernelName:Uu,backendName:"wasm",setupFunc:function(e){j4=e.wasm.cwrap(Uu,null,["number","array","number","array","number","number"])},kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=n.dataIdMap.get(a.dataId).id,o=r.reps,s=new Array(a.shape.length),u=0;u<s.length;u++)s[u]=a.shape[u]*o[u];var l=new Uint8Array(new Int32Array(a.shape).buffer),c=new Uint8Array(new Int32Array(s).buffer),d=n.makeOutput(s,a.dtype),f=n.dataIdMap.get(d.dataId).id;return j4(i,l,a.shape.length,c,s.length,V2[d.dtype],f),d}};var Y4,q4={kernelName:Gu,backendName:"wasm",setupFunc:function(e){G4=e.wasm.cwrap(Gu,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted,s=n.dataIdMap.get(a.dataId).id,u=new Uint8Array(new Int32Array(a.shape).buffer),l=a.shape.slice();l[l.length-1]=i;var c=n.makeOutput(l,a.dtype),d=n.dataIdMap.get(c.dataId).id,f=n.makeOutput(l,"int32"),p=n.dataIdMap.get(f.dataId).id;return G4(s,u,a.shape.length,V2[a.dtype],i,o,d,p),[c,f]}};var K4={kernelName:Xu,backendName:"wasm",setupFunc:function(e){Y4=e.wasm.cwrap(Xu,null,["number","number","bool","number","number","number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){var t,n=e.backend,r=e.inputs,a=e.attrs,i=r.image,s=r.transforms,u=a.interpolation,l=a.fillMode,c=a.fillValue,d=a.outputShape,f=(0,o.Z)(i.shape,4),p=f[0],h=f[1],m=f[2],g=f[3],v=null!=d?d:[h,m],y=(0,o.Z)(v,2),b=y[0],x=y[1],A=[p,b,x,g],w=new Uint8Array(new Int32Array(bl.computeStrides(i.shape)).buffer),k=n.makeOutput(A,i.dtype),S=n.dataIdMap.get(k.dataId).id,C=n.dataIdMap.get(i.dataId).id,I=n.dataIdMap.get(s.dataId).id,E="nearest"===u?1:2;switch(l){case"constant":default:t=1;break;case"reflect":t=2;break;case"wrap":t=3;break;case"nearest":t=4}return Y4(C,I,s.shape[0]>1,p,b,x,g,m,h,w,i.shape.length-1,E,t,c,S),k}};var J4={kernelName:Ku,backendName:"wasm",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape[i],s=a.shape.length,u=new Array(s-1),l=0,c=0;c<s;c++)c!==i&&(u[l++]=a.shape[c]);var d=new Array(o),f=new Array(s).fill(0),p=a.shape.slice();p[i]=1;for(var h=0;h<d.length;h++)f[i]=h,d[h]=g5({inputs:{x:a},attrs:{begin:f,size:p},backend:n});return d.map((function(e){return{dataId:e.dataId,dtype:e.dtype,shape:u}}))}};for(var Q4={kernelName:$u,backendName:"wasm",kernelFunc:function(e){var t=e.inputs.x,n=e.backend,r=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(r).fill(0),r}},$4=0,e7=[U2,X2,K2,J2,o5,u5,c5,d5,m5,y5,A5,w5,k5,I5,T5,O5,P5,_5,F5,L5,Z5,B5,j5,V5,H5,U5,X5,K5,Q5,$5,e3,n3,a3,o3,u3,c3,d3,f3,e5,h3,m3,g3,v3,y3,b3,x3,A3,k3,S3,I3,T3,O3,P3,R3,F3,D3,Z3,B3,V3,H3,U3,G3,Y3,K3,J3,$3,t4,n4,r4,a4,i4,h5,s4,l4,d4,f4,p4,m4,v4,b4,x4,v5,A4,k4,C4,E4,O4,P4,M4,R4,F4,D4,z4,W4,B4,V4,H4,U4,X4,q4,K4,r5,J4,Q4];$4<e7.length;$4++){pl(e7[$4])}var t7=Hi();t7.registerFlag("WASM_HAS_SIMD_SUPPORT",(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11])));case 1:case"end":return e.stop()}}),e)})))),t7.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t7.get("IS_NODE")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.abrupt("return",((new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))));case 6:return e.prev=6,e.t0=e.catch(2),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[2,6]])}))));var n7=wa(Ba()),r7='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",function(data){onmessage({data:data})});var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8"))},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=((info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports});self.onmessage=(e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob==="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module).then(function(instance){Module=instance})}else if(e.data.cmd==="run"){Module["__performance_now_clock_drift"]=performance.now()-e.data.time;Module["__emscripten_thread_init"](e.data.threadInfoStruct,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInit();try{var result=Module["invokeEntryPoint"](e.data.start_routine,e.data.arg);if(Module["keepRuntimeAlive"]()){Module["PThread"].setExitStatus(result)}else{Module["__emscripten_thread_exit"](result)}}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processThreadQueue"){if(Module["_pthread_self"]()){Module["_emscripten_current_thread_process_queued_calls"]()}}else if(e.data.cmd==="processProxyingQueue"){if(Module["_pthread_self"]()){Module["_emscripten_proxy_execute_queue"](e.data.queue)}}else{err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){err("worker.js onmessage() captured an uncaught exception: "+ex);if(ex&&ex.stack)err(ex.stack);if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}});',a7=wa(ja()),i7=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this)).wasm=e,r.dataIdNextNumber=1,r.wasm.tfjs.initWithThreadsCount(y7),b7=r.wasm.tfjs.getThreadsCount(),r.dataIdMap=new Va((0,Dr.Z)(r),_f()),r}return(0,Gr.Z)(n,[{key:"write",value:function(e,t,n){var r={id:this.dataIdNextNumber++};return this.move(r,e,t,n,1),r}},{key:"numDataIds",value:function(){return this.dataIdMap.numDataIds()}},{key:"time",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bl.now(),e.abrupt("return",(t(),{kernelMs:bl.now()-n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"move",value:function(e,t,n,r,a){var i=this.dataIdNextNumber++;if("string"!==r){var o=bl.sizeFromShape(n),s=o*bl.bytesPerElement(r),u=this.wasm._malloc(s);this.dataIdMap.set(e,{id:i,memoryOffset:u,shape:n,dtype:r,refCount:a}),this.wasm.tfjs.registerTensor(i,o,u),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),u)}else{var l=t;this.dataIdMap.set(e,{id:i,stringBytes:l,shape:n,dtype:r,memoryOffset:null,refCount:a})}}},{key:"read",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e,t,n){var r=this.dataIdMap.get(e),a=r.memoryOffset,i=r.dtype,o=r.shape,s=r.stringBytes;if("string"===i)return null!=t&&0!==t||!(null==n||n>=s.length)?s.slice(t,n):s;t=t||0,n=n||bl.sizeFromShape(o);var u=bl.bytesPerElement(i);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error("Unknown dtype ".concat(t))}}(this.wasm.HEAPU8.slice(a+t*u,a+n*u).buffer,i)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.dataIdMap.has(e)){var n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}},{key:"refCount",value:function(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}},{key:"incRef",value:function(e){var t=this.dataIdMap.get(e);null!=t&&t.refCount++}},{key:"floatPrecision",value:function(){return 32}},{key:"getMemoryOffset",value:function(e){return this.dataIdMap.get(e).memoryOffset}},{key:"dispose",value:function(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}},{key:"memory",value:function(){return{unreliable:!1}}},{key:"makeOutput",value:function(e,t,n){var r;if(null==n)r=this.write(null,e,t);else{var a=this.dataIdNextNumber++;r={id:a},this.dataIdMap.set(r,{id:a,memoryOffset:n,shape:e,dtype:t,refCount:1});var i=bl.sizeFromShape(e);this.wasm.tfjs.registerTensor(a,i,n)}return{dataId:r,shape:e,dtype:t}}},{key:"typedArrayFromHeap",value:function(e){var t=e.shape,n=e.dtype,r=e.dataId,a=this.wasm.HEAPU8.buffer,i=this.dataIdMap.get(r).memoryOffset,o=bl.sizeFromShape(t);switch(n){case"float32":return new Float32Array(a,i,o);case"int32":return new Int32Array(a,i,o);case"bool":return new Uint8Array(a,i,o);default:throw new Error("Unknown dtype ".concat(n))}}}]),n}(Ha);function o7(e){return function(t,n){return bl.fetch(e,{credentials:"same-origin"}).then((function(r){r.ok||t.env.a("failed to load wasm binary file at '".concat(e,"'")),r.arrayBuffer().then((function(e){WebAssembly.instantiate(e,t).then((function(e){n(e.instance,e.module)}))}))})),{}}}function s7(e,t,n){if(null!=d7)return d7;var r="tfjs-backend-wasm.wasm";return e&&t?r="tfjs-backend-wasm-threaded-simd.wasm":e&&(r="tfjs-backend-wasm-simd.wasm"),null!=p7&&null!=p7[r]?p7[r]:n+r}function u7(){return l7.apply(this,arguments)}function l7(){return l7=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Hi().getAsync("WASM_HAS_SIMD_SUPPORT"),Hi().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);case 2:return t=e.sent,n=(0,o.Z)(t,2),r=n[0],a=n[1],e.abrupt("return",new Promise((function(e,t){var n={locateFile:function(e,t){if(e.endsWith(".worker.js")){var n=r7.replace(/\n/g,"\\n"),i=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(i)}return e.endsWith(".wasm")?s7(r,a,null!=f7?f7:t):t+e}};m7&&(n.instantiateWasm=o7(s7(r,a,null!=f7?f7:"")));var i,o=!1;n.onAbort=function(){o||h7||(h7=!0,t({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},a&&r&&null==d7?(n.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+n7.default.toString()],{type:"text/javascript"}),i=(0,n7.default)(n)):i=(0,a7.default)(n),i.then((function(t){o=!0,h7=!1;t.tfjs={init:t.cwrap("init",null,[]),initWithThreadsCount:t.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:t.cwrap("get_threads_count","number",[]),registerTensor:t.cwrap("register_tensor",null,["number","number","number"]),disposeData:t.cwrap("dispose_data",null,["number"]),dispose:t.cwrap("dispose",null,[])},e({wasm:t})}))})));case 7:case"end":return e.stop()}}),e)}))),l7.apply(this,arguments)}var c7=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"],d7=null,f7=null,p7={},h7=!1,m7=!1;function g7(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Of("setWasmPath has been deprecated in favor of setWasmPaths and will be removed in a future release."),h7)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`");d7=e,m7=t}function v7(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h7)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)f7=e;else{p7=e;var n=c7.filter((function(e){return null==p7[e]}));if(n.length>0)throw new Error("There were no entries found for the following binaries: ".concat(n.join(","),". Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found."))}m7=t}var y7=-1,b7=-1;function x7(e){y7=e}function A7(){if(-1===b7)throw new Error("WASM backend not initialized.");return b7}var w7="0.0.0";Uf("wasm",(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u7();case 2:return t=e.sent,n=t.wasm,e.abrupt("return",new i7(n));case 5:case"end":return e.stop()}}),e)}))),2);var k7="3.18.0-20220602",S7={tfjs:k7,"tfjs-core":k7,"tfjs-data":k7,"tfjs-layers":k7,"tfjs-converter":k7,"tfjs-backend-cpu":k7,"tfjs-backend-webgl":k7,"tfjs-backend-wasm":k7},C7=function(e,t,n){var r=new RegExp("\\b"+t+" \\w+ (\\w+)","ig");e.replace(r,(function(e,t){return n[t]=0,e}))},I7=(0,Gr.Z)((function e(t,n,r){var a=this;(0,Ur.Z)(this,e),na(this,"uniform",{}),na(this,"attribute",{}),na(this,"gl"),na(this,"id"),na(this,"compile",(function(e,t){var n=a.gl.createShader(t);return n?(a.gl.shaderSource(n,e),a.gl.compileShader(n),a.gl.getShaderParameter(n,a.gl.COMPILE_STATUS)?n:(sa("filter: gl compile failed: ".concat(a.gl.getShaderInfoLog(n))),null)):(sa("filter: could not create shader"),null)})),this.gl=t;var i=this.compile(n,this.gl.VERTEX_SHADER),o=this.compile(r,this.gl.FRAGMENT_SHADER);if(this.id=this.gl.createProgram(),i&&o)if(this.id)if(this.gl.attachShader(this.id,i),this.gl.attachShader(this.id,o),this.gl.linkProgram(this.id),this.gl.getProgramParameter(this.id,this.gl.LINK_STATUS)){for(var s in this.gl.useProgram(this.id),C7(n,"attribute",this.attribute),this.attribute)this.attribute[s]=this.gl.getAttribLocation(this.id,s);for(var u in C7(n,"uniform",this.uniform),C7(r,"uniform",this.uniform),this.uniform)this.uniform[u]=this.gl.getUniformLocation(this.id,u)}else sa("filter: gl link failed: ".concat(this.gl.getProgramInfoLog(this.id)));else sa("filter: could not create webgl program")}));function E7(){var e=this,t=0,n=null,r=!1,a=-1,i=[null,null],o=[],s=null,u=null,l=D7(100,100),c={},d=1,f=l.getContext("webgl");if(f){this.gl=f;var p={colorMatrix:function(e){var t=new Float32Array(e);t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255;var n=g(1===t[18]&&0===t[3]&&0===t[8]&&0===t[13]&&0===t[15]&&0===t[16]&&0===t[17]&&0===t[19]?"\n  precision highp float;\n  varying vec2 vUv;\n  uniform sampler2D texture;\n  uniform float m[20];\n  void main(void) {\n    vec4 c = texture2D(texture, vUv);\n    gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[4];\n    gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[9];\n    gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[14];\n    gl_FragColor.a = c.a;\n  }\n":"\n  precision highp float;\n  varying vec2 vUv;\n  uniform sampler2D texture;\n  uniform float m[20];\n  void main(void) {\n    vec4 c = texture2D(texture, vUv);\n    gl_FragColor.r = m[0] * c.r + m[1] * c.g + m[2] * c.b + m[3] * c.a + m[4];\n    gl_FragColor.g = m[5] * c.r + m[6] * c.g + m[7] * c.b + m[8] * c.a + m[9];\n    gl_FragColor.b = m[10] * c.r + m[11] * c.g + m[12] * c.b + m[13] * c.a + m[14];\n    gl_FragColor.a = m[15] * c.r + m[16] * c.g + m[17] * c.b + m[18] * c.a + m[19];\n  }\n");n&&(f.uniform1fv(n.uniform.m,t),m())},brightness:function(e){var t=(e||0)+1;p.colorMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0])},saturation:function(e){var t=2*(e||0)/3+1,n=-.5*(t-1);p.colorMatrix([t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0])},desaturate:function(){p.saturation(-1)},contrast:function(e){var t=(e||0)+1,n=-128*(t-1);p.colorMatrix([t,0,0,0,n,0,t,0,0,n,0,0,t,0,n,0,0,0,1,0])},negative:function(){p.contrast(-2)},hue:function(e){e=(e||0)/180*Math.PI;var t=Math.cos(e),n=Math.sin(e),r=.213,a=.715,i=.072;p.colorMatrix([r+.787*t+n*-r,a+t*-a+n*-a,i+t*-i+.928*n,0,0,r+t*-r+.143*n,a+t*(1-a)+.14*n,i+t*-i+-.283*n,0,0,r+t*-r+-.787*n,a+t*-a+n*a,i+.928*t+n*i,0,0,0,0,0,1,0])},desaturateLuminance:function(){p.colorMatrix([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0])},sepia:function(){p.colorMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0])},brownie:function(){p.colorMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0])},vintagePinhole:function(){p.colorMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0])},kodachrome:function(){p.colorMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0])},technicolor:function(){p.colorMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0])},polaroid:function(){p.colorMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0])},shiftToBGR:function(){p.colorMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0])},convolution:function(e){var t=new Float32Array(e),n=1/l.width,r=1/l.height,a=g("\n  precision highp float;\n  varying vec2 vUv;\n  uniform sampler2D texture;\n  uniform vec2 px;\n  uniform float m[9];\n  void main(void) {\n    vec4 c11 = texture2D(texture, vUv - px); // top left\n    vec4 c12 = texture2D(texture, vec2(vUv.x, vUv.y - px.y)); // top center\n    vec4 c13 = texture2D(texture, vec2(vUv.x + px.x, vUv.y - px.y)); // top right\n    vec4 c21 = texture2D(texture, vec2(vUv.x - px.x, vUv.y) ); // mid left\n    vec4 c22 = texture2D(texture, vUv); // mid center\n    vec4 c23 = texture2D(texture, vec2(vUv.x + px.x, vUv.y) ); // mid right\n    vec4 c31 = texture2D(texture, vec2(vUv.x - px.x, vUv.y + px.y) ); // bottom left\n    vec4 c32 = texture2D(texture, vec2(vUv.x, vUv.y + px.y) ); // bottom center\n    vec4 c33 = texture2D(texture, vUv + px ); // bottom right\n    gl_FragColor = \n    c11 * m[0] + c12 * m[1] + c22 * m[2] +\n    c21 * m[3] + c22 * m[4] + c23 * m[5] +\n    c31 * m[6] + c32 * m[7] + c33 * m[8];\n    gl_FragColor.a = c22.a;\n  }\n");a&&(f.uniform1fv(a.uniform.m,t),f.uniform2f(a.uniform.px,n,r),m())},detectEdges:function(){p.convolution.call(e,[0,1,0,1,-4,1,0,1,0])},sobelX:function(){p.convolution.call(e,[-1,0,1,-2,0,2,-1,0,1])},sobelY:function(){p.convolution.call(e,[-1,-2,-1,0,0,0,1,2,1])},sharpen:function(t){var n=t||1;p.convolution.call(e,[0,-1*n,0,-1*n,1+4*n,-1*n,0,-1*n,0])},emboss:function(t){var n=t||1;p.convolution.call(e,[-2*n,-1*n,0,-1*n,1,1*n,0,1*n,2*n])},blur:function(e){var t=e/7/l.width,n=e/7/l.height,r=g("\n  precision highp float;\n  varying vec2 vUv;\n  uniform sampler2D texture;\n  uniform vec2 px;\n  void main(void) {\n    gl_FragColor = vec4(0.0);\n    gl_FragColor += texture2D(texture, vUv + vec2(-7.0*px.x, -7.0*px.y))*0.0044299121055113265;\n    gl_FragColor += texture2D(texture, vUv + vec2(-6.0*px.x, -6.0*px.y))*0.00895781211794;\n    gl_FragColor += texture2D(texture, vUv + vec2(-5.0*px.x, -5.0*px.y))*0.0215963866053;\n    gl_FragColor += texture2D(texture, vUv + vec2(-4.0*px.x, -4.0*px.y))*0.0443683338718;\n    gl_FragColor += texture2D(texture, vUv + vec2(-3.0*px.x, -3.0*px.y))*0.0776744219933;\n    gl_FragColor += texture2D(texture, vUv + vec2(-2.0*px.x, -2.0*px.y))*0.115876621105;\n    gl_FragColor += texture2D(texture, vUv + vec2(-1.0*px.x, -1.0*px.y))*0.147308056121;\n    gl_FragColor += texture2D(texture, vUv                             )*0.159576912161;\n    gl_FragColor += texture2D(texture, vUv + vec2( 1.0*px.x,  1.0*px.y))*0.147308056121;\n    gl_FragColor += texture2D(texture, vUv + vec2( 2.0*px.x,  2.0*px.y))*0.115876621105;\n    gl_FragColor += texture2D(texture, vUv + vec2( 3.0*px.x,  3.0*px.y))*0.0776744219933;\n    gl_FragColor += texture2D(texture, vUv + vec2( 4.0*px.x,  4.0*px.y))*0.0443683338718;\n    gl_FragColor += texture2D(texture, vUv + vec2( 5.0*px.x,  5.0*px.y))*0.0215963866053;\n    gl_FragColor += texture2D(texture, vUv + vec2( 6.0*px.x,  6.0*px.y))*0.00895781211794;\n    gl_FragColor += texture2D(texture, vUv + vec2( 7.0*px.x,  7.0*px.y))*0.0044299121055113265;\n  }\n");r&&(f.uniform2f(r.uniform.px,0,n),m(d),f.uniform2f(r.uniform.px,t,0),m())},pixelate:function(e){var t=e/l.width,n=e/l.height,r=g("\n  precision highp float;\n  varying vec2 vUv;\n  uniform vec2 size;\n  uniform sampler2D texture;\n  vec2 pixelate(vec2 coord, vec2 size) {\n    return floor( coord / size ) * size;\n  }\n  void main(void) {\n    gl_FragColor = vec4(0.0);\n    vec2 coord = pixelate(vUv, size);\n    gl_FragColor += texture2D(texture, coord);\n  }\n");r&&(f.uniform2f(r.uniform.size,t,n),m())}};this.add=function(e){var t=Array.prototype.slice.call(arguments,1),n=p[e];o.push({func:n,args:t})},this.reset=function(){o=[]},this.get=function(){return o},this.apply=function(e){!function(e,t){if(e!==l.width||t!==l.height){if(l.width=e,l.height=t,!s){var n=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,-1,1,0,0,1,-1,1,1,1,1,1,0]);s=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,s),f.bufferData(f.ARRAY_BUFFER,n,f.STATIC_DRAW),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)}f.viewport(0,0,l.width,l.height),i=[null,null]}}(e.width,e.height),t=0,n||(n=f.createTexture()),f.bindTexture(f.TEXTURE_2D,n),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e);for(var a=0;a<o.length;a++){r=a===o.length-1;var u=o[a];u.func.apply(this,u.args||[])}return l},this.draw=function(e){return this.add("brightness",0),this.apply(e)}}else sa("filter: cannot get webgl context");function h(e){return i[e]=i[e]||function(e,t){var n=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,n);var r=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,r);var a=f.createTexture();return f.bindTexture(f.TEXTURE_2D,a),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,e,t,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a,0),f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,null),{fbo:n,texture:a}}(l.width,l.height),i[e]}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(u){var i=null,o=null,s=!1;i=0===t?n:h(a).texture||null,t++,!r||e&d?o=h(a=(a+1)%2).fbo||null:(o=null,s=t%2===0),f.bindTexture(f.TEXTURE_2D,i),f.bindFramebuffer(f.FRAMEBUFFER,o),f.uniform1f(u.uniform.flipY,s?-1:1),f.drawArrays(f.TRIANGLES,0,6)}}function g(e){if(c[e])return u=c[e],f.useProgram((u?u.id:null)||null),u;if(!(u=new I7(f,"\n  precision highp float;\n  attribute vec2 pos;\n  attribute vec2 uv;\n  varying vec2 vUv;\n  uniform float flipY;\n  void main(void) {\n    vUv = uv;\n    gl_Position = vec4(pos.x, pos.y*flipY, 0.0, 1.);\n  }\n",e)))return sa("filter: could not get webgl program"),null;var t=Float32Array.BYTES_PER_ELEMENT,n=4*t;return f.enableVertexAttribArray(u.attribute.pos),f.vertexAttribPointer(u.attribute.pos,2,f.FLOAT,!1,n,0*t),f.enableVertexAttribArray(u.attribute.uv),f.vertexAttribPointer(u.attribute.uv,2,f.FLOAT,!1,n,2*t),c[e]=u,u}}function T7(e){return N7.apply(this,arguments)}function N7(){return(N7=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l,c,d,f,p;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=4===t.shape.length?zv(t):t,r=Fv(n,3,2),a=[Fm(r[0]),Fm(r[1]),Fm(r[2])],i=[Rm(r[0]),Rm(r[1]),Rm(r[2])],e.next=6,Promise.all(i.map((function(e){return e.data()})));case 6:return o=e.sent,s=.99*Math.max(o[0][0],o[1][0],o[2][0]),u=[bg(r[0],a[0]),bg(r[1],a[1]),bg(r[2],a[2])],l=[bg(i[0],a[0]),bg(i[1],a[1]),bg(i[2],a[2])],c=[nh(s,l[0]),nh(s,l[1]),nh(s,l[2])],d=[rh(u[0],c[0]),rh(u[1],c[1]),rh(u[2],c[2])],f=Zv([d[0],d[1],d[2]],2),p=Mh(f,[1,n.shape[0],n.shape[1],3]),Df([].concat((0,qr.Z)(r),a,i,u,l,c,d,[f,n])),e.abrupt("return",p);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O7,P7=3840,_7=null,M7=null,R7=null,F7={inputSum:0,cacheDiff:1,sumMethod:0,inputTensor:void 0};function D7(e,t){var n;if(H7.browser)if(H7.worker){if("undefined"===typeof OffscreenCanvas)throw new Error("canvas error: attempted to run in web worker but OffscreenCanvas is not supported");n=new OffscreenCanvas(e,t)}else{if("undefined"===typeof document)throw new Error("canvas error: attempted to run in browser but DOM is not defined");(n=document.createElement("canvas")).width=e,n.height=t}else"undefined"!==typeof H7.Canvas?n=new H7.Canvas(e,t):"undefined"!==typeof globalThis.Canvas&&(n=new globalThis.Canvas(e,t));return n}function L7(e,t){var n=t||D7(e.width,e.height);return n.getContext("2d").drawImage(e,0,0),n}function z7(e,t){return Z7.apply(this,arguments)}function Z7(){return Z7=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(w.length>2&&void 0!==w[2])||w[2],t){e.next=4;break}return n.debug&&sa("input error: input is missing"),e.abrupt("return",{tensor:null,canvas:null});case 4:if(t instanceof tc||"undefined"!==typeof Image&&t instanceof Image||"undefined"!==typeof H7.Canvas&&t instanceof H7.Canvas||"undefined"!==typeof globalThis.Canvas&&t instanceof globalThis.Canvas||"undefined"!==typeof ImageData&&t instanceof ImageData||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLMediaElement&&t instanceof HTMLMediaElement||"undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas){e.next=6;break}throw new Error("input error: type is not recognized");case 6:if(!(t instanceof tc)){e.next=19;break}if(a=null,!t.isDisposedInternal){e.next=10;break}throw new Error("input error: attempted to use tensor but it is disposed");case 10:if(t.shape){e.next=12;break}throw new Error("input error: attempted to use tensor without a shape");case 12:if(3===t.shape.length?3===t.shape[2]?a=Um(t,0):4===t.shape[2]&&(i=Nv(t,[0,0,0],[-1,-1,3]),a=Um(i,0),Df(i)):4===t.shape.length&&(3===t.shape[3]?a=Kd(t):4===t.shape[3]&&(a=Ov(t,[0,0,0,0],[-1,-1,-1,3]))),null!=a&&4===a.shape.length&&1===a.shape[0]&&3===a.shape[3]){e.next=15;break}throw new Error("input error: attempted to use tensor with unrecognized shape: ".concat(t.shape));case 15:return"int32"===a.dtype&&(o=qd(a,"float32"),Df(a),a=o),e.abrupt("return",{tensor:a,canvas:n.filter.return?M7:null});case 19:if(!("undefined"!==typeof t.readyState&&t.readyState<=2)){e.next=22;break}return n.debug&&sa("input stream is not ready"),e.abrupt("return",{tensor:null,canvas:_7});case 22:if(s=t.naturalWidth||t.videoWidth||t.width||t.shape&&t.shape[1]>0,u=t.naturalHeight||t.videoHeight||t.height||t.shape&&t.shape[2]>0,s&&u){e.next=27;break}return n.debug&&sa("cannot determine input dimensions"),e.abrupt("return",{tensor:null,canvas:_7});case 27:if(c=u,(l=s)>P7&&(l=P7,c=Math.trunc(l*u/s)),c>P7&&(c=P7,l=Math.trunc(c*s/u)),(n.filter.width||0)>0?l=n.filter.width:(n.filter.height||0)>0&&(l=s*((n.filter.height||0)/u)),(n.filter.height||0)>0?c=n.filter.height:(n.filter.width||0)>0&&(c=u*((n.filter.width||0)/s)),l&&c){e.next=35;break}throw new Error("input error: cannot determine dimension");case 35:if(_7&&(null==_7?void 0:_7.width)===l&&(null==_7?void 0:_7.height)===c||(_7=D7(l,c)),d=_7.getContext("2d"),"undefined"!==typeof ImageData&&t instanceof ImageData?d.putImageData(t,0,0):n.filter.flip&&"undefined"!==typeof d.translate?(d.translate(s,0),d.scale(-1,1),d.drawImage(t,0,0,s,u,0,0,null==_7?void 0:_7.width,null==_7?void 0:_7.height),d.setTransform(1,0,0,1,0,0)):d.drawImage(t,0,0,s,u,0,0,null==_7?void 0:_7.width,null==_7?void 0:_7.height),M7&&_7.width===M7.width&&(null==_7?void 0:_7.height)===(null==M7?void 0:M7.height)||(M7=D7(_7.width,_7.height)),n.filter.enabled&&H7.webgl.supported?(O7||(O7=H7.browser?new E7:null),H7.filter=!!O7,O7&&O7.add?(O7.reset(),0!==n.filter.brightness&&O7.add("brightness",n.filter.brightness),0!==n.filter.contrast&&O7.add("contrast",n.filter.contrast),0!==n.filter.sharpness&&O7.add("sharpen",n.filter.sharpness),0!==n.filter.blur&&O7.add("blur",n.filter.blur),0!==n.filter.saturation&&O7.add("saturation",n.filter.saturation),0!==n.filter.hue&&O7.add("hue",n.filter.hue),n.filter.negative&&O7.add("negative"),n.filter.sepia&&O7.add("sepia"),n.filter.vintage&&O7.add("brownie"),n.filter.sepia&&O7.add("sepia"),n.filter.kodachrome&&O7.add("kodachrome"),n.filter.technicolor&&O7.add("technicolor"),n.filter.polaroid&&O7.add("polaroid"),0!==n.filter.pixelate&&O7.add("pixelate",n.filter.pixelate),M7=O7.get()>0?O7.apply(_7):O7.draw(_7)):(n.debug&&sa("input process error: cannot initialize filters"),H7.webgl.supported=!1,n.filter.enabled=!1,L7(_7,M7))):(L7(_7,M7),O7&&(O7=null),H7.filter=!!O7),r){e.next=42;break}return e.abrupt("return",{tensor:null,canvas:M7});case 42:if(M7){e.next=44;break}throw new Error("canvas error: cannot create output");case 44:if(p=3,"undefined"!==typeof ImageData&&t instanceof ImageData||t.data&&t.width&&t.height?H7.browser&&ap?f=ap?ap.fromPixels(t):null:(p=t.data.length/t.height/t.width,h=new Uint8Array(t.data.buffer),f=Wc(h,[t.height,t.width,p],"int32")):(R7&&M7.width===R7.width&&M7.height===R7.height||(R7=D7(M7.width,M7.height)),ap&&H7.browser?"webgl"===n.backend||"humangl"===n.backend||"webgpu"===n.backend?f=ap.fromPixels(M7):(R7=L7(M7),f=ap.fromPixels(R7)):(m=L7(M7),g=m.getContext("2d"),v=g.getImageData(0,0,l,c),p=v.data.length/l/c,y=new Uint8Array(v.data.buffer),f=Wc(y,[l,c,p]))),4===p&&(b=Nv(f,[0,0,0],[-1,-1,3]),Df(f),f=b),f){e.next=49;break}throw new Error("input error: cannot create tensor");case 49:if(x=qd(f,"float32"),!n.filter.equalization){e.next=56;break}return e.next=53,T7(x);case 53:e.t0=e.sent,e.next=57;break;case 56:e.t0=Um(x,0);case 57:return A=e.t0,Df([f,x]),e.abrupt("return",{tensor:A,canvas:n.filter.return?M7:null});case 60:case"end":return e.stop()}}),e)}))),Z7.apply(this,arguments)}function W7(e,t){return B7.apply(this,arguments)}function B7(){return B7=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,!(0===t.cacheSensitivity||!n.shape||4!==n.shape.length||n.shape[1]>2048||n.shape[2]>2048)){e.next=3;break}return e.abrupt("return",r);case 3:if(F7.inputTensor){e.next=7;break}F7.inputTensor=Kd(n),e.next=23;break;case 7:if(F7.inputTensor.shape[1]===n.shape[1]&&F7.inputTensor.shape[2]===n.shape[2]){e.next=12;break}Df(F7.inputTensor),F7.inputTensor=Kd(n),e.next=23;break;case 12:return(a={}).diff=bg(n,F7.inputTensor),a.squared=rh(a.diff,a.diff),a.sum=Wm(a.squared),e.next=18,a.sum.data();case 18:i=e.sent,o=i[0]/(n.shape[1]||1)/(n.shape[2]||1)/255/3,Df([F7.inputTensor,a.diff,a.squared,a.sum]),F7.inputTensor=Kd(n),r=o<=(t.cacheSensitivity||0);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)}))),B7.apply(this,arguments)}function j7(){return j7=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},n&&r&&4===n.shape.length&&n.shape.length===r.shape.length){e.next=4;break}return t.debug||sa("invalid input tensor or tensor shapes do not match:",n.shape,r.shape),e.abrupt("return",0);case 4:if(1===n.shape[0]&&1===r.shape[0]&&3===n.shape[3]&&3===r.shape[3]){e.next=7;break}return t.debug||sa("input tensors must be of shape [1, height, width, 3]:",n.shape,r.shape),e.abrupt("return",0);case 7:return a.input1=Kd(n),a.input2=n.shape[1]!==r.shape[1]||n.shape[2]!==r.shape[2]?Ob.resizeBilinear(r,[n.shape[1],n.shape[2]]):Kd(r),a.diff=bg(a.input1,a.input2),a.squared=rh(a.diff,a.diff),a.sum=Wm(a.squared),e.next=14,a.sum.data();case 14:return i=e.sent,o=i[0]/(n.shape[1]||1)/(n.shape[2]||1)/255/3,Df([a.input1,a.input2,a.diff,a.squared,a.sum]),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)}))),j7.apply(this,arguments)}var V7=function(){function e(){if((0,Ur.Z)(this,e),na(this,"browser"),na(this,"node"),na(this,"worker"),na(this,"platform",""),na(this,"agent",""),na(this,"backends",[]),na(this,"initial"),na(this,"filter"),na(this,"tfjs"),na(this,"offscreen"),na(this,"perfadd",!1),na(this,"wasm",{supported:void 0,backend:void 0,simd:void 0,multithread:void 0}),na(this,"webgl",{supported:void 0,backend:void 0,version:void 0,renderer:void 0}),na(this,"webgpu",{supported:void 0,backend:void 0,adapter:void 0}),na(this,"cpu",{model:void 0,flags:[]}),na(this,"kernels",[]),na(this,"Canvas"),na(this,"Image"),na(this,"ImageData"),this.browser="undefined"!==typeof navigator,this.node="undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node,this.tfjs={version:S7["tfjs-core"]},this.offscreen="undefined"!==typeof OffscreenCanvas,this.initial=!0,this.worker=this.browser&&this.offscreen?"undefined"!==typeof WorkerGlobalScope:void 0,"undefined"!==typeof navigator){var t=navigator.userAgent.match(/\(([^()]+)\)/g);if(t&&t[0]){var n=t[0].match(/\(([^()]+)\)/g);this.platform=n&&n[0]?n[0].replace(/\(|\)/g,""):"",this.agent=navigator.userAgent.replace(t[0],""),this.platform[1]&&(this.agent=this.agent.replace(t[1],"")),this.agent=this.agent.replace(/  /g," ")}}else"undefined"!==typeof process&&(this.platform="".concat(process.platform," ").concat(process.arch),this.agent="NodeJS ".concat(process.version))}return(0,Gr.Z)(e,[{key:"updateBackend",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backends=Object.keys(_f().registryFactory),this.wasm.supported="undefined"!==typeof WebAssembly,this.wasm.backend=this.backends.includes("wasm"),!this.wasm.supported||!this.wasm.backend||"wasm"!==Bf()){e.next=10;break}return e.next=6,Hi().getAsync("WASM_HAS_SIMD_SUPPORT");case 6:return this.wasm.simd=e.sent,e.next=9,Hi().getAsync("WASM_HAS_MULTITHREAD_SUPPORT");case 9:this.wasm.multithread=e.sent;case 10:if(t=D7(100,100),n=t?t.getContext("webgl2"):void 0,this.webgl.supported="undefined"!==typeof n,this.webgl.backend=this.backends.includes("webgl"),!this.webgl.supported||!this.webgl.backend||"webgl"!==Bf()&&"humangl"!==Bf()){e.next=24;break}if("undefined"===Gf().gpgpu){e.next=21;break}return e.next=18,Gf().getGPGPUContext().gl;case 18:e.t0=e.sent,e.next=22;break;case 21:e.t0=null;case 22:(r=e.t0)&&(this.webgl.version=r.getParameter(r.VERSION),this.webgl.renderer=r.getParameter(r.RENDERER));case 24:if(this.webgpu.supported=this.browser&&"undefined"!==typeof navigator.gpu,this.webgpu.backend=this.backends.includes("webgpu"),e.prev=26,!this.webgpu.supported){e.next=31;break}return e.next=30,navigator.gpu.requestAdapter();case 30:this.webgpu.adapter=e.sent.name;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(26),this.webgpu.supported=!1;case 36:try{this.kernels=fl(Bf()).map((function(e){return e.kernelName.toLowerCase()}))}catch(Dme){}case 37:case"end":return e.stop()}}),e,this,[[26,33]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateCPU",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={model:"",flags:[]},this.node&&this.platform.startsWith("linux"),this.cpu?this.cpu=t:Object.defineProperty(this,"cpu",{value:t});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H7=new V7,U7={cacheModels:!1,verbose:!0,debug:!1,modelBasePath:""};function G7(e,t){return X7.apply(this,arguments)}function X7(){return(X7=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U7.debug&&sa("load model fetch:",t,n),e.abrupt("return",fetch(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y7(e){return q7.apply(this,arguments)}function q7(){return(q7=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l,c,d;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ua(U7.modelBasePath,t||"")).toLowerCase().endsWith(".json")||(n+=".json"),r=n.split("/"),a="indexeddb://"+r[r.length-1].replace(".json",""),e.next=6,Qd.listModels();case 6:return i=e.sent,o=U7.cacheModels&&Object.keys(i).includes(a),s="undefined"===typeof fetch?{}:{fetchFunc:function(e,t){return G7(e,t)}},u=new uM(o?a:n,s),l=!1,e.prev=11,u.findIOHandler(),U7.debug&&sa("model load handler:",u.handler),e.next=16,u.handler.load();case 16:c=e.sent,u.loadSync(c),U7.verbose&&sa("load model:",u.modelUrl),l=!0,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),sa("error loading model:",n,e.t0);case 25:if(!l||!U7.cacheModels||o){e.next=36;break}return e.prev=26,e.next=29,u.save(a);case 29:d=e.sent,sa("model saved:",a,d),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(26),sa("error saving model:",n,e.t1);case 36:return e.abrupt("return",u);case 37:case"end":return e.stop()}}),e,null,[[11,22],[26,33]])})))).apply(this,arguments)}var K7,J7="2.8.1";ta({},{Models:function(){return Rre},load:function(){return Dre},reset:function(){return Fre},validate:function(){return zre}});var Q7=[],$7=["white","black","asian","indian","other"],e6=[15,23,28,35.5,45.5,55.5,65],t6=0,n6=0,r6=Number.MAX_SAFE_INTEGER;function a6(e){return i6.apply(this,arguments)}function i6(){return(i6=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(K7=null),K7){e.next=7;break}return e.next=4,Y7(t.face.gear);case 4:K7=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",K7.modelUrl);case 8:return e.abrupt("return",K7);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o6(e,t,n,r){return s6.apply(this,arguments)}function s6(){return s6=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K7){e.next=2;break}return e.abrupt("return",{age:0,gender:"unknown",genderScore:0,race:[]});case 2:if(u=r6<((null==(i=n.face.gear)?void 0:i.skipFrames)||0),l=((null==(s=n.face.gear)?void 0:s.skipTime)||0)>la()-n6,!(n.skipAllowed&&l&&u&&t6===a&&Q7[r])){e.next=7;break}return r6++,e.abrupt("return",Q7[r]);case 7:return r6=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var s,u,l,c,d,f,p,h,m,g,v,y,b,x;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==K7?void 0:K7.inputs[0].shape){e.next=2;break}return e.abrupt("return");case 2:return c=[[0,.1,.9,.9]],(l={}).resize=Ob.cropAndResize(t,c,[0],[K7.inputs[0].shape[2],K7.inputs[0].shape[1]]),d={age:0,gender:"unknown",genderScore:0,race:[]},(null==(s=n.face.gear)?void 0:s.enabled)&&(f=K7.execute(l.resize,["age_output","gender_output","race_output"]),p=(0,o.Z)(f,3),l.age=p[0],l.gender=p[1],l.race=p[2]),e.next=9,l.gender.data();case 9:return h=e.sent,d.gender=h[0]>h[1]?"male":"female",d.genderScore=Math.round(100*(h[0]>h[1]?h[0]:h[1]))/100,e.next=14,l.race.data();case 14:for(m=e.sent,g=0;g<m.length;g++)m[g]>((null==(u=n.face.gear)?void 0:u.minConfidence)||.2)&&d.race.push({score:Math.round(100*m[g])/100,race:$7[g]});return d.race.sort((function(e,t){return t.score-e.score})),e.t0=Array,e.next=20,l.age.data();case 20:for(e.t1=e.sent,v=e.t0.from.call(e.t0,e.t1),y=v.map((function(e,t){return[e6[t],e]})).sort((function(e,t){return t[1]-e[1]})),b=y[0][0],x=1;x<y.length;x++)b+=y[x][1]*(y[x][0]-b);d.age=Math.round(10*b)/10,Object.keys(l).forEach((function(e){return Df(l[e])})),Q7[r]=d,t6=a,n6=la(),i(d);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),s6.apply(this,arguments)}var u6,l6={tf255:255,tf1:1,tf2:2,tf05:.5,tf127:127.5,rgb:[.2989,.587,.114]};function c6(){l6.tf255=Lm(255,"float32"),l6.tf1=Lm(1,"float32"),l6.tf2=Lm(2,"float32"),l6.tf05=Lm(.5,"float32"),l6.tf127=Lm(127.5,"float32"),l6.rgb=Vv([.2989,.587,.114],"float32")}var d6,f6=[],p6=0,h6=0,m6=Number.MAX_SAFE_INTEGER;function g6(e){return v6.apply(this,arguments)}function v6(){return(v6=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(u6=null),u6){e.next=7;break}return e.next=4,Y7(t.face.ssrnet.modelPathAge);case 4:u6=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",u6.modelUrl);case 8:return e.abrupt("return",u6);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y6(e,t,n,r){return b6.apply(this,arguments)}function b6(){return b6=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u6){e.next=2;break}return e.abrupt("return",{age:0});case 2:if(l=m6<((null==(i=n.face.ssrnet)?void 0:i.skipFrames)||0),c=((null==(o=n.face.ssrnet)?void 0:o.skipTime)||0)>la()-h6,!(n.skipAllowed&&l&&c&&p6===a&&(null==(s=f6[r])?void 0:s.age)&&(null==(u=f6[r])?void 0:u.age)>0)){e.next=7;break}return m6++,e.abrupt("return",f6[r]);case 7:return m6=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==u6?void 0:u6.inputs)&&u6.inputs[0]&&u6.inputs[0].shape){e.next=2;break}return e.abrupt("return");case 2:if((o={}).resize=Ob.resizeBilinear(t,[u6.inputs[0].shape[2],u6.inputs[0].shape[1]],!1),o.enhance=rh(o.resize,l6.tf255),s={age:0},n.face.ssrnet.enabled&&(o.age=u6.execute(o.enhance)),!o.age){e.next=12;break}return e.next=10,o.age.data();case 10:u=e.sent,s.age=Math.trunc(10*u[0])/10;case 12:Object.keys(o).forEach((function(e){return Df(o[e])})),f6[r]=s,p6=a,h6=la(),i(s);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),b6.apply(this,arguments)}var x6,A6=[],w6=0,k6=0,S6=Number.MAX_SAFE_INTEGER,C6=[.2989,.587,.114];function I6(e){return E6.apply(this,arguments)}function E6(){return(E6=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(d6=null),d6){e.next=7;break}return e.next=4,Y7(t.face.ssrnet.modelPathGender);case 4:d6=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",d6.modelUrl);case 8:return e.abrupt("return",d6);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T6(e,t,n,r){return N6.apply(this,arguments)}function N6(){return N6=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,s,u,l,c,d;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d6){e.next=2;break}return e.abrupt("return",{gender:"unknown",genderScore:0});case 2:if(c=S6<((null==(i=n.face.ssrnet)?void 0:i.skipFrames)||0),d=((null==(s=n.face.ssrnet)?void 0:s.skipTime)||0)>la()-k6,!(n.skipAllowed&&c&&d&&w6===a&&(null==(u=A6[r])?void 0:u.gender)&&(null==(l=A6[r])?void 0:l.genderScore)>0)){e.next=7;break}return S6++,e.abrupt("return",A6[r]);case 7:return S6=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==d6?void 0:d6.inputs[0].shape){e.next=2;break}return e.abrupt("return");case 2:return(s={}).resize=Ob.resizeBilinear(t,[d6.inputs[0].shape[2],d6.inputs[0].shape[1]],!1),s.enhance=Ff((function(){var e=Fv(s.resize,3,3),t=(0,o.Z)(e,3),n=t[0],r=t[1],a=t[2],i=rh(n,C6[0]),u=rh(r,C6[1]),l=rh(a,C6[2]),c=sh([i,u,l]);return rh(bg(c,l6.tf05),2)})),u={gender:"unknown",genderScore:0},n.face.ssrnet.enabled&&(s.gender=d6.execute(s.enhance)),e.next=9,s.gender.data();case 9:l=e.sent,u.gender=l[0]>l[1]?"female":"male",u.genderScore=l[0]>l[1]?Math.trunc(100*l[0])/100:Math.trunc(100*l[1])/100,Object.keys(s).forEach((function(e){return Df(s[e])})),A6[r]=u,w6=a,k6=la(),i(u);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),N6.apply(this,arguments)}var O6=[],P6=Number.MAX_SAFE_INTEGER,_6=0,M6=0;function R6(e){return F6.apply(this,arguments)}function F6(){return(F6=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(x6=null),x6){e.next=7;break}return e.next=4,Y7(null==(n=t.face.antispoof)?void 0:n.modelPath);case 4:x6=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",x6.modelUrl);case 8:return e.abrupt("return",x6);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D6(e,t,n,r){return L6.apply(this,arguments)}function L6(){return L6=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x6){e.next=2;break}return e.abrupt("return",0);case 2:if(s=((null==(i=n.face.antispoof)?void 0:i.skipTime)||0)>la()-M6,u=P6<((null==(o=n.face.antispoof)?void 0:o.skipFrames)||0),!(n.skipAllowed&&s&&u&&_6===a&&O6[r])){e.next=7;break}return P6++,e.abrupt("return",O6[r]);case 7:return P6=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(n){var i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ob.resizeBilinear(t,[(null==x6?void 0:x6.inputs[0].shape)?x6.inputs[0].shape[2]:0,(null==x6?void 0:x6.inputs[0].shape)?x6.inputs[0].shape[1]:0],!1),o=null==x6?void 0:x6.execute(i),e.next=4,o.data();case 4:s=e.sent[0],O6[r]=Math.round(100*s)/100,_6=a,M6=la(),Df([i,o]),n(O6[r]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),L6.apply(this,arguments)}var z6={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[185,40,39,37,0,267,269,270,409],lipsLowerOuter:[61,146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[191,80,81,82,13,312,311,310,415],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],lipsLowerSemiOuter:[76,77,90,180,85,16,315,404,320,307,306],lipsUpperSemiOuter:[184,74,73,72,11,302,303,304,408],lipsLowerSemiInner:[62,96,89,179,86,15,316,403,319,325,292],lipsUpperSemiInner:[183,42,41,38,12,268,271,272,407],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],rightEyeIris:[473,474,475,476,477],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],leftEyeIris:[468,469,470,471,472],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]},Z6={count:468,mouth:13,symmetryLine:[13,z6.midwayBetweenEyes[0]]},W6={leftEye:0,rightEye:1,nose:2,mouth:3,leftEar:4,rightEar:5,symmetryLine:[3,2]},B6=[{key:"EyeUpper0",indices:[9,10,11,12,13,14,15]},{key:"EyeUpper1",indices:[25,26,27,28,29,30,31]},{key:"EyeUpper2",indices:[41,42,43,44,45,46,47]},{key:"EyeLower0",indices:[0,1,2,3,4,5,6,7,8]},{key:"EyeLower1",indices:[16,17,18,19,20,21,22,23,24]},{key:"EyeLower2",indices:[32,33,34,35,36,37,38,39,40]},{key:"EyeLower3",indices:[54,55,56,57,58,59,60,61,62]},{key:"EyebrowUpper",indices:[63,64,65,66,67,68,69,70]},{key:"EyebrowLower",indices:[48,49,50,51,52,53]}],j6=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]],V6=[127,34,139,11,0,37,232,231,120,72,37,39,128,121,47,232,121,128,104,69,67,175,171,148,157,154,155,118,50,101,73,39,40,9,151,108,48,115,131,194,204,211,74,40,185,80,42,183,40,92,186,230,229,118,202,212,214,83,18,17,76,61,146,160,29,30,56,157,173,106,204,194,135,214,192,203,165,98,21,71,68,51,45,4,144,24,23,77,146,91,205,50,187,201,200,18,91,106,182,90,91,181,85,84,17,206,203,36,148,171,140,92,40,39,193,189,244,159,158,28,247,246,161,236,3,196,54,68,104,193,168,8,117,228,31,189,193,55,98,97,99,126,47,100,166,79,218,155,154,26,209,49,131,135,136,150,47,126,217,223,52,53,45,51,134,211,170,140,67,69,108,43,106,91,230,119,120,226,130,247,63,53,52,238,20,242,46,70,156,78,62,96,46,53,63,143,34,227,173,155,133,123,117,111,44,125,19,236,134,51,216,206,205,154,153,22,39,37,167,200,201,208,36,142,100,57,212,202,20,60,99,28,158,157,35,226,113,160,159,27,204,202,210,113,225,46,43,202,204,62,76,77,137,123,116,41,38,72,203,129,142,64,98,240,49,102,64,41,73,74,212,216,207,42,74,184,169,170,211,170,149,176,105,66,69,122,6,168,123,147,187,96,77,90,65,55,107,89,90,180,101,100,120,63,105,104,93,137,227,15,86,85,129,102,49,14,87,86,55,8,9,100,47,121,145,23,22,88,89,179,6,122,196,88,95,96,138,172,136,215,58,172,115,48,219,42,80,81,195,3,51,43,146,61,171,175,199,81,82,38,53,46,225,144,163,110,246,33,7,52,65,66,229,228,117,34,127,234,107,108,69,109,108,151,48,64,235,62,78,191,129,209,126,111,35,143,163,161,246,117,123,50,222,65,52,19,125,141,221,55,65,3,195,197,25,7,33,220,237,44,70,71,139,122,193,245,247,130,33,71,21,162,153,158,159,170,169,150,188,174,196,216,186,92,144,160,161,2,97,167,141,125,241,164,167,37,72,38,12,145,159,160,38,82,13,63,68,71,226,35,111,158,153,154,101,50,205,206,92,165,209,198,217,165,167,97,220,115,218,133,112,243,239,238,241,214,135,169,190,173,133,171,208,32,125,44,237,86,87,178,85,86,179,84,85,180,83,84,181,201,83,182,137,93,132,76,62,183,61,76,184,57,61,185,212,57,186,214,207,187,34,143,156,79,239,237,123,137,177,44,1,4,201,194,32,64,102,129,213,215,138,59,166,219,242,99,97,2,94,141,75,59,235,24,110,228,25,130,226,23,24,229,22,23,230,26,22,231,112,26,232,189,190,243,221,56,190,28,56,221,27,28,222,29,27,223,30,29,224,247,30,225,238,79,20,166,59,75,60,75,240,147,177,215,20,79,166,187,147,213,112,233,244,233,128,245,128,114,188,114,217,174,131,115,220,217,198,236,198,131,134,177,132,58,143,35,124,110,163,7,228,110,25,356,389,368,11,302,267,452,350,349,302,303,269,357,343,277,452,453,357,333,332,297,175,152,377,384,398,382,347,348,330,303,304,270,9,336,337,278,279,360,418,262,431,304,408,409,310,415,407,270,409,410,450,348,347,422,430,434,313,314,17,306,307,375,387,388,260,286,414,398,335,406,418,364,367,416,423,358,327,251,284,298,281,5,4,373,374,253,307,320,321,425,427,411,421,313,18,321,405,406,320,404,405,315,16,17,426,425,266,377,400,369,322,391,269,417,465,464,386,257,258,466,260,388,456,399,419,284,332,333,417,285,8,346,340,261,413,441,285,327,460,328,355,371,329,392,439,438,382,341,256,429,420,360,364,394,379,277,343,437,443,444,283,275,440,363,431,262,369,297,338,337,273,375,321,450,451,349,446,342,467,293,334,282,458,461,462,276,353,383,308,324,325,276,300,293,372,345,447,382,398,362,352,345,340,274,1,19,456,248,281,436,427,425,381,256,252,269,391,393,200,199,428,266,330,329,287,273,422,250,462,328,258,286,384,265,353,342,387,259,257,424,431,430,342,353,276,273,335,424,292,325,307,366,447,345,271,303,302,423,266,371,294,455,460,279,278,294,271,272,304,432,434,427,272,407,408,394,430,431,395,369,400,334,333,299,351,417,168,352,280,411,325,319,320,295,296,336,319,403,404,330,348,349,293,298,333,323,454,447,15,16,315,358,429,279,14,15,316,285,336,9,329,349,350,374,380,252,318,402,403,6,197,419,318,319,325,367,364,365,435,367,397,344,438,439,272,271,311,195,5,281,273,287,291,396,428,199,311,271,268,283,444,445,373,254,339,263,466,249,282,334,296,449,347,346,264,447,454,336,296,299,338,10,151,278,439,455,292,407,415,358,371,355,340,345,372,390,249,466,346,347,280,442,443,282,19,94,370,441,442,295,248,419,197,263,255,359,440,275,274,300,383,368,351,412,465,263,467,466,301,368,389,380,374,386,395,378,379,412,351,419,436,426,322,373,390,388,2,164,393,370,462,461,164,0,267,302,11,12,374,373,387,268,12,13,293,300,301,446,261,340,385,384,381,330,266,425,426,423,391,429,355,437,391,327,326,440,457,438,341,382,362,459,457,461,434,430,394,414,463,362,396,369,262,354,461,457,316,403,402,315,404,403,314,405,404,313,406,405,421,418,406,366,401,361,306,408,407,291,409,408,287,410,409,432,436,410,434,416,411,264,368,383,309,438,457,352,376,401,274,275,4,421,428,262,294,327,358,433,416,367,289,455,439,462,370,326,2,326,370,305,460,455,254,449,448,255,261,446,253,450,449,252,451,450,256,452,451,341,453,452,413,464,463,441,413,414,258,442,441,257,443,442,259,444,443,260,445,444,467,342,445,459,458,250,289,392,290,290,328,460,376,433,435,250,290,392,411,416,433,341,463,464,453,464,465,357,465,412,343,412,399,360,363,440,437,399,456,420,456,363,401,435,288,372,383,353,339,255,249,448,261,255,133,243,190,133,155,112,33,246,247,33,130,25,398,384,286,362,398,414,362,463,341,263,359,467,263,249,255,466,467,260,75,60,166,238,239,79,162,127,139,72,11,37,121,232,120,73,72,39,114,128,47,233,232,128,103,104,67,152,175,148,173,157,155,119,118,101,74,73,40,107,9,108,49,48,131,32,194,211,184,74,185,191,80,183,185,40,186,119,230,118,210,202,214,84,83,17,77,76,146,161,160,30,190,56,173,182,106,194,138,135,192,129,203,98,54,21,68,5,51,4,145,144,23,90,77,91,207,205,187,83,201,18,181,91,182,180,90,181,16,85,17,205,206,36,176,148,140,165,92,39,245,193,244,27,159,28,30,247,161,174,236,196,103,54,104,55,193,8,111,117,31,221,189,55,240,98,99,142,126,100,219,166,218,112,155,26,198,209,131,169,135,150,114,47,217,224,223,53,220,45,134,32,211,140,109,67,108,146,43,91,231,230,120,113,226,247,105,63,52,241,238,242,124,46,156,95,78,96,70,46,63,116,143,227,116,123,111,1,44,19,3,236,51,207,216,205,26,154,22,165,39,167,199,200,208,101,36,100,43,57,202,242,20,99,56,28,157,124,35,113,29,160,27,211,204,210,124,113,46,106,43,204,96,62,77,227,137,116,73,41,72,36,203,142,235,64,240,48,49,64,42,41,74,214,212,207,183,42,184,210,169,211,140,170,176,104,105,69,193,122,168,50,123,187,89,96,90,66,65,107,179,89,180,119,101,120,68,63,104,234,93,227,16,15,85,209,129,49,15,14,86,107,55,9,120,100,121,153,145,22,178,88,179,197,6,196,89,88,96,135,138,136,138,215,172,218,115,219,41,42,81,5,195,51,57,43,61,208,171,199,41,81,38,224,53,225,24,144,110,105,52,66,118,229,117,227,34,234,66,107,69,10,109,151,219,48,235,183,62,191,142,129,126,116,111,143,7,163,246,118,117,50,223,222,52,94,19,141,222,221,65,196,3,197,45,220,44,156,70,139,188,122,245,139,71,162,145,153,159,149,170,150,122,188,196,206,216,92,163,144,161,164,2,167,242,141,241,0,164,37,11,72,12,144,145,160,12,38,13,70,63,71,31,226,111,157,158,154,36,101,205,203,206,165,126,209,217,98,165,97,237,220,218,237,239,241,210,214,169,140,171,32,241,125,237,179,86,178,180,85,179,181,84,180,182,83,181,194,201,182,177,137,132,184,76,183,185,61,184,186,57,185,216,212,186,192,214,187,139,34,156,218,79,237,147,123,177,45,44,4,208,201,32,98,64,129,192,213,138,235,59,219,141,242,97,97,2,141,240,75,235,229,24,228,31,25,226,230,23,229,231,22,230,232,26,231,233,112,232,244,189,243,189,221,190,222,28,221,223,27,222,224,29,223,225,30,224,113,247,225,99,60,240,213,147,215,60,20,166,192,187,213,243,112,244,244,233,245,245,128,188,188,114,174,134,131,220,174,217,236,236,198,134,215,177,58,156,143,124,25,110,7,31,228,25,264,356,368,0,11,267,451,452,349,267,302,269,350,357,277,350,452,357,299,333,297,396,175,377,381,384,382,280,347,330,269,303,270,151,9,337,344,278,360,424,418,431,270,304,409,272,310,407,322,270,410,449,450,347,432,422,434,18,313,17,291,306,375,259,387,260,424,335,418,434,364,416,391,423,327,301,251,298,275,281,4,254,373,253,375,307,321,280,425,411,200,421,18,335,321,406,321,320,405,314,315,17,423,426,266,396,377,369,270,322,269,413,417,464,385,386,258,248,456,419,298,284,333,168,417,8,448,346,261,417,413,285,326,327,328,277,355,329,309,392,438,381,382,256,279,429,360,365,364,379,355,277,437,282,443,283,281,275,363,395,431,369,299,297,337,335,273,321,348,450,349,359,446,467,283,293,282,250,458,462,300,276,383,292,308,325,283,276,293,264,372,447,346,352,340,354,274,19,363,456,281,426,436,425,380,381,252,267,269,393,421,200,428,371,266,329,432,287,422,290,250,328,385,258,384,446,265,342,386,387,257,422,424,430,445,342,276,422,273,424,306,292,307,352,366,345,268,271,302,358,423,371,327,294,460,331,279,294,303,271,304,436,432,427,304,272,408,395,394,431,378,395,400,296,334,299,6,351,168,376,352,411,307,325,320,285,295,336,320,319,404,329,330,349,334,293,333,366,323,447,316,15,315,331,358,279,317,14,316,8,285,9,277,329,350,253,374,252,319,318,403,351,6,419,324,318,325,397,367,365,288,435,397,278,344,439,310,272,311,248,195,281,375,273,291,175,396,199,312,311,268,276,283,445,390,373,339,295,282,296,448,449,346,356,264,454,337,336,299,337,338,151,294,278,455,308,292,415,429,358,355,265,340,372,388,390,466,352,346,280,295,442,282,354,19,370,285,441,295,195,248,197,457,440,274,301,300,368,417,351,465,251,301,389,385,380,386,394,395,379,399,412,419,410,436,322,387,373,388,326,2,393,354,370,461,393,164,267,268,302,12,386,374,387,312,268,13,298,293,301,265,446,340,380,385,381,280,330,425,322,426,391,420,429,437,393,391,326,344,440,438,458,459,461,364,434,394,428,396,262,274,354,457,317,316,402,316,315,403,315,314,404,314,313,405,313,421,406,323,366,361,292,306,407,306,291,408,291,287,409,287,432,410,427,434,411,372,264,383,459,309,457,366,352,401,1,274,4,418,421,262,331,294,358,435,433,367,392,289,439,328,462,326,94,2,370,289,305,455,339,254,448,359,255,446,254,253,449,253,252,450,252,256,451,256,341,452,414,413,463,286,441,414,286,258,441,258,257,442,257,259,443,259,260,444,260,467,445,309,459,250,305,289,290,305,290,460,401,376,435,309,250,392,376,411,433,453,341,464,357,453,465,343,357,412,437,343,399,344,360,440,420,437,456,360,420,363,361,401,288,265,372,353,390,339,249,339,448,255];[127,234,132,58,172,150,149,148,152,377,378,379,397,288,361,454,356,70,63,105,66,107,336,296,334,293,300,168,6,195,4,98,97,2,326,327,33,160,158,133,153,144,362,385,387,263,373,380,57,40,37,0,267,270,287,321,314,17,84,91,78,81,13,311,308,402,14,178].map((function(e){return j6[e]})),[33,133,362,263,1,62,308,159,145,386,374,6,102,331,2,13,14,70,105,107,336,334,300,54,10,284,50,280,234,454,58,288,152].map((function(e){return j6[e]})),[33,133,362,263,1,78,308].map((function(e){return j6[e]}));function H6(e){var t=e.map((function(e){return e[0]}));return t.push(e[e.length-1][1]),t}H6([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),H6([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),H6([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),H6([[474,475],[475,476],[476,477],[477,474]]),H6([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),H6([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),H6([[469,470],[470,471],[471,472],[472,469]]),H6([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]]);var U6=function(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]},G6=function(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2,1]},X6=function(e,t){return e?[Math.trunc(Math.max(0,e.startPoint[0])),Math.trunc(Math.max(0,e.startPoint[1])),Math.trunc(Math.min(t.shape[2]||0,e.endPoint[0])-Math.max(0,e.startPoint[0])),Math.trunc(Math.min(t.shape[1]||0,e.endPoint[1])-Math.max(0,e.startPoint[1]))]:[0,0,0,0]},Y6=function(e,t){return e?[e.startPoint[0]/(t.shape[2]||0),e.startPoint[1]/(t.shape[1]||0),(e.endPoint[0]-e.startPoint[0])/(t.shape[2]||0),(e.endPoint[1]-e.startPoint[1])/(t.shape[1]||0)]:[0,0,0,0]},q6=function(e,t){return{startPoint:[e.startPoint[0]*t[0],e.startPoint[1]*t[1]],endPoint:[e.endPoint[0]*t[0],e.endPoint[1]*t[1]],landmarks:e.landmarks,confidence:e.confidence}},K6=function(e,t,n){var r=t.shape[1],a=t.shape[2],i=[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a],o=Ob.cropAndResize(t,[i],[0],n),s=nh(o,l6.tf255);return Df(o),s},J6=function(e,t){var n=G6(e),r=U6(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],landmarks:e.landmarks,confidence:e.confidence}},Q6=function(e){var t=G6(e),n=U6(e),r=Math.max.apply(Math,(0,qr.Z)(n))/2;return{startPoint:[Math.round(t[0]-r),Math.round(t[1]-r)],endPoint:[Math.round(t[0]+r),Math.round(t[1]+r)],landmarks:e.landmarks,confidence:e.confidence}},$6=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,(0,qr.Z)(t)),Math.min.apply(Math,(0,qr.Z)(n))],endPoint:[Math.max.apply(Math,(0,qr.Z)(t)),Math.max.apply(Math,(0,qr.Z)(n))],landmarks:e}},e8=[[1,0,0],[0,1,0],[0,0,1]],t8=function(e,t){return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI));var n},n8=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},r8=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n},a8=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n},i8=function(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var i=0;i<r;i++)n[a].push(r8(e[a],a8(t,i)))}return n},o8=function(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],i=n8(t[0],t[1]),o=i8(i,a),s=n8(-t[0],-t[1]);return i8(o,s)};function s8(e){for(var t=192===e?{strides:[4],anchors:[1]}:{strides:[e/16,e/8],anchors:[2,6]},n=[],r=0;r<t.strides.length;r++)for(var a=t.strides[r],i=Math.floor((e+a-1)/a),o=Math.floor((e+a-1)/a),s=t.anchors[r],u=0;u<i;u++)for(var l=a*(u+.5),c=0;c<o;c++)for(var d=a*(c+.5),f=0;f<s;f++)n.push([d,l]);return n}function u8(e,t,n,r,a){var i=U6(t),o=e.map((function(e){return[i[0]/a*(e[0]-a/2),i[1]/a*(e[1]-a/2),e[2]||0]})),s=n&&0!==n&&Math.abs(n)>.2,u=s?o8(n,[0,0]):e8,l=s?o.map((function(e){return[].concat((0,qr.Z)(function(e,t){return[r8(e,t[0]),r8(e,t[1])]}(e,u)),[e[2]])})):o,c=s?function(e){var t=[[e[0][0],e[1][0]],[e[0][1],e[1][1]]],n=[e[0][2],e[1][2]],r=[-r8(t[0],n),-r8(t[1],n)];return[t[0].concat(r[0]),t[1].concat(r[1]),[0,0,1]]}(r):e8,d=G6(t),f=[r8(d,c[0]),r8(d,c[1])];return l.map((function(e){return[Math.trunc(e[0]+f[0]),Math.trunc(e[1]+f[1]),Math.trunc(e[2]||0)]}))}function l8(e,t,n,r){var a,i=t.landmarks.length>=Z6.count?Z6.symmetryLine:W6.symmetryLine,o=0,s=e8;if(e&&H7.kernels.includes("rotatewithoffset"))if((o=t8(t.landmarks[i[0]],t.landmarks[i[1]]))&&0!==o&&Math.abs(o)>.2){var u=G6(t),l=[u[0]/n.shape[2],u[1]/n.shape[1]],c=Ob.rotateWithOffset(n,o,0,l);s=o8(-o,u),a=K6(t,c,[r,r]),Df(c)}else a=K6(t,n,[r,r]);else a=K6(t,n,[r,r]);return[o,s,a]}var c8,d8=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return[Math.min.apply(Math,(0,qr.Z)(t))+(Math.max.apply(Math,(0,qr.Z)(t))-Math.min.apply(Math,(0,qr.Z)(t)))/2,Math.min.apply(Math,(0,qr.Z)(n))+(Math.max.apply(Math,(0,qr.Z)(n))-Math.min.apply(Math,(0,qr.Z)(n)))/2]}(e),r=U6(t);return{startPoint:[n[0]-r[0]/2,n[1]-r[1]/2],endPoint:[n[0]+r[0]/2,n[1]+r[1]/2]}},f8=null,p8=0,h8=null,m8=function(){return p8};function g8(e){return v8.apply(this,arguments)}function v8(){return(v8=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(c8=null),c8){e.next=7;break}return e.next=4,Y7(null==(n=t.face.detector)?void 0:n.modelPath);case 4:c8=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",c8.modelUrl);case 8:return p8=c8.inputs[0].shape?c8.inputs[0].shape[2]:0,h8=Lm(p8,"int32"),f8=Hv(s8(p8)),e.abrupt("return",c8);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y8(e){var t={};t.boxStarts=zh(e,[0,1],[-1,2]),t.centers=eh(t.boxStarts,f8),t.boxSizes=zh(e,[0,3],[-1,2]),t.boxSizesNormalized=nh(t.boxSizes,h8),t.centersNormalized=nh(t.centers,h8),t.halfBoxSize=nh(t.boxSizesNormalized,l6.tf2),t.starts=bg(t.centersNormalized,t.halfBoxSize),t.ends=eh(t.centersNormalized,t.halfBoxSize),t.startNormalized=rh(t.starts,h8),t.endNormalized=rh(t.ends,h8);var n=$h([t.startNormalized,t.endNormalized],1);return Object.keys(t).forEach((function(e){return Df(t[e])})),n}function b8(e,t){return x8.apply(this,arguments)}function x8(){return x8=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p,h;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||t.isDisposedInternal||4!==t.shape.length||t.shape[1]<1||t.shape[2]<1)){e.next=2;break}return e.abrupt("return",[]);case 2:return(s={}).resized=Ob.resizeBilinear(t,[p8,p8]),s.div=nh(s.resized,l6.tf127),s.normalized=bg(s.div,l6.tf05),u=null==c8?void 0:c8.execute(s.normalized),Array.isArray(u)&&u.length>2?(l=u.sort((function(e,t){return e.size-t.size})),s.concat384=Dh([l[0],l[2]],2),s.concat512=Dh([l[1],l[3]],2),s.concat=Dh([s.concat512,s.concat384],1),s.batch=zv(s.concat,0)):Array.isArray(u)?s.batch=zv(u[0]):s.batch=zv(u),Df(u),s.boxes=y8(s.batch),s.logits=zh(s.batch,[0,0],[-1,1]),s.sigmoid=Lh(s.logits),s.scores=zv(s.sigmoid),e.next=15,Ob.nonMaxSuppressionAsync(s.boxes,s.scores,(null==(r=n.face.detector)?void 0:r.maxDetected)||0,(null==(a=n.face.detector)?void 0:a.iouThreshold)||0,(null==(i=n.face.detector)?void 0:i.minConfidence)||0);case 15:return s.nms=e.sent,e.next=18,s.nms.array();case 18:return c=e.sent,d=[],e.next=22,s.scores.data();case 22:f=e.sent,p=0;case 24:if(!(p<c.length)){e.next=31;break}if(!((h=f[c[p]])>((null==(o=n.face.detector)?void 0:o.minConfidence)||0))){e.next=28;break}return e.delegateYield((0,Er.Z)().mark((function e(){var r,a,i,o,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={}).bbox=zh(s.boxes,[c[p],0],[1,-1]),r.slice=zh(s.batch,[c[p],5],[1,-1]),r.squeeze=zv(r.slice),r.landmarks=Mh(r.squeeze,[6,-1]),e.next=7,r.bbox.data();case 7:return a=e.sent,e.t0=[a[0],a[1]],e.t1=[a[2],a[3]],e.next=12,r.landmarks.array();case 12:e.t2=e.sent,e.t3=h,i={startPoint:e.t0,endPoint:e.t1,landmarks:e.t2,confidence:e.t3},o=q6(i,[(t.shape[2]||0)/p8,(t.shape[1]||0)/p8]),u=J6(o,n.face.scale||1.4),l=Q6(u),d.push(l),Object.keys(r).forEach((function(e){return Df(r[e])}));case 20:case"end":return e.stop()}}),e)}))(),"t0",28);case 28:p++,e.next=24;break;case 31:return Object.keys(s).forEach((function(e){return Df(s[e])})),e.abrupt("return",d);case 33:case"end":return e.stop()}}),e)}))),x8.apply(this,arguments)}var A8={};ta(A8,{connected:function(){return k8},kpt:function(){return w8}});var w8=["nose","leftEyeInside","leftEye","leftEyeOutside","rightEyeInside","rightEye","rightEyeOutside","leftEar","rightEar","leftMouth","rightMouth","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftPinky","rightPinky","leftIndex","rightIndex","leftThumb","rightThumb","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle","leftHeel","rightHeel","leftFoot","rightFoot","bodyCenter","bodyTop","leftPalm","leftHand","rightPalm","rightHand"],k8={shoulders:["leftShoulder","rightShoulder"],hips:["rightHip","leftHip"],mouth:["leftMouth","rightMouth"],leftLegUpper:["leftHip","leftKnee"],leftLegLower:["leftKnee","leftAnkle"],leftFoot:["leftAnkle","leftHeel","leftFoot"],leftTorso:["leftShoulder","leftHip"],leftArmUpper:["leftShoulder","leftElbow"],leftArmLower:["leftElbow","leftWrist"],leftHand:["leftWrist","leftPalm"],leftHandPinky:["leftPalm","leftPinky"],leftHandIndex:["leftPalm","leftIndex"],leftHandThumb:["leftPalm","leftThumb"],leftEyeOutline:["leftEyeInside","leftEyeOutside"],rightLegUpper:["rightHip","rightKnee"],rightLegLower:["rightKnee","rightAnkle"],rightFoot:["rightAnkle","rightHeel","rightFoot"],rightTorso:["rightShoulder","rightHip"],rightArmUpper:["rightShoulder","rightElbow"],rightArmLower:["rightElbow","rightWrist"],rightHand:["rightWrist","rightPalm"],rightHandPinky:["rightPalm","rightPinky"],rightHandIndex:["rightPalm","rightIndex"],rightHandThumb:["rightPalm","rightThumb"],rightEyeOutline:["rightEyeInside","rightEyeOutside"]},S8=224,C8=[8,16,32,32,32];function I8(){return E8.apply(this,arguments)}function E8(){return E8=(0,Tr.Z)((0,Er.Z)().mark((function e(){var t,n,r,a,i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=0;n<5;){for(r=0,a=n;a<C8.length&&C8[a]===C8[n];)r+=2,a++;for(i=C8[n],o=Math.ceil(S8/i),s=Math.ceil(S8/i),u=0;u<o;++u)for(l=0;l<s;++l)for(c=0;c<r;++c)t.push({x:(l+.5)/s,y:(u+.5)/o});n=a}({x:Vv(t.map((function(e){return e.x}))),y:Vv(t.map((function(e){return e.y})))});case 4:case"end":return e.stop()}}),e)}))),E8.apply(this,arguments)}function T8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],n=[e.map((function(e){return e[0]})),e.map((function(e){return e[1]}))],r=[Math.min.apply(Math,(0,qr.Z)(n[0])),Math.min.apply(Math,(0,qr.Z)(n[1]))],a=[Math.max.apply(Math,(0,qr.Z)(n[0])),Math.max.apply(Math,(0,qr.Z)(n[1]))],i=[r[0],r[1],a[0]-r[0],a[1]-r[1]],o=[i[0]/t[0],i[1]/t[1],i[2]/t[0],i[3]/t[1]];return{box:i,boxRaw:o}}function N8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1],n=[e.map((function(e){return e[0]})),e.map((function(e){return e[1]}))],r=[Math.min.apply(Math,(0,qr.Z)(n[0])),Math.min.apply(Math,(0,qr.Z)(n[1]))],a=[Math.max.apply(Math,(0,qr.Z)(n[0])),Math.max.apply(Math,(0,qr.Z)(n[1]))],i=[(r[0]+a[0])/2,(r[1]+a[1])/2],o=Math.max(i[0]-r[0],i[1]-r[1],-i[0]+a[0],-i[1]+a[1]),s=[Math.trunc(i[0]-o),Math.trunc(i[1]-o),Math.trunc(2*o),Math.trunc(2*o)],u=[s[0]/t[0],s[1]/t[1],s[2]/t[0],s[3]/t[1]];return{box:s,boxRaw:u}}function O8(e,t){var n=[e[2]*t,e[3]*t];return[e[0]-(n[0]-e[2])/2,e[1]-(n[1]-e[3])/2,n[0],n[1]]}var P8=!0,_8={detector:null,landmarks:null},M8={detector:[224,224],landmarks:[256,256]},R8=Number.MAX_SAFE_INTEGER,F8=["ld_3d","activation_segmentation","activation_heatmap","world_3d","output_poseflag"],D8=null,L8=[[0,0],[0,0],[0,0],[0,0]],z8=0,Z8=function(e){return 1-1/(1+Math.exp(e))};function W8(e){return B8.apply(this,arguments)}function B8(){return(B8=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P8&&(_8.detector=null),_8.detector||!t.body.detector||!t.body.detector.modelPath){e.next=10;break}return e.next=4,Y7(t.body.detector.modelPath);case 4:_8.detector=e.sent,n=Object.values(_8.detector.modelSignature.inputs),M8.detector[0]=Array.isArray(n)?parseInt(n[0].tensorShape.dim[1].size):0,M8.detector[1]=Array.isArray(n)?parseInt(n[0].tensorShape.dim[2].size):0,e.next=11;break;case 10:t.debug&&_8.detector&&sa("cached model:",_8.detector.modelUrl);case 11:return e.next=13,I8();case 13:return e.abrupt("return",_8.detector);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j8(e){return V8.apply(this,arguments)}function V8(){return(V8=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P8&&(_8.landmarks=null),_8.landmarks){e.next=10;break}return e.next=4,Y7(t.body.modelPath);case 4:_8.landmarks=e.sent,n=Object.values(_8.landmarks.modelSignature.inputs),M8.landmarks[0]=Array.isArray(n)?parseInt(n[0].tensorShape.dim[1].size):0,M8.landmarks[1]=Array.isArray(n)?parseInt(n[0].tensorShape.dim[2].size):0,e.next=11;break;case 10:t.debug&&sa("cached model:",_8.landmarks.modelUrl);case 11:return e.abrupt("return",_8.landmarks);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H8(e,t){return U8.apply(this,arguments)}function U8(){return U8=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t.shape&&t.shape[1]&&t.shape[2]){e.next=3;break}return e.abrupt("return",t);case 3:return t.shape[1]!==t.shape[2]?(i=[t.shape[2]>t.shape[1]?Math.trunc((t.shape[2]-t.shape[1])/2):0,t.shape[2]>t.shape[1]?Math.trunc((t.shape[2]-t.shape[1])/2):0],o=[t.shape[1]>t.shape[2]?Math.trunc((t.shape[1]-t.shape[2])/2):0,t.shape[1]>t.shape[2]?Math.trunc((t.shape[1]-t.shape[2])/2):0],L8=[[0,0],i,o,[0,0]],r.pad=Gg(r.cropped||t,L8),r.resize=Ob.resizeBilinear(r.pad,[n,n]),a=nh(r.resize,l6.tf255)):t.shape[1]!==n?(r.resize=Ob.resizeBilinear(r.cropped||t,[n,n]),a=nh(r.resize,l6.tf255)):a=nh(r.cropped||t,l6.tf255),Object.keys(r).forEach((function(e){return Df(r[e])})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),U8.apply(this,arguments)}function G8(e,t){var n,r=Yr(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.position=[Math.trunc(a.position[0]*(t[0]+L8[2][0]+L8[2][1])/t[0]-L8[2][0]),Math.trunc(a.position[1]*(t[1]+L8[1][0]+L8[1][1])/t[1]-L8[1][0]),a.position[2]],a.positionRaw=[a.position[0]/t[0],a.position[1]/t[1],2*a.position[2]/(t[0]+t[1])]}}catch(i){r.e(i)}finally{r.f()}return e}function X8(e){return Y8.apply(this,arguments)}function Y8(){return Y8=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.find((function(e){return"leftPalm"===e.part})),r=t.find((function(e){return"leftWrist"===e.part})),a=t.find((function(e){return"leftIndex"===e.part})),n.position[2]=((r.position[2]||0)+(a.position[2]||0))/2,i=t.find((function(e){return"rightPalm"===e.part})),o=t.find((function(e){return"rightWrist"===e.part})),s=t.find((function(e){return"rightIndex"===e.part})),i.position[2]=((o.position[2]||0)+(s.position[2]||0))/2;case 8:case"end":return e.stop()}}),e)}))),Y8.apply(this,arguments)}function q8(e,t,n){return K8.apply(this,arguments)}function K8(){return K8=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},s=null==(a=_8.landmarks)?void 0:a.execute(t,F8),u=(0,o.Z)(s,5),i.ld=u[0],i.segmentation=u[1],i.heatmap=u[2],i.world=u[3],i.poseflag=u[4],e.next=10,i.poseflag.data();case 10:return l=e.sent[0],e.next=13,i.ld.data();case 13:return c=e.sent,e.next=16,i.world.data();case 16:for(d=e.sent,Object.keys(i).forEach((function(e){return Df(i[e])})),f=[],5,p=0;p<c.length/5;p++)h=Z8(c[5*p+3]),m=Z8(c[5*p+4]),g=Math.trunc(100*h*m*l)/100,v=[c[5*p+0]/M8.landmarks[0],c[5*p+1]/M8.landmarks[1],c[5*p+2]+0],y=[Math.trunc(r[0]*v[0]),Math.trunc(r[1]*v[1]),v[2]],b=[d[5*p+0],d[5*p+1],d[5*p+2]+0],f.push({part:w8[p],positionRaw:v,position:y,distance:b,score:g});if(!(l<(n.body.minConfidence||0))){e.next=23;break}return e.abrupt("return",null);case 23:for(X8(f),x=G8(f,r),A=x.map((function(e){return e.position})),w=T8(A,[r[0],r[1]]),k={},S=function(){for(var e=(0,o.Z)(I[C],2),t=e[0],n=e[1],r=[],a=function(e){var t=x.find((function(t){return t.part===n[e]})),a=x.find((function(t){return t.part===n[e+1]}));t&&a&&r.push([t.position,a.position])},i=0;i<n.length-1;i++)a(i);k[t]=r},C=0,I=Object.entries(k8);C<I.length;C++)S();return E={id:0,score:Math.trunc(100*l)/100,box:w.box,boxRaw:w.boxRaw,keypoints:x,annotations:k},e.abrupt("return",E);case 32:case"end":return e.stop()}}),e)}))),K8.apply(this,arguments)}function J8(e,t){return Q8.apply(this,arguments)}function Q8(){return Q8=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[t.shape[2]||0,t.shape[1]||0],a=(n.body.skipTime||0)>la()-z8,i=R8<(n.body.skipFrames||0),!(n.skipAllowed&&a&&i&&null!==D8)){e.next=7;break}R8++,e.next=17;break;case 7:return o={},e.next=10,H8(t,256);case 10:return o.landmarks=e.sent,e.next=13,q8(o.landmarks,n,r);case 13:D8=e.sent,Object.keys(o).forEach((function(e){return Df(o[e])})),z8=la(),R8=0;case 17:return e.abrupt("return",D8?[D8]:[]);case 18:case"end":return e.stop()}}),e)}))),Q8.apply(this,arguments)}var $8,e9=[{class:1,label:"person"},{class:2,label:"bicycle"},{class:3,label:"car"},{class:4,label:"motorcycle"},{class:5,label:"airplane"},{class:6,label:"bus"},{class:7,label:"train"},{class:8,label:"truck"},{class:9,label:"boat"},{class:10,label:"traffic light"},{class:11,label:"fire hydrant"},{class:12,label:"stop sign"},{class:13,label:"parking meter"},{class:14,label:"bench"},{class:15,label:"bird"},{class:16,label:"cat"},{class:17,label:"dog"},{class:18,label:"horse"},{class:19,label:"sheep"},{class:20,label:"cow"},{class:21,label:"elephant"},{class:22,label:"bear"},{class:23,label:"zebra"},{class:24,label:"giraffe"},{class:25,label:"backpack"},{class:26,label:"umbrella"},{class:27,label:"handbag"},{class:28,label:"tie"},{class:29,label:"suitcase"},{class:30,label:"frisbee"},{class:31,label:"skis"},{class:32,label:"snowboard"},{class:33,label:"sports ball"},{class:34,label:"kite"},{class:35,label:"baseball bat"},{class:36,label:"baseball glove"},{class:37,label:"skateboard"},{class:38,label:"surfboard"},{class:39,label:"tennis racket"},{class:40,label:"bottle"},{class:41,label:"wine glass"},{class:42,label:"cup"},{class:43,label:"fork"},{class:44,label:"knife"},{class:45,label:"spoon"},{class:46,label:"bowl"},{class:47,label:"banana"},{class:48,label:"apple"},{class:49,label:"sandwich"},{class:50,label:"orange"},{class:51,label:"broccoli"},{class:52,label:"carrot"},{class:53,label:"hot dog"},{class:54,label:"pizza"},{class:55,label:"donut"},{class:56,label:"cake"},{class:57,label:"chair"},{class:58,label:"couch"},{class:59,label:"potted plant"},{class:60,label:"bed"},{class:61,label:"dining table"},{class:62,label:"toilet"},{class:63,label:"tv"},{class:64,label:"laptop"},{class:65,label:"mouse"},{class:66,label:"remote"},{class:67,label:"keyboard"},{class:68,label:"cell phone"},{class:69,label:"microwave"},{class:70,label:"oven"},{class:71,label:"toaster"},{class:72,label:"sink"},{class:73,label:"refrigerator"},{class:74,label:"book"},{class:75,label:"clock"},{class:76,label:"vase"},{class:77,label:"scissors"},{class:78,label:"teddy bear"},{class:79,label:"hair drier"},{class:80,label:"toothbrush"}],t9=0,n9=[],r9=0,a9=Number.MAX_SAFE_INTEGER;function i9(e){return o9.apply(this,arguments)}function o9(){return(o9=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&($8=null),$8){e.next=9;break}return e.next=4,Y7(t.object.modelPath);case 4:$8=e.sent,n=Object.values($8.modelSignature.inputs),t9=Array.isArray(n)?parseInt(n[0].tensorShape.dim[2].size):0,e.next=10;break;case 9:t.debug&&sa("cached model:",$8.modelUrl);case 10:return e.abrupt("return",$8);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s9(e,t,n){return u9.apply(this,arguments)}function u9(){return u9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v,y,b;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return a={},i=[],e.next=6,t.array();case 6:return o=e.sent,a.squeeze=zv(t),s=Fv(a.squeeze,6,1),a.stack=Zv([s[1],s[0],s[3],s[2]],1),a.boxes=zv(a.stack),a.scores=zv(s[4]),a.classes=zv(s[5]),Df([t].concat((0,qr.Z)(s))),e.next=16,Ob.nonMaxSuppressionAsync(a.boxes,a.scores,r.object.maxDetected,r.object.iouThreshold,r.object.minConfidence||0);case 16:return a.nms=e.sent,e.next=19,a.nms.data();case 19:for(u=e.sent,l=0,c=0,d=Array.from(u);c<d.length;c++)f=d[c],p=Math.trunc(100*o[0][f][4])/100,h=o[0][f][5],m=e9[h].label,g=o[0][f][0]/t9,v=o[0][f][1]/t9,y=[g,v,o[0][f][2]/t9-g,o[0][f][3]/t9-v],b=[Math.trunc(y[0]*n[0]),Math.trunc(y[1]*n[1]),Math.trunc(y[2]*n[0]),Math.trunc(y[3]*n[1])],i.push({id:l++,score:p,class:h,label:m,box:b,boxRaw:y});return Object.keys(a).forEach((function(e){return Df(a[e])})),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e)}))),u9.apply(this,arguments)}function l9(e,t){return c9.apply(this,arguments)}function c9(){return c9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n.object.skipTime||0)>la()-r9,a=a9<(n.object.skipFrames||0),!(n.skipAllowed&&r&&a&&n9.length>0)){e.next=5;break}return a9++,e.abrupt("return",n9);case 5:return a9=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(r){var a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t.shape[2]||0,t.shape[1]||0],i=Ob.resizeBilinear(t,[t9,t9]),o=n.object.enabled?null==$8?void 0:$8.execute(i,["tower_0/detections"]):null,r9=la(),Df(i),e.next=7,s9(o,a,n);case 7:s=e.sent,n9=s,r(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e)}))),c9.apply(this,arguments)}var d9={};ta(d9,{connected:function(){return h9},kpt:function(){return p9}});var f9,p9=["head","neck","rightShoulder","rightElbow","rightWrist","chest","leftShoulder","leftElbow","leftWrist","bodyCenter","rightHip","rightKnee","rightAnkle","leftHip","leftKnee","leftAnkle"],h9={leftLeg:["leftHip","leftKnee","leftAnkle"],rightLeg:["rightHip","rightKnee","rightAnkle"],torso:["leftShoulder","rightShoulder","rightHip","leftHip","leftShoulder"],leftArm:["leftShoulder","leftElbow","leftWrist"],rightArm:["rightShoulder","rightElbow","rightWrist"],head:[]},m9=0,g9={id:0,keypoints:[],box:[0,0,0,0],boxRaw:[0,0,0,0],score:0,annotations:{}},v9=Number.MAX_SAFE_INTEGER;function y9(e){return b9.apply(this,arguments)}function b9(){return(b9=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(f9=null),f9){e.next=7;break}return e.next=4,Y7(t.body.modelPath);case 4:f9=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",f9.modelUrl);case 8:return e.abrupt("return",f9);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x9(e,t){return A9.apply(this,arguments)}function A9(){return A9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,s,u,l,c,d,f,p,h;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.Z)(t.shape,2),a=r[0],i=r[1],s=Mh(t,[i*a]),u=Rm(s,0),e.next=5,u.data();case 5:if(l=e.sent[0],Df([s,u]),!(l>n)){e.next=19;break}return c=ch(s,0),d=Zg(c,a),e.next=12,d.data();case 12:return f=e.sent[0],p=nh(c,Lm(a,"int32")),e.next=16,p.data();case 16:return h=e.sent[0],Df([d,p]),e.abrupt("return",[f,h,l]);case 19:return e.abrupt("return",[0,0,l]);case 20:case"end":return e.stop()}}),e)}))),A9.apply(this,arguments)}function w9(e,t){return k9.apply(this,arguments)}function k9(){return k9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n.body.skipTime||0)>la()-m9,a=v9<(n.body.skipFrames||0),!(n.skipAllowed&&r&&a&&Object.keys(g9.keypoints).length>0)){e.next=5;break}return v9++,e.abrupt("return",[g9]);case 5:return v9=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(r){var a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ff((function(){if(!(null==f9?void 0:f9.inputs[0].shape))return null;var e=Ob.resizeBilinear(t,[f9.inputs[0].shape[2],f9.inputs[0].shape[1]],!1),n=rh(e,l6.tf2);return bg(n,l6.tf1)})),n.body.enabled&&(s=null==f9?void 0:f9.execute(i)),m9=la(),Df(i),!s){e.next=24;break}g9.keypoints.length=0,u=s.squeeze(),Df(s),l=u.unstack(2),Df(u),c=0;case 11:if(!(c<l.length)){e.next=23;break}return e.next=14,x9(l[c],n.body.minConfidence);case 14:d=e.sent,f=(0,o.Z)(d,3),p=f[0],h=f[1],(m=f[2])>((null==(a=n.body)?void 0:a.minConfidence)||0)&&g9.keypoints.push({score:Math.round(100*m)/100,part:p9[c],positionRaw:[p/f9.inputs[0].shape[2],h/f9.inputs[0].shape[1]],position:[Math.round(t.shape[2]*p/f9.inputs[0].shape[2]),Math.round(t.shape[1]*h/f9.inputs[0].shape[1])]});case 20:c++,e.next=11;break;case 23:l.forEach((function(e){return Df(e)}));case 24:for(g9.score=g9.keypoints.reduce((function(e,t){return t.score>e?t.score:e}),0),g=g9.keypoints.map((function(e){return e.position[0]})),v=g9.keypoints.map((function(e){return e.position[1]})),g9.box=[Math.min.apply(Math,(0,qr.Z)(g)),Math.min.apply(Math,(0,qr.Z)(v)),Math.max.apply(Math,(0,qr.Z)(g))-Math.min.apply(Math,(0,qr.Z)(g)),Math.max.apply(Math,(0,qr.Z)(v))-Math.min.apply(Math,(0,qr.Z)(v))],y=g9.keypoints.map((function(e){return e.positionRaw[0]})),b=g9.keypoints.map((function(e){return e.positionRaw[1]})),g9.boxRaw=[Math.min.apply(Math,(0,qr.Z)(y)),Math.min.apply(Math,(0,qr.Z)(b)),Math.max.apply(Math,(0,qr.Z)(y))-Math.min.apply(Math,(0,qr.Z)(y)),Math.max.apply(Math,(0,qr.Z)(b))-Math.min.apply(Math,(0,qr.Z)(b))],x=function(){for(var e=(0,o.Z)(w[A],2),t=e[0],r=e[1],a=[],i=function(e){var t=g9.keypoints.find((function(t){return t.part===r[e]})),i=g9.keypoints.find((function(t){return t.part===r[e+1]}));t&&i&&t.score>(n.body.minConfidence||0)&&i.score>(n.body.minConfidence||0)&&a.push([t.position,i.position])},s=0;s<r.length-1;s++)i(s);g9.annotations[t]=a},A=0,w=Object.entries(h9);A<w.length;A++)x();r([g9]);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e)}))),k9.apply(this,arguments)}var S9,C9,I9=["angry","disgust","fear","happy","sad","surprise","neutral"],E9=[],T9=0,N9=0,O9=Number.MAX_SAFE_INTEGER;function P9(e){return _9.apply(this,arguments)}function _9(){return(_9=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(S9=null),S9){e.next=7;break}return e.next=4,Y7(null==(n=t.face.emotion)?void 0:n.modelPath);case 4:S9=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",S9.modelUrl);case 8:return e.abrupt("return",S9);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M9(e,t,n,r){return R9.apply(this,arguments)}function R9(){return R9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S9){e.next=2;break}return e.abrupt("return",[]);case 2:if(s=O9<((null==(i=n.face.emotion)?void 0:i.skipFrames)||0),u=((null==(o=n.face.emotion)?void 0:o.skipTime)||0)>la()-N9,!(n.skipAllowed&&u&&s&&T9===a&&E9[r]&&E9[r].length>0)){e.next=7;break}return O9++,e.abrupt("return",E9[r]);case 7:return O9=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var o,s,u,l,c,d,f;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=[],!(null==(o=n.face.emotion)?void 0:o.enabled)){e.next=17;break}return l={},c=(null==S9?void 0:S9.inputs[0].shape)?S9.inputs[0].shape[2]:0,l.resize=Ob.resizeBilinear(t,[c,c],!1),l.channels=rh(l.resize,l6.rgb),l.grayscale=Wm(l.channels,3,!0),l.grayscaleSub=bg(l.grayscale,l6.tf05),l.grayscaleMul=rh(l.grayscaleSub,l6.tf2),l.emotion=null==S9?void 0:S9.execute(l.grayscaleMul),N9=la(),e.next=13,l.emotion.data();case 13:for(d=e.sent,f=0;f<d.length;f++)d[f]>((null==(s=n.face.emotion)?void 0:s.minConfidence)||0)&&u.push({score:Math.min(.99,Math.trunc(100*d[f])/100),emotion:I9[f]});u.sort((function(e,t){return t.score-e.score})),Object.keys(l).forEach((function(e){return Df(l[e])}));case 17:E9[r]=u,T9=a,i(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),R9.apply(this,arguments)}var F9,D9=[],L9=0,z9=0,Z9=Number.MAX_SAFE_INTEGER;function W9(e){return B9.apply(this,arguments)}function B9(){return(B9=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(C9=null),C9){e.next=7;break}return e.next=4,Y7(t.face.mobilefacenet.modelPath);case 4:C9=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",C9.modelUrl);case 8:return e.abrupt("return",C9);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j9(e,t,n,r){return V9.apply(this,arguments)}function V9(){return V9=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C9){e.next=2;break}return e.abrupt("return",[]);case 2:if(s=Z9<((null==(i=n.face.embedding)?void 0:i.skipFrames)||0),u=((null==(o=n.face.embedding)?void 0:o.skipTime)||0)>la()-z9,!(n.skipAllowed&&u&&s&&L9===a&&D9[r])){e.next=7;break}return Z9++,e.abrupt("return",D9[r]);case 7:return e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],!(null==(o=n.face.embedding)?void 0:o.enabled)||!(null==C9?void 0:C9.inputs[0].shape)){e.next=9;break}return(u={}).crop=Ob.resizeBilinear(t,[C9.inputs[0].shape[2],C9.inputs[0].shape[1]],!1),u.data=null==C9?void 0:C9.execute(u.crop),e.next=7,u.data.data();case 7:l=e.sent,s=Array.from(l);case 9:D9[r]=s,L9=a,z9=la(),i(s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),V9.apply(this,arguments)}var H9=0,U9=z6.leftEyeLower0,G9=z6.rightEyeLower0,X9={leftBounds:[U9[0],U9[U9.length-1]],rightBounds:[G9[0],G9[G9.length-1]]},Y9=3,q9=4,K9=71,J9=76;function Q9(e){return $9.apply(this,arguments)}function $9(){return($9=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(F9=null),F9){e.next=7;break}return e.next=4,Y7(null==(n=t.face.iris)?void 0:n.modelPath);case 4:F9=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",F9.modelUrl);case 8:return-1===(H9=F9.inputs[0].shape?F9.inputs[0].shape[2]:0)&&(H9=64),e.abrupt("return",F9);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eee(e,t,n,r){for(var a=0;a<B6.length;a++){var i=B6[a],o=i.key,s=i.indices,u=z6["".concat(n).concat(o)];if(!r||r.includes(o))for(var l=0;l<s.length;l++){var c=s[l];e[u[l]]=[t[c][0],t[c][1],(t[c][2]+e[u[l]][2])/2]}}}var tee=function(e){return e[X9.leftBounds[0]][2]-e[X9.rightBounds[0]][2]},nee=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Q6(J6($6([e[n],e[r]]),2.3)),s=U6(o),u=Ob.cropAndResize(t,[[o.startPoint[1]/a,o.startPoint[0]/a,o.endPoint[1]/a,o.endPoint[0]/a]],[0],[H9,H9]);if(i&&H7.kernels.includes("flipleftright")){var l=Ob.flipLeftRight(u);Df(u),u=l}return{box:o,boxSize:s,crop:u}},ree=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<J9;i++){var o=e[3*i],s=e[3*i+1],u=e[3*i+2];a.push([(r?1-o/H9:o/H9)*n[0]+t.startPoint[0],s/H9*n[1]+t.startPoint[1],u])}return{rawCoords:a,iris:a.slice(K9)}},aee=function(e,t,n){var r=e[z6["".concat(n,"EyeUpper0")][Y9]][2],a=e[z6["".concat(n,"EyeLower0")][q9]][2],i=(r+a)/2;return t.map((function(e,t){var n=i;return 2===t?n=r:4===t&&(n=a),[e[0],e[1],n]}))};function iee(e,t,n,r){return oee.apply(this,arguments)}function oee(){return(oee=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F9){e.next=3;break}return r.debug&&sa("face mesh iris detection requested, but model is not loaded"),e.abrupt("return",t);case 3:return i=nee(t,n,X9.leftBounds[0],X9.leftBounds[1],a,!0),o=i.box,s=i.boxSize,u=i.crop,l=nee(t,n,X9.rightBounds[0],X9.rightBounds[1],a,!0),c=l.box,d=l.boxSize,f=l.crop,p=Dh([u,f]),Df(u),Df(f),h=F9.execute(p),Df(p),e.next=12,h.data();case 12:return m=e.sent,Df(h),g=m.slice(0,3*J9),v=ree(g,o,s,!0),y=v.rawCoords,b=v.iris,x=m.slice(3*J9),A=ree(x,c,d,!1),w=A.rawCoords,k=A.iris,S=tee(t),Math.abs(S)<30?(eee(t,y,"left",null),eee(t,w,"right",null)):S<1?eee(t,y,"left",["EyeUpper0","EyeLower0"]):eee(t,w,"right",["EyeUpper0","EyeLower0"]),C=aee(t,b,"left"),I=aee(t,k,"right"),E=t.concat(C).concat(I),e.abrupt("return",E);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function see(e){var t=e.map((function(e){return e[0]}));return t.push(e[e.length-1][1]),t}var uee={lips:see([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:see([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:see([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:see([[474,475],[475,476],[476,477],[477,474]]),rightEye:see([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:see([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:see([[469,470],[470,471],[471,472],[472,469]]),faceOval:see([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},lee=Object.entries(uee).map((function(e){var t=(0,o.Z)(e,2),n=t[0];return t[1].map((function(e){return[e,n]}))})).flat(),cee=(new Map(lee),[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407]),dee=[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],fee=[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417];function pee(e,t){return hee.apply(this,arguments)}function hee(){return hee=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.filter((function(e){return 160===e.size}))[0].data();case 2:return e.t0=e.sent,e.next=5,n.filter((function(e){return 10===e.size}))[0].data();case 5:return e.t1=e.sent,e.next=8,n.filter((function(e){return 142===e.size}))[0].data();case 8:return e.t2=e.sent,e.next=11,n.filter((function(e){return 10===e.size}))[1].data();case 11:return e.t3=e.sent,e.next=14,n.filter((function(e){return 142===e.size}))[1].data();case 14:for(e.t4=e.sent,r={lips:e.t0,irisL:e.t1,eyeL:e.t2,irisR:e.t3,eyeR:e.t4},a=dee.reduce((function(e,n){return e+t[n][2]}),0)/dee.length,i=0;i<r.irisL.length/2;i++)t.push([r.irisL[2*i+0],r.irisL[2*i+1],a]);for(o=fee.reduce((function(e,n){return e+t[n][2]}),0)/fee.length,s=0;s<r.irisR.length/2;s++)t.push([r.irisR[2*s+0],r.irisR[2*s+1],o]);for(u=0;u<r.eyeL.length/2;u++)t[dee[u]]=[r.eyeL[2*u+0],r.eyeL[2*u+1],t[dee[u]][2]];for(l=0;l<r.eyeR.length/2;l++)t[fee[l]]=[r.eyeR[2*l+0],r.eyeR[2*l+1],t[fee[l]][2]];for(c=0;c<r.lips.length/2;c++)t[cee[c]]=[r.lips[2*c+0],r.lips[2*c+1],t[cee[c]][2]];return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e)}))),hee.apply(this,arguments)}var mee={boxes:[],skipped:Number.MAX_SAFE_INTEGER,timestamp:0},gee=null,vee=0;function yee(e,t){return bee.apply(this,arguments)}function bee(){return bee=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=((null==(r=n.face.detector)?void 0:r.skipTime)||0)>la()-mee.timestamp,v=mee.skipped<((null==(a=n.face.detector)?void 0:a.skipFrames)||0),n.skipAllowed&&g&&v&&0!==mee.boxes.length){e.next=10;break}return e.next=5,b8(t,n);case 5:mee.boxes=e.sent,mee.timestamp=la(),mee.skipped=0,e.next=11;break;case 10:mee.skipped++;case 11:y=[],b=[],x=0,A=(0,Er.Z)().mark((function e(r){var a,g,v,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D,L,z,Z,W;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=mee.boxes[r],g=0,v=void 0,A={id:x++,mesh:[],meshRaw:[],box:[0,0,0,0],boxRaw:[0,0,0,0],score:0,boxScore:0,faceScore:0,annotations:{}},w=l8(null==(i=n.face.detector)?void 0:i.rotation,a,t,(null==(u=n.face.mesh)?void 0:u.enabled)?vee:m8()),k=(0,o.Z)(w,3),g=k[0],v=k[1],A.tensor=k[2],!(null==(l=null==n?void 0:n.filter)?void 0:l.equalization)){e.next=15;break}return e.next=12,T7(A.tensor);case 12:S=e.sent,Df(A.tensor),A.tensor=S;case 15:if(A.boxScore=Math.round(100*a.confidence)/100,null==(c=n.face.mesh)?void 0:c.enabled){e.next=25;break}for(A.box=X6(a,t),A.boxRaw=Y6(a,t),A.score=A.boxScore,A.mesh=a.landmarks.map((function(e){return[(a.startPoint[0]+a.endPoint[0])/2+(a.endPoint[0]+a.startPoint[0])*e[0]/m8(),(a.startPoint[1]+a.endPoint[1])/2+(a.endPoint[1]+a.startPoint[1])*e[1]/m8()]})),A.meshRaw=A.mesh.map((function(e){return[e[0]/(t.shape[2]||0),e[1]/(t.shape[1]||0),(e[2]||0)/vee]})),C=0,I=Object.keys(W6);C<I.length;C++)E=I[C],A.annotations[E]=[A.mesh[W6[E]]];e.next=64;break;case 25:if(gee){e.next=29;break}n.debug&&sa("face mesh detection requested, but model is not loaded"),e.next=64;break;case 29:return T=gee.execute(A.tensor),N=T.find((function(e){return 1===e.shape[e.shape.length-1]})),O=T.find((function(e){return 1404===e.shape[e.shape.length-1]})),e.next=34,N.data();case 34:return P=e.sent,A.faceScore=Math.round(100*P[0])/100,_=Mh(O,[-1,3]),e.next=39,_.array();case 39:if(M=e.sent,!(A.faceScore<((null==(d=n.face.detector)?void 0:d.minConfidence)||1))){e.next=45;break}if(a.confidence=A.faceScore,null==(f=n.face.mesh)?void 0:f.keepInvalid)for(A.box=X6(a,t),A.boxRaw=Y6(a,t),A.score=A.boxScore,A.mesh=a.landmarks.map((function(e){return[(a.startPoint[0]+a.endPoint[0])/2+(a.endPoint[0]+a.startPoint[0])*e[0]/m8(),(a.startPoint[1]+a.endPoint[1])/2+(a.endPoint[1]+a.startPoint[1])*e[1]/m8()]})),A.meshRaw=A.mesh.map((function(e){return[e[0]/(t.shape[2]||0),e[1]/(t.shape[1]||0),(e[2]||0)/vee]})),R=0,F=Object.keys(W6);R<F.length;R++)D=F[R],A.annotations[D]=[A.mesh[W6[D]]];e.next=63;break;case 45:if(!(null==(p=n.face.attention)?void 0:p.enabled)){e.next=51;break}return e.next=48,pee(M,T);case 48:M=e.sent,e.next=55;break;case 51:if(!(null==(h=n.face.iris)?void 0:h.enabled)){e.next=55;break}return e.next=54,iee(M,A.tensor,n,vee);case 54:M=e.sent;case 55:for(A.mesh=u8(M,a,g,v,vee),A.meshRaw=A.mesh.map((function(e){return[e[0]/(t.shape[2]||0),e[1]/(t.shape[1]||0),(e[2]||0)/vee]})),L=0,z=Object.keys(z6);L<z.length;L++)Z=z[L],A.annotations[Z]=z6[Z].map((function(e){return A.mesh[e]}));A.score=A.faceScore,W=(0,s.Z)((0,s.Z)({},d8(A.mesh,a)),{},{confidence:a.confidence,landmarks:a.landmarks}),A.box=X6(W,t),A.boxRaw=Y6(W,t),b.push(W);case 63:Df([].concat((0,qr.Z)(T),[_]));case 64:A.score>((null==(m=n.face.detector)?void 0:m.minConfidence)||1)?y.push(A):Df(A.tensor);case 65:case"end":return e.stop()}}),e)})),w=0;case 16:if(!(w<mee.boxes.length)){e.next=21;break}return e.delegateYield(A(w),"t0",18);case 18:w++,e.next=16;break;case 21:return mee.boxes=b,e.abrupt("return",y);case 23:case"end":return e.stop()}}),e)}))),bee.apply(this,arguments)}function xee(e){return Aee.apply(this,arguments)}function Aee(){return(Aee=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(gee=null),(null==(r=null==(n=null==t?void 0:t.face)?void 0:n.attention)?void 0:r.enabled)&&(null==gee?void 0:gee.signature)&&Object.keys((null==(a=null==gee?void 0:gee.signature)?void 0:a.outputs)||{}).length<6&&(gee=null),gee){e.next=14;break}if(!(null==(i=t.face.attention)?void 0:i.enabled)){e.next=9;break}return e.next=6,Y7(null==(o=t.face.attention)?void 0:o.modelPath);case 6:gee=e.sent,e.next=12;break;case 9:return e.next=11,Y7(null==(s=t.face.mesh)?void 0:s.modelPath);case 11:gee=e.sent;case 12:e.next=15;break;case 14:t.debug&&sa("cached model:",gee.modelUrl);case 15:return vee=gee.inputs[0].shape?gee.inputs[0].shape[2]:0,e.abrupt("return",gee);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wee,kee=V6,See=j6,Cee=[],Iee=0,Eee=0,Tee=Number.MAX_SAFE_INTEGER;function Nee(e){return Oee.apply(this,arguments)}function Oee(){return(Oee=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(wee=null),wee){e.next=7;break}return e.next=4,Y7(null==(n=t.face.description)?void 0:n.modelPath);case 4:wee=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",wee.modelUrl);case 8:return e.abrupt("return",wee);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pee(e){var t=e.image||e.tensor||e;if(!(null==wee?void 0:wee.inputs[0].shape))return t;var n=Ob.resizeBilinear(t,[wee.inputs[0].shape[2],wee.inputs[0].shape[1]],!1),r=rh(n,l6.tf255);return Df(n),r}function _ee(e,t,n,r){return Mee.apply(this,arguments)}function Mee(){return Mee=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u,l,c;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wee){e.next=2;break}return e.abrupt("return",{age:0,gender:"unknown",genderScore:0,descriptor:[]});case 2:if(l=Tee<((null==(i=n.face.description)?void 0:i.skipFrames)||0),c=((null==(o=n.face.description)?void 0:o.skipTime)||0)>la()-Iee,!(n.skipAllowed&&l&&c&&Eee===a&&(null==(s=Cee[r])?void 0:s.age)&&(null==(u=Cee[r])?void 0:u.age)>0)){e.next=7;break}return Tee++,e.abrupt("return",Cee[r]);case 7:return Tee=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(i){var o,s,u,l,c,d,f,p,h,m,g,v,y,b;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u={age:0,gender:"unknown",genderScore:0,descriptor:[]},!(null==(o=n.face.description)?void 0:o.enabled)){e.next=35;break}return l=Pee(t),c=null==wee?void 0:wee.execute(l),Iee=la(),Df(l),e.next=8,c.find((function(e){return 1===e.shape[1]}));case 8:return d=e.sent,e.next=11,d.data();case 11:return f=e.sent,(p=Math.trunc(200*Math.abs(f[0]-.5))/100)>((null==(s=n.face.description)?void 0:s.minConfidence)||0)&&(u.gender=f[0]<=.5?"female":"male",u.genderScore=Math.min(.99,p)),h=ch(c.find((function(e){return 100===e.shape[1]})),1),e.next=17,h.data();case 17:return m=e.sent[0],Df(h),g=c.find((function(e){return 100===e.shape[1]})),e.next=22,g.data();case 22:if(v=e.sent,u.age=Math.round(v[m-1]>v[m+1]?10*m-100*v[m-1]:10*m+100*v[m+1])/10,y=c.find((function(e){return 1024===e.shape[1]})),!y){e.next=31;break}return e.next=28,y.data();case 28:e.t0=e.sent,e.next=32;break;case 31:e.t0=[];case 32:b=e.t0,u.descriptor=Array.from(b),c.forEach((function(e){return Df(e)}));case 35:Cee[r]=u,Eee=a,i(u);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),Mee.apply(this,arguments)}function Ree(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function Fee(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function Dee(e,t,n){var r=t.shape[1],a=t.shape[2],i=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return Ob.cropAndResize(t,i,[0],n)}function Lee(e,t){return{startPoint:[e.startPoint[0]*t[0],e.startPoint[1]*t[1]],endPoint:[e.endPoint[0]*t[0],e.endPoint[1]*t[1]],palmLandmarks:e.palmLandmarks.map((function(e){return[e[0]*t[0],e[1]*t[1]]})),confidence:e.confidence}}function zee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,n=Fee(e),r=Ree(e),a=[t*r[0]/2,t*r[1]/2],i=[n[0]-a[0],n[1]-a[1]],o=[n[0]+a[0],n[1]+a[1]];return{startPoint:i,endPoint:o,palmLandmarks:e.palmLandmarks}}function Zee(e){var t=Fee(e),n=Ree(e),r=Math.max.apply(Math,(0,qr.Z)(n))/2;return{startPoint:[t[0]-r,t[1]-r],endPoint:[t[0]+r,t[1]+r],palmLandmarks:e.palmLandmarks}}function Wee(e,t){var n,r=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]);return(n=r)-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}var Bee=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};function jee(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function Vee(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function Hee(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var i=0;i<r;i++)n[a].push(jee(e[a],Vee(t,i)))}return n}function Uee(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],i=Hee(Bee(t[0],t[1]),a);return Hee(i,Bee(-t[0],-t[1]))}function Gee(e,t){return[jee(e,t[0]),jee(e,t[1])]}var Xee=[{x:.015625,y:.015625},{x:.015625,y:.015625},{x:.046875,y:.015625},{x:.046875,y:.015625},{x:.078125,y:.015625},{x:.078125,y:.015625},{x:.109375,y:.015625},{x:.109375,y:.015625},{x:.140625,y:.015625},{x:.140625,y:.015625},{x:.171875,y:.015625},{x:.171875,y:.015625},{x:.203125,y:.015625},{x:.203125,y:.015625},{x:.234375,y:.015625},{x:.234375,y:.015625},{x:.265625,y:.015625},{x:.265625,y:.015625},{x:.296875,y:.015625},{x:.296875,y:.015625},{x:.328125,y:.015625},{x:.328125,y:.015625},{x:.359375,y:.015625},{x:.359375,y:.015625},{x:.390625,y:.015625},{x:.390625,y:.015625},{x:.421875,y:.015625},{x:.421875,y:.015625},{x:.453125,y:.015625},{x:.453125,y:.015625},{x:.484375,y:.015625},{x:.484375,y:.015625},{x:.515625,y:.015625},{x:.515625,y:.015625},{x:.546875,y:.015625},{x:.546875,y:.015625},{x:.578125,y:.015625},{x:.578125,y:.015625},{x:.609375,y:.015625},{x:.609375,y:.015625},{x:.640625,y:.015625},{x:.640625,y:.015625},{x:.671875,y:.015625},{x:.671875,y:.015625},{x:.703125,y:.015625},{x:.703125,y:.015625},{x:.734375,y:.015625},{x:.734375,y:.015625},{x:.765625,y:.015625},{x:.765625,y:.015625},{x:.796875,y:.015625},{x:.796875,y:.015625},{x:.828125,y:.015625},{x:.828125,y:.015625},{x:.859375,y:.015625},{x:.859375,y:.015625},{x:.890625,y:.015625},{x:.890625,y:.015625},{x:.921875,y:.015625},{x:.921875,y:.015625},{x:.953125,y:.015625},{x:.953125,y:.015625},{x:.984375,y:.015625},{x:.984375,y:.015625},{x:.015625,y:.046875},{x:.015625,y:.046875},{x:.046875,y:.046875},{x:.046875,y:.046875},{x:.078125,y:.046875},{x:.078125,y:.046875},{x:.109375,y:.046875},{x:.109375,y:.046875},{x:.140625,y:.046875},{x:.140625,y:.046875},{x:.171875,y:.046875},{x:.171875,y:.046875},{x:.203125,y:.046875},{x:.203125,y:.046875},{x:.234375,y:.046875},{x:.234375,y:.046875},{x:.265625,y:.046875},{x:.265625,y:.046875},{x:.296875,y:.046875},{x:.296875,y:.046875},{x:.328125,y:.046875},{x:.328125,y:.046875},{x:.359375,y:.046875},{x:.359375,y:.046875},{x:.390625,y:.046875},{x:.390625,y:.046875},{x:.421875,y:.046875},{x:.421875,y:.046875},{x:.453125,y:.046875},{x:.453125,y:.046875},{x:.484375,y:.046875},{x:.484375,y:.046875},{x:.515625,y:.046875},{x:.515625,y:.046875},{x:.546875,y:.046875},{x:.546875,y:.046875},{x:.578125,y:.046875},{x:.578125,y:.046875},{x:.609375,y:.046875},{x:.609375,y:.046875},{x:.640625,y:.046875},{x:.640625,y:.046875},{x:.671875,y:.046875},{x:.671875,y:.046875},{x:.703125,y:.046875},{x:.703125,y:.046875},{x:.734375,y:.046875},{x:.734375,y:.046875},{x:.765625,y:.046875},{x:.765625,y:.046875},{x:.796875,y:.046875},{x:.796875,y:.046875},{x:.828125,y:.046875},{x:.828125,y:.046875},{x:.859375,y:.046875},{x:.859375,y:.046875},{x:.890625,y:.046875},{x:.890625,y:.046875},{x:.921875,y:.046875},{x:.921875,y:.046875},{x:.953125,y:.046875},{x:.953125,y:.046875},{x:.984375,y:.046875},{x:.984375,y:.046875},{x:.015625,y:.078125},{x:.015625,y:.078125},{x:.046875,y:.078125},{x:.046875,y:.078125},{x:.078125,y:.078125},{x:.078125,y:.078125},{x:.109375,y:.078125},{x:.109375,y:.078125},{x:.140625,y:.078125},{x:.140625,y:.078125},{x:.171875,y:.078125},{x:.171875,y:.078125},{x:.203125,y:.078125},{x:.203125,y:.078125},{x:.234375,y:.078125},{x:.234375,y:.078125},{x:.265625,y:.078125},{x:.265625,y:.078125},{x:.296875,y:.078125},{x:.296875,y:.078125},{x:.328125,y:.078125},{x:.328125,y:.078125},{x:.359375,y:.078125},{x:.359375,y:.078125},{x:.390625,y:.078125},{x:.390625,y:.078125},{x:.421875,y:.078125},{x:.421875,y:.078125},{x:.453125,y:.078125},{x:.453125,y:.078125},{x:.484375,y:.078125},{x:.484375,y:.078125},{x:.515625,y:.078125},{x:.515625,y:.078125},{x:.546875,y:.078125},{x:.546875,y:.078125},{x:.578125,y:.078125},{x:.578125,y:.078125},{x:.609375,y:.078125},{x:.609375,y:.078125},{x:.640625,y:.078125},{x:.640625,y:.078125},{x:.671875,y:.078125},{x:.671875,y:.078125},{x:.703125,y:.078125},{x:.703125,y:.078125},{x:.734375,y:.078125},{x:.734375,y:.078125},{x:.765625,y:.078125},{x:.765625,y:.078125},{x:.796875,y:.078125},{x:.796875,y:.078125},{x:.828125,y:.078125},{x:.828125,y:.078125},{x:.859375,y:.078125},{x:.859375,y:.078125},{x:.890625,y:.078125},{x:.890625,y:.078125},{x:.921875,y:.078125},{x:.921875,y:.078125},{x:.953125,y:.078125},{x:.953125,y:.078125},{x:.984375,y:.078125},{x:.984375,y:.078125},{x:.015625,y:.109375},{x:.015625,y:.109375},{x:.046875,y:.109375},{x:.046875,y:.109375},{x:.078125,y:.109375},{x:.078125,y:.109375},{x:.109375,y:.109375},{x:.109375,y:.109375},{x:.140625,y:.109375},{x:.140625,y:.109375},{x:.171875,y:.109375},{x:.171875,y:.109375},{x:.203125,y:.109375},{x:.203125,y:.109375},{x:.234375,y:.109375},{x:.234375,y:.109375},{x:.265625,y:.109375},{x:.265625,y:.109375},{x:.296875,y:.109375},{x:.296875,y:.109375},{x:.328125,y:.109375},{x:.328125,y:.109375},{x:.359375,y:.109375},{x:.359375,y:.109375},{x:.390625,y:.109375},{x:.390625,y:.109375},{x:.421875,y:.109375},{x:.421875,y:.109375},{x:.453125,y:.109375},{x:.453125,y:.109375},{x:.484375,y:.109375},{x:.484375,y:.109375},{x:.515625,y:.109375},{x:.515625,y:.109375},{x:.546875,y:.109375},{x:.546875,y:.109375},{x:.578125,y:.109375},{x:.578125,y:.109375},{x:.609375,y:.109375},{x:.609375,y:.109375},{x:.640625,y:.109375},{x:.640625,y:.109375},{x:.671875,y:.109375},{x:.671875,y:.109375},{x:.703125,y:.109375},{x:.703125,y:.109375},{x:.734375,y:.109375},{x:.734375,y:.109375},{x:.765625,y:.109375},{x:.765625,y:.109375},{x:.796875,y:.109375},{x:.796875,y:.109375},{x:.828125,y:.109375},{x:.828125,y:.109375},{x:.859375,y:.109375},{x:.859375,y:.109375},{x:.890625,y:.109375},{x:.890625,y:.109375},{x:.921875,y:.109375},{x:.921875,y:.109375},{x:.953125,y:.109375},{x:.953125,y:.109375},{x:.984375,y:.109375},{x:.984375,y:.109375},{x:.015625,y:.140625},{x:.015625,y:.140625},{x:.046875,y:.140625},{x:.046875,y:.140625},{x:.078125,y:.140625},{x:.078125,y:.140625},{x:.109375,y:.140625},{x:.109375,y:.140625},{x:.140625,y:.140625},{x:.140625,y:.140625},{x:.171875,y:.140625},{x:.171875,y:.140625},{x:.203125,y:.140625},{x:.203125,y:.140625},{x:.234375,y:.140625},{x:.234375,y:.140625},{x:.265625,y:.140625},{x:.265625,y:.140625},{x:.296875,y:.140625},{x:.296875,y:.140625},{x:.328125,y:.140625},{x:.328125,y:.140625},{x:.359375,y:.140625},{x:.359375,y:.140625},{x:.390625,y:.140625},{x:.390625,y:.140625},{x:.421875,y:.140625},{x:.421875,y:.140625},{x:.453125,y:.140625},{x:.453125,y:.140625},{x:.484375,y:.140625},{x:.484375,y:.140625},{x:.515625,y:.140625},{x:.515625,y:.140625},{x:.546875,y:.140625},{x:.546875,y:.140625},{x:.578125,y:.140625},{x:.578125,y:.140625},{x:.609375,y:.140625},{x:.609375,y:.140625},{x:.640625,y:.140625},{x:.640625,y:.140625},{x:.671875,y:.140625},{x:.671875,y:.140625},{x:.703125,y:.140625},{x:.703125,y:.140625},{x:.734375,y:.140625},{x:.734375,y:.140625},{x:.765625,y:.140625},{x:.765625,y:.140625},{x:.796875,y:.140625},{x:.796875,y:.140625},{x:.828125,y:.140625},{x:.828125,y:.140625},{x:.859375,y:.140625},{x:.859375,y:.140625},{x:.890625,y:.140625},{x:.890625,y:.140625},{x:.921875,y:.140625},{x:.921875,y:.140625},{x:.953125,y:.140625},{x:.953125,y:.140625},{x:.984375,y:.140625},{x:.984375,y:.140625},{x:.015625,y:.171875},{x:.015625,y:.171875},{x:.046875,y:.171875},{x:.046875,y:.171875},{x:.078125,y:.171875},{x:.078125,y:.171875},{x:.109375,y:.171875},{x:.109375,y:.171875},{x:.140625,y:.171875},{x:.140625,y:.171875},{x:.171875,y:.171875},{x:.171875,y:.171875},{x:.203125,y:.171875},{x:.203125,y:.171875},{x:.234375,y:.171875},{x:.234375,y:.171875},{x:.265625,y:.171875},{x:.265625,y:.171875},{x:.296875,y:.171875},{x:.296875,y:.171875},{x:.328125,y:.171875},{x:.328125,y:.171875},{x:.359375,y:.171875},{x:.359375,y:.171875},{x:.390625,y:.171875},{x:.390625,y:.171875},{x:.421875,y:.171875},{x:.421875,y:.171875},{x:.453125,y:.171875},{x:.453125,y:.171875},{x:.484375,y:.171875},{x:.484375,y:.171875},{x:.515625,y:.171875},{x:.515625,y:.171875},{x:.546875,y:.171875},{x:.546875,y:.171875},{x:.578125,y:.171875},{x:.578125,y:.171875},{x:.609375,y:.171875},{x:.609375,y:.171875},{x:.640625,y:.171875},{x:.640625,y:.171875},{x:.671875,y:.171875},{x:.671875,y:.171875},{x:.703125,y:.171875},{x:.703125,y:.171875},{x:.734375,y:.171875},{x:.734375,y:.171875},{x:.765625,y:.171875},{x:.765625,y:.171875},{x:.796875,y:.171875},{x:.796875,y:.171875},{x:.828125,y:.171875},{x:.828125,y:.171875},{x:.859375,y:.171875},{x:.859375,y:.171875},{x:.890625,y:.171875},{x:.890625,y:.171875},{x:.921875,y:.171875},{x:.921875,y:.171875},{x:.953125,y:.171875},{x:.953125,y:.171875},{x:.984375,y:.171875},{x:.984375,y:.171875},{x:.015625,y:.203125},{x:.015625,y:.203125},{x:.046875,y:.203125},{x:.046875,y:.203125},{x:.078125,y:.203125},{x:.078125,y:.203125},{x:.109375,y:.203125},{x:.109375,y:.203125},{x:.140625,y:.203125},{x:.140625,y:.203125},{x:.171875,y:.203125},{x:.171875,y:.203125},{x:.203125,y:.203125},{x:.203125,y:.203125},{x:.234375,y:.203125},{x:.234375,y:.203125},{x:.265625,y:.203125},{x:.265625,y:.203125},{x:.296875,y:.203125},{x:.296875,y:.203125},{x:.328125,y:.203125},{x:.328125,y:.203125},{x:.359375,y:.203125},{x:.359375,y:.203125},{x:.390625,y:.203125},{x:.390625,y:.203125},{x:.421875,y:.203125},{x:.421875,y:.203125},{x:.453125,y:.203125},{x:.453125,y:.203125},{x:.484375,y:.203125},{x:.484375,y:.203125},{x:.515625,y:.203125},{x:.515625,y:.203125},{x:.546875,y:.203125},{x:.546875,y:.203125},{x:.578125,y:.203125},{x:.578125,y:.203125},{x:.609375,y:.203125},{x:.609375,y:.203125},{x:.640625,y:.203125},{x:.640625,y:.203125},{x:.671875,y:.203125},{x:.671875,y:.203125},{x:.703125,y:.203125},{x:.703125,y:.203125},{x:.734375,y:.203125},{x:.734375,y:.203125},{x:.765625,y:.203125},{x:.765625,y:.203125},{x:.796875,y:.203125},{x:.796875,y:.203125},{x:.828125,y:.203125},{x:.828125,y:.203125},{x:.859375,y:.203125},{x:.859375,y:.203125},{x:.890625,y:.203125},{x:.890625,y:.203125},{x:.921875,y:.203125},{x:.921875,y:.203125},{x:.953125,y:.203125},{x:.953125,y:.203125},{x:.984375,y:.203125},{x:.984375,y:.203125},{x:.015625,y:.234375},{x:.015625,y:.234375},{x:.046875,y:.234375},{x:.046875,y:.234375},{x:.078125,y:.234375},{x:.078125,y:.234375},{x:.109375,y:.234375},{x:.109375,y:.234375},{x:.140625,y:.234375},{x:.140625,y:.234375},{x:.171875,y:.234375},{x:.171875,y:.234375},{x:.203125,y:.234375},{x:.203125,y:.234375},{x:.234375,y:.234375},{x:.234375,y:.234375},{x:.265625,y:.234375},{x:.265625,y:.234375},{x:.296875,y:.234375},{x:.296875,y:.234375},{x:.328125,y:.234375},{x:.328125,y:.234375},{x:.359375,y:.234375},{x:.359375,y:.234375},{x:.390625,y:.234375},{x:.390625,y:.234375},{x:.421875,y:.234375},{x:.421875,y:.234375},{x:.453125,y:.234375},{x:.453125,y:.234375},{x:.484375,y:.234375},{x:.484375,y:.234375},{x:.515625,y:.234375},{x:.515625,y:.234375},{x:.546875,y:.234375},{x:.546875,y:.234375},{x:.578125,y:.234375},{x:.578125,y:.234375},{x:.609375,y:.234375},{x:.609375,y:.234375},{x:.640625,y:.234375},{x:.640625,y:.234375},{x:.671875,y:.234375},{x:.671875,y:.234375},{x:.703125,y:.234375},{x:.703125,y:.234375},{x:.734375,y:.234375},{x:.734375,y:.234375},{x:.765625,y:.234375},{x:.765625,y:.234375},{x:.796875,y:.234375},{x:.796875,y:.234375},{x:.828125,y:.234375},{x:.828125,y:.234375},{x:.859375,y:.234375},{x:.859375,y:.234375},{x:.890625,y:.234375},{x:.890625,y:.234375},{x:.921875,y:.234375},{x:.921875,y:.234375},{x:.953125,y:.234375},{x:.953125,y:.234375},{x:.984375,y:.234375},{x:.984375,y:.234375},{x:.015625,y:.265625},{x:.015625,y:.265625},{x:.046875,y:.265625},{x:.046875,y:.265625},{x:.078125,y:.265625},{x:.078125,y:.265625},{x:.109375,y:.265625},{x:.109375,y:.265625},{x:.140625,y:.265625},{x:.140625,y:.265625},{x:.171875,y:.265625},{x:.171875,y:.265625},{x:.203125,y:.265625},{x:.203125,y:.265625},{x:.234375,y:.265625},{x:.234375,y:.265625},{x:.265625,y:.265625},{x:.265625,y:.265625},{x:.296875,y:.265625},{x:.296875,y:.265625},{x:.328125,y:.265625},{x:.328125,y:.265625},{x:.359375,y:.265625},{x:.359375,y:.265625},{x:.390625,y:.265625},{x:.390625,y:.265625},{x:.421875,y:.265625},{x:.421875,y:.265625},{x:.453125,y:.265625},{x:.453125,y:.265625},{x:.484375,y:.265625},{x:.484375,y:.265625},{x:.515625,y:.265625},{x:.515625,y:.265625},{x:.546875,y:.265625},{x:.546875,y:.265625},{x:.578125,y:.265625},{x:.578125,y:.265625},{x:.609375,y:.265625},{x:.609375,y:.265625},{x:.640625,y:.265625},{x:.640625,y:.265625},{x:.671875,y:.265625},{x:.671875,y:.265625},{x:.703125,y:.265625},{x:.703125,y:.265625},{x:.734375,y:.265625},{x:.734375,y:.265625},{x:.765625,y:.265625},{x:.765625,y:.265625},{x:.796875,y:.265625},{x:.796875,y:.265625},{x:.828125,y:.265625},{x:.828125,y:.265625},{x:.859375,y:.265625},{x:.859375,y:.265625},{x:.890625,y:.265625},{x:.890625,y:.265625},{x:.921875,y:.265625},{x:.921875,y:.265625},{x:.953125,y:.265625},{x:.953125,y:.265625},{x:.984375,y:.265625},{x:.984375,y:.265625},{x:.015625,y:.296875},{x:.015625,y:.296875},{x:.046875,y:.296875},{x:.046875,y:.296875},{x:.078125,y:.296875},{x:.078125,y:.296875},{x:.109375,y:.296875},{x:.109375,y:.296875},{x:.140625,y:.296875},{x:.140625,y:.296875},{x:.171875,y:.296875},{x:.171875,y:.296875},{x:.203125,y:.296875},{x:.203125,y:.296875},{x:.234375,y:.296875},{x:.234375,y:.296875},{x:.265625,y:.296875},{x:.265625,y:.296875},{x:.296875,y:.296875},{x:.296875,y:.296875},{x:.328125,y:.296875},{x:.328125,y:.296875},{x:.359375,y:.296875},{x:.359375,y:.296875},{x:.390625,y:.296875},{x:.390625,y:.296875},{x:.421875,y:.296875},{x:.421875,y:.296875},{x:.453125,y:.296875},{x:.453125,y:.296875},{x:.484375,y:.296875},{x:.484375,y:.296875},{x:.515625,y:.296875},{x:.515625,y:.296875},{x:.546875,y:.296875},{x:.546875,y:.296875},{x:.578125,y:.296875},{x:.578125,y:.296875},{x:.609375,y:.296875},{x:.609375,y:.296875},{x:.640625,y:.296875},{x:.640625,y:.296875},{x:.671875,y:.296875},{x:.671875,y:.296875},{x:.703125,y:.296875},{x:.703125,y:.296875},{x:.734375,y:.296875},{x:.734375,y:.296875},{x:.765625,y:.296875},{x:.765625,y:.296875},{x:.796875,y:.296875},{x:.796875,y:.296875},{x:.828125,y:.296875},{x:.828125,y:.296875},{x:.859375,y:.296875},{x:.859375,y:.296875},{x:.890625,y:.296875},{x:.890625,y:.296875},{x:.921875,y:.296875},{x:.921875,y:.296875},{x:.953125,y:.296875},{x:.953125,y:.296875},{x:.984375,y:.296875},{x:.984375,y:.296875},{x:.015625,y:.328125},{x:.015625,y:.328125},{x:.046875,y:.328125},{x:.046875,y:.328125},{x:.078125,y:.328125},{x:.078125,y:.328125},{x:.109375,y:.328125},{x:.109375,y:.328125},{x:.140625,y:.328125},{x:.140625,y:.328125},{x:.171875,y:.328125},{x:.171875,y:.328125},{x:.203125,y:.328125},{x:.203125,y:.328125},{x:.234375,y:.328125},{x:.234375,y:.328125},{x:.265625,y:.328125},{x:.265625,y:.328125},{x:.296875,y:.328125},{x:.296875,y:.328125},{x:.328125,y:.328125},{x:.328125,y:.328125},{x:.359375,y:.328125},{x:.359375,y:.328125},{x:.390625,y:.328125},{x:.390625,y:.328125},{x:.421875,y:.328125},{x:.421875,y:.328125},{x:.453125,y:.328125},{x:.453125,y:.328125},{x:.484375,y:.328125},{x:.484375,y:.328125},{x:.515625,y:.328125},{x:.515625,y:.328125},{x:.546875,y:.328125},{x:.546875,y:.328125},{x:.578125,y:.328125},{x:.578125,y:.328125},{x:.609375,y:.328125},{x:.609375,y:.328125},{x:.640625,y:.328125},{x:.640625,y:.328125},{x:.671875,y:.328125},{x:.671875,y:.328125},{x:.703125,y:.328125},{x:.703125,y:.328125},{x:.734375,y:.328125},{x:.734375,y:.328125},{x:.765625,y:.328125},{x:.765625,y:.328125},{x:.796875,y:.328125},{x:.796875,y:.328125},{x:.828125,y:.328125},{x:.828125,y:.328125},{x:.859375,y:.328125},{x:.859375,y:.328125},{x:.890625,y:.328125},{x:.890625,y:.328125},{x:.921875,y:.328125},{x:.921875,y:.328125},{x:.953125,y:.328125},{x:.953125,y:.328125},{x:.984375,y:.328125},{x:.984375,y:.328125},{x:.015625,y:.359375},{x:.015625,y:.359375},{x:.046875,y:.359375},{x:.046875,y:.359375},{x:.078125,y:.359375},{x:.078125,y:.359375},{x:.109375,y:.359375},{x:.109375,y:.359375},{x:.140625,y:.359375},{x:.140625,y:.359375},{x:.171875,y:.359375},{x:.171875,y:.359375},{x:.203125,y:.359375},{x:.203125,y:.359375},{x:.234375,y:.359375},{x:.234375,y:.359375},{x:.265625,y:.359375},{x:.265625,y:.359375},{x:.296875,y:.359375},{x:.296875,y:.359375},{x:.328125,y:.359375},{x:.328125,y:.359375},{x:.359375,y:.359375},{x:.359375,y:.359375},{x:.390625,y:.359375},{x:.390625,y:.359375},{x:.421875,y:.359375},{x:.421875,y:.359375},{x:.453125,y:.359375},{x:.453125,y:.359375},{x:.484375,y:.359375},{x:.484375,y:.359375},{x:.515625,y:.359375},{x:.515625,y:.359375},{x:.546875,y:.359375},{x:.546875,y:.359375},{x:.578125,y:.359375},{x:.578125,y:.359375},{x:.609375,y:.359375},{x:.609375,y:.359375},{x:.640625,y:.359375},{x:.640625,y:.359375},{x:.671875,y:.359375},{x:.671875,y:.359375},{x:.703125,y:.359375},{x:.703125,y:.359375},{x:.734375,y:.359375},{x:.734375,y:.359375},{x:.765625,y:.359375},{x:.765625,y:.359375},{x:.796875,y:.359375},{x:.796875,y:.359375},{x:.828125,y:.359375},{x:.828125,y:.359375},{x:.859375,y:.359375},{x:.859375,y:.359375},{x:.890625,y:.359375},{x:.890625,y:.359375},{x:.921875,y:.359375},{x:.921875,y:.359375},{x:.953125,y:.359375},{x:.953125,y:.359375},{x:.984375,y:.359375},{x:.984375,y:.359375},{x:.015625,y:.390625},{x:.015625,y:.390625},{x:.046875,y:.390625},{x:.046875,y:.390625},{x:.078125,y:.390625},{x:.078125,y:.390625},{x:.109375,y:.390625},{x:.109375,y:.390625},{x:.140625,y:.390625},{x:.140625,y:.390625},{x:.171875,y:.390625},{x:.171875,y:.390625},{x:.203125,y:.390625},{x:.203125,y:.390625},{x:.234375,y:.390625},{x:.234375,y:.390625},{x:.265625,y:.390625},{x:.265625,y:.390625},{x:.296875,y:.390625},{x:.296875,y:.390625},{x:.328125,y:.390625},{x:.328125,y:.390625},{x:.359375,y:.390625},{x:.359375,y:.390625},{x:.390625,y:.390625},{x:.390625,y:.390625},{x:.421875,y:.390625},{x:.421875,y:.390625},{x:.453125,y:.390625},{x:.453125,y:.390625},{x:.484375,y:.390625},{x:.484375,y:.390625},{x:.515625,y:.390625},{x:.515625,y:.390625},{x:.546875,y:.390625},{x:.546875,y:.390625},{x:.578125,y:.390625},{x:.578125,y:.390625},{x:.609375,y:.390625},{x:.609375,y:.390625},{x:.640625,y:.390625},{x:.640625,y:.390625},{x:.671875,y:.390625},{x:.671875,y:.390625},{x:.703125,y:.390625},{x:.703125,y:.390625},{x:.734375,y:.390625},{x:.734375,y:.390625},{x:.765625,y:.390625},{x:.765625,y:.390625},{x:.796875,y:.390625},{x:.796875,y:.390625},{x:.828125,y:.390625},{x:.828125,y:.390625},{x:.859375,y:.390625},{x:.859375,y:.390625},{x:.890625,y:.390625},{x:.890625,y:.390625},{x:.921875,y:.390625},{x:.921875,y:.390625},{x:.953125,y:.390625},{x:.953125,y:.390625},{x:.984375,y:.390625},{x:.984375,y:.390625},{x:.015625,y:.421875},{x:.015625,y:.421875},{x:.046875,y:.421875},{x:.046875,y:.421875},{x:.078125,y:.421875},{x:.078125,y:.421875},{x:.109375,y:.421875},{x:.109375,y:.421875},{x:.140625,y:.421875},{x:.140625,y:.421875},{x:.171875,y:.421875},{x:.171875,y:.421875},{x:.203125,y:.421875},{x:.203125,y:.421875},{x:.234375,y:.421875},{x:.234375,y:.421875},{x:.265625,y:.421875},{x:.265625,y:.421875},{x:.296875,y:.421875},{x:.296875,y:.421875},{x:.328125,y:.421875},{x:.328125,y:.421875},{x:.359375,y:.421875},{x:.359375,y:.421875},{x:.390625,y:.421875},{x:.390625,y:.421875},{x:.421875,y:.421875},{x:.421875,y:.421875},{x:.453125,y:.421875},{x:.453125,y:.421875},{x:.484375,y:.421875},{x:.484375,y:.421875},{x:.515625,y:.421875},{x:.515625,y:.421875},{x:.546875,y:.421875},{x:.546875,y:.421875},{x:.578125,y:.421875},{x:.578125,y:.421875},{x:.609375,y:.421875},{x:.609375,y:.421875},{x:.640625,y:.421875},{x:.640625,y:.421875},{x:.671875,y:.421875},{x:.671875,y:.421875},{x:.703125,y:.421875},{x:.703125,y:.421875},{x:.734375,y:.421875},{x:.734375,y:.421875},{x:.765625,y:.421875},{x:.765625,y:.421875},{x:.796875,y:.421875},{x:.796875,y:.421875},{x:.828125,y:.421875},{x:.828125,y:.421875},{x:.859375,y:.421875},{x:.859375,y:.421875},{x:.890625,y:.421875},{x:.890625,y:.421875},{x:.921875,y:.421875},{x:.921875,y:.421875},{x:.953125,y:.421875},{x:.953125,y:.421875},{x:.984375,y:.421875},{x:.984375,y:.421875},{x:.015625,y:.453125},{x:.015625,y:.453125},{x:.046875,y:.453125},{x:.046875,y:.453125},{x:.078125,y:.453125},{x:.078125,y:.453125},{x:.109375,y:.453125},{x:.109375,y:.453125},{x:.140625,y:.453125},{x:.140625,y:.453125},{x:.171875,y:.453125},{x:.171875,y:.453125},{x:.203125,y:.453125},{x:.203125,y:.453125},{x:.234375,y:.453125},{x:.234375,y:.453125},{x:.265625,y:.453125},{x:.265625,y:.453125},{x:.296875,y:.453125},{x:.296875,y:.453125},{x:.328125,y:.453125},{x:.328125,y:.453125},{x:.359375,y:.453125},{x:.359375,y:.453125},{x:.390625,y:.453125},{x:.390625,y:.453125},{x:.421875,y:.453125},{x:.421875,y:.453125},{x:.453125,y:.453125},{x:.453125,y:.453125},{x:.484375,y:.453125},{x:.484375,y:.453125},{x:.515625,y:.453125},{x:.515625,y:.453125},{x:.546875,y:.453125},{x:.546875,y:.453125},{x:.578125,y:.453125},{x:.578125,y:.453125},{x:.609375,y:.453125},{x:.609375,y:.453125},{x:.640625,y:.453125},{x:.640625,y:.453125},{x:.671875,y:.453125},{x:.671875,y:.453125},{x:.703125,y:.453125},{x:.703125,y:.453125},{x:.734375,y:.453125},{x:.734375,y:.453125},{x:.765625,y:.453125},{x:.765625,y:.453125},{x:.796875,y:.453125},{x:.796875,y:.453125},{x:.828125,y:.453125},{x:.828125,y:.453125},{x:.859375,y:.453125},{x:.859375,y:.453125},{x:.890625,y:.453125},{x:.890625,y:.453125},{x:.921875,y:.453125},{x:.921875,y:.453125},{x:.953125,y:.453125},{x:.953125,y:.453125},{x:.984375,y:.453125},{x:.984375,y:.453125},{x:.015625,y:.484375},{x:.015625,y:.484375},{x:.046875,y:.484375},{x:.046875,y:.484375},{x:.078125,y:.484375},{x:.078125,y:.484375},{x:.109375,y:.484375},{x:.109375,y:.484375},{x:.140625,y:.484375},{x:.140625,y:.484375},{x:.171875,y:.484375},{x:.171875,y:.484375},{x:.203125,y:.484375},{x:.203125,y:.484375},{x:.234375,y:.484375},{x:.234375,y:.484375},{x:.265625,y:.484375},{x:.265625,y:.484375},{x:.296875,y:.484375},{x:.296875,y:.484375},{x:.328125,y:.484375},{x:.328125,y:.484375},{x:.359375,y:.484375},{x:.359375,y:.484375},{x:.390625,y:.484375},{x:.390625,y:.484375},{x:.421875,y:.484375},{x:.421875,y:.484375},{x:.453125,y:.484375},{x:.453125,y:.484375},{x:.484375,y:.484375},{x:.484375,y:.484375},{x:.515625,y:.484375},{x:.515625,y:.484375},{x:.546875,y:.484375},{x:.546875,y:.484375},{x:.578125,y:.484375},{x:.578125,y:.484375},{x:.609375,y:.484375},{x:.609375,y:.484375},{x:.640625,y:.484375},{x:.640625,y:.484375},{x:.671875,y:.484375},{x:.671875,y:.484375},{x:.703125,y:.484375},{x:.703125,y:.484375},{x:.734375,y:.484375},{x:.734375,y:.484375},{x:.765625,y:.484375},{x:.765625,y:.484375},{x:.796875,y:.484375},{x:.796875,y:.484375},{x:.828125,y:.484375},{x:.828125,y:.484375},{x:.859375,y:.484375},{x:.859375,y:.484375},{x:.890625,y:.484375},{x:.890625,y:.484375},{x:.921875,y:.484375},{x:.921875,y:.484375},{x:.953125,y:.484375},{x:.953125,y:.484375},{x:.984375,y:.484375},{x:.984375,y:.484375},{x:.015625,y:.515625},{x:.015625,y:.515625},{x:.046875,y:.515625},{x:.046875,y:.515625},{x:.078125,y:.515625},{x:.078125,y:.515625},{x:.109375,y:.515625},{x:.109375,y:.515625},{x:.140625,y:.515625},{x:.140625,y:.515625},{x:.171875,y:.515625},{x:.171875,y:.515625},{x:.203125,y:.515625},{x:.203125,y:.515625},{x:.234375,y:.515625},{x:.234375,y:.515625},{x:.265625,y:.515625},{x:.265625,y:.515625},{x:.296875,y:.515625},{x:.296875,y:.515625},{x:.328125,y:.515625},{x:.328125,y:.515625},{x:.359375,y:.515625},{x:.359375,y:.515625},{x:.390625,y:.515625},{x:.390625,y:.515625},{x:.421875,y:.515625},{x:.421875,y:.515625},{x:.453125,y:.515625},{x:.453125,y:.515625},{x:.484375,y:.515625},{x:.484375,y:.515625},{x:.515625,y:.515625},{x:.515625,y:.515625},{x:.546875,y:.515625},{x:.546875,y:.515625},{x:.578125,y:.515625},{x:.578125,y:.515625},{x:.609375,y:.515625},{x:.609375,y:.515625},{x:.640625,y:.515625},{x:.640625,y:.515625},{x:.671875,y:.515625},{x:.671875,y:.515625},{x:.703125,y:.515625},{x:.703125,y:.515625},{x:.734375,y:.515625},{x:.734375,y:.515625},{x:.765625,y:.515625},{x:.765625,y:.515625},{x:.796875,y:.515625},{x:.796875,y:.515625},{x:.828125,y:.515625},{x:.828125,y:.515625},{x:.859375,y:.515625},{x:.859375,y:.515625},{x:.890625,y:.515625},{x:.890625,y:.515625},{x:.921875,y:.515625},{x:.921875,y:.515625},{x:.953125,y:.515625},{x:.953125,y:.515625},{x:.984375,y:.515625},{x:.984375,y:.515625},{x:.015625,y:.546875},{x:.015625,y:.546875},{x:.046875,y:.546875},{x:.046875,y:.546875},{x:.078125,y:.546875},{x:.078125,y:.546875},{x:.109375,y:.546875},{x:.109375,y:.546875},{x:.140625,y:.546875},{x:.140625,y:.546875},{x:.171875,y:.546875},{x:.171875,y:.546875},{x:.203125,y:.546875},{x:.203125,y:.546875},{x:.234375,y:.546875},{x:.234375,y:.546875},{x:.265625,y:.546875},{x:.265625,y:.546875},{x:.296875,y:.546875},{x:.296875,y:.546875},{x:.328125,y:.546875},{x:.328125,y:.546875},{x:.359375,y:.546875},{x:.359375,y:.546875},{x:.390625,y:.546875},{x:.390625,y:.546875},{x:.421875,y:.546875},{x:.421875,y:.546875},{x:.453125,y:.546875},{x:.453125,y:.546875},{x:.484375,y:.546875},{x:.484375,y:.546875},{x:.515625,y:.546875},{x:.515625,y:.546875},{x:.546875,y:.546875},{x:.546875,y:.546875},{x:.578125,y:.546875},{x:.578125,y:.546875},{x:.609375,y:.546875},{x:.609375,y:.546875},{x:.640625,y:.546875},{x:.640625,y:.546875},{x:.671875,y:.546875},{x:.671875,y:.546875},{x:.703125,y:.546875},{x:.703125,y:.546875},{x:.734375,y:.546875},{x:.734375,y:.546875},{x:.765625,y:.546875},{x:.765625,y:.546875},{x:.796875,y:.546875},{x:.796875,y:.546875},{x:.828125,y:.546875},{x:.828125,y:.546875},{x:.859375,y:.546875},{x:.859375,y:.546875},{x:.890625,y:.546875},{x:.890625,y:.546875},{x:.921875,y:.546875},{x:.921875,y:.546875},{x:.953125,y:.546875},{x:.953125,y:.546875},{x:.984375,y:.546875},{x:.984375,y:.546875},{x:.015625,y:.578125},{x:.015625,y:.578125},{x:.046875,y:.578125},{x:.046875,y:.578125},{x:.078125,y:.578125},{x:.078125,y:.578125},{x:.109375,y:.578125},{x:.109375,y:.578125},{x:.140625,y:.578125},{x:.140625,y:.578125},{x:.171875,y:.578125},{x:.171875,y:.578125},{x:.203125,y:.578125},{x:.203125,y:.578125},{x:.234375,y:.578125},{x:.234375,y:.578125},{x:.265625,y:.578125},{x:.265625,y:.578125},{x:.296875,y:.578125},{x:.296875,y:.578125},{x:.328125,y:.578125},{x:.328125,y:.578125},{x:.359375,y:.578125},{x:.359375,y:.578125},{x:.390625,y:.578125},{x:.390625,y:.578125},{x:.421875,y:.578125},{x:.421875,y:.578125},{x:.453125,y:.578125},{x:.453125,y:.578125},{x:.484375,y:.578125},{x:.484375,y:.578125},{x:.515625,y:.578125},{x:.515625,y:.578125},{x:.546875,y:.578125},{x:.546875,y:.578125},{x:.578125,y:.578125},{x:.578125,y:.578125},{x:.609375,y:.578125},{x:.609375,y:.578125},{x:.640625,y:.578125},{x:.640625,y:.578125},{x:.671875,y:.578125},{x:.671875,y:.578125},{x:.703125,y:.578125},{x:.703125,y:.578125},{x:.734375,y:.578125},{x:.734375,y:.578125},{x:.765625,y:.578125},{x:.765625,y:.578125},{x:.796875,y:.578125},{x:.796875,y:.578125},{x:.828125,y:.578125},{x:.828125,y:.578125},{x:.859375,y:.578125},{x:.859375,y:.578125},{x:.890625,y:.578125},{x:.890625,y:.578125},{x:.921875,y:.578125},{x:.921875,y:.578125},{x:.953125,y:.578125},{x:.953125,y:.578125},{x:.984375,y:.578125},{x:.984375,y:.578125},{x:.015625,y:.609375},{x:.015625,y:.609375},{x:.046875,y:.609375},{x:.046875,y:.609375},{x:.078125,y:.609375},{x:.078125,y:.609375},{x:.109375,y:.609375},{x:.109375,y:.609375},{x:.140625,y:.609375},{x:.140625,y:.609375},{x:.171875,y:.609375},{x:.171875,y:.609375},{x:.203125,y:.609375},{x:.203125,y:.609375},{x:.234375,y:.609375},{x:.234375,y:.609375},{x:.265625,y:.609375},{x:.265625,y:.609375},{x:.296875,y:.609375},{x:.296875,y:.609375},{x:.328125,y:.609375},{x:.328125,y:.609375},{x:.359375,y:.609375},{x:.359375,y:.609375},{x:.390625,y:.609375},{x:.390625,y:.609375},{x:.421875,y:.609375},{x:.421875,y:.609375},{x:.453125,y:.609375},{x:.453125,y:.609375},{x:.484375,y:.609375},{x:.484375,y:.609375},{x:.515625,y:.609375},{x:.515625,y:.609375},{x:.546875,y:.609375},{x:.546875,y:.609375},{x:.578125,y:.609375},{x:.578125,y:.609375},{x:.609375,y:.609375},{x:.609375,y:.609375},{x:.640625,y:.609375},{x:.640625,y:.609375},{x:.671875,y:.609375},{x:.671875,y:.609375},{x:.703125,y:.609375},{x:.703125,y:.609375},{x:.734375,y:.609375},{x:.734375,y:.609375},{x:.765625,y:.609375},{x:.765625,y:.609375},{x:.796875,y:.609375},{x:.796875,y:.609375},{x:.828125,y:.609375},{x:.828125,y:.609375},{x:.859375,y:.609375},{x:.859375,y:.609375},{x:.890625,y:.609375},{x:.890625,y:.609375},{x:.921875,y:.609375},{x:.921875,y:.609375},{x:.953125,y:.609375},{x:.953125,y:.609375},{x:.984375,y:.609375},{x:.984375,y:.609375},{x:.015625,y:.640625},{x:.015625,y:.640625},{x:.046875,y:.640625},{x:.046875,y:.640625},{x:.078125,y:.640625},{x:.078125,y:.640625},{x:.109375,y:.640625},{x:.109375,y:.640625},{x:.140625,y:.640625},{x:.140625,y:.640625},{x:.171875,y:.640625},{x:.171875,y:.640625},{x:.203125,y:.640625},{x:.203125,y:.640625},{x:.234375,y:.640625},{x:.234375,y:.640625},{x:.265625,y:.640625},{x:.265625,y:.640625},{x:.296875,y:.640625},{x:.296875,y:.640625},{x:.328125,y:.640625},{x:.328125,y:.640625},{x:.359375,y:.640625},{x:.359375,y:.640625},{x:.390625,y:.640625},{x:.390625,y:.640625},{x:.421875,y:.640625},{x:.421875,y:.640625},{x:.453125,y:.640625},{x:.453125,y:.640625},{x:.484375,y:.640625},{x:.484375,y:.640625},{x:.515625,y:.640625},{x:.515625,y:.640625},{x:.546875,y:.640625},{x:.546875,y:.640625},{x:.578125,y:.640625},{x:.578125,y:.640625},{x:.609375,y:.640625},{x:.609375,y:.640625},{x:.640625,y:.640625},{x:.640625,y:.640625},{x:.671875,y:.640625},{x:.671875,y:.640625},{x:.703125,y:.640625},{x:.703125,y:.640625},{x:.734375,y:.640625},{x:.734375,y:.640625},{x:.765625,y:.640625},{x:.765625,y:.640625},{x:.796875,y:.640625},{x:.796875,y:.640625},{x:.828125,y:.640625},{x:.828125,y:.640625},{x:.859375,y:.640625},{x:.859375,y:.640625},{x:.890625,y:.640625},{x:.890625,y:.640625},{x:.921875,y:.640625},{x:.921875,y:.640625},{x:.953125,y:.640625},{x:.953125,y:.640625},{x:.984375,y:.640625},{x:.984375,y:.640625},{x:.015625,y:.671875},{x:.015625,y:.671875},{x:.046875,y:.671875},{x:.046875,y:.671875},{x:.078125,y:.671875},{x:.078125,y:.671875},{x:.109375,y:.671875},{x:.109375,y:.671875},{x:.140625,y:.671875},{x:.140625,y:.671875},{x:.171875,y:.671875},{x:.171875,y:.671875},{x:.203125,y:.671875},{x:.203125,y:.671875},{x:.234375,y:.671875},{x:.234375,y:.671875},{x:.265625,y:.671875},{x:.265625,y:.671875},{x:.296875,y:.671875},{x:.296875,y:.671875},{x:.328125,y:.671875},{x:.328125,y:.671875},{x:.359375,y:.671875},{x:.359375,y:.671875},{x:.390625,y:.671875},{x:.390625,y:.671875},{x:.421875,y:.671875},{x:.421875,y:.671875},{x:.453125,y:.671875},{x:.453125,y:.671875},{x:.484375,y:.671875},{x:.484375,y:.671875},{x:.515625,y:.671875},{x:.515625,y:.671875},{x:.546875,y:.671875},{x:.546875,y:.671875},{x:.578125,y:.671875},{x:.578125,y:.671875},{x:.609375,y:.671875},{x:.609375,y:.671875},{x:.640625,y:.671875},{x:.640625,y:.671875},{x:.671875,y:.671875},{x:.671875,y:.671875},{x:.703125,y:.671875},{x:.703125,y:.671875},{x:.734375,y:.671875},{x:.734375,y:.671875},{x:.765625,y:.671875},{x:.765625,y:.671875},{x:.796875,y:.671875},{x:.796875,y:.671875},{x:.828125,y:.671875},{x:.828125,y:.671875},{x:.859375,y:.671875},{x:.859375,y:.671875},{x:.890625,y:.671875},{x:.890625,y:.671875},{x:.921875,y:.671875},{x:.921875,y:.671875},{x:.953125,y:.671875},{x:.953125,y:.671875},{x:.984375,y:.671875},{x:.984375,y:.671875},{x:.015625,y:.703125},{x:.015625,y:.703125},{x:.046875,y:.703125},{x:.046875,y:.703125},{x:.078125,y:.703125},{x:.078125,y:.703125},{x:.109375,y:.703125},{x:.109375,y:.703125},{x:.140625,y:.703125},{x:.140625,y:.703125},{x:.171875,y:.703125},{x:.171875,y:.703125},{x:.203125,y:.703125},{x:.203125,y:.703125},{x:.234375,y:.703125},{x:.234375,y:.703125},{x:.265625,y:.703125},{x:.265625,y:.703125},{x:.296875,y:.703125},{x:.296875,y:.703125},{x:.328125,y:.703125},{x:.328125,y:.703125},{x:.359375,y:.703125},{x:.359375,y:.703125},{x:.390625,y:.703125},{x:.390625,y:.703125},{x:.421875,y:.703125},{x:.421875,y:.703125},{x:.453125,y:.703125},{x:.453125,y:.703125},{x:.484375,y:.703125},{x:.484375,y:.703125},{x:.515625,y:.703125},{x:.515625,y:.703125},{x:.546875,y:.703125},{x:.546875,y:.703125},{x:.578125,y:.703125},{x:.578125,y:.703125},{x:.609375,y:.703125},{x:.609375,y:.703125},{x:.640625,y:.703125},{x:.640625,y:.703125},{x:.671875,y:.703125},{x:.671875,y:.703125},{x:.703125,y:.703125},{x:.703125,y:.703125},{x:.734375,y:.703125},{x:.734375,y:.703125},{x:.765625,y:.703125},{x:.765625,y:.703125},{x:.796875,y:.703125},{x:.796875,y:.703125},{x:.828125,y:.703125},{x:.828125,y:.703125},{x:.859375,y:.703125},{x:.859375,y:.703125},{x:.890625,y:.703125},{x:.890625,y:.703125},{x:.921875,y:.703125},{x:.921875,y:.703125},{x:.953125,y:.703125},{x:.953125,y:.703125},{x:.984375,y:.703125},{x:.984375,y:.703125},{x:.015625,y:.734375},{x:.015625,y:.734375},{x:.046875,y:.734375},{x:.046875,y:.734375},{x:.078125,y:.734375},{x:.078125,y:.734375},{x:.109375,y:.734375},{x:.109375,y:.734375},{x:.140625,y:.734375},{x:.140625,y:.734375},{x:.171875,y:.734375},{x:.171875,y:.734375},{x:.203125,y:.734375},{x:.203125,y:.734375},{x:.234375,y:.734375},{x:.234375,y:.734375},{x:.265625,y:.734375},{x:.265625,y:.734375},{x:.296875,y:.734375},{x:.296875,y:.734375},{x:.328125,y:.734375},{x:.328125,y:.734375},{x:.359375,y:.734375},{x:.359375,y:.734375},{x:.390625,y:.734375},{x:.390625,y:.734375},{x:.421875,y:.734375},{x:.421875,y:.734375},{x:.453125,y:.734375},{x:.453125,y:.734375},{x:.484375,y:.734375},{x:.484375,y:.734375},{x:.515625,y:.734375},{x:.515625,y:.734375},{x:.546875,y:.734375},{x:.546875,y:.734375},{x:.578125,y:.734375},{x:.578125,y:.734375},{x:.609375,y:.734375},{x:.609375,y:.734375},{x:.640625,y:.734375},{x:.640625,y:.734375},{x:.671875,y:.734375},{x:.671875,y:.734375},{x:.703125,y:.734375},{x:.703125,y:.734375},{x:.734375,y:.734375},{x:.734375,y:.734375},{x:.765625,y:.734375},{x:.765625,y:.734375},{x:.796875,y:.734375},{x:.796875,y:.734375},{x:.828125,y:.734375},{x:.828125,y:.734375},{x:.859375,y:.734375},{x:.859375,y:.734375},{x:.890625,y:.734375},{x:.890625,y:.734375},{x:.921875,y:.734375},{x:.921875,y:.734375},{x:.953125,y:.734375},{x:.953125,y:.734375},{x:.984375,y:.734375},{x:.984375,y:.734375},{x:.015625,y:.765625},{x:.015625,y:.765625},{x:.046875,y:.765625},{x:.046875,y:.765625},{x:.078125,y:.765625},{x:.078125,y:.765625},{x:.109375,y:.765625},{x:.109375,y:.765625},{x:.140625,y:.765625},{x:.140625,y:.765625},{x:.171875,y:.765625},{x:.171875,y:.765625},{x:.203125,y:.765625},{x:.203125,y:.765625},{x:.234375,y:.765625},{x:.234375,y:.765625},{x:.265625,y:.765625},{x:.265625,y:.765625},{x:.296875,y:.765625},{x:.296875,y:.765625},{x:.328125,y:.765625},{x:.328125,y:.765625},{x:.359375,y:.765625},{x:.359375,y:.765625},{x:.390625,y:.765625},{x:.390625,y:.765625},{x:.421875,y:.765625},{x:.421875,y:.765625},{x:.453125,y:.765625},{x:.453125,y:.765625},{x:.484375,y:.765625},{x:.484375,y:.765625},{x:.515625,y:.765625},{x:.515625,y:.765625},{x:.546875,y:.765625},{x:.546875,y:.765625},{x:.578125,y:.765625},{x:.578125,y:.765625},{x:.609375,y:.765625},{x:.609375,y:.765625},{x:.640625,y:.765625},{x:.640625,y:.765625},{x:.671875,y:.765625},{x:.671875,y:.765625},{x:.703125,y:.765625},{x:.703125,y:.765625},{x:.734375,y:.765625},{x:.734375,y:.765625},{x:.765625,y:.765625},{x:.765625,y:.765625},{x:.796875,y:.765625},{x:.796875,y:.765625},{x:.828125,y:.765625},{x:.828125,y:.765625},{x:.859375,y:.765625},{x:.859375,y:.765625},{x:.890625,y:.765625},{x:.890625,y:.765625},{x:.921875,y:.765625},{x:.921875,y:.765625},{x:.953125,y:.765625},{x:.953125,y:.765625},{x:.984375,y:.765625},{x:.984375,y:.765625},{x:.015625,y:.796875},{x:.015625,y:.796875},{x:.046875,y:.796875},{x:.046875,y:.796875},{x:.078125,y:.796875},{x:.078125,y:.796875},{x:.109375,y:.796875},{x:.109375,y:.796875},{x:.140625,y:.796875},{x:.140625,y:.796875},{x:.171875,y:.796875},{x:.171875,y:.796875},{x:.203125,y:.796875},{x:.203125,y:.796875},{x:.234375,y:.796875},{x:.234375,y:.796875},{x:.265625,y:.796875},{x:.265625,y:.796875},{x:.296875,y:.796875},{x:.296875,y:.796875},{x:.328125,y:.796875},{x:.328125,y:.796875},{x:.359375,y:.796875},{x:.359375,y:.796875},{x:.390625,y:.796875},{x:.390625,y:.796875},{x:.421875,y:.796875},{x:.421875,y:.796875},{x:.453125,y:.796875},{x:.453125,y:.796875},{x:.484375,y:.796875},{x:.484375,y:.796875},{x:.515625,y:.796875},{x:.515625,y:.796875},{x:.546875,y:.796875},{x:.546875,y:.796875},{x:.578125,y:.796875},{x:.578125,y:.796875},{x:.609375,y:.796875},{x:.609375,y:.796875},{x:.640625,y:.796875},{x:.640625,y:.796875},{x:.671875,y:.796875},{x:.671875,y:.796875},{x:.703125,y:.796875},{x:.703125,y:.796875},{x:.734375,y:.796875},{x:.734375,y:.796875},{x:.765625,y:.796875},{x:.765625,y:.796875},{x:.796875,y:.796875},{x:.796875,y:.796875},{x:.828125,y:.796875},{x:.828125,y:.796875},{x:.859375,y:.796875},{x:.859375,y:.796875},{x:.890625,y:.796875},{x:.890625,y:.796875},{x:.921875,y:.796875},{x:.921875,y:.796875},{x:.953125,y:.796875},{x:.953125,y:.796875},{x:.984375,y:.796875},{x:.984375,y:.796875},{x:.015625,y:.828125},{x:.015625,y:.828125},{x:.046875,y:.828125},{x:.046875,y:.828125},{x:.078125,y:.828125},{x:.078125,y:.828125},{x:.109375,y:.828125},{x:.109375,y:.828125},{x:.140625,y:.828125},{x:.140625,y:.828125},{x:.171875,y:.828125},{x:.171875,y:.828125},{x:.203125,y:.828125},{x:.203125,y:.828125},{x:.234375,y:.828125},{x:.234375,y:.828125},{x:.265625,y:.828125},{x:.265625,y:.828125},{x:.296875,y:.828125},{x:.296875,y:.828125},{x:.328125,y:.828125},{x:.328125,y:.828125},{x:.359375,y:.828125},{x:.359375,y:.828125},{x:.390625,y:.828125},{x:.390625,y:.828125},{x:.421875,y:.828125},{x:.421875,y:.828125},{x:.453125,y:.828125},{x:.453125,y:.828125},{x:.484375,y:.828125},{x:.484375,y:.828125},{x:.515625,y:.828125},{x:.515625,y:.828125},{x:.546875,y:.828125},{x:.546875,y:.828125},{x:.578125,y:.828125},{x:.578125,y:.828125},{x:.609375,y:.828125},{x:.609375,y:.828125},{x:.640625,y:.828125},{x:.640625,y:.828125},{x:.671875,y:.828125},{x:.671875,y:.828125},{x:.703125,y:.828125},{x:.703125,y:.828125},{x:.734375,y:.828125},{x:.734375,y:.828125},{x:.765625,y:.828125},{x:.765625,y:.828125},{x:.796875,y:.828125},{x:.796875,y:.828125},{x:.828125,y:.828125},{x:.828125,y:.828125},{x:.859375,y:.828125},{x:.859375,y:.828125},{x:.890625,y:.828125},{x:.890625,y:.828125},{x:.921875,y:.828125},{x:.921875,y:.828125},{x:.953125,y:.828125},{x:.953125,y:.828125},{x:.984375,y:.828125},{x:.984375,y:.828125},{x:.015625,y:.859375},{x:.015625,y:.859375},{x:.046875,y:.859375},{x:.046875,y:.859375},{x:.078125,y:.859375},{x:.078125,y:.859375},{x:.109375,y:.859375},{x:.109375,y:.859375},{x:.140625,y:.859375},{x:.140625,y:.859375},{x:.171875,y:.859375},{x:.171875,y:.859375},{x:.203125,y:.859375},{x:.203125,y:.859375},{x:.234375,y:.859375},{x:.234375,y:.859375},{x:.265625,y:.859375},{x:.265625,y:.859375},{x:.296875,y:.859375},{x:.296875,y:.859375},{x:.328125,y:.859375},{x:.328125,y:.859375},{x:.359375,y:.859375},{x:.359375,y:.859375},{x:.390625,y:.859375},{x:.390625,y:.859375},{x:.421875,y:.859375},{x:.421875,y:.859375},{x:.453125,y:.859375},{x:.453125,y:.859375},{x:.484375,y:.859375},{x:.484375,y:.859375},{x:.515625,y:.859375},{x:.515625,y:.859375},{x:.546875,y:.859375},{x:.546875,y:.859375},{x:.578125,y:.859375},{x:.578125,y:.859375},{x:.609375,y:.859375},{x:.609375,y:.859375},{x:.640625,y:.859375},{x:.640625,y:.859375},{x:.671875,y:.859375},{x:.671875,y:.859375},{x:.703125,y:.859375},{x:.703125,y:.859375},{x:.734375,y:.859375},{x:.734375,y:.859375},{x:.765625,y:.859375},{x:.765625,y:.859375},{x:.796875,y:.859375},{x:.796875,y:.859375},{x:.828125,y:.859375},{x:.828125,y:.859375},{x:.859375,y:.859375},{x:.859375,y:.859375},{x:.890625,y:.859375},{x:.890625,y:.859375},{x:.921875,y:.859375},{x:.921875,y:.859375},{x:.953125,y:.859375},{x:.953125,y:.859375},{x:.984375,y:.859375},{x:.984375,y:.859375},{x:.015625,y:.890625},{x:.015625,y:.890625},{x:.046875,y:.890625},{x:.046875,y:.890625},{x:.078125,y:.890625},{x:.078125,y:.890625},{x:.109375,y:.890625},{x:.109375,y:.890625},{x:.140625,y:.890625},{x:.140625,y:.890625},{x:.171875,y:.890625},{x:.171875,y:.890625},{x:.203125,y:.890625},{x:.203125,y:.890625},{x:.234375,y:.890625},{x:.234375,y:.890625},{x:.265625,y:.890625},{x:.265625,y:.890625},{x:.296875,y:.890625},{x:.296875,y:.890625},{x:.328125,y:.890625},{x:.328125,y:.890625},{x:.359375,y:.890625},{x:.359375,y:.890625},{x:.390625,y:.890625},{x:.390625,y:.890625},{x:.421875,y:.890625},{x:.421875,y:.890625},{x:.453125,y:.890625},{x:.453125,y:.890625},{x:.484375,y:.890625},{x:.484375,y:.890625},{x:.515625,y:.890625},{x:.515625,y:.890625},{x:.546875,y:.890625},{x:.546875,y:.890625},{x:.578125,y:.890625},{x:.578125,y:.890625},{x:.609375,y:.890625},{x:.609375,y:.890625},{x:.640625,y:.890625},{x:.640625,y:.890625},{x:.671875,y:.890625},{x:.671875,y:.890625},{x:.703125,y:.890625},{x:.703125,y:.890625},{x:.734375,y:.890625},{x:.734375,y:.890625},{x:.765625,y:.890625},{x:.765625,y:.890625},{x:.796875,y:.890625},{x:.796875,y:.890625},{x:.828125,y:.890625},{x:.828125,y:.890625},{x:.859375,y:.890625},{x:.859375,y:.890625},{x:.890625,y:.890625},{x:.890625,y:.890625},{x:.921875,y:.890625},{x:.921875,y:.890625},{x:.953125,y:.890625},{x:.953125,y:.890625},{x:.984375,y:.890625},{x:.984375,y:.890625},{x:.015625,y:.921875},{x:.015625,y:.921875},{x:.046875,y:.921875},{x:.046875,y:.921875},{x:.078125,y:.921875},{x:.078125,y:.921875},{x:.109375,y:.921875},{x:.109375,y:.921875},{x:.140625,y:.921875},{x:.140625,y:.921875},{x:.171875,y:.921875},{x:.171875,y:.921875},{x:.203125,y:.921875},{x:.203125,y:.921875},{x:.234375,y:.921875},{x:.234375,y:.921875},{x:.265625,y:.921875},{x:.265625,y:.921875},{x:.296875,y:.921875},{x:.296875,y:.921875},{x:.328125,y:.921875},{x:.328125,y:.921875},{x:.359375,y:.921875},{x:.359375,y:.921875},{x:.390625,y:.921875},{x:.390625,y:.921875},{x:.421875,y:.921875},{x:.421875,y:.921875},{x:.453125,y:.921875},{x:.453125,y:.921875},{x:.484375,y:.921875},{x:.484375,y:.921875},{x:.515625,y:.921875},{x:.515625,y:.921875},{x:.546875,y:.921875},{x:.546875,y:.921875},{x:.578125,y:.921875},{x:.578125,y:.921875},{x:.609375,y:.921875},{x:.609375,y:.921875},{x:.640625,y:.921875},{x:.640625,y:.921875},{x:.671875,y:.921875},{x:.671875,y:.921875},{x:.703125,y:.921875},{x:.703125,y:.921875},{x:.734375,y:.921875},{x:.734375,y:.921875},{x:.765625,y:.921875},{x:.765625,y:.921875},{x:.796875,y:.921875},{x:.796875,y:.921875},{x:.828125,y:.921875},{x:.828125,y:.921875},{x:.859375,y:.921875},{x:.859375,y:.921875},{x:.890625,y:.921875},{x:.890625,y:.921875},{x:.921875,y:.921875},{x:.921875,y:.921875},{x:.953125,y:.921875},{x:.953125,y:.921875},{x:.984375,y:.921875},{x:.984375,y:.921875},{x:.015625,y:.953125},{x:.015625,y:.953125},{x:.046875,y:.953125},{x:.046875,y:.953125},{x:.078125,y:.953125},{x:.078125,y:.953125},{x:.109375,y:.953125},{x:.109375,y:.953125},{x:.140625,y:.953125},{x:.140625,y:.953125},{x:.171875,y:.953125},{x:.171875,y:.953125},{x:.203125,y:.953125},{x:.203125,y:.953125},{x:.234375,y:.953125},{x:.234375,y:.953125},{x:.265625,y:.953125},{x:.265625,y:.953125},{x:.296875,y:.953125},{x:.296875,y:.953125},{x:.328125,y:.953125},{x:.328125,y:.953125},{x:.359375,y:.953125},{x:.359375,y:.953125},{x:.390625,y:.953125},{x:.390625,y:.953125},{x:.421875,y:.953125},{x:.421875,y:.953125},{x:.453125,y:.953125},{x:.453125,y:.953125},{x:.484375,y:.953125},{x:.484375,y:.953125},{x:.515625,y:.953125},{x:.515625,y:.953125},{x:.546875,y:.953125},{x:.546875,y:.953125},{x:.578125,y:.953125},{x:.578125,y:.953125},{x:.609375,y:.953125},{x:.609375,y:.953125},{x:.640625,y:.953125},{x:.640625,y:.953125},{x:.671875,y:.953125},{x:.671875,y:.953125},{x:.703125,y:.953125},{x:.703125,y:.953125},{x:.734375,y:.953125},{x:.734375,y:.953125},{x:.765625,y:.953125},{x:.765625,y:.953125},{x:.796875,y:.953125},{x:.796875,y:.953125},{x:.828125,y:.953125},{x:.828125,y:.953125},{x:.859375,y:.953125},{x:.859375,y:.953125},{x:.890625,y:.953125},{x:.890625,y:.953125},{x:.921875,y:.953125},{x:.921875,y:.953125},{x:.953125,y:.953125},{x:.953125,y:.953125},{x:.984375,y:.953125},{x:.984375,y:.953125},{x:.015625,y:.984375},{x:.015625,y:.984375},{x:.046875,y:.984375},{x:.046875,y:.984375},{x:.078125,y:.984375},{x:.078125,y:.984375},{x:.109375,y:.984375},{x:.109375,y:.984375},{x:.140625,y:.984375},{x:.140625,y:.984375},{x:.171875,y:.984375},{x:.171875,y:.984375},{x:.203125,y:.984375},{x:.203125,y:.984375},{x:.234375,y:.984375},{x:.234375,y:.984375},{x:.265625,y:.984375},{x:.265625,y:.984375},{x:.296875,y:.984375},{x:.296875,y:.984375},{x:.328125,y:.984375},{x:.328125,y:.984375},{x:.359375,y:.984375},{x:.359375,y:.984375},{x:.390625,y:.984375},{x:.390625,y:.984375},{x:.421875,y:.984375},{x:.421875,y:.984375},{x:.453125,y:.984375},{x:.453125,y:.984375},{x:.484375,y:.984375},{x:.484375,y:.984375},{x:.515625,y:.984375},{x:.515625,y:.984375},{x:.546875,y:.984375},{x:.546875,y:.984375},{x:.578125,y:.984375},{x:.578125,y:.984375},{x:.609375,y:.984375},{x:.609375,y:.984375},{x:.640625,y:.984375},{x:.640625,y:.984375},{x:.671875,y:.984375},{x:.671875,y:.984375},{x:.703125,y:.984375},{x:.703125,y:.984375},{x:.734375,y:.984375},{x:.734375,y:.984375},{x:.765625,y:.984375},{x:.765625,y:.984375},{x:.796875,y:.984375},{x:.796875,y:.984375},{x:.828125,y:.984375},{x:.828125,y:.984375},{x:.859375,y:.984375},{x:.859375,y:.984375},{x:.890625,y:.984375},{x:.890625,y:.984375},{x:.921875,y:.984375},{x:.921875,y:.984375},{x:.953125,y:.984375},{x:.953125,y:.984375},{x:.984375,y:.984375},{x:.984375,y:.984375},{x:.03125,y:.03125},{x:.03125,y:.03125},{x:.09375,y:.03125},{x:.09375,y:.03125},{x:.15625,y:.03125},{x:.15625,y:.03125},{x:.21875,y:.03125},{x:.21875,y:.03125},{x:.28125,y:.03125},{x:.28125,y:.03125},{x:.34375,y:.03125},{x:.34375,y:.03125},{x:.40625,y:.03125},{x:.40625,y:.03125},{x:.46875,y:.03125},{x:.46875,y:.03125},{x:.53125,y:.03125},{x:.53125,y:.03125},{x:.59375,y:.03125},{x:.59375,y:.03125},{x:.65625,y:.03125},{x:.65625,y:.03125},{x:.71875,y:.03125},{x:.71875,y:.03125},{x:.78125,y:.03125},{x:.78125,y:.03125},{x:.84375,y:.03125},{x:.84375,y:.03125},{x:.90625,y:.03125},{x:.90625,y:.03125},{x:.96875,y:.03125},{x:.96875,y:.03125},{x:.03125,y:.09375},{x:.03125,y:.09375},{x:.09375,y:.09375},{x:.09375,y:.09375},{x:.15625,y:.09375},{x:.15625,y:.09375},{x:.21875,y:.09375},{x:.21875,y:.09375},{x:.28125,y:.09375},{x:.28125,y:.09375},{x:.34375,y:.09375},{x:.34375,y:.09375},{x:.40625,y:.09375},{x:.40625,y:.09375},{x:.46875,y:.09375},{x:.46875,y:.09375},{x:.53125,y:.09375},{x:.53125,y:.09375},{x:.59375,y:.09375},{x:.59375,y:.09375},{x:.65625,y:.09375},{x:.65625,y:.09375},{x:.71875,y:.09375},{x:.71875,y:.09375},{x:.78125,y:.09375},{x:.78125,y:.09375},{x:.84375,y:.09375},{x:.84375,y:.09375},{x:.90625,y:.09375},{x:.90625,y:.09375},{x:.96875,y:.09375},{x:.96875,y:.09375},{x:.03125,y:.15625},{x:.03125,y:.15625},{x:.09375,y:.15625},{x:.09375,y:.15625},{x:.15625,y:.15625},{x:.15625,y:.15625},{x:.21875,y:.15625},{x:.21875,y:.15625},{x:.28125,y:.15625},{x:.28125,y:.15625},{x:.34375,y:.15625},{x:.34375,y:.15625},{x:.40625,y:.15625},{x:.40625,y:.15625},{x:.46875,y:.15625},{x:.46875,y:.15625},{x:.53125,y:.15625},{x:.53125,y:.15625},{x:.59375,y:.15625},{x:.59375,y:.15625},{x:.65625,y:.15625},{x:.65625,y:.15625},{x:.71875,y:.15625},{x:.71875,y:.15625},{x:.78125,y:.15625},{x:.78125,y:.15625},{x:.84375,y:.15625},{x:.84375,y:.15625},{x:.90625,y:.15625},{x:.90625,y:.15625},{x:.96875,y:.15625},{x:.96875,y:.15625},{x:.03125,y:.21875},{x:.03125,y:.21875},{x:.09375,y:.21875},{x:.09375,y:.21875},{x:.15625,y:.21875},{x:.15625,y:.21875},{x:.21875,y:.21875},{x:.21875,y:.21875},{x:.28125,y:.21875},{x:.28125,y:.21875},{x:.34375,y:.21875},{x:.34375,y:.21875},{x:.40625,y:.21875},{x:.40625,y:.21875},{x:.46875,y:.21875},{x:.46875,y:.21875},{x:.53125,y:.21875},{x:.53125,y:.21875},{x:.59375,y:.21875},{x:.59375,y:.21875},{x:.65625,y:.21875},{x:.65625,y:.21875},{x:.71875,y:.21875},{x:.71875,y:.21875},{x:.78125,y:.21875},{x:.78125,y:.21875},{x:.84375,y:.21875},{x:.84375,y:.21875},{x:.90625,y:.21875},{x:.90625,y:.21875},{x:.96875,y:.21875},{x:.96875,y:.21875},{x:.03125,y:.28125},{x:.03125,y:.28125},{x:.09375,y:.28125},{x:.09375,y:.28125},{x:.15625,y:.28125},{x:.15625,y:.28125},{x:.21875,y:.28125},{x:.21875,y:.28125},{x:.28125,y:.28125},{x:.28125,y:.28125},{x:.34375,y:.28125},{x:.34375,y:.28125},{x:.40625,y:.28125},{x:.40625,y:.28125},{x:.46875,y:.28125},{x:.46875,y:.28125},{x:.53125,y:.28125},{x:.53125,y:.28125},{x:.59375,y:.28125},{x:.59375,y:.28125},{x:.65625,y:.28125},{x:.65625,y:.28125},{x:.71875,y:.28125},{x:.71875,y:.28125},{x:.78125,y:.28125},{x:.78125,y:.28125},{x:.84375,y:.28125},{x:.84375,y:.28125},{x:.90625,y:.28125},{x:.90625,y:.28125},{x:.96875,y:.28125},{x:.96875,y:.28125},{x:.03125,y:.34375},{x:.03125,y:.34375},{x:.09375,y:.34375},{x:.09375,y:.34375},{x:.15625,y:.34375},{x:.15625,y:.34375},{x:.21875,y:.34375},{x:.21875,y:.34375},{x:.28125,y:.34375},{x:.28125,y:.34375},{x:.34375,y:.34375},{x:.34375,y:.34375},{x:.40625,y:.34375},{x:.40625,y:.34375},{x:.46875,y:.34375},{x:.46875,y:.34375},{x:.53125,y:.34375},{x:.53125,y:.34375},{x:.59375,y:.34375},{x:.59375,y:.34375},{x:.65625,y:.34375},{x:.65625,y:.34375},{x:.71875,y:.34375},{x:.71875,y:.34375},{x:.78125,y:.34375},{x:.78125,y:.34375},{x:.84375,y:.34375},{x:.84375,y:.34375},{x:.90625,y:.34375},{x:.90625,y:.34375},{x:.96875,y:.34375},{x:.96875,y:.34375},{x:.03125,y:.40625},{x:.03125,y:.40625},{x:.09375,y:.40625},{x:.09375,y:.40625},{x:.15625,y:.40625},{x:.15625,y:.40625},{x:.21875,y:.40625},{x:.21875,y:.40625},{x:.28125,y:.40625},{x:.28125,y:.40625},{x:.34375,y:.40625},{x:.34375,y:.40625},{x:.40625,y:.40625},{x:.40625,y:.40625},{x:.46875,y:.40625},{x:.46875,y:.40625},{x:.53125,y:.40625},{x:.53125,y:.40625},{x:.59375,y:.40625},{x:.59375,y:.40625},{x:.65625,y:.40625},{x:.65625,y:.40625},{x:.71875,y:.40625},{x:.71875,y:.40625},{x:.78125,y:.40625},{x:.78125,y:.40625},{x:.84375,y:.40625},{x:.84375,y:.40625},{x:.90625,y:.40625},{x:.90625,y:.40625},{x:.96875,y:.40625},{x:.96875,y:.40625},{x:.03125,y:.46875},{x:.03125,y:.46875},{x:.09375,y:.46875},{x:.09375,y:.46875},{x:.15625,y:.46875},{x:.15625,y:.46875},{x:.21875,y:.46875},{x:.21875,y:.46875},{x:.28125,y:.46875},{x:.28125,y:.46875},{x:.34375,y:.46875},{x:.34375,y:.46875},{x:.40625,y:.46875},{x:.40625,y:.46875},{x:.46875,y:.46875},{x:.46875,y:.46875},{x:.53125,y:.46875},{x:.53125,y:.46875},{x:.59375,y:.46875},{x:.59375,y:.46875},{x:.65625,y:.46875},{x:.65625,y:.46875},{x:.71875,y:.46875},{x:.71875,y:.46875},{x:.78125,y:.46875},{x:.78125,y:.46875},{x:.84375,y:.46875},{x:.84375,y:.46875},{x:.90625,y:.46875},{x:.90625,y:.46875},{x:.96875,y:.46875},{x:.96875,y:.46875},{x:.03125,y:.53125},{x:.03125,y:.53125},{x:.09375,y:.53125},{x:.09375,y:.53125},{x:.15625,y:.53125},{x:.15625,y:.53125},{x:.21875,y:.53125},{x:.21875,y:.53125},{x:.28125,y:.53125},{x:.28125,y:.53125},{x:.34375,y:.53125},{x:.34375,y:.53125},{x:.40625,y:.53125},{x:.40625,y:.53125},{x:.46875,y:.53125},{x:.46875,y:.53125},{x:.53125,y:.53125},{x:.53125,y:.53125},{x:.59375,y:.53125},{x:.59375,y:.53125},{x:.65625,y:.53125},{x:.65625,y:.53125},{x:.71875,y:.53125},{x:.71875,y:.53125},{x:.78125,y:.53125},{x:.78125,y:.53125},{x:.84375,y:.53125},{x:.84375,y:.53125},{x:.90625,y:.53125},{x:.90625,y:.53125},{x:.96875,y:.53125},{x:.96875,y:.53125},{x:.03125,y:.59375},{x:.03125,y:.59375},{x:.09375,y:.59375},{x:.09375,y:.59375},{x:.15625,y:.59375},{x:.15625,y:.59375},{x:.21875,y:.59375},{x:.21875,y:.59375},{x:.28125,y:.59375},{x:.28125,y:.59375},{x:.34375,y:.59375},{x:.34375,y:.59375},{x:.40625,y:.59375},{x:.40625,y:.59375},{x:.46875,y:.59375},{x:.46875,y:.59375},{x:.53125,y:.59375},{x:.53125,y:.59375},{x:.59375,y:.59375},{x:.59375,y:.59375},{x:.65625,y:.59375},{x:.65625,y:.59375},{x:.71875,y:.59375},{x:.71875,y:.59375},{x:.78125,y:.59375},{x:.78125,y:.59375},{x:.84375,y:.59375},{x:.84375,y:.59375},{x:.90625,y:.59375},{x:.90625,y:.59375},{x:.96875,y:.59375},{x:.96875,y:.59375},{x:.03125,y:.65625},{x:.03125,y:.65625},{x:.09375,y:.65625},{x:.09375,y:.65625},{x:.15625,y:.65625},{x:.15625,y:.65625},{x:.21875,y:.65625},{x:.21875,y:.65625},{x:.28125,y:.65625},{x:.28125,y:.65625},{x:.34375,y:.65625},{x:.34375,y:.65625},{x:.40625,y:.65625},{x:.40625,y:.65625},{x:.46875,y:.65625},{x:.46875,y:.65625},{x:.53125,y:.65625},{x:.53125,y:.65625},{x:.59375,y:.65625},{x:.59375,y:.65625},{x:.65625,y:.65625},{x:.65625,y:.65625},{x:.71875,y:.65625},{x:.71875,y:.65625},{x:.78125,y:.65625},{x:.78125,y:.65625},{x:.84375,y:.65625},{x:.84375,y:.65625},{x:.90625,y:.65625},{x:.90625,y:.65625},{x:.96875,y:.65625},{x:.96875,y:.65625},{x:.03125,y:.71875},{x:.03125,y:.71875},{x:.09375,y:.71875},{x:.09375,y:.71875},{x:.15625,y:.71875},{x:.15625,y:.71875},{x:.21875,y:.71875},{x:.21875,y:.71875},{x:.28125,y:.71875},{x:.28125,y:.71875},{x:.34375,y:.71875},{x:.34375,y:.71875},{x:.40625,y:.71875},{x:.40625,y:.71875},{x:.46875,y:.71875},{x:.46875,y:.71875},{x:.53125,y:.71875},{x:.53125,y:.71875},{x:.59375,y:.71875},{x:.59375,y:.71875},{x:.65625,y:.71875},{x:.65625,y:.71875},{x:.71875,y:.71875},{x:.71875,y:.71875},{x:.78125,y:.71875},{x:.78125,y:.71875},{x:.84375,y:.71875},{x:.84375,y:.71875},{x:.90625,y:.71875},{x:.90625,y:.71875},{x:.96875,y:.71875},{x:.96875,y:.71875},{x:.03125,y:.78125},{x:.03125,y:.78125},{x:.09375,y:.78125},{x:.09375,y:.78125},{x:.15625,y:.78125},{x:.15625,y:.78125},{x:.21875,y:.78125},{x:.21875,y:.78125},{x:.28125,y:.78125},{x:.28125,y:.78125},{x:.34375,y:.78125},{x:.34375,y:.78125},{x:.40625,y:.78125},{x:.40625,y:.78125},{x:.46875,y:.78125},{x:.46875,y:.78125},{x:.53125,y:.78125},{x:.53125,y:.78125},{x:.59375,y:.78125},{x:.59375,y:.78125},{x:.65625,y:.78125},{x:.65625,y:.78125},{x:.71875,y:.78125},{x:.71875,y:.78125},{x:.78125,y:.78125},{x:.78125,y:.78125},{x:.84375,y:.78125},{x:.84375,y:.78125},{x:.90625,y:.78125},{x:.90625,y:.78125},{x:.96875,y:.78125},{x:.96875,y:.78125},{x:.03125,y:.84375},{x:.03125,y:.84375},{x:.09375,y:.84375},{x:.09375,y:.84375},{x:.15625,y:.84375},{x:.15625,y:.84375},{x:.21875,y:.84375},{x:.21875,y:.84375},{x:.28125,y:.84375},{x:.28125,y:.84375},{x:.34375,y:.84375},{x:.34375,y:.84375},{x:.40625,y:.84375},{x:.40625,y:.84375},{x:.46875,y:.84375},{x:.46875,y:.84375},{x:.53125,y:.84375},{x:.53125,y:.84375},{x:.59375,y:.84375},{x:.59375,y:.84375},{x:.65625,y:.84375},{x:.65625,y:.84375},{x:.71875,y:.84375},{x:.71875,y:.84375},{x:.78125,y:.84375},{x:.78125,y:.84375},{x:.84375,y:.84375},{x:.84375,y:.84375},{x:.90625,y:.84375},{x:.90625,y:.84375},{x:.96875,y:.84375},{x:.96875,y:.84375},{x:.03125,y:.90625},{x:.03125,y:.90625},{x:.09375,y:.90625},{x:.09375,y:.90625},{x:.15625,y:.90625},{x:.15625,y:.90625},{x:.21875,y:.90625},{x:.21875,y:.90625},{x:.28125,y:.90625},{x:.28125,y:.90625},{x:.34375,y:.90625},{x:.34375,y:.90625},{x:.40625,y:.90625},{x:.40625,y:.90625},{x:.46875,y:.90625},{x:.46875,y:.90625},{x:.53125,y:.90625},{x:.53125,y:.90625},{x:.59375,y:.90625},{x:.59375,y:.90625},{x:.65625,y:.90625},{x:.65625,y:.90625},{x:.71875,y:.90625},{x:.71875,y:.90625},{x:.78125,y:.90625},{x:.78125,y:.90625},{x:.84375,y:.90625},{x:.84375,y:.90625},{x:.90625,y:.90625},{x:.90625,y:.90625},{x:.96875,y:.90625},{x:.96875,y:.90625},{x:.03125,y:.96875},{x:.03125,y:.96875},{x:.09375,y:.96875},{x:.09375,y:.96875},{x:.15625,y:.96875},{x:.15625,y:.96875},{x:.21875,y:.96875},{x:.21875,y:.96875},{x:.28125,y:.96875},{x:.28125,y:.96875},{x:.34375,y:.96875},{x:.34375,y:.96875},{x:.40625,y:.96875},{x:.40625,y:.96875},{x:.46875,y:.96875},{x:.46875,y:.96875},{x:.53125,y:.96875},{x:.53125,y:.96875},{x:.59375,y:.96875},{x:.59375,y:.96875},{x:.65625,y:.96875},{x:.65625,y:.96875},{x:.71875,y:.96875},{x:.71875,y:.96875},{x:.78125,y:.96875},{x:.78125,y:.96875},{x:.84375,y:.96875},{x:.84375,y:.96875},{x:.90625,y:.96875},{x:.90625,y:.96875},{x:.96875,y:.96875},{x:.96875,y:.96875},{x:.0625,y:.0625},{x:.0625,y:.0625},{x:.0625,y:.0625},{x:.0625,y:.0625},{x:.0625,y:.0625},{x:.0625,y:.0625},{x:.1875,y:.0625},{x:.1875,y:.0625},{x:.1875,y:.0625},{x:.1875,y:.0625},{x:.1875,y:.0625},{x:.1875,y:.0625},{x:.3125,y:.0625},{x:.3125,y:.0625},{x:.3125,y:.0625},{x:.3125,y:.0625},{x:.3125,y:.0625},{x:.3125,y:.0625},{x:.4375,y:.0625},{x:.4375,y:.0625},{x:.4375,y:.0625},{x:.4375,y:.0625},{x:.4375,y:.0625},{x:.4375,y:.0625},{x:.5625,y:.0625},{x:.5625,y:.0625},{x:.5625,y:.0625},{x:.5625,y:.0625},{x:.5625,y:.0625},{x:.5625,y:.0625},{x:.6875,y:.0625},{x:.6875,y:.0625},{x:.6875,y:.0625},{x:.6875,y:.0625},{x:.6875,y:.0625},{x:.6875,y:.0625},{x:.8125,y:.0625},{x:.8125,y:.0625},{x:.8125,y:.0625},{x:.8125,y:.0625},{x:.8125,y:.0625},{x:.8125,y:.0625},{x:.9375,y:.0625},{x:.9375,y:.0625},{x:.9375,y:.0625},{x:.9375,y:.0625},{x:.9375,y:.0625},{x:.9375,y:.0625},{x:.0625,y:.1875},{x:.0625,y:.1875},{x:.0625,y:.1875},{x:.0625,y:.1875},{x:.0625,y:.1875},{x:.0625,y:.1875},{x:.1875,y:.1875},{x:.1875,y:.1875},{x:.1875,y:.1875},{x:.1875,y:.1875},{x:.1875,y:.1875},{x:.1875,y:.1875},{x:.3125,y:.1875},{x:.3125,y:.1875},{x:.3125,y:.1875},{x:.3125,y:.1875},{x:.3125,y:.1875},{x:.3125,y:.1875},{x:.4375,y:.1875},{x:.4375,y:.1875},{x:.4375,y:.1875},{x:.4375,y:.1875},{x:.4375,y:.1875},{x:.4375,y:.1875},{x:.5625,y:.1875},{x:.5625,y:.1875},{x:.5625,y:.1875},{x:.5625,y:.1875},{x:.5625,y:.1875},{x:.5625,y:.1875},{x:.6875,y:.1875},{x:.6875,y:.1875},{x:.6875,y:.1875},{x:.6875,y:.1875},{x:.6875,y:.1875},{x:.6875,y:.1875},{x:.8125,y:.1875},{x:.8125,y:.1875},{x:.8125,y:.1875},{x:.8125,y:.1875},{x:.8125,y:.1875},{x:.8125,y:.1875},{x:.9375,y:.1875},{x:.9375,y:.1875},{x:.9375,y:.1875},{x:.9375,y:.1875},{x:.9375,y:.1875},{x:.9375,y:.1875},{x:.0625,y:.3125},{x:.0625,y:.3125},{x:.0625,y:.3125},{x:.0625,y:.3125},{x:.0625,y:.3125},{x:.0625,y:.3125},{x:.1875,y:.3125},{x:.1875,y:.3125},{x:.1875,y:.3125},{x:.1875,y:.3125},{x:.1875,y:.3125},{x:.1875,y:.3125},{x:.3125,y:.3125},{x:.3125,y:.3125},{x:.3125,y:.3125},{x:.3125,y:.3125},{x:.3125,y:.3125},{x:.3125,y:.3125},{x:.4375,y:.3125},{x:.4375,y:.3125},{x:.4375,y:.3125},{x:.4375,y:.3125},{x:.4375,y:.3125},{x:.4375,y:.3125},{x:.5625,y:.3125},{x:.5625,y:.3125},{x:.5625,y:.3125},{x:.5625,y:.3125},{x:.5625,y:.3125},{x:.5625,y:.3125},{x:.6875,y:.3125},{x:.6875,y:.3125},{x:.6875,y:.3125},{x:.6875,y:.3125},{x:.6875,y:.3125},{x:.6875,y:.3125},{x:.8125,y:.3125},{x:.8125,y:.3125},{x:.8125,y:.3125},{x:.8125,y:.3125},{x:.8125,y:.3125},{x:.8125,y:.3125},{x:.9375,y:.3125},{x:.9375,y:.3125},{x:.9375,y:.3125},{x:.9375,y:.3125},{x:.9375,y:.3125},{x:.9375,y:.3125},{x:.0625,y:.4375},{x:.0625,y:.4375},{x:.0625,y:.4375},{x:.0625,y:.4375},{x:.0625,y:.4375},{x:.0625,y:.4375},{x:.1875,y:.4375},{x:.1875,y:.4375},{x:.1875,y:.4375},{x:.1875,y:.4375},{x:.1875,y:.4375},{x:.1875,y:.4375},{x:.3125,y:.4375},{x:.3125,y:.4375},{x:.3125,y:.4375},{x:.3125,y:.4375},{x:.3125,y:.4375},{x:.3125,y:.4375},{x:.4375,y:.4375},{x:.4375,y:.4375},{x:.4375,y:.4375},{x:.4375,y:.4375},{x:.4375,y:.4375},{x:.4375,y:.4375},{x:.5625,y:.4375},{x:.5625,y:.4375},{x:.5625,y:.4375},{x:.5625,y:.4375},{x:.5625,y:.4375},{x:.5625,y:.4375},{x:.6875,y:.4375},{x:.6875,y:.4375},{x:.6875,y:.4375},{x:.6875,y:.4375},{x:.6875,y:.4375},{x:.6875,y:.4375},{x:.8125,y:.4375},{x:.8125,y:.4375},{x:.8125,y:.4375},{x:.8125,y:.4375},{x:.8125,y:.4375},{x:.8125,y:.4375},{x:.9375,y:.4375},{x:.9375,y:.4375},{x:.9375,y:.4375},{x:.9375,y:.4375},{x:.9375,y:.4375},{x:.9375,y:.4375},{x:.0625,y:.5625},{x:.0625,y:.5625},{x:.0625,y:.5625},{x:.0625,y:.5625},{x:.0625,y:.5625},{x:.0625,y:.5625},{x:.1875,y:.5625},{x:.1875,y:.5625},{x:.1875,y:.5625},{x:.1875,y:.5625},{x:.1875,y:.5625},{x:.1875,y:.5625},{x:.3125,y:.5625},{x:.3125,y:.5625},{x:.3125,y:.5625},{x:.3125,y:.5625},{x:.3125,y:.5625},{x:.3125,y:.5625},{x:.4375,y:.5625},{x:.4375,y:.5625},{x:.4375,y:.5625},{x:.4375,y:.5625},{x:.4375,y:.5625},{x:.4375,y:.5625},{x:.5625,y:.5625},{x:.5625,y:.5625},{x:.5625,y:.5625},{x:.5625,y:.5625},{x:.5625,y:.5625},{x:.5625,y:.5625},{x:.6875,y:.5625},{x:.6875,y:.5625},{x:.6875,y:.5625},{x:.6875,y:.5625},{x:.6875,y:.5625},{x:.6875,y:.5625},{x:.8125,y:.5625},{x:.8125,y:.5625},{x:.8125,y:.5625},{x:.8125,y:.5625},{x:.8125,y:.5625},{x:.8125,y:.5625},{x:.9375,y:.5625},{x:.9375,y:.5625},{x:.9375,y:.5625},{x:.9375,y:.5625},{x:.9375,y:.5625},{x:.9375,y:.5625},{x:.0625,y:.6875},{x:.0625,y:.6875},{x:.0625,y:.6875},{x:.0625,y:.6875},{x:.0625,y:.6875},{x:.0625,y:.6875},{x:.1875,y:.6875},{x:.1875,y:.6875},{x:.1875,y:.6875},{x:.1875,y:.6875},{x:.1875,y:.6875},{x:.1875,y:.6875},{x:.3125,y:.6875},{x:.3125,y:.6875},{x:.3125,y:.6875},{x:.3125,y:.6875},{x:.3125,y:.6875},{x:.3125,y:.6875},{x:.4375,y:.6875},{x:.4375,y:.6875},{x:.4375,y:.6875},{x:.4375,y:.6875},{x:.4375,y:.6875},{x:.4375,y:.6875},{x:.5625,y:.6875},{x:.5625,y:.6875},{x:.5625,y:.6875},{x:.5625,y:.6875},{x:.5625,y:.6875},{x:.5625,y:.6875},{x:.6875,y:.6875},{x:.6875,y:.6875},{x:.6875,y:.6875},{x:.6875,y:.6875},{x:.6875,y:.6875},{x:.6875,y:.6875},{x:.8125,y:.6875},{x:.8125,y:.6875},{x:.8125,y:.6875},{x:.8125,y:.6875},{x:.8125,y:.6875},{x:.8125,y:.6875},{x:.9375,y:.6875},{x:.9375,y:.6875},{x:.9375,y:.6875},{x:.9375,y:.6875},{x:.9375,y:.6875},{x:.9375,y:.6875},{x:.0625,y:.8125},{x:.0625,y:.8125},{x:.0625,y:.8125},{x:.0625,y:.8125},{x:.0625,y:.8125},{x:.0625,y:.8125},{x:.1875,y:.8125},{x:.1875,y:.8125},{x:.1875,y:.8125},{x:.1875,y:.8125},{x:.1875,y:.8125},{x:.1875,y:.8125},{x:.3125,y:.8125},{x:.3125,y:.8125},{x:.3125,y:.8125},{x:.3125,y:.8125},{x:.3125,y:.8125},{x:.3125,y:.8125},{x:.4375,y:.8125},{x:.4375,y:.8125},{x:.4375,y:.8125},{x:.4375,y:.8125},{x:.4375,y:.8125},{x:.4375,y:.8125},{x:.5625,y:.8125},{x:.5625,y:.8125},{x:.5625,y:.8125},{x:.5625,y:.8125},{x:.5625,y:.8125},{x:.5625,y:.8125},{x:.6875,y:.8125},{x:.6875,y:.8125},{x:.6875,y:.8125},{x:.6875,y:.8125},{x:.6875,y:.8125},{x:.6875,y:.8125},{x:.8125,y:.8125},{x:.8125,y:.8125},{x:.8125,y:.8125},{x:.8125,y:.8125},{x:.8125,y:.8125},{x:.8125,y:.8125},{x:.9375,y:.8125},{x:.9375,y:.8125},{x:.9375,y:.8125},{x:.9375,y:.8125},{x:.9375,y:.8125},{x:.9375,y:.8125},{x:.0625,y:.9375},{x:.0625,y:.9375},{x:.0625,y:.9375},{x:.0625,y:.9375},{x:.0625,y:.9375},{x:.0625,y:.9375},{x:.1875,y:.9375},{x:.1875,y:.9375},{x:.1875,y:.9375},{x:.1875,y:.9375},{x:.1875,y:.9375},{x:.1875,y:.9375},{x:.3125,y:.9375},{x:.3125,y:.9375},{x:.3125,y:.9375},{x:.3125,y:.9375},{x:.3125,y:.9375},{x:.3125,y:.9375},{x:.4375,y:.9375},{x:.4375,y:.9375},{x:.4375,y:.9375},{x:.4375,y:.9375},{x:.4375,y:.9375},{x:.4375,y:.9375},{x:.5625,y:.9375},{x:.5625,y:.9375},{x:.5625,y:.9375},{x:.5625,y:.9375},{x:.5625,y:.9375},{x:.5625,y:.9375},{x:.6875,y:.9375},{x:.6875,y:.9375},{x:.6875,y:.9375},{x:.6875,y:.9375},{x:.6875,y:.9375},{x:.6875,y:.9375},{x:.8125,y:.9375},{x:.8125,y:.9375},{x:.8125,y:.9375},{x:.8125,y:.9375},{x:.8125,y:.9375},{x:.8125,y:.9375},{x:.9375,y:.9375},{x:.9375,y:.9375},{x:.9375,y:.9375},{x:.9375,y:.9375},{x:.9375,y:.9375},{x:.9375,y:.9375}],Yee=function(){function e(t){(0,Ur.Z)(this,e),na(this,"model"),na(this,"anchors"),na(this,"anchorsTensor"),na(this,"inputSize"),na(this,"inputSizeTensor"),na(this,"doubleInputSizeTensor"),this.model=t,this.anchors=Xee.map((function(e){return[e.x,e.y]})),this.anchorsTensor=Hv(this.anchors),this.inputSize=this.model&&this.model.inputs&&this.model.inputs[0].shape?this.model.inputs[0].shape[2]:0,this.inputSizeTensor=Vv([this.inputSize,this.inputSize]),this.doubleInputSizeTensor=Vv([2*this.inputSize,2*this.inputSize])}return(0,Gr.Z)(e,[{key:"normalizeBoxes",value:function(e){var t={};t.boxOffsets=zh(e,[0,0],[-1,2]),t.boxSizes=zh(e,[0,2],[-1,2]),t.div=nh(t.boxOffsets,this.inputSizeTensor),t.boxCenterPoints=eh(t.div,this.anchorsTensor),t.halfBoxSizes=nh(t.boxSizes,this.doubleInputSizeTensor),t.sub=bg(t.boxCenterPoints,t.halfBoxSizes),t.startPoints=rh(t.sub,this.inputSizeTensor),t.add=eh(t.boxCenterPoints,t.halfBoxSizes),t.endPoints=rh(t.add,this.inputSizeTensor);var n=$h([t.startPoints,t.endPoints],1);return Object.keys(t).forEach((function(e){return Df(t[e])})),n}},{key:"normalizeLandmarks",value:function(e,t){var n={};n.reshape=Mh(e,[-1,7,2]),n.div=nh(n.reshape,this.inputSizeTensor),n.landmarks=eh(n.div,this.anchors[t]);var r=rh(n.landmarks,this.inputSizeTensor);return Object.keys(n).forEach((function(e){return Df(n[e])})),r}},{key:"predict",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r={}).resize=Ob.resizeBilinear(t,[this.inputSize,this.inputSize]),r.div=nh(r.resize,l6.tf127),r.image=bg(r.div,l6.tf1),r.batched=this.model.execute(r.image),r.predictions=zv(r.batched),r.slice=zh(r.predictions,[0,0],[-1,1]),r.sigmoid=Lh(r.slice),r.scores=zv(r.sigmoid),e.next=11,r.scores.data();case 11:return a=e.sent,r.boxes=zh(r.predictions,[0,1],[-1,4]),r.norm=this.normalizeBoxes(r.boxes),e.next=16,Ob.nonMaxSuppressionAsync(r.norm,r.scores,3*n.hand.maxDetected,n.hand.iouThreshold,n.hand.minConfidence);case 16:return r.nms=e.sent,e.next=19,r.nms.array();case 19:i=e.sent,o=[],s=Yr(i),e.prev=22,l=(0,Er.Z)().mark((function e(){var n,i,s,l,d,f,p,h;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.value,(i={}).box=zh(r.norm,[n,0],[1,-1]),i.slice=zh(r.predictions,[n,5],[1,14]),i.norm=c.normalizeLandmarks(i.slice,n),i.palmLandmarks=Mh(i.norm,[-1,2]),e.next=8,i.box.data();case 8:return s=e.sent,l=s.slice(0,2),d=s.slice(2,4),e.next=13,i.palmLandmarks.array();case 13:f=e.sent,p={startPoint:l,endPoint:d,palmLandmarks:f,confidence:a[n]},h=Lee(p,[t.shape[2]/c.inputSize,t.shape[1]/c.inputSize]),o.push(h),Object.keys(i).forEach((function(e){return Df(i[e])}));case 18:case"end":return e.stop()}}),e)})),s.s();case 25:if((u=s.n()).done){e.next=29;break}return e.delegateYield(l(),"t0",27);case 27:e.next=25;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(22),s.e(e.t1);case 34:return e.prev=34,s.f(),e.finish(34);case 37:return Object.keys(r).forEach((function(e){return Df(r[e])})),e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,this,[[22,31,34,37]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),qee=[0,5,9,13,17,1,2],Kee=0,Jee=function(){function e(t,n){(0,Ur.Z)(this,e),na(this,"handDetector"),na(this,"handPoseModel"),na(this,"inputSize"),na(this,"storedBoxes"),na(this,"skipped"),na(this,"detectedHands"),this.handDetector=t,this.handPoseModel=n,this.inputSize=this.handPoseModel&&this.handPoseModel.inputs[0].shape?this.handPoseModel.inputs[0].shape[2]:0,this.storedBoxes=[],this.skipped=Number.MAX_SAFE_INTEGER,this.detectedHands=0}return(0,Gr.Z)(e,[{key:"calculateLandmarksBoundingBox",value:function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,(0,qr.Z)(t)),Math.min.apply(Math,(0,qr.Z)(n))],endPoint:[Math.max.apply(Math,(0,qr.Z)(t)),Math.max.apply(Math,(0,qr.Z)(n))]}}},{key:"getBoxForPalmLandmarks",value:function(e,t){var n=e.map((function(e){return Gee([].concat((0,qr.Z)(e),[1]),t)}));return zee(Zee(this.calculateLandmarksBoundingBox(n)),5)}},{key:"getBoxForHandLandmarks",value:function(e){var t=zee(Zee(this.calculateLandmarksBoundingBox(e)),1.65);t.palmLandmarks=[];for(var n=0;n<qee.length;n++)t.palmLandmarks.push(e[qee[n]].slice(0,2));return t}},{key:"transformRawCoords",value:function(e,t,n,r){var a=this,i=Ree(t),o=[i[0]/this.inputSize,i[1]/this.inputSize,(i[0]+i[1])/this.inputSize/2],s=e.map((function(e){return[o[0]*(e[0]-a.inputSize/2),o[1]*(e[1]-a.inputSize/2),o[2]*e[2]]})),u=Uee(n,[0,0]),l=s.map((function(e){var t=Gee(e,u);return[].concat((0,qr.Z)(t),[e[2]])})),c=function(e){var t=[[e[0][0],e[1][0]],[e[0][1],e[1][1]]],n=[e[0][2],e[1][2]],r=[-jee(t[0],n),-jee(t[1],n)];return[t[0].concat(r[0]),t[1].concat(r[1]),[0,0,1]]}(r),d=[].concat((0,qr.Z)(Fee(t)),[1]),f=[jee(d,c[0]),jee(d,c[1])];return l.map((function(e){return[Math.trunc(e[0]+f[0]),Math.trunc(e[1]+f[1]),Math.trunc(e[2])]}))}},{key:"estimateHands",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,i=(n.hand.skipTime||0)>la()-Kee,u=this.skipped<(n.hand.skipFrames||0),!(n.skipAllowed&&i&&u)){e.next=8;break}return e.next=6,this.handDetector.predict(t,n);case 6:a=e.sent,this.skipped=0;case 8:n.skipAllowed&&this.skipped++,a&&a.length>0&&(a.length!==this.detectedHands&&this.detectedHands!==n.hand.maxDetected||!n.hand.landmarks)&&(this.detectedHands=0,this.storedBoxes=(0,qr.Z)(a),this.storedBoxes.length>0&&(r=!0)),l=[],c=0;case 12:if(!(c<this.storedBoxes.length)){e.next=58;break}if(d=this.storedBoxes[c]){e.next=16;break}return e.abrupt("continue",55);case 16:if(!n.hand.landmarks){e.next=52;break}return f=n.hand.rotation?Wee(d.palmLandmarks[0],d.palmLandmarks[2]):0,p=Fee(d),h=[p[0]/t.shape[2],p[1]/t.shape[1]],m=n.hand.rotation&&H7.kernels.includes("rotatewithoffset")?Ob.rotateWithOffset(t,f,0,h):t.clone(),g=Uee(-f,p),v=r?this.getBoxForPalmLandmarks(d.palmLandmarks,g):d,y=Dee(v,m,[this.inputSize,this.inputSize]),b=nh(y,l6.tf255),Df(y),Df(m),x=this.handPoseModel.execute(b),A=(0,o.Z)(x,2),w=A[0],k=A[1],Kee=la(),Df(b),e.next=32,w.data();case 32:if(S=e.sent[0],Df(w),!(S>=n.hand.minConfidence/4)){e.next=48;break}return C=Mh(k,[-1,3]),e.next=38,C.array();case 38:I=e.sent,Df(k),Df(C),E=this.transformRawCoords(I,v,f,g),T=this.getBoxForHandLandmarks(E),this.storedBoxes[c]=(0,s.Z)((0,s.Z)({},T),{},{confidence:S}),N={landmarks:E,confidence:S,boxConfidence:d.confidence,fingerConfidence:S,box:{topLeft:T.startPoint,bottomRight:T.endPoint}},l.push(N),e.next=49;break;case 48:this.storedBoxes[c]=null;case 49:Df(k),e.next=55;break;case 52:O=zee(Zee(d),1.65),P={confidence:d.confidence,boxConfidence:d.confidence,fingerConfidence:0,box:{topLeft:O.startPoint,bottomRight:O.endPoint},landmarks:[]},l.push(P);case 55:c++,e.next=12;break;case 58:return this.storedBoxes=this.storedBoxes.filter((function(e){return null!==e})),this.detectedHands=l.length,l.length>n.hand.maxDetected&&(l.length=n.hand.maxDetected),e.abrupt("return",l);case 62:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Qee={thumb:0,index:1,middle:2,ring:3,pinky:4,all:[0,1,2,3,4],nameMapping:{0:"thumb",1:"index",2:"middle",3:"ring",4:"pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return Qee.nameMapping[e]},getPoints:function(e){return Qee.pointsMapping[e]}},$ee={none:0,half:1,full:2,nameMapping:{0:"none",1:"half",2:"full"},getName:function(e){return $ee.nameMapping[e]}},ete={verticalUp:0,verticalDown:1,horizontalLeft:2,horizontalRight:3,diagonalUpRight:4,diagonalUpLeft:5,diagonalDownRight:6,diagonalDownLeft:7,nameMapping:{0:"verticalUp",1:"verticalDown",2:"horizontalLeft",3:"horizontalRight",4:"diagonalUpRight",5:"diagonalUpLeft",6:"diagonalDownRight",7:"diagonalDownLeft"},getName:function(e){return ete.nameMapping[e]}},tte=function(){function e(t){(0,Ur.Z)(this,e),na(this,"name"),na(this,"curls"),na(this,"directions"),na(this,"weights"),na(this,"weightsRelative"),this.name=t,this.curls={},this.directions={},this.weights=[1,1,1,1,1],this.weightsRelative=[1,1,1,1,1]}return(0,Gr.Z)(e,[{key:"curl",value:function(e,t,n){"undefined"===typeof this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,n])}},{key:"direction",value:function(e,t,n){this.directions[e]||(this.directions[e]=[]),this.directions[e].push([t,n])}},{key:"weight",value:function(e,t){this.weights[e]=t;var n=this.weights.reduce((function(e,t){return e+t}),0);this.weightsRelative=this.weights.map((function(e){return 5*e/n}))}},{key:"matchAgainst",value:function(e,t){var n=0;for(var r in e){var a=e[r],i=this.curls[r];if("undefined"!==typeof i){var s,u=Yr(i);try{for(u.s();!(s=u.n()).done;){var l=(0,o.Z)(s.value,2),c=l[0],d=l[1];if(a===c){n+=d*this.weightsRelative[r];break}}}catch(x){u.e(x)}finally{u.f()}}else n+=this.weightsRelative[r]}for(var f in t){var p=t[f],h=this.directions[f];if("undefined"!==typeof h){var m,g=Yr(h);try{for(g.s();!(m=g.n()).done;){var v=(0,o.Z)(m.value,2),y=v[0],b=v[1];if(p===y){n+=b*this.weightsRelative[f];break}}}catch(x){g.e(x)}finally{g.f()}}else n+=this.weightsRelative[f]}return n/10}}]),e}(),nte=Qee.thumb,rte=Qee.index,ate=Qee.middle,ite=Qee.ring,ote=Qee.pinky,ste=$ee.none,ute=$ee.half,lte=$ee.full,cte=ete.verticalUp,dte=(ete.verticalDown,ete.horizontalLeft),fte=ete.horizontalRight,pte=ete.diagonalUpRight,hte=ete.diagonalUpLeft,mte=(ete.diagonalDownRight,ete.diagonalDownLeft,new tte("thumbs up"));mte.curl(nte,ste,1),mte.direction(nte,cte,1),mte.direction(nte,hte,.25),mte.direction(nte,pte,.25);for(var gte=0,vte=[Qee.index,Qee.middle,Qee.ring,Qee.pinky];gte<vte.length;gte++){var yte=vte[gte];mte.curl(yte,lte,1),mte.direction(yte,dte,1),mte.direction(yte,fte,1)}var bte=new tte("victory");bte.curl(nte,ute,.5),bte.curl(nte,ste,.5),bte.direction(nte,cte,1),bte.direction(nte,hte,1),bte.curl(rte,ste,1),bte.direction(rte,cte,.75),bte.direction(rte,hte,1),bte.curl(ate,ste,1),bte.direction(ate,cte,1),bte.direction(ate,hte,.75),bte.curl(ite,lte,1),bte.direction(ite,cte,.2),bte.direction(ite,hte,1),bte.direction(ite,dte,.2),bte.curl(ote,lte,1),bte.direction(ote,cte,.2),bte.direction(ote,hte,1),bte.direction(ote,dte,.2),bte.weight(rte,2),bte.weight(ate,2);var xte=new tte("point");xte.curl(nte,lte,1),xte.curl(rte,ste,.5),xte.curl(ate,lte,.5),xte.curl(ite,lte,.5),xte.curl(ote,lte,.5),xte.weight(rte,2),xte.weight(ate,2);var Ate=new tte("middle finger");Ate.curl(nte,ste,1),Ate.curl(rte,lte,.5),Ate.curl(ate,lte,.5),Ate.curl(ite,lte,.5),Ate.curl(ote,lte,.5),Ate.weight(rte,2),Ate.weight(ate,2);var wte=new tte("open palm");wte.curl(nte,ste,.75),wte.curl(rte,ste,.75),wte.curl(ate,ste,.75),wte.curl(ite,ste,.75),wte.curl(ote,ste,.75);var kte=[mte,bte,xte,Ate,wte],Ste=60,Cte=130,Ite=1.1,Ete=.9,Tte=1.6;function Nte(e,t,n,r){var a=(t-r)/(e-n),i=180*Math.atan(a)/Math.PI;return i<=0?i=-i:i>0&&(i=180-i),i}function Ote(e,t){if(!e||!t)return[0,0];var n=Nte(e[0],e[1],t[0],t[1]);return 2===e.length?n:[n,Nte(e[1],e[2],t[1],t[2])]}function Pte(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0,a=0;return e>=75&&e<=105?n=1*t:e>=25&&e<=155?r=1*t:a=1*t,[n,r,a]}function _te(e,t,n){var r=e[0]-t[0],a=e[0]-n[0],i=t[0]-n[0],o=e[1]-t[1],s=e[1]-n[1],u=t[1]-n[1],l=e[2]-t[2],c=e[2]-n[2],d=t[2]-n[2],f=Math.sqrt(r*r+o*o+l*l),p=Math.sqrt(a*a+s*s+c*c),h=Math.sqrt(i*i+u*u+d*d),m=(h*h+f*f-p*p)/(2*h*f);m>1?m=1:m<-1&&(m=-1);var g=Math.acos(m);return(g=57.2958*g%180)>Cte?$ee.none:g>Ste?$ee.half:$ee.full}function Mte(e,t,n,r){return r===Math.abs(e)?e>0?ete.horizontalLeft:ete.horizontalRight:r===Math.abs(t)?t>0?ete.horizontalLeft:ete.horizontalRight:n>0?ete.horizontalLeft:ete.horizontalRight}function Rte(e,t,n,r){return r===Math.abs(e)?e<0?ete.verticalDown:ete.verticalUp:r===Math.abs(t)?t<0?ete.verticalDown:ete.verticalUp:n<0?ete.verticalDown:ete.verticalUp}function Fte(e,t,n,r){var a=e[0]-t[0],i=e[0]-n[0],o=t[0]-n[0],s=e[1]-t[1],u=e[1]-n[1],l=t[1]-n[1],c=Math.max(Math.abs(a),Math.abs(i),Math.abs(o)),d=Math.max(Math.abs(s),Math.abs(u),Math.abs(l)),f=0,p=0,h=0,m=d/(c+1e-5);m>1.5?f+=Ite:m>.66?p+=Ite:h+=Ite;var g=Math.sqrt(a*a+s*s),v=Math.sqrt(i*i+u*u),y=Math.sqrt(o*o+l*l),b=Math.max(g,v,y),x=e[0],A=e[1],w=n[0],k=n[1];b===g?(w=n[0],k=n[1]):b===y&&(x=t[0],A=t[1]);var S=Pte(Ote([x,A],[w,k]),Tte);f+=S[0],p+=S[1],h+=S[2];var C,I,E=Yr(r);try{for(E.s();!(C=E.n()).done;){var T=Pte(C.value,Ete);f+=T[0],p+=T[1],h+=T[2]}}catch(N){E.e(N)}finally{E.f()}return I=f===Math.max(f,p,h)?Rte(u,s,l,d):h===Math.max(p,h)?Mte(i,a,o,c):function(e,t,n,r,a,i,o,s){var u=Rte(e,t,n,r),l=Mte(a,i,o,s);return u===ete.verticalUp?l===ete.horizontalLeft?ete.diagonalUpLeft:ete.diagonalUpRight:l===ete.horizontalLeft?ete.diagonalDownLeft:ete.diagonalDownRight}(u,s,l,d,i,a,o,c),I}function Dte(e){var t=[],n=[],r=[],a=[];if(!e)return{curls:r,directions:a};var i,o=Yr(Qee.all);try{for(o.s();!(i=o.n()).done;){var s,u=i.value,l=Qee.getPoints(u),c=[],d=[],f=Yr(l);try{for(f.s();!(s=f.n()).done;){var p=s.value,h=Ote(e[p[0]],e[p[1]]),m=h[0],g=h[1];c.push(m),d.push(g)}}catch(E){f.e(E)}finally{f.f()}t.push(c),n.push(d)}}catch(E){o.e(E)}finally{o.f()}var v,y=Yr(Qee.all);try{for(y.s();!(v=y.n()).done;){var b=v.value,x=b===Qee.thumb?1:0,A=Qee.getPoints(b),w=e[A[x][0]],k=e[A[x+1][1]],S=e[A[3][1]],C=_te(w,k,S),I=Fte(w,k,S,t[b].slice(x));r[b]=C,a[b]=I}}catch(E){y.e(E)}finally{y.f()}return{curls:r,directions:a}}function Lte(e){if(!e||0===e.length)return null;var t,n=Dte(e),r={},a=Yr(Qee.all);try{for(a.s();!(t=a.n()).done;){var i=t.value;r[Qee.getName(i)]={curl:$ee.getName(n.curls[i]),direction:ete.getName(n.directions[i])}}}catch(o){a.e(o)}finally{a.f()}return r}function zte(e){var t=[];if(!e||0===e.length)return t;var n,r=Dte(e),a=Yr(kte);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=i.matchAgainst(r.curls,r.directions);o>=.7&&t.push({name:i.name,confidence:o})}}catch(s){a.e(s)}finally{a.f()}return t}var Zte,Wte,Bte,jte={thumb:[1,2,3,4],index:[5,6,7,8],middle:[9,10,11,12],ring:[13,14,15,16],pinky:[17,18,19,20],palm:[0]};function Vte(e,t){return Hte.apply(this,arguments)}function Hte(){return Hte=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bte.estimateHands(t,n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:for(a=[],i=function(e){var n={};if(r[e].landmarks)for(var i=0,o=Object.keys(jte);i<o.length;i++){var s=o[i];n[s]=jte[s].map((function(t){return r[e].landmarks[t]}))}var u=r[e].landmarks,l=[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,0,0],c=[0,0,0,0];if(u&&u.length>0){var d,f=Yr(u);try{for(f.s();!(d=f.n()).done;){var p=d.value;p[0]<l[0]&&(l[0]=p[0]),p[1]<l[1]&&(l[1]=p[1]),p[0]>l[2]&&(l[2]=p[0]),p[1]>l[3]&&(l[3]=p[1])}}catch(m){f.e(m)}finally{f.f()}l[2]-=l[0],l[3]-=l[1],c=[l[0]/(t.shape[2]||0),l[1]/(t.shape[1]||0),l[2]/(t.shape[2]||0),l[3]/(t.shape[1]||0)]}else l=r[e].box?[Math.trunc(Math.max(0,r[e].box.topLeft[0])),Math.trunc(Math.max(0,r[e].box.topLeft[1])),Math.trunc(Math.min(t.shape[2]||0,r[e].box.bottomRight[0])-Math.max(0,r[e].box.topLeft[0])),Math.trunc(Math.min(t.shape[1]||0,r[e].box.bottomRight[1])-Math.max(0,r[e].box.topLeft[1]))]:[0,0,0,0],c=[r[e].box.topLeft[0]/(t.shape[2]||0),r[e].box.topLeft[1]/(t.shape[1]||0),(r[e].box.bottomRight[0]-r[e].box.topLeft[0])/(t.shape[2]||0),(r[e].box.bottomRight[1]-r[e].box.topLeft[1])/(t.shape[1]||0)];var h=Lte(u);a.push({id:e,score:Math.round(100*r[e].confidence)/100,boxScore:Math.round(100*r[e].boxConfidence)/100,fingerScore:Math.round(100*r[e].fingerConfidence)/100,label:"hand",box:l,boxRaw:c,keypoints:u,annotations:n,landmarks:h})},o=0;o<r.length;o++)i(o);return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),Hte.apply(this,arguments)}function Ute(e){return Gte.apply(this,arguments)}function Gte(){return(Gte=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(Zte=null,Wte=null),Zte&&Wte){e.next=10;break}return e.next=4,Promise.all([t.hand.enabled?Y7(null==(n=t.hand.detector)?void 0:n.modelPath):null,t.hand.landmarks?Y7(null==(r=t.hand.skeleton)?void 0:r.modelPath):null]);case 4:a=e.sent,i=(0,o.Z)(a,2),Zte=i[0],Wte=i[1],e.next=12;break;case 10:t.debug&&sa("cached model:",Zte.modelUrl),t.debug&&sa("cached model:",Wte.modelUrl);case 12:return s=new Yee(Zte),Bte=new Jee(s,Wte),e.abrupt("return",[Zte,Wte]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xte,Yte=[null,null],qte=["StatefulPartitionedCall/Postprocessor/Slice","StatefulPartitionedCall/Postprocessor/ExpandDims_1"],Kte=[[0,0],[0,0]],Jte=["hand","fist","pinch","point","face","tip","pinchtip"],Qte=1.6,$te=Number.MAX_SAFE_INTEGER,ene=0,tne=[0,0],nne={boxes:[],hands:[]},rne={thumb:[1,2,3,4],index:[5,6,7,8],middle:[9,10,11,12],ring:[13,14,15,16],pinky:[17,18,19,20],base:[0],palm:[0,17,13,9,5,1,0]};function ane(e){return ine.apply(this,arguments)}function ine(){return(ine=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(Yte[0]=null),Yte[0]){e.next=11;break}return Xre(["tensorlistreserve","enter","tensorlistfromtensor","merge","loopcond","switch","exit","tensorliststack","nextiteration","tensorlistsetitem","tensorlistgetitem","reciprocal","shape","split","where"],t),e.next=5,Y7(null==(n=t.hand.detector)?void 0:n.modelPath);case 5:Yte[0]=e.sent,r=Object.values(Yte[0].modelSignature.inputs),Kte[0][0]=Array.isArray(r)?parseInt(r[0].tensorShape.dim[1].size):0,Kte[0][1]=Array.isArray(r)?parseInt(r[0].tensorShape.dim[2].size):0,e.next=12;break;case 11:t.debug&&sa("cached model:",Yte[0].modelUrl);case 12:return e.abrupt("return",Yte[0]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function one(e){return sne.apply(this,arguments)}function sne(){return(sne=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(Yte[1]=null),Yte[1]){e.next=10;break}return e.next=4,Y7(null==(n=t.hand.skeleton)?void 0:n.modelPath);case 4:Yte[1]=e.sent,r=Object.values(Yte[1].modelSignature.inputs),Kte[1][0]=Array.isArray(r)?parseInt(r[0].tensorShape.dim[1].size):0,Kte[1][1]=Array.isArray(r)?parseInt(r[0].tensorShape.dim[2].size):0,e.next=11;break;case 10:t.debug&&sa("cached model:",Yte[1].modelUrl);case 11:return e.abrupt("return",Yte[1]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function une(e,t){return lne.apply(this,arguments)}function lne(){return lne=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],t&&Yte[0]){e.next=3;break}return e.abrupt("return",r);case 3:return a={},i=(t.shape[2]||1)/(t.shape[1]||1),s=Math.min(8*Math.round((t.shape[1]||0)/8),512),u=8*Math.round(s*i/8),a.resize=Ob.resizeBilinear(t,[s,u]),a.cast=qd(a.resize,"int32"),e.next=11,Yte[0].executeAsync(a.cast,qte);case 11:return l=e.sent,c=(0,o.Z)(l,2),a.rawScores=c[0],a.rawBoxes=c[1],a.boxes=zv(a.rawBoxes,[0,2]),a.scores=zv(a.rawScores,[0]),Df((d=Qv(a.scores,1))[4]),d.splice(4,1),a.filtered=Zv(d,1),Df(d),a.max=Rm(a.filtered,1),a.argmax=ch(a.filtered,1),f=0,e.next=27,Ob.nonMaxSuppressionAsync(a.boxes,a.max,(n.hand.maxDetected||0)+1,n.hand.iouThreshold||0,n.hand.minConfidence||1);case 27:return a.nms=e.sent,e.next=30,a.nms.data();case 30:return p=e.sent,e.next=33,a.max.data();case 33:return h=e.sent,e.next=36,a.argmax.data();case 36:m=e.sent,g=0,v=Array.from(p);case 38:if(!(g<v.length)){e.next=55;break}return y=v[g],b=zh(a.boxes,y,1),e.next=43,b.data();case 43:x=e.sent,Df(b),A=[x[1],x[0],x[3]-x[1],x[2]-x[0]],w=O8(A,1.4),k=[Math.trunc(A[0]*tne[0]),Math.trunc(A[1]*tne[1]),Math.trunc(A[2]*tne[0]),Math.trunc(A[3]*tne[1])],S=h[y],C=Jte[m[y]],I={id:f++,score:S,box:k,boxRaw:w,label:C},r.push(I);case 52:g++,e.next=38;break;case 55:return Object.keys(a).forEach((function(e){return Df(a[e])})),r.sort((function(e,t){return t.score-e.score})),r.length>(n.hand.maxDetected||1)&&(r.length=n.hand.maxDetected||1),e.abrupt("return",r);case 59:case"end":return e.stop()}}),e)}))),lne.apply(this,arguments)}function cne(e,t,n){return dne.apply(this,arguments)}function dne(){return dne=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g,v;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={id:n.id,score:Math.round(100*n.score)/100,boxScore:Math.round(100*n.score)/100,fingerScore:0,box:n.box,boxRaw:n.boxRaw,label:n.label,keypoints:[],landmarks:{},annotations:{}},!(t&&Yte[1]&&r.hand.landmarks&&n.score>(r.hand.minConfidence||0))){e.next=26;break}return i={},s=[n.boxRaw[1],n.boxRaw[0],n.boxRaw[3]+n.boxRaw[1],n.boxRaw[2]+n.boxRaw[0]],i.crop=Ob.cropAndResize(t,[s],[0],[Kte[1][0],Kte[1][1]],"bilinear"),i.div=nh(i.crop,l6.tf255),u=Yte[1].execute(i.div,["Identity_1","Identity"]),l=(0,o.Z)(u,2),i.score=l[0],i.keypoints=l[1],e.next=12,i.score.data();case 12:if(c=e.sent[0],!((d=(100-Math.trunc(100/(1+Math.exp(c))))/100)>=(r.hand.minConfidence||0))){e.next=25;break}return a.fingerScore=d,i.reshaped=Mh(i.keypoints,[-1,3]),e.next=19,i.reshaped.array();case 19:for(f=e.sent,p=f.map((function(e){return[e[0]/Kte[1][1],e[1]/Kte[1][0],e[2]||0]})),h=p.map((function(e){return[e[0]*n.boxRaw[2],e[1]*n.boxRaw[3],e[2]||0]})),a.keypoints=h.map((function(e){return[tne[0]*(e[0]+n.boxRaw[0]),tne[1]*(e[1]+n.boxRaw[1]),e[2]||0]})),a.landmarks=Lte(a.keypoints),m=0,g=Object.keys(rne);m<g.length;m++)v=g[m],a.annotations[v]=rne[v].map((function(e){return a.landmarks&&a.keypoints[e]?a.keypoints[e]:null}));case 25:Object.keys(i).forEach((function(e){return Df(i[e])}));case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)}))),dne.apply(this,arguments)}function fne(e,t){return pne.apply(this,arguments)}function pne(){return pne=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yte[0]&&Yte[1]&&(null==(r=Yte[0])?void 0:r.inputs[0].shape)&&(null==(a=Yte[1])?void 0:a.inputs[0].shape)){e.next=2;break}return e.abrupt("return",[]);case 2:if(tne=[t.shape[2]||0,t.shape[1]||0],$te++,i=(n.hand.skipTime||0)>la()-ene,o=$te<(n.hand.skipFrames||0),!(n.skipAllowed&&i&&o)){e.next=8;break}return e.abrupt("return",nne.hands);case 8:return e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(r){var a,i,o,u,l,c,d,f,p;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=3*(n.hand.skipTime||0)>la()-ene,i=$te<3*(n.hand.skipFrames||0),!n.skipAllowed||nne.hands.length!==n.hand.maxDetected){e.next=8;break}return e.next=5,Promise.all(nne.boxes.map((function(e){return cne(t,e,n)})));case 5:nne.hands=e.sent,e.next=22;break;case 8:if(!(n.skipAllowed&&a&&i&&nne.hands.length>0)){e.next=14;break}return e.next=11,Promise.all(nne.boxes.map((function(e){return cne(t,e,n)})));case 11:nne.hands=e.sent,e.next=22;break;case 14:return e.next=16,une(t,n);case 16:return nne.boxes=e.sent,ene=la(),e.next=20,Promise.all(nne.boxes.map((function(e){return cne(t,e,n)})));case 20:nne.hands=e.sent,$te=0;case 22:if(o=(0,qr.Z)(nne.boxes),nne.boxes.length=0,n.cacheSensitivity>0)for(u=0;u<nne.hands.length;u++)(l=N8(nne.hands[u].keypoints,tne)).box[2]/(t.shape[2]||1)>.05&&l.box[3]/(t.shape[1]||1)>.05&&nne.hands[u].fingerScore&&nne.hands[u].fingerScore>(n.hand.minConfidence||0)&&(c=O8(l.box,Qte),d=O8(l.boxRaw,Qte),nne.boxes.push((0,s.Z)((0,s.Z)({},o[u]),{},{box:c,boxRaw:d})));for(f=0;f<nne.hands.length;f++)p=T8(nne.hands[f].keypoints,tne),nne.hands[f].box=p.box,nne.hands[f].boxRaw=p.boxRaw;r(nne.hands);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),pne.apply(this,arguments)}var hne=[],mne=Number.MAX_SAFE_INTEGER,gne=0,vne=0;function yne(e){return bne.apply(this,arguments)}function bne(){return(bne=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(Xte=null),Xte){e.next=7;break}return e.next=4,Y7(null==(n=t.face.liveness)?void 0:n.modelPath);case 4:Xte=e.sent,e.next=8;break;case 7:t.debug&&sa("cached model:",Xte.modelUrl);case 8:return e.abrupt("return",Xte);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xne(e,t,n,r){return Ane.apply(this,arguments)}function Ane(){return Ane=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r,a){var i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xte){e.next=2;break}return e.abrupt("return",0);case 2:if(s=((null==(i=n.face.liveness)?void 0:i.skipTime)||0)>la()-vne,u=mne<((null==(o=n.face.liveness)?void 0:o.skipFrames)||0),!(n.skipAllowed&&s&&u&&gne===a&&hne[r])){e.next=7;break}return mne++,e.abrupt("return",hne[r]);case 7:return mne=0,e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(n){var i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ob.resizeBilinear(t,[(null==Xte?void 0:Xte.inputs[0].shape)?Xte.inputs[0].shape[2]:0,(null==Xte?void 0:Xte.inputs[0].shape)?Xte.inputs[0].shape[1]:0],!1),o=null==Xte?void 0:Xte.execute(i),e.next=4,o.data();case 4:s=e.sent[0],hne[r]=Math.round(100*s)/100,gne=a,vne=la(),Df([i,o]),n(hne[r]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),Ane.apply(this,arguments)}var wne={};ta(wne,{connected:function(){return Tne},horizontal:function(){return Cne},kpt:function(){return Sne},relative:function(){return Ene},vertical:function(){return Ine}});var kne,Sne=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],Cne=[["leftEye","rightEye"],["leftEar","rightEar"],["leftShoulder","rightShoulder"],["leftElbow","rightElbow"],["leftWrist","rightWrist"],["leftHip","rightHip"],["leftKnee","rightKnee"],["leftAnkle","rightAnkle"]],Ine=[["leftKnee","leftShoulder"],["rightKnee","rightShoulder"],["leftAnkle","leftKnee"],["rightAnkle","rightKnee"]],Ene=[[["leftHip","rightHip"],["leftShoulder","rightShoulder"]],[["leftElbow","rightElbow"],["leftShoulder","rightShoulder"]]],Tne={leftLeg:["leftHip","leftKnee","leftAnkle"],rightLeg:["rightHip","rightKnee","rightAnkle"],torso:["leftShoulder","rightShoulder","rightHip","leftHip","leftShoulder"],leftArm:["leftShoulder","leftElbow","leftWrist"],rightArm:["rightShoulder","rightElbow","rightWrist"],head:[]},Nne={keypoints:[],padding:[[0,0],[0,0],[0,0],[0,0]]};function One(e){var t,n=Yr(Cne);try{var r=function(){var n=t.value,r=e.keypoints.findIndex((function(e){return e.part===n[0]})),a=e.keypoints.findIndex((function(e){return e.part===n[1]}));if(e.keypoints[r]&&e.keypoints[a]&&e.keypoints[r].position[0]<e.keypoints[a].position[0]){var i=e.keypoints[r];e.keypoints[r]=e.keypoints[a],e.keypoints[a]=i}};for(n.s();!(t=n.n()).done;)r()}catch(d){n.e(d)}finally{n.f()}var a,i=Yr(Ine);try{var s=function(){var t=a.value,n=e.keypoints.findIndex((function(e){return e&&e.part===t[0]})),r=e.keypoints.findIndex((function(e){return e&&e.part===t[1]}));e.keypoints[n]&&e.keypoints[r]&&e.keypoints[n].position[1]<e.keypoints[r].position[1]&&e.keypoints.splice(n,1)};for(i.s();!(a=i.n()).done;)s()}catch(d){i.e(d)}finally{i.f()}var u,l=Yr(Ene);try{var c=function(){var t=(0,o.Z)(u.value,2),n=t[0],r=t[1],a=e.keypoints.findIndex((function(e){return e&&e.part===n[0]})),i=e.keypoints.findIndex((function(e){return e&&e.part===n[1]})),s=e.keypoints.findIndex((function(e){return e&&e.part===r[0]})),l=e.keypoints.findIndex((function(e){return e&&e.part===r[1]}));if(!e.keypoints[s]||!e.keypoints[l])return"continue";var c=e.keypoints[a]?[Math.abs(e.keypoints[s].position[0]-e.keypoints[a].position[0]),Math.abs(e.keypoints[l].position[0]-e.keypoints[a].position[0])]:[0,0],d=e.keypoints[i]?[Math.abs(e.keypoints[l].position[0]-e.keypoints[i].position[0]),Math.abs(e.keypoints[s].position[0]-e.keypoints[i].position[0])]:[0,0];if(c[0]>c[1]||d[0]>d[1]){var f=e.keypoints[a];e.keypoints[a]=e.keypoints[i],e.keypoints[i]=f}};for(l.s();!(u=l.n()).done;)c()}catch(d){l.e(d)}finally{l.f()}}function Pne(e){for(var t=0;t<e.length;t++)if(e[t]&&Nne.keypoints[t]){var n=[Math.abs(e[t].positionRaw[0]-Nne.keypoints[t].positionRaw[0]),Math.abs(e[t].positionRaw[1]-Nne.keypoints[t].positionRaw[1])];n[0]<.005&&n[1]<.005?e[t]=Nne.keypoints[t]:Nne.keypoints[t]=e[t]}else Nne.keypoints[t]=e[t];return e}function _ne(e,t){var n={};if(!e.shape||!e.shape[1]||!e.shape[2])return e;Nne.padding=[[0,0],[e.shape[2]>e.shape[1]?Math.trunc((e.shape[2]-e.shape[1])/2):0,e.shape[2]>e.shape[1]?Math.trunc((e.shape[2]-e.shape[1])/2):0],[e.shape[1]>e.shape[2]?Math.trunc((e.shape[1]-e.shape[2])/2):0,e.shape[1]>e.shape[2]?Math.trunc((e.shape[1]-e.shape[2])/2):0],[0,0]],n.pad=Gg(e,Nne.padding),n.resize=Ob.resizeBilinear(n.pad,[t,t]);var r=qd(n.resize,"int32");return Object.keys(n).forEach((function(e){return Df(n[e])})),r}function Mne(e,t){e.keypoints=e.keypoints.filter((function(e){return e&&e.position}));var n,r=Yr(e.keypoints);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.position=[a.position[0]*(t[0]+Nne.padding[2][0]+Nne.padding[2][1])/t[0]-Nne.padding[2][0],a.position[1]*(t[1]+Nne.padding[1][0]+Nne.padding[1][1])/t[1]-Nne.padding[1][0]],a.positionRaw=[a.position[0]/t[0],a.position[1]/t[1]]}}catch(o){r.e(o)}finally{r.f()}var i=T8(e.keypoints.map((function(e){return e.position})),t);return e.box=i.box,e.boxRaw=i.boxRaw,e}var Rne,Fne=0,Dne=Number.MAX_SAFE_INTEGER,Lne={boxes:[],bodies:[],last:0};function zne(e){return Zne.apply(this,arguments)}function Zne(){return(Zne=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&(kne=null),kne){e.next=8;break}return Xre(["size"],t),e.next=5,Y7(t.body.modelPath);case 5:kne=e.sent,e.next=9;break;case 8:t.debug&&sa("cached model:",kne.modelUrl);case 9:return(Fne=kne.inputs[0].shape?kne.inputs[0].shape[2]:0)<64&&(Fne=256),e.abrupt("return",kne);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wne(e,t,n){return Bne.apply(this,arguments)}function Bne(){return Bne=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t[0][0],i=[],s=0,u=0;u<a.length;u++)(s=a[u][2])>n.body.minConfidence&&(l=[a[u][1],a[u][0]],i.push({score:Math.round(100*s)/100,part:Sne[u],positionRaw:l,position:[Math.round((r.shape[2]||0)*l[0]),Math.round((r.shape[1]||0)*l[1])]}));for(s=i.reduce((function(e,t){return t.score>e?t.score:e}),0),c=[],d=T8(i.map((function(e){return e.position})),[r.shape[2],r.shape[1]]),f={},p=function(){for(var e=(0,o.Z)(m[h],2),t=e[0],r=e[1],a=[],s=function(e){var t=i.find((function(t){return t.part===r[e]})),o=i.find((function(t){return t.part===r[e+1]}));t&&o&&t.score>(n.body.minConfidence||0)&&o.score>(n.body.minConfidence||0)&&a.push([t.position,o.position])},u=0;u<r.length-1;u++)s(u);f[t]=a},h=0,m=Object.entries(Tne);h<m.length;h++)p();return One(g={id:0,score:s,box:d.box,boxRaw:d.boxRaw,keypoints:i,annotations:f}),c.push(g),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),Bne.apply(this,arguments)}function jne(e,t,n){return Vne.apply(this,arguments)}function Vne(){return Vne=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g,v,y;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],i=0;i<t[0].length;i++)if(s=t[0][i],(u=Math.round(100*s[55])/100)>n.body.minConfidence){for(l=[],c=0;c<17;c++)(d=s[3*c+2])>n.body.minConfidence&&(f=[s[3*c+1],s[3*c+0]],l.push({part:Sne[c],score:Math.round(100*d)/100,positionRaw:f,position:[Math.round((r.shape[2]||0)*f[0]),Math.round((r.shape[1]||0)*f[1])]}));for(p=T8(l.map((function(e){return e.position})),[r.shape[2],r.shape[1]]),h={},m=function(){for(var e=(0,o.Z)(v[g],2),t=e[0],r=e[1],a=[],i=function(e){var t=l.find((function(t){return t.part===r[e]})),i=l.find((function(t){return t.part===r[e+1]}));t&&i&&t.score>(n.body.minConfidence||0)&&i.score>(n.body.minConfidence||0)&&a.push([t.position,i.position])},s=0;s<r.length-1;s++)i(s);h[t]=a},g=0,v=Object.entries(Tne);g<v.length;g++)m();One(y={id:i,score:u,box:p.box,boxRaw:p.boxRaw,keypoints:[].concat(l),annotations:h}),a.push(y)}return a.sort((function(e,t){return t.score-e.score})),a.length>n.body.maxDetected&&(a.length=n.body.maxDetected),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),Vne.apply(this,arguments)}function Hne(e,t){return Une.apply(this,arguments)}function Une(){return Une=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kne&&(null==kne?void 0:kne.inputs[0].shape)){e.next=2;break}return e.abrupt("return",[]);case 2:if(n.skipAllowed||(Lne.boxes.length=0),Dne++,r=(n.body.skipTime||0)>la()-Lne.last,a=Dne<(n.body.skipFrames||0),!(n.skipAllowed&&r&&a)){e.next=8;break}return e.abrupt("return",Lne.bodies);case 8:return e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(r){var a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dne=0,(a={}).input=_ne(t,Fne),a.res=null==kne?void 0:kne.execute(a.input),Lne.last=la(),e.next=7,a.res.array();case 7:if(i=e.sent,17!==a.res.shape[2]){e.next=14;break}return e.next=11,Wne(i,n,t);case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,jne(i,n,t);case 16:e.t0=e.sent;case 17:Lne.bodies=e.t0,o=Yr(Lne.bodies);try{for(o.s();!(s=o.n()).done;)Mne(u=s.value,[t.shape[2]||1,t.shape[1]||1]),Pne(u.keypoints)}catch(l){o.e(l)}finally{o.f()}Object.keys(a).forEach((function(e){return Df(a[e])})),r(Lne.bodies);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),Une.apply(this,arguments)}var Gne=[],Xne=0,Yne=Number.MAX_SAFE_INTEGER,qne=0,Kne=2.5;function Jne(e){return Qne.apply(this,arguments)}function Qne(){return(Qne=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rne&&!H7.initial){e.next=8;break}return e.next=3,Y7(t.object.modelPath);case 3:Rne=e.sent,n=Object.values(Rne.modelSignature.inputs),qne=Array.isArray(n)?parseInt(n[0].tensorShape.dim[2].size):0,e.next=9;break;case 8:t.debug&&sa("cached model:",Rne.modelUrl);case 9:return e.abrupt("return",Rne);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $ne(e,t,n){return ere.apply(this,arguments)}function ere(){return ere=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0,i=[],o=function(){var e=u[s];Ff((0,Tr.Z)((0,Er.Z)().mark((function o(){var s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C;return(0,Er.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=13*e,u=zv(t.find((function(e){return e.shape[1]===Math.pow(s,2)&&(e.shape[2]||0)===e9.length}))),l=zv(t.find((function(e){return e.shape[1]===Math.pow(s,2)&&(e.shape[2]||0)<e9.length}))),c=l.reshape([-1,4,l.shape[1]/4]),o.next=6,c.argMax(2).array();case 6:return d=o.sent,o.next=9,u.array();case 9:for(f=o.sent,p=0;p<u.shape[0];p++)for(h=0;h<u.shape[1];h++)(m=f[p][h])>(r.object.minConfidence||0)&&61!==h&&(g=(.5+Math.trunc(p%s))/s,v=(.5+Math.trunc(p/s))/s,y=d[p].map((function(t){return t*(s/e/qne)})),b=g-Kne/e*y[0],x=v-Kne/e*y[1],A=g+Kne/e*y[2]-b,w=v+Kne/e*y[3]-x,k=(k=[b,x,A,w]).map((function(e){return Math.max(0,Math.min(e,1))})),S=[k[0]*n[0],k[1]*n[1],k[2]*n[0],k[3]*n[1]],C={id:a++,score:Math.round(100*m)/100,class:h+1,label:e9[h].label,box:S.map((function(e){return Math.trunc(e)})),boxRaw:k},i.push(C));case 11:case"end":return o.stop()}}),o)}))))},s=0,u=[1,2,4];s<u.length;s++)o();if(t.forEach((function(e){return Df(e)})),l=i.map((function(e){return[e.boxRaw[1],e.boxRaw[0],e.boxRaw[3],e.boxRaw[2]]})),c=i.map((function(e){return e.score})),d=[],!(l&&l.length>0)){e.next=16;break}return e.next=11,Ob.nonMaxSuppressionAsync(l,c,r.object.maxDetected,r.object.iouThreshold,r.object.minConfidence);case 11:return f=e.sent,e.next=14,f.data();case 14:d=e.sent,Df(f);case 16:return i=i.filter((function(e,t){return d.includes(t)})).sort((function(e,t){return t.score-e.score})),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)}))),ere.apply(this,arguments)}function tre(e,t){return nre.apply(this,arguments)}function nre(){return nre=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n.object.skipTime||0)>la()-Xne,a=Yne<(n.object.skipFrames||0),!(n.skipAllowed&&r&&a&&Gne.length>0)){e.next=5;break}return Yne++,e.abrupt("return",Gne);case 5:if(Yne=0,H7.kernels.includes("mod")&&H7.kernels.includes("sparsetodense")){e.next=8;break}return e.abrupt("return",Gne);case 8:return e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(r){var a,i,o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t.shape[2]||0,t.shape[1]||0],i=Ob.resizeBilinear(t,[qne,qne],!1),o=nh(i,l6.tf255),s=o.transpose([0,3,1,2]),Df(o),Df(i),n.object.enabled&&(u=Rne.execute(s)),Xne=la(),Df(s),e.next=11,$ne(u,a,n);case 11:l=e.sent,Gne=l,r(l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),nre.apply(this,arguments)}var rre=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],are=rre.length,ire=rre.reduce((function(e,t,n){return e[t]=n,e}),{}),ore=([["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return[ire[n],ire[r]]})),[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]]);function sre(e){var t=e.reduce((function(e,t){var n=e.maxX,r=e.maxY,a=e.minX,i=e.minY,o=t.position,s=o.x,u=o.y;return{maxX:Math.max(n,s),maxY:Math.max(r,u),minX:Math.min(a,s),minY:Math.min(i,u)}}),{maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY});return[t.minX,t.minY,t.maxX-t.minX,t.maxY-t.minY]}function ure(e,t,n){var r=(0,o.Z)(t,2),a=r[0],i=r[1],s=(0,o.Z)(n,2),u=s[0],l=s[1],c=a/u,d=i/l,f=e.map((function(e,t){return function(e,t){return{id:t,score:e.score,boxRaw:[e.box[0]/l,e.box[1]/u,e.box[2]/l,e.box[3]/u],box:[Math.trunc(e.box[0]*d),Math.trunc(e.box[1]*c),Math.trunc(e.box[2]*d),Math.trunc(e.box[3]*c)],keypoints:e.keypoints.map((function(e){var t=e.score,n=e.part,r=e.position;return{score:t,part:n,position:[Math.trunc(r.x*d),Math.trunc(r.y*c)],positionRaw:[r.x/u,r.y/u]}})),annotations:{}}}(e,t)}));return f}var lre,cre=function(){function e(t,n){(0,Ur.Z)(this,e),na(this,"priorityQueue"),na(this,"numberOfElements"),na(this,"getElementValue"),this.priorityQueue=new Array(t),this.numberOfElements=-1,this.getElementValue=n}return(0,Gr.Z)(e,[{key:"enqueue",value:function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)}},{key:"dequeue",value:function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e}},{key:"empty",value:function(){return-1===this.numberOfElements}},{key:"size",value:function(){return this.numberOfElements+1}},{key:"all",value:function(){return this.priorityQueue.slice(0,this.numberOfElements+1)}},{key:"max",value:function(){return this.priorityQueue[0]}},{key:"swim",value:function(e){for(;e>0&&this.less(Math.floor(e/2),e);)this.exchange(e,Math.floor(e/2)),e=Math.floor(e/2)}},{key:"sink",value:function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}}},{key:"getValueAt",value:function(e){return this.getElementValue(this.priorityQueue[e])}},{key:"less",value:function(e,t){return this.getValueAt(e)<this.getValueAt(t)}},{key:"exchange",value:function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n}}]),e}();function dre(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+are)}}function fre(e,t,n){var r=dre(e.heatmapY,e.heatmapX,e.id,n),a=r.y,i=r.x;return{x:e.heatmapX*t+i,y:e.heatmapY*t+a}}function pre(e,t,n){return e<t?t:e>n?n:e}function hre(e,t){return{x:e.x+t.x,y:e.y+t.y}}var mre,gre=["MobilenetV1/offset_2/BiasAdd","MobilenetV1/heatmap_2/BiasAdd","MobilenetV1/displacement_fwd_2/BiasAdd","MobilenetV1/displacement_bwd_2/BiasAdd"],vre=16,yre=Math.pow(50,2);function bre(e,t,n,r,a,i){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2,u=function(t){return{y:i.get(t.y,t.x,e),x:i.get(t.y,t.x,i.shape[2]/2+e)}},l=function(e,t,n){return{y:pre(Math.round(e.y/vre),0,t-1),x:pre(Math.round(e.x/vre),0,n-1)}},c=(0,o.Z)(r.shape,2),d=c[0],f=c[1],p=l(t.position,d,f),h=u(p),m=hre(t.position,h),g=m,v=0;v<s;v++){var y=l(g,d,f),b=dre(y.y,y.x,n,a);g=hre({x:y.x*vre,y:y.y*vre},{x:b.x,y:b.y})}var x=l(g,d,f),A=r.get(x.y,x.x,n);return{position:g,part:rre[n],score:A}}function xre(e,t,n,r,a){var i=ore.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return[ire[n],ire[r]]})),s=i.map((function(e){return(0,o.Z)(e,2)[1]})),u=i.map((function(e){return(0,o.Z)(e,1)[0]})),l=t.shape[2],c=s.length,d=new Array(l),f=fre(e.part,vre,n);d[e.part.id]={score:e.score,part:rre[e.part.id],position:f};for(var p=c-1;p>=0;--p){var h=s[p],m=u[p];d[h]&&!d[m]&&(d[m]=bre(p,d[h],m,t,n,a))}for(var g=0;g<c;++g){var v=u[g],y=s[g];d[v]&&!d[y]&&(d[y]=bre(g,d[v],y,t,n,r))}return d}function Are(e,t,n,r,a){for(var i=(0,o.Z)(a.shape,2),s=i[0],u=i[1],l=!0,c=Math.max(n-1,0),d=Math.min(n+1+1,s),f=c;f<d;++f){for(var p=Math.max(r-1,0),h=Math.min(r+1+1,u),m=p;m<h;++m)if(a.get(f,m,e)>t){l=!1;break}if(!l)break}return l}function wre(e,t,n){var r=t.x,a=t.y;return e.some((function(e){var t,i=null==(t=e.keypoints[n])?void 0:t.position;return!!i&&function(e,t,n,r){var a=n-e,i=r-t;return a*a+i*i}(a,r,i.y,i.x)<=yre}))}function kre(e,t){var n=t.reduce((function(t,n,r){var a=n.position,i=n.score;return wre(e,a,r)||(t+=i),t}),0);return n/t.length}function Sre(e,t,n,r,a,i){for(var s=[],u=function(e,t){for(var n=(0,o.Z)(t.shape,3),r=n[0],a=n[1],i=n[2],s=new cre(r*a*i,(function(e){return e.score})),u=0;u<r;++u)for(var l=0;l<a;++l)for(var c=0;c<i;++c){var d=t.get(u,l,c);d<e||Are(c,d,u,l,t)&&s.enqueue({score:d,part:{heatmapY:u,heatmapX:l,id:c}})}return s}(i,t);s.length<a&&!u.empty();){var l=u.dequeue();if(!wre(s,fre(l.part,vre,e),l.part.id)){var c=xre(l,t,e,n,r);c=c.filter((function(e){return e.score>i}));var d=kre(s,c),f=sre(c);d>i&&s.push({keypoints:c,box:f,score:Math.round(100*d)/100})}}return s}function Cre(e,t){return Ire.apply(this,arguments)}function Ire(){return Ire=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ff((function(){if(!lre.inputs[0].shape)return[];var e=Ob.resizeBilinear(t,[lre.inputs[0].shape[2],lre.inputs[0].shape[1]]),n=bg(nh(qd(e,"float32"),127.5),1),r=lre.execute(n,gre).map((function(e){return zv(e,[0])}));return r[1]=Lh(r[1]),r})),e.next=3,Promise.all(r.map((function(e){return e.buffer()})));case 3:a=e.sent,i=Yr(r);try{for(i.s();!(o=i.n()).done;)Df(o.value)}catch(l){i.e(l)}finally{i.f()}return e.next=8,Sre(a[0],a[1],a[2],a[3],n.body.maxDetected,n.body.minConfidence);case 8:if(s=e.sent,lre.inputs[0].shape){e.next=11;break}return e.abrupt("return",[]);case 11:return u=ure(s,[t.shape[1],t.shape[2]],[lre.inputs[0].shape[2],lre.inputs[0].shape[1]]),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),Ire.apply(this,arguments)}function Ere(e){return Tre.apply(this,arguments)}function Tre(){return(Tre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lre&&!H7.initial){e.next=6;break}return e.next=3,Y7(t.body.modelPath);case 3:lre=e.sent,e.next=7;break;case 6:t.debug&&sa("cached model:",lre.modelUrl);case 7:return e.abrupt("return",lre);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nre=!1;function Ore(e){return Pre.apply(this,arguments)}function Pre(){return(Pre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mre&&!H7.initial){e.next=6;break}return e.next=3,Y7(t.segmentation.modelPath);case 3:mre=e.sent,e.next=7;break;case 6:t.debug&&sa("cached model:",mre.modelUrl);case 7:return e.abrupt("return",mre);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _re(e,t,n){return Mre.apply(this,arguments)}function Mre(){return Mre=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nre){e.next=2;break}return e.abrupt("return",{data:[],canvas:null,alpha:null});case 2:if(Nre=!0,mre){e.next=6;break}return e.next=6,Ore(r);case 6:return e.next=8,z7(t,r);case 8:if(s=e.sent,u=(null==(a=s.tensor)?void 0:a.shape[2])||0,l=(null==(i=s.tensor)?void 0:i.shape[1])||0,s.tensor){e.next=13;break}return e.abrupt("return",{data:[],canvas:null,alpha:null});case 13:return(c={}).resize=Ob.resizeBilinear(s.tensor,[mre.inputs[0].shape?mre.inputs[0].shape[1]:0,mre.inputs[0].shape?mre.inputs[0].shape[2]:0],!1),Df(s.tensor),c.norm=nh(c.resize,l6.tf255),c.res=mre.execute(c.norm),c.squeeze=zv(c.res,0),2===c.squeeze.shape[2]?(c.softmax=Pv(c.squeeze),d=Qv(c.softmax,2),f=(0,o.Z)(d,2),c.bg=f[0],c.fg=f[1],c.expand=Um(c.fg,2),c.pad=Um(c.expand,0),c.crop=Ob.cropAndResize(c.pad,[[0,0,.5,.5]],[0],[u,l]),c.data=zv(c.crop,0)):c.data=Ob.resizeBilinear(c.squeeze,[l,u]),e.t0=Array,e.next=23,c.data.data();case 23:if(e.t1=e.sent,p=e.t0.from.call(e.t0,e.t1),!H7.node||H7.Canvas||"undefined"!==typeof ImageData){e.next=29;break}return r.debug&&sa("canvas support missing"),Object.keys(c).forEach((function(e){return Df(c[e])})),e.abrupt("return",{data:p,canvas:null,alpha:null});case 29:if(h=D7(u,l),!ap){e.next=33;break}return e.next=33,ap.toPixels(c.data,h);case 33:for(m=h.getContext("2d"),r.segmentation.blur&&r.segmentation.blur>0&&(m.filter="blur(".concat(r.segmentation.blur,"px)")),g=m.getImageData(0,0,u,l),v=D7(u,l),y=v.getContext("2d"),s.canvas&&y.drawImage(s.canvas,0,0),y.globalCompositeOperation="darken",r.segmentation.blur&&r.segmentation.blur>0&&(y.filter="blur(".concat(r.segmentation.blur,"px)")),y.drawImage(h,0,0),y.globalCompositeOperation="source-over",y.filter="none",b=y.getImageData(0,0,u,l),x=0;x<u*l;x++)b.data[4*x+3]=g.data[4*x+0];if(y.putImageData(b,0,0),A=null,!n||!v){e.next=57;break}return A=D7(u,l),e.next=52,z7(n,r);case 52:Df((w=e.sent).tensor),(k=A.getContext("2d")).drawImage(w.canvas,0,0,A.width,A.height),k.drawImage(v,0,0);case 57:return Object.keys(c).forEach((function(e){return Df(c[e])})),Nre=!1,e.abrupt("return",{data:p,canvas:v,alpha:h});case 60:case"end":return e.stop()}}),e)}))),Mre.apply(this,arguments)}var Rre=(0,Gr.Z)((function e(){(0,Ur.Z)(this,e),na(this,"ssrnetage",null),na(this,"gear",null),na(this,"blazeposedetect",null),na(this,"blazepose",null),na(this,"centernet",null),na(this,"efficientpose",null),na(this,"mobilefacenet",null),na(this,"emotion",null),na(this,"facedetect",null),na(this,"faceiris",null),na(this,"facemesh",null),na(this,"faceres",null),na(this,"ssrnetgender",null),na(this,"handpose",null),na(this,"handskeleton",null),na(this,"handtrack",null),na(this,"liveness",null),na(this,"movenet",null),na(this,"nanodet",null),na(this,"posenet",null),na(this,"segmentation",null),na(this,"antispoof",null)}));function Fre(e){for(var t=0,n=Object.keys(e.models);t<n.length;t++){var r=n[t];e.models[r]=null}}function Dre(e){return Lre.apply(this,arguments)}function Lre(){return(Lre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D,L,z,Z,W,B,j,V;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H7.initial&&Fre(t),!t.config.hand.enabled){e.next=16;break}if(t.models.handpose||!(null==(r=null==(n=t.config.hand.detector)?void 0:n.modelPath)?void 0:r.includes("handdetect"))){e.next=9;break}return e.next=5,Ute(t.config);case 5:R=e.sent,F=(0,o.Z)(R,2),t.models.handpose=F[0],t.models.handskeleton=F[1];case 9:if(t.models.handskeleton||!t.config.hand.landmarks||!(null==(i=null==(a=t.config.hand.detector)?void 0:a.modelPath)?void 0:i.includes("handdetect"))){e.next=16;break}return e.next=12,Ute(t.config);case 12:D=e.sent,L=(0,o.Z)(D,2),t.models.handpose=L[0],t.models.handskeleton=L[1];case 16:t.config.body.enabled&&!t.models.blazepose&&(null==(u=null==(s=t.config.body)?void 0:s.modelPath)?void 0:u.includes("blazepose"))&&(t.models.blazepose=j8(t.config)),t.config.body.enabled&&!t.models.blazeposedetect&&t.config.body.detector&&t.config.body.detector.modelPath&&(t.models.blazeposedetect=W8(t.config)),t.config.body.enabled&&!t.models.efficientpose&&(null==(c=null==(l=t.config.body)?void 0:l.modelPath)?void 0:c.includes("efficientpose"))&&(t.models.efficientpose=y9(t.config)),t.config.body.enabled&&!t.models.movenet&&(null==(f=null==(d=t.config.body)?void 0:d.modelPath)?void 0:f.includes("movenet"))&&(t.models.movenet=zne(t.config)),t.config.body.enabled&&!t.models.posenet&&(null==(h=null==(p=t.config.body)?void 0:p.modelPath)?void 0:h.includes("posenet"))&&(t.models.posenet=Ere(t.config)),t.config.face.enabled&&!t.models.facedetect&&(t.models.facedetect=g8(t.config)),t.config.face.enabled&&(null==(m=t.config.face.antispoof)?void 0:m.enabled)&&!t.models.antispoof&&(t.models.antispoof=R6(t.config)),t.config.face.enabled&&(null==(g=t.config.face.liveness)?void 0:g.enabled)&&!t.models.liveness&&(t.models.liveness=yne(t.config)),t.config.face.enabled&&(null==(v=t.config.face.description)?void 0:v.enabled)&&!t.models.faceres&&(t.models.faceres=Nee(t.config)),t.config.face.enabled&&(null==(y=t.config.face.emotion)?void 0:y.enabled)&&!t.models.emotion&&(t.models.emotion=P9(t.config)),t.config.face.enabled&&(null==(b=t.config.face.iris)?void 0:b.enabled)&&!(null==(x=t.config.face.attention)?void 0:x.enabled)&&!t.models.faceiris&&(t.models.faceiris=Q9(t.config)),t.config.face.enabled&&(null==(A=t.config.face.mesh)?void 0:A.enabled)&&!t.models.facemesh&&(t.models.facemesh=xee(t.config)),t.config.face.enabled&&(null==(w=t.config.face.gear)?void 0:w.enabled)&&!t.models.gear&&(t.models.gear=a6(t.config)),t.config.face.enabled&&(null==(k=t.config.face.ssrnet)?void 0:k.enabled)&&!t.models.ssrnetage&&(t.models.ssrnetage=g6(t.config)),t.config.face.enabled&&(null==(S=t.config.face.ssrnet)?void 0:S.enabled)&&!t.models.ssrnetgender&&(t.models.ssrnetgender=I6(t.config)),t.config.face.enabled&&(null==(C=t.config.face.mobilefacenet)?void 0:C.enabled)&&!t.models.mobilefacenet&&(t.models.mobilefacenet=W9(t.config)),t.config.hand.enabled&&!t.models.handtrack&&(null==(E=null==(I=t.config.hand.detector)?void 0:I.modelPath)?void 0:E.includes("handtrack"))&&(t.models.handtrack=ane(t.config)),t.config.hand.enabled&&t.config.hand.landmarks&&!t.models.handskeleton&&(null==(N=null==(T=t.config.hand.detector)?void 0:T.modelPath)?void 0:N.includes("handtrack"))&&(t.models.handskeleton=one(t.config)),t.config.object.enabled&&!t.models.centernet&&(null==(P=null==(O=t.config.object)?void 0:O.modelPath)?void 0:P.includes("centernet"))&&(t.models.centernet=i9(t.config)),t.config.object.enabled&&!t.models.nanodet&&(null==(M=null==(_=t.config.object)?void 0:_.modelPath)?void 0:M.includes("nanodet"))&&(t.models.nanodet=Jne(t.config)),t.config.segmentation.enabled&&!t.models.segmentation&&(t.models.segmentation=Ore(t.config)),z=!1,Z=!1,e.prev=39,B=Kr(Object.keys(t.models));case 41:return e.next=43,B.next();case 43:if(!(z=!(j=e.sent).done)){e.next=52;break}if(V=j.value,!t.models[V]||"undefined"===typeof t.models[V]){e.next=49;break}return e.next=48,t.models[V];case 48:t.models[V]=e.sent;case 49:z=!1,e.next=41;break;case 52:e.next=58;break;case 54:e.prev=54,e.t0=e.catch(39),Z=!0,W=e.t0;case 58:if(e.prev=58,e.prev=59,!z||null==B.return){e.next=63;break}return e.next=63,B.return();case 63:if(e.prev=63,!Z){e.next=66;break}throw W;case 66:return e.finish(63);case 67:return e.finish(58);case 68:case"end":return e.stop()}}),e,null,[[39,54,58,68],[59,,63,67]])})))).apply(this,arguments)}function zre(e){return Zre.apply(this,arguments)}function Zre(){return(Zre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l,c,d,f,p,h,m,g;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=["const","placeholder","noop","pad","squeeze","add","sub","mul","div"],r=0,a=Object.keys(t.models);case 2:if(!(r<a.length)){e.next=16;break}if(i=a[r],o=t.models[i]){e.next=7;break}return e.abrupt("continue",13);case 7:if(s=[],(u=null==o?void 0:o.executor)&&u.graph.nodes)for(l=0,c=Object.values(u.graph.nodes);l<c.length;l++)d=c[l],f=d.op.toLowerCase(),s.includes(f)||s.push(f);else!u&&t.config.debug&&sa("model signature not determined:",i);for(p=[],h=0,m=s;h<m.length;h++)g=m[h],n.includes(g)||t.env.kernels.includes(g)||t.env.kernels.includes(g.replace("_",""))||t.env.kernels.includes(g.replace("native",""))||t.env.kernels.includes(g.replace("v2",""))||p.push(g);t.config.debug&&p.length>0&&sa("model validation failed:",i,p);case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wre={name:"humangl",priority:999,canvas:null,gl:null,extensions:[],webGLattr:{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!1,desynchronized:!0}};function Bre(){var e=Wre.gl;e&&(Wre.extensions=e.getSupportedExtensions())}function jre(e){return Vre.apply(this,arguments)}function Vre(){return Vre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("humangl"===t.config.backend){e.next=2;break}return e.abrupt("return");case 2:if(!(Wre.name in _f().registry)||Wre.gl&&Wre.gl.getParameter(Wre.gl.VERSION)||(sa("error: humangl backend invalid context"),Fre(t)),Vf(Wre.name)){e.next=71;break}return e.prev=4,e.next=7,D7(100,100);case 7:Wre.canvas=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),sa("error: cannot create canvas:",e.t0),e.abrupt("return");case 14:if(e.prev=14,Wre.gl=null==(n=Wre.canvas)?void 0:n.getContext("webgl2",Wre.webGLattr),Wre.gl.getParameter(Wre.gl.VERSION).includes("2.0")){e.next=21;break}return sa("override: using fallback webgl backend as webgl 2.0 is not detected"),t.config.backend="webgl",e.abrupt("return");case 21:Wre.canvas&&(Wre.canvas.addEventListener("webglcontextlost",function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw sa("error: humangl:",n.type),sa("possible browser memory leak using webgl or conflict with multiple backend registrations"),t.emit("error"),new Error("backend error: webgl context lost");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Wre.canvas.addEventListener("webglcontextrestored",(function(e){sa("error: humangl context restored:",e)})),Wre.canvas.addEventListener("webglcontextcreationerror",(function(e){sa("error: humangl context create:",e)}))),e.next=28;break;case 24:return e.prev=24,e.t1=e.catch(14),sa("error: cannot get WebGL context:",e.t1),e.abrupt("return");case 28:e.prev=28,eB(2,Wre.gl),e.next=36;break;case 32:return e.prev=32,e.t2=e.catch(28),sa("error: cannot set WebGL context:",e.t2),e.abrupt("return");case 36:e.prev=36,r=new pV(Wre.gl),Uf(Wre.name,(function(){return new PH(r)}),Wre.priority),e.next=45;break;case 41:return e.prev=41,e.t3=e.catch(36),sa("error: cannot register WebGL backend:",e.t3),e.abrupt("return");case 45:e.prev=45,fl("webgl").forEach((function(e){pl((0,s.Z)((0,s.Z)({},e),{},{backendName:Wre.name}))})),e.next=54;break;case 50:return e.prev=50,e.t4=e.catch(45),sa("error: cannot update WebGL backend registration:",e.t4),e.abrupt("return");case 54:if(!(a=Gf().getGPGPUContext?Gf().getGPGPUContext().gl:null)){e.next=59;break}sa("humangl webgl version:".concat(a.getParameter(a.VERSION)," renderer:").concat(a.getParameter(a.RENDERER))),e.next=61;break;case 59:return sa("error: no current gl context:",a,Wre.gl),e.abrupt("return");case 61:e.prev=61,Gi.set("WEBGL_VERSION",2),e.next=69;break;case 65:return e.prev=65,e.t5=e.catch(61),sa("error: cannot set WebGL backend flags:",e.t5),e.abrupt("return");case 69:Bre(),sa("backend registered:",Wre.name);case 71:case"end":return e.stop()}}),e,null,[[4,10],[14,24],[28,32],[36,41],[45,50],[61,65]])}))),Vre.apply(this,arguments)}function Hre(){H7.kernels.includes("mod")||(pl({kernelName:"Mod",backendName:Bf(),kernelFunc:function(e){return Ff((function(){return bg(e.inputs.a,rh(nh(e.inputs.a,e.inputs.b),e.inputs.b))}))}}),H7.kernels.push("mod"));H7.kernels.includes("floormod")||(pl({kernelName:"FloorMod",backendName:Bf(),kernelFunc:function(e){return Ff((function(){return th(e.inputs.a/e.inputs.b)*e.inputs.b+Zg(e.inputs.a,e.inputs.b)}))}}),H7.kernels.push("floormod"))}function Ure(e){return Gre.apply(this,arguments)}function Gre(){return Gre=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l=arguments;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],t.state="backend",!(n||H7.initial||t.config.backend&&t.config.backend.length>0&&Bf()!==t.config.backend)){e.next=88;break}if(r=la(),!(t.config.backend&&t.config.backend.length>0)){e.next=68;break}if("undefined"===typeof window&&"undefined"!==typeof WorkerGlobalScope&&t.config.debug&&t.config.debug&&sa("running inside web worker"),H7.browser&&"tensorflow"===t.config.backend&&(t.config.debug&&sa("override: backend set to tensorflow while running in browser"),t.config.backend="humangl"),!H7.node||"webgl"!==t.config.backend&&"humangl"!==t.config.backend||(t.config.debug&&sa("override: backend set to ".concat(t.config.backend," while running in nodejs")),t.config.backend="tensorflow"),!H7.browser||"webgpu"!==t.config.backend){e.next=32;break}if("undefined"!==typeof navigator&&"undefined"!==typeof navigator.gpu){e.next=14;break}sa("override: backend set to webgpu but browser does not support webgpu"),t.config.backend="humangl",e.next=32;break;case 14:return e.next=16,navigator.gpu.requestAdapter();case 16:if(a=e.sent,t.config.debug&&sa("enumerated webgpu adapter:",a),a){e.next=23;break}sa("override: backend set to webgpu but browser reports no available gpu"),t.config.backend="humangl",e.next=32;break;case 23:if(!("requestAdapterInfo"in a)){e.next=29;break}return e.next=26,a.requestAdapterInfo();case 26:e.t0=e.sent,e.next=30;break;case 29:e.t0=void 0;case 30:sa("webgpu adapter info:",e.t0);case 32:if("humangl"!==t.config.backend){e.next=35;break}return e.next=35,jre(t);case 35:if(i=Object.keys(_f().registryFactory),t.config.debug&&sa("available backends:",i),i.includes(t.config.backend)||(sa("error: backend ".concat(t.config.backend," not found in registry")),t.config.backend=H7.node?"tensorflow":"webgl",t.config.debug&&sa("override: setting backend ".concat(t.config.backend))),t.config.debug&&sa("setting backend:",t.config.backend),"wasm"!==t.config.backend){e.next=56;break}try{Hi().set("CANVAS2D_WILL_READ_FREQUENTLY",!0)}catch(Dme){}if(t.config.debug&&sa("wasm path:",t.config.wasmPath),"undefined"===typeof(null==pa?void 0:pa.setWasmPaths)){e.next=47;break}return e.next=45,v7(t.config.wasmPath,t.config.wasmPlatformFetch);case 45:e.next=48;break;case 47:throw new Error("backend error: attempting to use wasm backend but wasm path is not set");case 48:return e.next=50,Hi().getAsync("WASM_HAS_SIMD_SUPPORT");case 50:return o=e.sent,e.next=53,Hi().getAsync("WASM_HAS_MULTITHREAD_SUPPORT");case 53:s=e.sent,t.config.debug&&sa("wasm execution: ".concat(o?"SIMD":"no SIMD"," ").concat(s?"multithreaded":"singlethreaded")),t.config.debug&&!o&&sa("warning: wasm simd support is not enabled");case 56:return e.prev=56,e.next=59,Zf(t.config.backend);case 59:return e.next=61,Wf();case 61:c6(),e.next=68;break;case 64:return e.prev=64,e.t1=e.catch(56),sa("error: cannot set backend:",t.config.backend,e.t1),e.abrupt("return",!1);case 68:if("humangl"!==Bf()){e.next=79;break}if(Gi.set("CHECK_COMPUTATION_FOR_ERRORS",!1),Gi.set("WEBGL_CPU_FORWARD",!0),Gi.set("WEBGL_USE_SHAPES_UNIFORMS",!0),Gi.set("CPU_HANDOFF_SIZE_THRESHOLD",256),"undefined"!==typeof t.config.deallocate&&t.config.deallocate&&(sa("changing webgl: WEBGL_DELETE_TEXTURE_THRESHOLD:",!0),Gi.set("WEBGL_DELETE_TEXTURE_THRESHOLD",0)),!Gf().getGPGPUContext){e.next=79;break}return e.next=77,Gf().getGPGPUContext().gl;case 77:u=e.sent,t.config.debug&&sa("gl version:".concat(u.getParameter(u.VERSION)," renderer:").concat(u.getParameter(u.RENDERER)));case 79:return Bf(),Ef(),e.next=83,Wf();case 83:return t.performance.initBackend=Math.trunc(la()-r),t.config.backend=Bf(),e.next=87,H7.updateBackend();case 87:Hre();case 88:return e.abrupt("return",!0);case 89:case"end":return e.stop()}}),e,null,[[56,64]])}))),Gre.apply(this,arguments)}function Xre(e,t){var n,r=Yr(e);try{var a=function(){var e=n.value;pl({kernelName:e,backendName:t.backend,kernelFunc:function(){t.debug&&sa("kernelFunc",e,t.backend)}})};for(r.s();!(n=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}H7.kernels=fl(Bf()).map((function(e){return e.kernelName.toLowerCase()}))}ta({},{all:function(){return Cae},body:function(){return fae},canvas:function(){return kae},face:function(){return cae},gesture:function(){return yae},hand:function(){return hae},object:function(){return gae},options:function(){return rae},person:function(){return Aae}});var Yre=function(e){if(e)if(e.getContext){var t=e.getContext("2d");if(t)return t;sa("draw error: cannot get canvas context")}else sa("draw error: canvas context not defined");else sa("draw error: invalid canvas");return null},qre=function(e){return Math.round(180*e/Math.PI)},Kre=function(e,t){if(!t.useDepth||"undefined"===typeof e)return t.color;var n=Uint8ClampedArray.from([127+2*e,127-2*e,255]);return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(t.alpha,")")};function Jre(e,t,n,r,a){e.fillStyle=Kre(r,a),e.beginPath(),e.arc(t,n,a.pointSize,0,2*Math.PI),e.fill()}function Qre(e,t,n,r,a,i){if(e.beginPath(),e.lineWidth=i.lineWidth,i.useCurves){var o=(t+t+r)/2,s=(n+n+a)/2;e.ellipse(o,s,r/2,a/2,0,0,2*Math.PI)}else e.moveTo(t+i.roundRect,n),e.lineTo(t+r-i.roundRect,n),e.quadraticCurveTo(t+r,n,t+r,n+i.roundRect),e.lineTo(t+r,n+a-i.roundRect),e.quadraticCurveTo(t+r,n+a,t+r-i.roundRect,n+a),e.lineTo(t+i.roundRect,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i.roundRect),e.lineTo(t,n+i.roundRect),e.quadraticCurveTo(t,n,t+i.roundRect,n),e.closePath();e.stroke()}function $re(e,t,n){if(!(t.length<2)){e.beginPath(),e.moveTo(t[0][0],t[0][1]);var r,a=Yr(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.strokeStyle=Kre(i[2],n),e.lineTo(Math.trunc(i[0]),Math.trunc(i[1]))}}catch(o){a.e(o)}finally{a.f()}e.stroke(),n.fillPolygons&&(e.closePath(),e.fill())}}function eae(e,t,n){if(!(t.length<2))if(e.lineWidth=n.lineWidth,!n.useCurves||t.length<=2)$re(e,t,n);else{e.moveTo(t[0][0],t[0][1]);for(var r=0;r<t.length-2;r++){var a=(t[r][0]+t[r+1][0])/2,i=(t[r][1]+t[r+1][1])/2;e.quadraticCurveTo(t[r][0],t[r][1],a,i)}e.quadraticCurveTo(t[t.length-2][0],t[t.length-2][1],t[t.length-1][0],t[t.length-1][1]),e.stroke(),n.fillPolygons&&(e.closePath(),e.fill())}}function tae(e,t,n){var r,a,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),r=Math.atan2(n[1]-t[1],n[0]-t[0]),a=o*Math.cos(r)+n[0],i=o*Math.sin(r)+n[1],e.moveTo(a,i),r+=1/3*(2*Math.PI),a=o*Math.cos(r)+n[0],i=o*Math.sin(r)+n[1],e.lineTo(a,i),r+=1/3*(2*Math.PI),a=o*Math.cos(r)+n[0],i=o*Math.sin(r)+n[1],e.lineTo(a,i),e.closePath(),e.stroke(),e.fill()}var nae,rae={color:"rgba(173, 216, 230, 0.6)",labelColor:"rgba(173, 216, 230, 1)",shadowColor:"black",alpha:.5,font:'small-caps 16px "Segoe UI"',lineHeight:18,lineWidth:4,pointSize:2,roundRect:8,drawPoints:!1,drawLabels:!0,drawBoxes:!0,drawAttention:!0,drawGestures:!0,drawPolygons:!0,drawGaze:!0,fillPolygons:!1,useDepth:!0,useCurves:!1};function aae(e,t){if(nae.drawLabels){var n=[];if(n.push("face: ".concat(Math.trunc(100*e.score),"%")),e.genderScore&&n.push("".concat(e.gender||""," ").concat(Math.trunc(100*e.genderScore),"%")),e.age&&n.push("age: ".concat(e.age||"")),e.iris&&n.push("distance: ".concat(e.iris)),e.real&&n.push("real: ".concat(Math.trunc(100*e.real),"%")),e.live&&n.push("live: ".concat(Math.trunc(100*e.live),"%")),e.emotion&&e.emotion.length>0){var r=e.emotion.map((function(e){return"".concat(Math.trunc(100*e.score),"% ").concat(e.emotion)}));r.length>3&&(r.length=3),n.push(r.join(" "))}e.rotation&&e.rotation.angle&&e.rotation.gaze&&(e.rotation.angle.roll&&n.push("roll: ".concat(qre(e.rotation.angle.roll),"\xb0 yaw:").concat(qre(e.rotation.angle.yaw),"\xb0 pitch:").concat(qre(e.rotation.angle.pitch),"\xb0")),e.rotation.gaze.bearing&&n.push("gaze: ".concat(qre(e.rotation.gaze.bearing),"\xb0"))),0===n.length&&n.push("face"),t.fillStyle=nae.color;for(var a=n.length-1;a>=0;a--){var i=Math.max(e.box[0],0),o=a*nae.lineHeight+e.box[1];nae.shadowColor&&""!==nae.shadowColor&&(t.fillStyle=nae.shadowColor,t.fillText(n[a],i+5,o+16)),t.fillStyle=nae.labelColor,t.fillText(n[a],i+4,o+15)}}}function iae(e,t){var n;if(nae.drawGaze&&(null==(n=e.rotation)?void 0:n.angle)&&"undefined"!==typeof Path2D){t.strokeStyle="pink";var r=e.box[0]+e.box[2]/2-e.box[3]*qre(e.rotation.angle.yaw)/90,a=e.box[1]+e.box[3]/2+e.box[2]*qre(e.rotation.angle.pitch)/90,i=new Path2D("\n      M ".concat(e.box[0]+e.box[2]/2," ").concat(e.box[1],"\n      C\n        ").concat(r," ").concat(e.box[1],",\n        ").concat(r," ").concat(e.box[1]+e.box[3],",\n        ").concat(e.box[0]+e.box[2]/2," ").concat(e.box[1]+e.box[3],"\n    ")),o=new Path2D("\n      M ".concat(e.box[0]," ").concat(e.box[1]+e.box[3]/2,"\n      C \n        ").concat(e.box[0]," ").concat(a,",\n        ").concat(e.box[0]+e.box[2]," ").concat(a,",\n        ").concat(e.box[0]+e.box[2]," ").concat(e.box[1]+e.box[3]/2,"\n    "));t.stroke(o),t.stroke(i)}}function oae(e,t){var n,r,a,i;if(nae.drawGaze&&(null==(r=null==(n=e.rotation)?void 0:n.gaze)?void 0:r.strength)&&(null==(i=null==(a=e.rotation)?void 0:a.gaze)?void 0:i.bearing)&&e.annotations.leftEyeIris&&e.annotations.rightEyeIris&&e.annotations.leftEyeIris[0]&&e.annotations.rightEyeIris[0]){t.strokeStyle="pink",t.fillStyle="pink";var o=[e.annotations.leftEyeIris[0][0]+Math.sin(e.rotation.gaze.bearing)*e.rotation.gaze.strength*e.box[3],e.annotations.leftEyeIris[0][1]+Math.cos(e.rotation.gaze.bearing)*e.rotation.gaze.strength*e.box[2]];tae(t,[e.annotations.leftEyeIris[0][0],e.annotations.leftEyeIris[0][1]],[o[0],o[1]],4);var s=[e.annotations.rightEyeIris[0][0]+Math.sin(e.rotation.gaze.bearing)*e.rotation.gaze.strength*e.box[3],e.annotations.rightEyeIris[0][1]+Math.cos(e.rotation.gaze.bearing)*e.rotation.gaze.strength*e.box[2]];tae(t,[e.annotations.rightEyeIris[0][0],e.annotations.rightEyeIris[0][1]],[s[0],s[1]],4)}}function sae(e,t){if(nae.drawPolygons&&e.mesh.length>=468){t.lineWidth=1;for(var n=0;n<V6.length/3;n++){$re(t,[V6[3*n+0],V6[3*n+1],V6[3*n+2]].map((function(t){return e.mesh[t]})),nae)}!function(e,t){if(e.annotations&&e.annotations.leftEyeIris&&e.annotations.leftEyeIris[0]){t.strokeStyle=nae.useDepth?"rgba(255, 200, 255, 0.3)":nae.color,t.beginPath();var n=Math.abs(e.annotations.leftEyeIris[3][0]-e.annotations.leftEyeIris[1][0])/2,r=Math.abs(e.annotations.leftEyeIris[4][1]-e.annotations.leftEyeIris[2][1])/2;t.ellipse(e.annotations.leftEyeIris[0][0],e.annotations.leftEyeIris[0][1],n,r,0,0,2*Math.PI),t.stroke(),nae.fillPolygons&&(t.fillStyle=nae.useDepth?"rgba(255, 255, 200, 0.3)":nae.color,t.fill())}if(e.annotations&&e.annotations.rightEyeIris&&e.annotations.rightEyeIris[0]){t.strokeStyle=nae.useDepth?"rgba(255, 200, 255, 0.3)":nae.color,t.beginPath();var a=Math.abs(e.annotations.rightEyeIris[3][0]-e.annotations.rightEyeIris[1][0])/2,i=Math.abs(e.annotations.rightEyeIris[4][1]-e.annotations.rightEyeIris[2][1])/2;t.ellipse(e.annotations.rightEyeIris[0][0],e.annotations.rightEyeIris[0][1],a,i,0,0,2*Math.PI),t.stroke(),nae.fillPolygons&&(t.fillStyle=nae.useDepth?"rgba(255, 255, 200, 0.3)":nae.color,t.fill())}}(e,t)}}function uae(e,t){if(nae.drawPoints&&e.mesh.length>=468)for(var n=0;n<e.mesh.length;n++)Jre(t,e.mesh[n][0],e.mesh[n][1],e.mesh[n][2],nae),nae.drawAttention&&(cee.includes(n)&&Jre(t,e.mesh[n][0],e.mesh[n][1],e.mesh[n][2]+127,nae),dee.includes(n)&&Jre(t,e.mesh[n][0],e.mesh[n][1],e.mesh[n][2]-127,nae),fee.includes(n)&&Jre(t,e.mesh[n][0],e.mesh[n][1],e.mesh[n][2]-127,nae))}function lae(e,t){nae.drawBoxes&&Qre(t,e.box[0],e.box[1],e.box[2],e.box[3],nae)}function cae(e,t,n){return dae.apply(this,arguments)}function dae(){return(dae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nae=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(a=Yre(t)){e.next=6;break}return e.abrupt("return");case 6:a.font=nae.font,a.strokeStyle=nae.color,a.fillStyle=nae.color,i=Yr(n);try{for(i.s();!(o=i.n()).done;)lae(s=o.value,a),aae(s,a),s.mesh&&s.mesh.length>0&&(uae(s,a),sae(s,a),iae(s,a),oae(s,a))}catch(u){i.e(u)}finally{i.f()}case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fae(e,t,n){return pae.apply(this,arguments)}function pae(){return pae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p,h,m,g,v;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(o=Yre(t)){e.next=6;break}return e.abrupt("return");case 6:o.lineJoin="round",s=0;case 8:if(!(s<n.length)){e.next=49;break}if(o.strokeStyle=i.color,o.fillStyle=i.color,o.lineWidth=i.lineWidth,o.font=i.font,i.drawBoxes&&n[s].box&&4===(null==(a=n[s].box)?void 0:a.length)&&(Qre(o,n[s].box[0],n[s].box[1],n[s].box[2],n[s].box[3],i),i.drawLabels&&(i.shadowColor&&""!==i.shadowColor&&(o.fillStyle=i.shadowColor,o.fillText("body ".concat(100*n[s].score,"%"),n[s].box[0]+3,1+n[s].box[1]+i.lineHeight,n[s].box[2])),o.fillStyle=i.labelColor,o.fillText("body ".concat(100*n[s].score,"%"),n[s].box[0]+2,0+n[s].box[1]+i.lineHeight,n[s].box[2]))),!i.drawPoints||!n[s].keypoints){e.next=24;break}u=0;case 16:if(!(u<n[s].keypoints.length)){e.next=24;break}if(n[s].keypoints[u].score&&0!==n[s].keypoints[u].score){e.next=19;break}return e.abrupt("continue",21);case 19:o.fillStyle=Kre(n[s].keypoints[u].position[2],i),Jre(o,n[s].keypoints[u].position[0],n[s].keypoints[u].position[1],0,i);case 21:u++,e.next=16;break;case 24:if(!i.drawLabels||!n[s].keypoints){e.next=45;break}o.font=i.font,l=Yr(n[s].keypoints),e.prev=27,l.s();case 29:if((c=l.n()).done){e.next=37;break}if((d=c.value).score&&0!==d.score){e.next=33;break}return e.abrupt("continue",35);case 33:o.fillStyle=Kre(d.position[2],i),o.fillText("".concat(d.part," ").concat(Math.trunc(100*d.score),"%"),d.position[0]+4,d.position[1]+4);case 35:e.next=29;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(27),l.e(e.t0);case 42:return e.prev=42,l.f(),e.finish(42);case 45:if(i.drawPolygons&&n[s].keypoints&&n[s].annotations)for(f=0,p=Object.values(n[s].annotations);f<p.length;f++){h=p[f],m=Yr(h);try{for(m.s();!(g=m.n()).done;)v=g.value,eae(o,v,i)}catch(y){m.e(y)}finally{m.f()}}case 46:s++,e.next=8;break;case 49:case"end":return e.stop()}}),e,null,[[27,39,42,45]])}))),pae.apply(this,arguments)}function hae(e,t,n){return mae.apply(this,arguments)}function mae(){return mae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l,c,d,f,p;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(i=Yre(t)){e.next=6;break}return e.abrupt("return");case 6:i.lineJoin="round",i.font=a.font,o=Yr(n);try{for(o.s();!(s=o.n()).done;){if(u=s.value,a.drawBoxes&&(i.strokeStyle=a.color,i.fillStyle=a.color,Qre(i,u.box[0],u.box[1],u.box[2],u.box[3],a),a.drawLabels&&(a.shadowColor&&""!==a.shadowColor&&(i.fillStyle=a.shadowColor,i.fillText("hand:".concat(Math.trunc(100*u.score),"%"),u.box[0]+3,1+u.box[1]+a.lineHeight,u.box[2])),i.fillStyle=a.labelColor,i.fillText("hand:".concat(Math.trunc(100*u.score),"%"),u.box[0]+2,0+u.box[1]+a.lineHeight,u.box[2])),i.stroke()),a.drawPoints&&u.keypoints&&u.keypoints.length>0){l=Yr(u.keypoints);try{for(l.s();!(c=l.n()).done;)d=c.value,i.fillStyle=Kre(d[2],a),Jre(i,d[0],d[1],0,a)}catch(h){l.e(h)}finally{l.f()}}a.drawLabels&&u.annotations&&(f=function(e,t){if(e&&0!==e.length&&e[0]){var n=e[e.length-1][2]||-256;i.fillStyle=Kre(n,a),i.fillText(t,e[e.length-1][0]+4,e[e.length-1][1]+4)}},i.font=a.font,f(u.annotations.index,"index"),f(u.annotations.middle,"middle"),f(u.annotations.ring,"ring"),f(u.annotations.pinky,"pinky"),f(u.annotations.thumb,"thumb"),f(u.annotations.palm,"palm")),a.drawPolygons&&u.annotations&&(p=function(e){if(e&&0!==e.length&&e[0])for(var t=0;t<e.length;t++){i.beginPath();var n=e[t][2]||0;i.strokeStyle=Kre(t*n,a),i.moveTo(e[t>0?t-1:0][0],e[t>0?t-1:0][1]),i.lineTo(e[t][0],e[t][1]),i.stroke()}},i.lineWidth=a.lineWidth,p(u.annotations.index),p(u.annotations.middle),p(u.annotations.ring),p(u.annotations.pinky),p(u.annotations.thumb))}}catch(h){o.e(h)}finally{o.f()}case 10:case"end":return e.stop()}}),e)}))),mae.apply(this,arguments)}function gae(e,t,n){return vae.apply(this,arguments)}function vae(){return vae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s,u,l;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(i=Yre(t)){e.next=6;break}return e.abrupt("return");case 6:i.lineJoin="round",i.font=a.font,o=Yr(n);try{for(o.s();!(s=o.n()).done;)u=s.value,a.drawBoxes&&(i.strokeStyle=a.color,i.fillStyle=a.color,Qre(i,u.box[0],u.box[1],u.box[2],u.box[3],a),a.drawLabels&&(l="".concat(u.label," ").concat(Math.round(100*u.score),"%"),a.shadowColor&&""!==a.shadowColor&&(i.fillStyle=a.shadowColor,i.fillText(l,u.box[0]+3,1+u.box[1]+a.lineHeight,u.box[2])),i.fillStyle=a.labelColor,i.fillText(l,u.box[0]+2,0+u.box[1]+a.lineHeight,u.box[2])),i.stroke())}catch(c){o.e(c)}finally{o.f()}case 10:case"end":return e.stop()}}),e)}))),vae.apply(this,arguments)}function yae(e,t,n){return bae.apply(this,arguments)}function bae(){return bae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,s,u,l,c,d,f,p,h;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(!a.drawGestures){e.next=11;break}if(i=Yre(t)){e.next=7;break}return e.abrupt("return");case 7:for(i.font=a.font,i.fillStyle=a.color,s=1,u=0;u<n.length;u++)[],[],d=Object.entries(n[u]),f=(0,o.Z)(d,2),l=f[0],(c=f[1]).length>1&&c[1].length>0&&(p=l[1]>0?"#".concat(l[1]):"",h="".concat(l[0]," ").concat(p,": ").concat(c[1]),a.shadowColor&&""!==a.shadowColor&&(i.fillStyle=a.shadowColor,i.fillText(h,8,2+s*a.lineHeight)),i.fillStyle=a.labelColor,i.fillText(h,6,0+s*a.lineHeight),s+=1);case 11:case"end":return e.stop()}}),e)}))),bae.apply(this,arguments)}var xae=0;function Aae(e,t,n){return wae.apply(this,arguments)}function wae(){return wae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o,s;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=da(rae,r),n&&t){e.next=3;break}return e.abrupt("return");case 3:if(i=Yre(t)){e.next=6;break}return e.abrupt("return");case 6:for(i.lineJoin="round",i.font=a.font,o=0;o<n.length;o++)a.drawBoxes&&(i.strokeStyle=a.color,i.fillStyle=a.color,Qre(i,n[o].box[0],n[o].box[1],n[o].box[2],n[o].box[3],a),a.drawLabels&&(s="person #".concat(o),a.shadowColor&&""!==a.shadowColor&&(i.fillStyle=a.shadowColor,i.fillText(s,n[o].box[0]+3,1+n[o].box[1]+a.lineHeight,n[o].box[2])),i.fillStyle=a.labelColor,i.fillText(s,n[o].box[0]+2,0+n[o].box[1]+a.lineHeight,n[o].box[2])),i.stroke());case 9:case"end":return e.stop()}}),e)}))),wae.apply(this,arguments)}function kae(e,t){return Sae.apply(this,arguments)}function Sae(){return(Sae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:if(r=Yre(n)){e.next=5;break}return e.abrupt("return");case 5:r.drawImage(t,0,0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cae(e,t,n){return Iae.apply(this,arguments)}function Iae(){return(Iae=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n,r){var a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.performance&&n&&t){e.next=2;break}return e.abrupt("return",null);case 2:return a=la(),i=da(rae,r),o=Promise.all([cae(t,n.face,i),fae(t,n.body,i),hae(t,n.hand,i),gae(t,n.object,i),yae(t,n.gesture,i)]),xae=H7.perfadd?xae+Math.round(la()-a):Math.round(la()-a),n.performance.draw=xae,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eae=.1,Tae=.5;function Nae(e,t,n){for(var r=!1,a=n.length-1,i=0;i<n.length;a=i++)n[i].y>t!==n[a].y>t&&e<(n[a].x-n[i].x)*(t-n[i].y)/(n[a].y-n[i].y)+n[i].x&&(r=!r);return r}function Oae(e){return Pae.apply(this,arguments)}function Pae(){return Pae=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o,s,u,l,c,d;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tensor){e.next=2;break}return e.abrupt("return",t.tensor);case 2:if(t.mesh&&!(t.mesh.length<100)){e.next=4;break}return e.abrupt("return",t.tensor);case 4:return n=t.tensor.shape[2]||0,r=t.tensor.shape[1]||0,e.next=8,t.tensor.buffer();case 8:a=e.sent,i=[],o=Yr(z6.silhouette);try{for(o.s();!(s=o.n()).done;)u=s.value,i.push({x:(t.mesh[u][0]-t.box[0])/t.box[2],y:(t.mesh[u][1]-t.box[1])/t.box[3]})}catch(f){o.e(f)}finally{o.f()}for(i=i.map((function(e){return{x:e.x>.5?e.x+Eae:e.x-Eae,y:e.y>.5?e.y+Eae:e.y-Eae}})),l=0;l<n;l++)for(c=0;c<r;c++)Nae(l/n,c/n,i)||(a.set(Tae*a.get(0,c,l,0),0,c,l,0),a.set(Tae*a.get(0,c,l,1),0,c,l,1),a.set(Tae*a.get(0,c,l,2),0,c,l,2));return d=a.toTensor(),Df(a),e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)}))),Pae.apply(this,arguments)}var _ae=function(e,t){var n=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return e[0]/=t,e[1]/=t,e[2]/=t,e},r=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},a=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},i=e.meshRaw;if(!i||i.length<300)return{angle:{pitch:0,yaw:0,roll:0},matrix:[1,0,0,0,1,0,0,0,1],gaze:{bearing:0,strength:0}};var s=Math.max(e.boxRaw[2]*t[0],e.boxRaw[3]*t[1])/1.5,u=[i[10],i[152],i[234],i[454]].map((function(e){return[e[0]*t[0]/s,e[1]*t[1]/s,e[2]]})),l=n(r(u[1],u[0])),c=n(r(u[3],u[2])),d=n(a(c,l)),f=[(c=a(l,d))[0],c[1],c[2],l[0],l[1],l[2],d[0],d[1],d[2]],p=function(e){var t,n,r,a=(0,o.Z)(e,9),i=a[0],s=(a[1],a[2],a[3]),u=a[4],l=a[5],c=a[6],d=a[7],f=a[8];return s<1?s>-1?(r=Math.asin(s),n=Math.atan2(-c,i),t=Math.atan2(-l,u)):(r=-Math.PI/2,n=-Math.atan2(d,f),t=0):(r=Math.PI/2,n=Math.atan2(d,f),t=0),isNaN(t)&&(t=0),isNaN(n)&&(n=0),isNaN(r)&&(r=0),{pitch:2*-t,yaw:2*-n,roll:2*-r}}(f),h=478===i.length?function(e){if(!e.annotations.rightEyeIris||!e.annotations.leftEyeIris)return{bearing:0,strength:0};var t,n,r=[0,-.1],a=(e.mesh[33][2]||0)>(e.mesh[263][2]||0),i=a?e.mesh[473]:e.mesh[468],o=a?[(e.mesh[133][0]+e.mesh[33][0])/2,(e.mesh[133][1]+e.mesh[33][1])/2]:[(e.mesh[263][0]+e.mesh[362][0])/2,(e.mesh[263][1]+e.mesh[362][1])/2],s=a?[e.mesh[133][0]-e.mesh[33][0],e.mesh[23][1]-e.mesh[27][1]]:[e.mesh[263][0]-e.mesh[362][0],e.mesh[253][1]-e.mesh[257][1]],u=[(o[0]-i[0])/s[0]-r[0],1*(i[1]-o[1])/s[1]-r[1]],l=Math.sqrt(u[0]*u[0]+u[1]*u[1]);return l=Math.min(l,e.boxRaw[2]/2,e.boxRaw[3]/2),{bearing:(t=[0,0],n=u,(Math.atan2(t[1]-n[1],t[0]-n[0])+Math.PI/2)%Math.PI),strength:l}}(e):{bearing:0,strength:0};return{angle:p,matrix:f,gaze:h}},Mae=function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D,L,z,Z,W,B,j,V,H,U;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E=la(),D=[],t.state="run:face",e.next=5,yee(n,t.config);case 5:if(L=e.sent,t.performance.face=H7.perfadd?(t.performance.face||0)+Math.trunc(la()-E):Math.trunc(la()-E),n.shape&&4===n.shape.length){e.next=9;break}return e.abrupt("return",[]);case 9:if(L){e.next=11;break}return e.abrupt("return",[]);case 11:z=0;case 12:if(!(z<L.length)){e.next=191;break}if(t.analyze("Get Face"),L[z].tensor&&!L[z].tensor.isDisposedInternal){e.next=17;break}return sa("Face object is disposed:",L[z].tensor),e.abrupt("continue",188);case 17:if(!(null==(r=t.config.face.detector)?void 0:r.mask)){e.next=23;break}return e.next=20,Oae(L[z]);case 20:Z=e.sent,Df(L[z].tensor),L[z].tensor=Z;case 23:if(W=L[z].mesh&&L[z].mesh.length>200?_ae(L[z],[n.shape[2],n.shape[1]]):null,t.analyze("Start Emotion:"),!t.config.async){e.next=29;break}P=(null==(a=t.config.face.emotion)?void 0:a.enabled)?M9(L[z].tensor||Wc([]),t.config,z,L.length):[],e.next=40;break;case 29:if(t.state="run:emotion",E=la(),!(null==(i=t.config.face.emotion)?void 0:i.enabled)){e.next=37;break}return e.next=34,M9(L[z].tensor||Wc([]),t.config,z,L.length);case 34:e.t0=e.sent,e.next=38;break;case 37:e.t0=[];case 38:P=e.t0,t.performance.emotion=H7.perfadd?(t.performance.emotion||0)+Math.trunc(la()-E):Math.trunc(la()-E);case 40:if(t.analyze("End Emotion:"),t.analyze("Start AntiSpoof:"),!t.config.async){e.next=46;break}M=(null==(u=t.config.face.antispoof)?void 0:u.enabled)?D6(L[z].tensor||Wc([]),t.config,z,L.length):0,e.next=57;break;case 46:if(t.state="run:antispoof",E=la(),!(null==(l=t.config.face.antispoof)?void 0:l.enabled)){e.next=54;break}return e.next=51,D6(L[z].tensor||Wc([]),t.config,z,L.length);case 51:e.t1=e.sent,e.next=55;break;case 54:e.t1=0;case 55:M=e.t1,t.performance.antispoof=H7.perfadd?(t.performance.antispoof||0)+Math.trunc(la()-E):Math.trunc(la()-E);case 57:if(t.analyze("End AntiSpoof:"),t.analyze("Start Liveness:"),!t.config.async){e.next=63;break}R=(null==(c=t.config.face.liveness)?void 0:c.enabled)?xne(L[z].tensor||Wc([]),t.config,z,L.length):0,e.next=74;break;case 63:if(t.state="run:liveness",E=la(),!(null==(d=t.config.face.liveness)?void 0:d.enabled)){e.next=71;break}return e.next=68,xne(L[z].tensor||Wc([]),t.config,z,L.length);case 68:e.t2=e.sent,e.next=72;break;case 71:e.t2=0;case 72:R=e.t2,t.performance.liveness=H7.perfadd?(t.performance.antispoof||0)+Math.trunc(la()-E):Math.trunc(la()-E);case 74:if(t.analyze("End Liveness:"),t.analyze("Start GEAR:"),!t.config.async){e.next=80;break}N=(null==(f=t.config.face.gear)?void 0:f.enabled)?o6(L[z].tensor||Wc([]),t.config,z,L.length):null,e.next=91;break;case 80:if(t.state="run:gear",E=la(),!(null==(p=t.config.face.gear)?void 0:p.enabled)){e.next=88;break}return e.next=85,o6(L[z].tensor||Wc([]),t.config,z,L.length);case 85:e.t3=e.sent,e.next=89;break;case 88:e.t3=null;case 89:N=e.t3,t.performance.gear=Math.trunc(la()-E);case 91:if(t.analyze("End GEAR:"),t.analyze("Start SSRNet:"),!t.config.async){e.next=98;break}T=(null==(h=t.config.face.ssrnet)?void 0:h.enabled)?y6(L[z].tensor||Wc([]),t.config,z,L.length):null,O=(null==(m=t.config.face.ssrnet)?void 0:m.enabled)?T6(L[z].tensor||Wc([]),t.config,z,L.length):null,e.next=117;break;case 98:if(t.state="run:ssrnet",E=la(),!(null==(g=t.config.face.ssrnet)?void 0:g.enabled)){e.next=106;break}return e.next=103,y6(L[z].tensor||Wc([]),t.config,z,L.length);case 103:e.t4=e.sent,e.next=107;break;case 106:e.t4=null;case 107:if(T=e.t4,!(null==(v=t.config.face.ssrnet)?void 0:v.enabled)){e.next=114;break}return e.next=111,T6(L[z].tensor||Wc([]),t.config,z,L.length);case 111:e.t5=e.sent,e.next=115;break;case 114:e.t5=null;case 115:O=e.t5,t.performance.ssrnet=Math.trunc(la()-E);case 117:if(t.analyze("End SSRNet:"),t.analyze("Start MobileFaceNet:"),!t.config.async){e.next=123;break}_=(null==(y=t.config.face.mobilefacenet)?void 0:y.enabled)?j9(L[z].tensor||Wc([]),t.config,z,L.length):null,e.next=134;break;case 123:if(t.state="run:mobilefacenet",E=la(),!(null==(b=t.config.face.mobilefacenet)?void 0:b.enabled)){e.next=131;break}return e.next=128,j9(L[z].tensor||Wc([]),t.config,z,L.length);case 128:e.t6=e.sent,e.next=132;break;case 131:e.t6=null;case 132:_=e.t6,t.performance.mobilefacenet=Math.trunc(la()-E);case 134:if(t.analyze("End MobileFaceNet:"),t.analyze("Start Description:"),!t.config.async){e.next=140;break}F=(null==(x=t.config.face.description)?void 0:x.enabled)?_ee(L[z].tensor||Wc([]),t.config,z,L.length):null,e.next=151;break;case 140:if(t.state="run:description",E=la(),!(null==(A=t.config.face.description)?void 0:A.enabled)){e.next=148;break}return e.next=145,_ee(L[z].tensor||Wc([]),t.config,z,L.length);case 145:e.t7=e.sent,e.next=149;break;case 148:e.t7=null;case 149:F=e.t7,t.performance.description=H7.perfadd?(t.performance.description||0)+Math.trunc(la()-E):Math.trunc(la()-E);case 151:if(t.analyze("End Description:"),!t.config.async){e.next=165;break}return e.next=155,Promise.all([T,O,P,_,F,N,M,R]);case 155:B=e.sent,j=(0,o.Z)(B,8),T=j[0],O=j[1],P=j[2],_=j[3],F=j[4],N=j[5],M=j[6],R=j[7];case 165:t.analyze("Finish Face:"),(null==(w=t.config.face.ssrnet)?void 0:w.enabled)&&T&&O&&(F=(0,s.Z)((0,s.Z)({},F),{},{age:T.age,gender:O.gender,genderScore:O.genderScore})),(null==(k=t.config.face.gear)?void 0:k.enabled)&&N&&(F=(0,s.Z)((0,s.Z)({},F),{},{age:N.age,gender:N.gender,genderScore:N.genderScore,race:N.race})),(null==(S=t.config.face.mobilefacenet)?void 0:S.enabled)&&_&&(F.descriptor=_),null==(C=t.config.face.iris)||C.enabled,V=L[z].annotations&&L[z].annotations.leftEyeIris&&L[z].annotations.leftEyeIris[0]&&L[z].annotations.rightEyeIris&&L[z].annotations.rightEyeIris[0]&&L[z].annotations.leftEyeIris.length>0&&L[z].annotations.rightEyeIris.length>0&&null!==L[z].annotations.leftEyeIris[0]&&null!==L[z].annotations.rightEyeIris[0]?Math.max(Math.abs(L[z].annotations.leftEyeIris[3][0]-L[z].annotations.leftEyeIris[1][0]),Math.abs(L[z].annotations.rightEyeIris[4][1]-L[z].annotations.rightEyeIris[2][1]))/n.shape[2]:0,H=(null==(I=t.config.face.detector)?void 0:I.return)?zv(L[z].tensor):null,Df(L[z].tensor),L[z].tensor&&delete L[z].tensor,U=(0,s.Z)((0,s.Z)({},L[z]),{},{id:z}),(null==F?void 0:F.age)&&(U.age=F.age),(null==F?void 0:F.gender)&&(U.gender=F.gender),(null==F?void 0:F.genderScore)&&(U.genderScore=null==F?void 0:F.genderScore),(null==F?void 0:F.descriptor)&&(U.embedding=null==F?void 0:F.descriptor),(null==F?void 0:F.race)&&(U.race=null==F?void 0:F.race),P&&(U.emotion=P),M&&(U.real=M),R&&(U.live=R),V&&0!==V&&(U.iris=Math.trunc(500/V/11.7)/100),W&&(U.rotation=W),H&&(U.tensor=H),D.push(U),t.analyze("End Face");case 188:z++,e.next=12;break;case 191:return t.analyze("End FaceMesh:"),t.config.async&&(t.performance.face&&delete t.performance.face,t.performance.age&&delete t.performance.age,t.performance.gender&&delete t.performance.gender,t.performance.emotion&&delete t.performance.emotion),e.abrupt("return",D);case 194:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rae=function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n].keypoints.find((function(e){return"leftWrist"===e.part})),a=e[n].keypoints.find((function(e){return"rightWrist"===e.part})),i=e[n].keypoints.find((function(e){return"nose"===e.part}));i&&r&&a&&r.position[1]<i.position[1]&&a.position[1]<i.position[1]?t.push({body:n,gesture:"i give up"}):i&&r&&r.position[1]<i.position[1]?t.push({body:n,gesture:"raise left hand"}):i&&a&&a.position[1]<i.position[1]&&t.push({body:n,gesture:"raise right hand"});var o=e[n].keypoints.find((function(e){return"leftShoulder"===e.part})),s=e[n].keypoints.find((function(e){return"rightShoulder"===e.part}));o&&s&&Math.abs(o.positionRaw[1]-s.positionRaw[1])>.1&&t.push({body:n,gesture:"leaning ".concat(o.position[1]>s.position[1]?"left":"right")})}return t},Fae=function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)if(e[n].mesh&&e[n].mesh.length>450){var r=(e[n].mesh[33][2]||0)-(e[n].mesh[263][2]||0),a=e[n].mesh[33][0]-e[n].mesh[263][0];Math.abs(r/a)<=.15?t.push({face:n,gesture:"facing center"}):t.push({face:n,gesture:"facing ".concat(r<0?"left":"right")}),Math.abs(e[n].mesh[374][1]-e[n].mesh[386][1])/Math.abs(e[n].mesh[443][1]-e[n].mesh[450][1])<.2&&t.push({face:n,gesture:"blink left eye"}),Math.abs(e[n].mesh[145][1]-e[n].mesh[159][1])/Math.abs(e[n].mesh[223][1]-e[n].mesh[230][1])<.2&&t.push({face:n,gesture:"blink right eye"});var i=Math.min(100,500*Math.abs(e[n].mesh[13][1]-e[n].mesh[14][1])/Math.abs(e[n].mesh[10][1]-e[n].mesh[152][1]));i>10&&t.push({face:n,gesture:"mouth ".concat(Math.trunc(i),"% open")});var o=e[n].mesh[152][2]||0;Math.abs(o)>10&&t.push({face:n,gesture:"head ".concat(o<0?"up":"down")})}return t},Dae=function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)if(e[n].annotations&&e[n].annotations.leftEyeIris&&e[n].annotations.leftEyeIris[0]&&e[n].annotations.rightEyeIris&&e[n].annotations.rightEyeIris[0]){var r=e[n].annotations.leftEyeIris[3][0]-e[n].annotations.leftEyeIris[1][0],a=e[n].annotations.leftEyeIris[4][1]-e[n].annotations.leftEyeIris[2][1],i=Math.abs(r*a),o=e[n].annotations.rightEyeIris[3][0]-e[n].annotations.rightEyeIris[1][0],s=e[n].annotations.rightEyeIris[4][1]-e[n].annotations.rightEyeIris[2][1],u=Math.abs(o*s),l=!1;Math.abs(i-u)/Math.max(i,u)<.25&&(l=!0,t.push({iris:n,gesture:"facing center"}));var c=Math.abs(e[n].mesh[263][0]-e[n].annotations.leftEyeIris[0][0])/e[n].box[2],d=Math.abs(e[n].mesh[33][0]-e[n].annotations.rightEyeIris[0][0])/e[n].box[2];(c>.06||d>.06)&&(l=!1),c>d?c>.05&&t.push({iris:n,gesture:"looking right"}):d>.05&&t.push({iris:n,gesture:"looking left"});var f=Math.abs(e[n].mesh[145][1]-e[n].annotations.rightEyeIris[0][1])/e[n].box[3],p=Math.abs(e[n].mesh[374][1]-e[n].annotations.leftEyeIris[0][1])/e[n].box[3];(p<.01||f<.01||p>.022||f>.022)&&(l=!1),(p<.01||f<.01)&&t.push({iris:n,gesture:"looking down"}),(p>.022||f>.022)&&t.push({iris:n,gesture:"looking up"}),l&&t.push({iris:n,gesture:"looking center"})}return t},Lae=function(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++){var r=[];if(e[n].annotations)for(var a=0,i=Object.entries(e[n].annotations);a<i.length;a++){var s=(0,o.Z)(i[a],2),u=s[0],l=s[1];"palmBase"!==u&&Array.isArray(l)&&l[0]&&r.push({name:u.toLowerCase(),position:l[0]})}if(r&&r.length>0){var c=r.reduce((function(e,t){return(e.position[2]||0)<(t.position[2]||0)?e:t}));t.push({hand:n,gesture:"".concat(c.name," forward")});var d=r.reduce((function(e,t){return e.position[1]<t.position[1]?e:t}));t.push({hand:n,gesture:"".concat(d.name," up")})}if(e[n].keypoints){var f,p=Yr(zte(e[n].keypoints));try{for(p.s();!(f=p.n()).done;){var h=f.value;t.push({hand:n,gesture:h.name})}}catch(m){p.e(m)}finally{p.f()}}}return t},zae={face:[],body:[],hand:[],gesture:[],object:[],persons:[],performance:{},timestamp:0,error:null},Zae=0;function Wae(e,t){var n,r,a,i,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P=la();if(!e)return{face:[],body:[],hand:[],gesture:[],object:[],persons:[],performance:{},timestamp:0,error:null};var _=Date.now()-e.timestamp,M=_<1e3?8-Math.log(_+1):1;if(e.canvas&&(zae.canvas=e.canvas),e.error&&(zae.error=e.error),zae.body&&e.body.length===zae.body.length)for(var R=function(c){var d=e.body[c].box.map((function(e,t){return((M-1)*zae.body[c].box[t]+e)/M})),f=e.body[c].boxRaw.map((function(e,t){return((M-1)*zae.body[c].boxRaw[t]+e)/M})),p=e.body[c].keypoints.map((function(e,t){var n,r,a,i,o,s,u,l,d;return{score:e.score,part:e.part,position:[zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].position[0]||0)+(e.position[0]||0))/M:e.position[0],zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].position[1]||0)+(e.position[1]||0))/M:e.position[1],zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].position[2]||0)+(e.position[2]||0))/M:e.position[2]],positionRaw:[zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].positionRaw[0]||0)+(e.positionRaw[0]||0))/M:e.positionRaw[0],zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].positionRaw[1]||0)+(e.positionRaw[1]||0))/M:e.positionRaw[1],zae.body[c].keypoints[t]?((M-1)*(zae.body[c].keypoints[t].positionRaw[2]||0)+(e.positionRaw[2]||0))/M:e.positionRaw[2]],distance:[zae.body[c].keypoints[t]?((M-1)*((null==(n=zae.body[c].keypoints[t].distance)?void 0:n[0])||0)+((null==(r=e.distance)?void 0:r[0])||0))/M:null==(a=e.distance)?void 0:a[0],zae.body[c].keypoints[t]?((M-1)*((null==(i=zae.body[c].keypoints[t].distance)?void 0:i[1])||0)+((null==(o=e.distance)?void 0:o[1])||0))/M:null==(s=e.distance)?void 0:s[1],zae.body[c].keypoints[t]?((M-1)*((null==(u=zae.body[c].keypoints[t].distance)?void 0:u[2])||0)+((null==(l=e.distance)?void 0:l[2])||0))/M:null==(d=e.distance)?void 0:d[2]]}})),h={},m={connected:{}};(null==(r=null==(n=t.body)?void 0:n.modelPath)?void 0:r.includes("efficientpose"))?m=d9:(null==(i=null==(a=t.body)?void 0:a.modelPath)?void 0:i.includes("blazepose"))?m=A8:(null==(l=null==(u=t.body)?void 0:u.modelPath)?void 0:l.includes("movenet"))&&(m=wne);for(var g=function(){for(var e=(0,o.Z)(y[v],2),t=e[0],n=e[1],r=[],a=function(e){var t=p.find((function(t){return t.part===n[e]})),a=p.find((function(t){return t.part===n[e+1]}));t&&a&&r.push([t.position,a.position])},i=0;i<n.length-1;i++)a(i);h[t]=r},v=0,y=Object.entries(m.connected);v<y.length;v++)g();zae.body[c]=(0,s.Z)((0,s.Z)({},e.body[c]),{},{box:d,boxRaw:f,keypoints:p,annotations:h})},F=0;F<e.body.length;F++)R(F);else zae.body=JSON.parse(JSON.stringify(e.body));if(zae.hand&&e.hand.length===zae.hand.length)for(var D=function(t){var n=e.hand[t].box.map((function(e,n){return((M-1)*zae.hand[t].box[n]+e)/M})),r=e.hand[t].boxRaw.map((function(e,n){return((M-1)*zae.hand[t].boxRaw[n]+e)/M}));zae.hand[t].keypoints.length!==e.hand[t].keypoints.length&&(zae.hand[t].keypoints=e.hand[t].keypoints);var a=e.hand[t].keypoints&&e.hand[t].keypoints.length>0?e.hand[t].keypoints.map((function(e,n){return e.map((function(e,r){return((M-1)*(zae.hand[t].keypoints[n][r]||1)+(e||0))/M}))})):[],i={};if(Object.keys(zae.hand[t].annotations).length!==Object.keys(e.hand[t].annotations).length)zae.hand[t].annotations=e.hand[t].annotations,i=zae.hand[t].annotations;else if(e.hand[t].annotations)for(var o=function(){var n=l[u];i[n]=e.hand[t].annotations[n]&&e.hand[t].annotations[n][0]?e.hand[t].annotations[n].map((function(e,r){return e.map((function(e,a){return((M-1)*zae.hand[t].annotations[n][r][a]+e)/M}))})):null},u=0,l=Object.keys(e.hand[t].annotations);u<l.length;u++)o();zae.hand[t]=(0,s.Z)((0,s.Z)({},e.hand[t]),{},{box:n,boxRaw:r,keypoints:a,annotations:i})},L=0;L<e.hand.length;L++)D(L);else zae.hand=JSON.parse(JSON.stringify(e.hand));if(zae.face&&e.face.length===zae.face.length)for(var z=function(t){var n=e.face[t].box.map((function(e,n){return((M-1)*zae.face[t].box[n]+e)/M})),r=e.face[t].boxRaw.map((function(e,n){return((M-1)*zae.face[t].boxRaw[n]+e)/M}));if(e.face[t].rotation){var a={matrix:[0,0,0,0,0,0,0,0,0],angle:{roll:0,yaw:0,pitch:0},gaze:{bearing:0,strength:0}};a.matrix=null==(c=e.face[t].rotation)?void 0:c.matrix,a.angle={roll:((M-1)*((null==(f=null==(d=zae.face[t].rotation)?void 0:d.angle)?void 0:f.roll)||0)+((null==(h=null==(p=e.face[t].rotation)?void 0:p.angle)?void 0:h.roll)||0))/M,yaw:((M-1)*((null==(g=null==(m=zae.face[t].rotation)?void 0:m.angle)?void 0:g.yaw)||0)+((null==(y=null==(v=e.face[t].rotation)?void 0:v.angle)?void 0:y.yaw)||0))/M,pitch:((M-1)*((null==(x=null==(b=zae.face[t].rotation)?void 0:b.angle)?void 0:x.pitch)||0)+((null==(w=null==(A=e.face[t].rotation)?void 0:A.angle)?void 0:w.pitch)||0))/M},a.gaze={bearing:((M-1)*((null==(S=null==(k=zae.face[t].rotation)?void 0:k.gaze)?void 0:S.bearing)||0)+((null==(I=null==(C=e.face[t].rotation)?void 0:C.gaze)?void 0:I.bearing)||0))/M,strength:((M-1)*((null==(T=null==(E=zae.face[t].rotation)?void 0:E.gaze)?void 0:T.strength)||0)+((null==(O=null==(N=e.face[t].rotation)?void 0:N.gaze)?void 0:O.strength)||0))/M},zae.face[t]=(0,s.Z)((0,s.Z)({},e.face[t]),{},{rotation:a,box:n,boxRaw:r})}zae.face[t]=(0,s.Z)((0,s.Z)({},e.face[t]),{},{box:n,boxRaw:r})},Z=0;Z<e.face.length;Z++)z(Z);else zae.face=JSON.parse(JSON.stringify(e.face));if(zae.object&&e.object.length===zae.object.length)for(var W=function(t){var n=e.object[t].box.map((function(e,n){return((M-1)*zae.object[t].box[n]+e)/M})),r=e.object[t].boxRaw.map((function(e,n){return((M-1)*zae.object[t].boxRaw[n]+e)/M}));zae.object[t]=(0,s.Z)((0,s.Z)({},e.object[t]),{},{box:n,boxRaw:r})},B=0;B<e.object.length;B++)W(B);else zae.object=JSON.parse(JSON.stringify(e.object));if(e.persons){var j=e.persons;if(zae.persons&&j.length===zae.persons.length)for(var V=function(e){zae.persons[e].box=j[e].box.map((function(t,n){return((M-1)*zae.persons[e].box[n]+t)/M}))},H=0;H<j.length;H++)V(H);else zae.persons=JSON.parse(JSON.stringify(j))}e.gesture&&(zae.gesture=e.gesture);var U=la();return Zae=H7.perfadd?Zae+Math.round(U-P):Math.round(U-P),e.performance&&(zae.performance=(0,s.Z)((0,s.Z)({},e.performance),{},{interpolate:Zae})),zae}function Bae(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{order:2,multiplier:25},r=0,a=0;a<e.length;a++){var i=n.order&&2!==n.order?Math.abs(e[a]-t[a]):e[a]-t[a];r+=n.order&&2!==n.order?Math.pow(i,n.order):i*i}return(n.multiplier||20)*r}ta({},{distance:function(){return Bae},match:function(){return Hae},similarity:function(){return Vae}});var jae=function(e,t,n,r){if(0===e)return 1;var a=(1-(2===t?Math.sqrt(e):Math.pow(e,1/t))/100-n)/(r-n);return Math.max(Math.min(a,1),0)};function Vae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{order:2,multiplier:25,min:.2,max:.8},r=Bae(e,t,n);return jae(r,n.order||2,n.min||0,n.max||1)}function Hae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{order:2,multiplier:25,threshold:0,min:.2,max:.8};if(!Array.isArray(e)||!Array.isArray(t)||e.length<64||0===t.length||e.length!==t[0].length)return{index:-1,distance:Number.POSITIVE_INFINITY,similarity:0};for(var r=Number.MAX_SAFE_INTEGER,a=-1,i=0;i<t.length;i++){var o=Bae(e,t[i],n);if(o<r&&(r=o,a=i),r<(n.threshold||0))break}var s=jae(r,n.order||2,n.min||0,n.max||1);return{index:a,distance:r,similarity:s}}function Uae(e,t,n,r,a){var i,o,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w=0,k=[],S=Yr(e);try{var C=function(){var e,S=A.value,C={id:w++,face:S,body:null,hands:{left:null,right:null},gestures:[],box:[0,0,0,0]},I=Yr(t);try{for(I.s();!(e=I.n()).done;){var E=e.value;S.box[0]>E.box[0]&&S.box[0]<E.box[0]+E.box[2]&&S.box[1]+S.box[3]>E.box[1]&&S.box[1]+S.box[3]<E.box[1]+E.box[3]&&(C.body=E)}}catch(Z){I.e(Z)}finally{I.f()}if(C.body){var T,N=Yr(n);try{for(N.s();!(T=N.n()).done;){var O=T.value;O.box[0]+O.box[2]>C.body.box[0]&&O.box[0]+O.box[2]<C.body.box[0]+C.body.box[2]&&O.box[1]+O.box[3]>C.body.box[1]&&O.box[1]+O.box[3]<C.body.box[1]+C.body.box[3]&&C.hands&&(C.hands.left=O),O.box[0]<C.body.box[0]+C.body.box[2]&&O.box[0]>C.body.box[0]&&O.box[1]+O.box[3]>C.body.box[1]&&O.box[1]+O.box[3]<C.body.box[1]+C.body.box[3]&&C.hands&&(C.hands.right=O)}}catch(Z){N.e(Z)}finally{N.f()}}var P,_=Yr(r);try{for(_.s();!(P=_.n()).done;){var M=P.value;void 0!==M.face&&M.face===S.id?null==(i=C.gestures)||i.push(M):void 0!==M.iris&&M.iris===S.id?null==(o=C.gestures)||o.push(M):void 0!==M.body&&M.body===(null==(s=C.body)?void 0:s.id)?null==(u=C.gestures)||u.push(M):void 0!==M.hand&&M.hand===(null==(c=null==(l=C.hands)?void 0:l.left)?void 0:c.id)?null==(d=C.gestures)||d.push(M):void 0!==M.hand&&M.hand===(null==(p=null==(f=C.hands)?void 0:f.right)?void 0:p.id)&&(null==(h=C.gestures)||h.push(M))}}catch(Z){_.e(Z)}finally{_.f()}var R=[],F=[],D=function(e){e&&4===e.length&&(R.push(e[0],e[0]+e[2]),F.push(e[1],e[1]+e[3]))};D(null==(m=C.face)?void 0:m.box),D(null==(g=C.body)?void 0:g.box),D(null==(y=null==(v=C.hands)?void 0:v.left)?void 0:y.box),D(null==(x=null==(b=C.hands)?void 0:b.right)?void 0:x.box);var L=Math.min.apply(Math,R),z=Math.min.apply(Math,F);C.box=[L,z,Math.max.apply(Math,R)-L,Math.max.apply(Math,F)-z],a&&a[1]&&a[2]&&(C.boxRaw=[C.box[0]/a[2],C.box[1]/a[1],C.box[2]/a[2],C.box[3]/a[1]]),k.push(C)};for(S.s();!(A=S.n()).done;)C()}catch(I){S.e(I)}finally{S.f()}return k}var Gae,Xae,Yae,qae,Kae="\n/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUA\nAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAARAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQu\nbmV0IDQuMi4xMwAA/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxob\nIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgo\nKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgBAAEAAwEhAAIRAQMRAf/E\nAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAE\nEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZH\nSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1\ntre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEB\nAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXET\nIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFla\nY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXG\nx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+qaKACigApGOKAML\nXp8xlF5A7V4X8RtYs7PzfNImnx8sa8Kp9z3q2tEgp6angWs62ZZ5CTGoJ6DArGNz5p+UrID6EUrF\nPUlW1EuN0XNW7PQ2L5j3JnoKXN0KijqNP0eYoqXBdgPuuo+ZPeupisWn2Jd4+0r924XgsQOCff3/\nAJ1FzRKxDqGii6m3siiQ8F1XGfXI6YNWLfRbiRQMkcZI9fpTDluT2/h6Qy8gDPbtmtG38JeY480Z\n5zSLUTZg8M28YwYxjAArXtdPt402qgHbpSaLWhma3o0Uqk7Nx9DWLaaVblgPs6qRyds2M/gRSQp9\nzZOni2iWS2hlQ+kjYz9OMGrdjq89vIPPVhj+8M/lQyDq9P1WOYBlMZz1AOD+VdDaTiReOKulK0jO\ntHmi0WDTlr0TyxRVhT8tJjIX+9SUxHXUV553BRQAVBcPhSBTSuxPY86+IGti0s5I7dsORy9fM3i6\n8e8mfDO5P90ZrWWiJicNPpZZtxV/xrW0jQt4DOv6Vk2dEEdTY6BHuB25rpbPSo0QARjP0qTRI17W\nwA/hFaMWmoQMgflQXYsDS142rU9tpqqenfNA7GgtihxkdKuRW6qMY/GkDZY8sY4Ap4hXbyB+VArk\nEtuH4wPyrk/EGkOm+a3jw3suRQLc5i38SX9hJ9nnY+XnBUdPyNdFY6pa3KkkAE9l6f8AfJ/pSJT6\nGhDmI+Zb4ZRycdv6ium0nUhKFydrelTsNnS2829RnrVgV6NKXNG55lWPLIM81Op+WrZkRMfmNNzT\nA7GivPO4KKAEY4XNYWt3vkwPg4OK0giJdjw/xrqhm87Zs8tc7pX5A+leSajf6aHYJ50kn4AZpTep\nrBWRm2Vobm4BXfyehPFdnpmnBFUY5rI2SN63tlToK0YI+KZpFF+3QdavwoKTLtoW0Toaswpk5pCb\nLCxipAhoIuP2dKevHXoaYDylRyxhlwRQI4nxVoCXWZI1GfpXGtbSWjYPGP73+NIGupt6TqMsLruZ\nih4xnP5V09mQ+JLd8gn0xSYJnVaVdkook69K34zuUGunDS3Rx4qOzHVIp4rrOMY3NJQI7GivPO8K\nKAILt9kZrz3xlebYiu8KCCWb0XvW0NFch6ysfO3jLVjfXLIn+pQkKorl7WxNxIPl71g2dUUdpo+l\npBGvHPet23iC8ihFosrxirkHQUFo0IF4FXI1O726CpKLacCrMJoJLYHAPpTwucHpSRJJ5e4AZI9x\nUqpxzVpCuOC8cUpQUMRnXttuB4rjNdsYyeVwfXpmpGmcvcQyafMCFJjPY10eg34BUg4DcZP8jUO4\nHaRq3lLNF+IHet7R7jz7c56rwa2wz9+xhiVeFy/T1PFegeaNPWigDsc0ZrzzvDNIaAM7VpNqdegr\nxL4l6kywyRhseZ19lrdfAZL4jxYg3Fw20d63tJsdrDI5rm3Z3R0R0Mce1eKnQYAplIkWrMJ45oZS\nNO3PHbNXIyfpSGWowSOasxLUiZdjFSqtNEMkUemKlAGKsRJjAppFAiORMjmsTVrNZEO4cfSoZSOD\n1eJ7WXBUzQZ+7nkfSo7e2Ei+ZaMzxntjBX2NSU1Y6/wxqojiEFzkA8KTXYaUoWRyv3W5rSjpNHPX\n+BmpSg8V6J5gUUAdhRXnneFFAGHrTfu5PpXzj8S70/aZtxzztXFbv4DKHxHI+H4GZiz9zxXXW8G3\nGBXMjvLRXAx0oPGPSmMVeOnWrMTYpFI0bcg1fh54xmgovRcD3qxETSIZcRvzp+/BpEkqsBUqsM9K\nq4Em4Gkxk0yRGXrVW6i8yFhkg+tJjRxGsWrxllkUMh9eK5uMz6bcebbnfG33kPcVkay2OntPKuo0\nnhXI67c8qa7Lw3c+adjcEDGK1paSRhVV4s6A0or0jyRRQ1AHX0V553hRQBz+vNtt5z3xXzX8Qbdm\nuic5YnOMdK3l8JnTXvlbwpYl+WySOgrp5YfLOOB9O1c62O7qQkc+9RsKChFPWp4DluOlSykaNruH\nArUgHShFNF2NT1qxGO3NBmyxGcE1N2560CFzjrUysO9JAPDDjFOVuKoQuSRTWouBkazbCa3cd8cV\nwF7IISQccHBzUSWpV9C3o1x5b5GAjdQD1rs9DjC3kckbEhqKfxIzn8LOupRXqnkPccBSkUAzraK8\n87wooA5rxMSI3HqK8B8bQl9Q8sffY5b/AAraXwkUviNrw9pH2W1ViMMRTdRjw4HpWNtDti9TPc4P\nFQs2M5qdyyMHLcfjV63HTAoBGtap0wK0YxigpsuRDtVhVYd6GQydVwwIqdRnqKCR23I5pCMUW6gD\nYNKuetAEise9KTxQBWuFyhrznxNZkXjFeN3I+tTIZg2OqmzmxNF0PO3vXp/g2+hukVl4zyPanTXv\nJmVR+60dpThXpnlPceopWFAbnV0V553hSGgRynjC5FujOey14Ssp1HxNmTnc+a3kvcIpv37HoEYQ\nQmMdVHSsnVbYJF5jVk0dsNzlruVIsl2wKxbjWrVHILjg1CRbZJb+ILHPzyhfStODWLQgFJFYd+el\nUJM27HUIXxhga1Y5lLVLKLkMnoauxnPPrSEx7ShF+Y/n2qrc6xBbhizDAqkK1zJuvG9nbg8ZA681\nly/Ei052RO3uKAsZlx8QGd8xxvt9Aa1NH8dK7AXMcip64zigdkdrZX8F7EJLdwwNXMkrz1qRMRly\nCK4TxmpidWI49felPYSOMmi80NIoOV6qRzXYeA5SskYPfirpfEjGr8LPWVHyD6U4CvQPL3ZItOYc\nUDOoNFeed4Uhpks4H4iE/Z5MeleMeGULeLgjds10S+BGdL+Jc9OSBU2Huc5Nc74yvUtrcDBrJnZF\n63PJdXvLy/lKWw46bvQVz82jXhkLO5Y+9ZlsYthcRnbIjY9R3q3awTRkEM3WmJI6C0ea3dGRsr1x\nXY6TqW9FLHnjrUs0izpLK5DDjofSta3ckH09KRUkZuuTvFGdvPauE1Y3U6Mqbssf/rUxHPTaJPK2\nZmJPbBqzY6DCZh5xJC9s9aBJHU6dpemJjfEmfetJtI0+VPkUr/unFOxdiextHs33W07YHQHk11mk\nXb3KbZ1xIvcd6LEyWho4Nct41sTPYb16ipexCPPZN+wYGCvH1rrPAEJmvkPoc1VL4kZVvgZ6yFwK\ncBXoHkkqinFaVyzo80GuE7WJRQSziPiGdthK5HQV4x4J/wBI8WPIewNdEvgRNL42emO/yj1UHNef\neNpRczbC+I17DvWT2OqJxc0sMK4TCisy41q0hfEkqj8aixdwTXNOlwvmqD9anS9tXH7uVG+hosO4\n/wC0oOhrR0+6G4YNIEzsNEuCxAPNdjZruA4xxUmjINSjURksOlcbqFykbnjFA1sYGoassaknCqO5\nrl7rxhGm7yBnBxuJq0rkSlYpw+NLlsfd5P8AerVsvHEqSBHwPVgcgVpyMyVXU3rXxcHYETAk+hru\n/DWti6ZSTyOKzZqndHaxvvUGq2rQ+dYyqR24qWI8dvbr7LqDxyDAzXpvw6FvIxePGSM06Xxoyr/A\nzviKFHNegeX1J41zUhXioGbuaSuM6wpCaBHG/EcA6HN/exxXjXw2jL67cv8A3Qa6H8CFR+NnoWpO\nI4XI44rxLxrqjQzSEsQM1gdSPM9U1uR1YbmWIdXHf2rmpIb67YS28UrRlsLI3c/jW0VZGUpO5pW1\njfLNOjahawzwReYI5cjzMkDavHJ5/SrVv9uhtPtVxCPLBwzxnlT9KGghLU3tKvvPjHzbl7EGuisJ\nGRxWLOg7nRXJEbDjmvSNK+aFSfSoZr0KutRkphc4NcRrdkVjL9aVio7Hk3iqS8ubhrWzUlsZY9kG\ncZNc5D4aee5MclzJIFTzHAO0MfatqSOWu7bFS1srDUZEis0vIZoUxPvfcC+4/dx2xjr712XiTwXb\nWmlQ6hol3cRhoFd4rlg3zY5wR0GelavQwjq7GD4etdVvSnk2wAB+9v8A8mvcfA2kXiRo0/UdcDis\nZnTTulqeoWqbUAJqWUb42X1FZlnjfjSwlGrr5S/eNdD4RkvLAAQ4yRyaUZcruVKl7TQ9I0G+mnzH\nckFwM8VuIK7ac3KF2eXiKapz5UWYxipNtMyNejNch0jSar3cjR27uoyQCRVRWom9DxTx54gu5fMi\nlbKdMVjfCZPNlv5v9rFbVHpYqjGzbOn8SzFI9o715L4u0r7arYzk+lYdTqSujy7U/C0u4vHk+WwO\nxuh9q3J9dgvbdVukMV1EwbDDgn04rZMwlHoZ+orZ6hfQ3RWVnQYCgZAq+8U0ln5NtBsV2yxYcfgK\nJtW0CnB31LlroVwJ1nQLGDjeP7w+lb0dsFxjrWB0tHS6NuWPJ6A16ToUm63T3Gallr4S7cxiTjrX\nPaxaF7dlVeSMUhxZ5jd+H7qCa4eF3DSE5x3zXN3Wk6jbyeaiFWUY6ZyPStYS5SalPmVipFbX0E4c\nW0alvmPHJrag0rVvEE6LdljGpG2NRtQD+tW5XMI0uU9M8NeFo9PiQhecDIIrtrOMIoG3H4VlJm9t\nC6CB06VPGM1IHLeItGS6uw+ORT7e3jsbQvj7gzUNam0JaWE+HN7NqOqX80n3FO1RXo8YzXdS+BHk\n4z+KyzGPapcU2YIv7qQtiuaxvcaWqG4O6FwfSrS1JbPnrxoxkv7qIfejcitj4V2f2exumI+8+aKn\nxHTT+G5d8Txlm4rjLxMsQwzWT3OiK0Mm6sEkVsAcjFc1d+FEmlGwEDPQVopaEuOpr6f4ZWNAu3tW\nvHpAj5ZQcUFIWaDjGMVUMQ3cVDBmvbhY7QAV2nh+T/R1yeKhlrY31+b61FcQK6nIoJMi401WblRi\nqr6PCw5UYq9y+YgOgWzNkRrx3xWjp+nx2v3FQcelAbmko9anQ4GBUNisPHWr1qMrQhS2K11HvmYV\nhamcxSRZ5xRIqluS/DKAQQXZxyXrvo2FdlL4EeZjH+/ZbjNSZpswLNBrE1Gt7VE4ODVIlnh/j61F\nj4lmeTGyUbq6LwdEqWbeX0YbhSqfEddP4Bddj4JIrhL5d8h7VjI6oLQqKNzelWre3yc4/ClFjaL6\nwqBxxUUxwCKu5BmXRA6c+9ZjP83FSBoQuPs4BrsNBlUW659KmRrDY6G1lyQtW3Hy0lqQ1qVJnAbm\noy3b9KYJCqRj3o4zRctIlhjLHmpSuOBRbQOpLGpPFaES7UqkZzKN1KsEc87/AHUUmvPLTVGv72aQ\nk7WJwKmRrQ3ud74Ltilgz4++2a6iNDXdS0gjyMU71my7GpqTbxSbMki3SViajTTHqkSeR/GeyZmg\nnQHkEE1S+F+oPPavBL96I4/Cia1udVF+4dVrkW+Fq8+v4tjMDWUkdVJ6WM0cNV+F+MVmjUcZgqnP\n1qpNNnkcVRLiZtxIS1UzzIF7mghlxUZpVQdq6nTVdAoAOKzkbQWhvwM6gMM1twOJYx3NOJE11Kt1\nH1/pVVlwBkk+9NocXoOQ45FPj+fkUJFF2NSB700v/hTEty5ZpkjvVyUgcCq6GM9zC14/8Se6GcZQ\n1574Xs5WkI2HBPHFQ1dm1KSSZ7Rotn9l0+KPHIHNacae1dy0Vjxaj5ptlhVp+2s2CJ9ppCKzuWNx\nzSFc1SYrHNeNdIGpaYw25ZeRXmvheyk0jVpEdcLJ0q3ZxNKTa0O3vQHg/DNcHrsJDmsmjspnNzNt\nfFIJ24GazOhC+azDmgZIOOKBsp3J2qSaZodubq58yQ4QAnmhGT3NO18pb7BORmu205LfYpyKVkWp\nOxr5gKYWoIZWgfGfloFq1qTPLubnGO1RPtxg4P0oBAkY/hBz6VNDDkZ6AU0W2WSdqkdKr9ZOaGSj\nVtcLHmnOcgmmYvcz7mBLy3MbdD1q9ouiRK6bUAVeelOC1InPlidSsWMDFOCEdq3uefykqrinYqGy\nrFvApMVka2DAowKAsMkRXQqwyDXn/iWyitNQ3qPl6itIvRoF8RXinW4tQ6HI6GuW8SIVBPalc6qe\n5x9x97r3qruwTjrWZ0ksZ9TUmcDNAmZ9/wAoao63rR0+w22MLPtAzt6mghmfofiB76LdJBJBIp5D\nd/oa7bSdWLIPnpDi9TM8TeKdas51XTbIyxd3J/pXS+E/EFxqNoFu7do5OmD60maHWrnZyDRkn/69\nMlEyOR0xntVoNx+FUgYjPxg4FLCuWDZyKQr2RoRnP0qO+nEFpJITgAUzLqZnhu6+0rknOTXpOmwJ\nFbrt5yMmnHYyr6Oxb2ijaKLnPYMClwKQWK3n0hn+lachHOJ9pNNN0apQFzsY10a4v4hXQh0xpieQ\nMA1XLZNjhK80cT8OdV+3Wl3A7ZZJCw+hrR1qLcjZ/CsbnfHRnFXseHJArOYYbrUs1uPhYbuatqFP\nByfSkMq3UIINYkto+87Tx6GkSxfsDbflGD7CtTw/pk4nzITtPIFMFudsukh4Rxz71paTpKwP5jcn\n0qTRy0NORMDgVCqewoJTJgAoxjntTiTu7fWmFxAcnn1q3EPl+X8KZMi4gKqB1Peob/Tv7Us5bfeU\nyOoq4R5nYxqT5I8xieH9J1DTbvyJELRg8ODwa9Ms5mSFV9BWiptbnNVrKdmif7Q1KLg96XIZc5Is\npNL5pqeUrmMtZs0jzV08phchaY00zH1p2ZNxjS1g+LdJOt6U9ssmxjyGp2urDjLlaZzng/wUPDqz\nTSTmWeTrjpVjVk3Rvjr2rnqQ5dDvo1XUd2cTqSNk9OKxXGCeKxZ1DAxHTr2q5C/y8GokUhsz54qu\nuCxzSQjQ0+FZblR2ro4bZYiMVQ0dBb7Qi5x0qzuG5QOh71LYErDufpSeWrHnimIXbjkUjLkH1Hem\ngGxryc+tXI19KYmWegq9YLiLJ7mtqS945cS7QsWehqxA9dEjz4krPSxyZqbFFhGxUm6smjRM55Lk\nHvSvNxXTY57kLT+9MNwKdhXGm5FIbkU7Bca1wMEVhaiuQcVhXWiZ14R6tHGanGBI2OtYkqEHjgVy\ns9ErEeo6UBsHipKEZs5qpPdRxcbhx70NCSuybTNWihc5brW9Fq6vjMnFSdEIdDRi8RRKygZbHFbu\nm6nb3RA3gMegNJhOm0jbXGOoxTuCc1Rz3FyoGKawz9KaAVcZqeMgCmIkB4FaUTbYwB6V00Fuzixb\n0SFMuDU8Mlbs4UPeXHeiOXkUrDuXYnyKk3cVk0ap6HMxxketSMhrcwRC0dMMZFMQ3yzSeVQAeUaz\n9Vj8uPd271nVV4m+GdpnHX67pCeKyLtBtNcR6xlk9RVeWTb3qRnO6trgttyIfm71z7ai8j7/AJmN\nDNqUVa5Yi1AnjynHuBV+11YJhWWXcP8AZNSzqgmaEerSsf3NtIQP4mGKtRavdRgMIpVI9KjU0a7n\nR6T43uYQI7qN2Tpkqciu503VVuQGAYZHQjFVc4alPlZrpKGAznpTwxOc9+lWjIlUACnM4XApiLNk\nnmvnsK0NvpXZRVonmYqV52GsmanhXitTmFkSiJTSAvwrxUxXIrJ7miOfjf1pzNWxkRlqYWpgJupu\n6gQbuahvIxPA6eo4pNXVioS5WmefakGhndH4INZs5DJXA10PaTurmLO21uKpSZqGMoXGnRzBiyjd\n9Kx5rcQS428fSkjanLoaOliHGZFB56VswW+mtPufcBsGOAfmxz+tFkd8HpoaUx09FAtFY8DO71qb\nSms/Nb7RbecG6AEjFLS5c78t+p0djpVs9wsyQiJAdyr1rW+zqjErzSe559Sbk9S3C+MA1bjbgE1S\nMSXzMVG0vNUI2tPKrAuCMnrVzNd0PhR49W/O2xrHmp4TxVMzQshpIzzQBehqesnuaI5VGzT2bitz\nFEbNTC1ADS1JupgG6l3UAc14s04yR/aYRll+8BXCtLncDXFWjys9TCz5oW7GddH5qqNzWDOgQnC8\nVSuo1kHzAGkPYopEY2+RWxV23Vzj5G/Kg3jWaNazhZuqNXS6TaKhB2c0jR1nJWOlhOxRxU4YkCgx\nY0OQatQyDbyaaFYe8uF4NY3iC9ltbVGj43NTIL3h7WzMihjzXVQXYYDdW9Cf2WcOJpfaRZ3g9KsQ\nmupnCLIabGeaAL0LcVY3cVmzRHIxtUhetzEjZqjLUAIWpN1ArhupwagAfDKQ3Q1594v0c2bm6tx+\n5Y8j+6ayrR5onThp8s7dzkZjuqAAmuBnqC7c0iwgtzSA0rWzjfGRW3ZadDu4AoNYo2rfS4v7orSh\n05UA2r0pDbsTm29KRottBNyJ0wpJ9KhD7f6U0ikNWffIFBz60zVUW52ow4UcUN6EPcx44WsbgOmd\nua7TT5Bd24KHnFKnLlZFSN4koluLdueRWvp14swweG9DXoxldHlTjYtzGoo25qzEvwtUxas2jRPQ\n5CNqkLVsYoYzUzdQA3dSFqBBmnqaBhuqhriCXTpVIzxUz+Fl03aSPI9QTypW2/dz0qKNw3SvOPZR\nMqin8VLKRcs3O4Cuk0w/MDjt1NBtHY6O2IIHY1pxgFaETIRwMkjtVSUEk4570MlFW5bap6dKzWm8\n1tqH8aY+hp2FvGoGayNevVt7/ap4xzUvYjqTLtvLPcvJxSaVcyWsxTnFZlnT2t15xHmCtOBYwQy4\nB9q7cPO+jPPxFO2qLEj5HWo42+aus4HpoX4W4FTF+KlotbHII9SFuK0MUNZqiLUDE3UbqBBupwag\nBc1DefPbyD/ZND2KjujyPWlKzuPesRZjHJXms9lMuw3StjnmphKDSLTJ7OfE3JrpbO4GQc9qlnRA\n3LO82k5NbFvdADkjBoCSHyXIIIzgVQvdRigT7wzjgUzO1jHknlvG7qnp61etYFQDIpCZoqVijzXn\n3iC8EmsOuaCGb/heR/s0ijkVv6fbxy3QMg5xmsnuX0Ldzut3+UYTPWk+2GJSe+M1pFtamcldalmx\n1eO4XaThhWnC+TXqR2PHqL3maUJ4qRjxSEjj42qXdxVmaGs1MJoATfSbqBAG5p6mgAzTJTmNvpQU\ntzzHXY83D/U1zF5FhjgV5r3Pa6FMsV5HWnLe7RhqBRdmTwagN2d2K2rPU1C5LAnPrUs6Iysbdrq6\nf3gK0BrUKj/WClY05iM6xLOcQAj3NT29uznfKSzHuadzNu7NSBFjHNSm5VO9IRnajqoWMhTzXFtA\nbvUfMduSeg702Qz0rS7FbTToQFwzjJqaGTFyfK5PQViyzUuFmuIdgGABya5u/vTaN5cnUHFUmLoZ\nzyskwlgJweSK6zQdUEwVJeGr0aUrxPLxEfe0OrhPAqVjxWhznGRtUwatDK4jNxURbmkAm6jNABup\n6tQAFqhupNtu59qUnZFwV5JHnWsHdIx96w5lz15rzT2uhRmt85xWbcxMnUGmZlB0bdxmrNvFIcfM\n350mWjbs7YkDJY/jW5ZWW4jikWkdNp9mqYJFaJdEHHakUULu/VB1rLn1Ld/FgetMGYd/qWSQmSa0\n/AemS32pfa7piLeLkg9z6UmQtz0W7uQ2cZx0A9BVzR7cAea6j2rPqX0L99KRat5A6Dk1wOoKZ52a\nYfMORTYRLujiGWEq6/NWza2yKQVHNdOHerRy4laJo6TTnbbtb8KuM3Fdh5z3OJjbmpt3FaMxAtUZ\nagBN1GaQBzTwaAAms3VbjERUGsa07RsdeFpuUuY4jUjljWTKK4j02RE4IpJYFk6imQkVl0xWarsO\nmAEcUi0bNnZBR0rWtoguMCkUi21wI161mXuocEKaYXMS4u+pY/hVCSWSY4HT0pEmlouiSahdpEBl\nmOceleiwWcNjClvHgJH97Hc1EmVFFi3Czy7mwIl/WtJbjP7uLgd/apQ2VNVvtsBhiPzdK5S4nAuR\nnqOCaTGi9pcytPlU+XpmumtWII44rah8ZjiNIXRuWeNvvViQ/LXpJWPJbu7nCRvVkNxVsxBmqJmo\nEPiXca0YLMuOlJsuKuPlsSi5IrNuG8s4HWs5VEkbwoOTKsk+FJY4rC1K53k1xTk5O7PSpwVNWRzt\n4cms+WpKICtSLTETQj5q0YeBSGiys23pUguGxQMq3E59ayrm4x3yaAKiRtO2WPHcmhruKFxFajzZ\nScA44qRHoXhuMaLpxaUg6hcDLMf4F9KlhuDeXGASIl+8azZslYma68y48m1+7nFW5rtbRNhb5z1p\niMKbUg0zuW4A4rPgb7VdKXOMmpA7HRbMS7nUYiUda0lkQOBngVrS+JGdbWLRt2bAx5BqeQ/LXpnj\nPQ4GJ+ashuK0MhWaoWcA0AaOmASMK7jRNPWYBmHyiuepO2x10qfcv6vYxCzYqoGK4HVYVTJrmb5l\nc6oaM5TUJ8EgGsG4kLNUHT0M64OaqMMikSRsuKbnFMRLG3zVehOaGNE445NNlnVFpDMu6uie9Vo1\n8z5mOAOST2pDK91cNN+5tsrH3PrW54a06KxT7fdrlh/q1Pc+tJ6IUdZGvHPLezMcnBOWbsPap5r3\nylFtbdT1xUWNWzU0/Zbwlgfmx8zGsHWtRHmMqE59aAMyNifvHPc1f0gtPdqkY5JosJHeNci2tktY\neuPnNY+oXWZEVJNrZ9aun8SIq/CzodHuriIokhDIR1ronbKZr0o6o8ipoz//2Q==",Jae="\n/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAsICAoIBwsKCQoNDAsNERwSEQ8PESIZGhQcKSQrKigk\nJyctMkA3LTA9MCcnOEw5PUNFSElIKzZPVU5GVEBHSEX/2wBDAQwNDREPESESEiFFLicuRUVFRUVF\nRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUX/wAARCASwBLADASIA\nAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAEDAgQFBgf/xABDEAEAAgECBAMECQIDBgUFAQAA\nAQIDBBEFEiExE0FRBiJhcRQjMkJSgZGhsWLBJDNyFSVTY3OSNEPR4fAHFjWCokT/xAAYAQEAAwEA\nAAAAAAAAAAAAAAAAAQIDBP/EACARAQEBAQADAQEBAQEBAAAAAAABAhEDITFBEjJRIhP/2gAMAwEA\nAhEDEQA/APqYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAKNTq8OkxzfNkisQC8eb1XtRNbzXT4q7eU2nu0MntRq/D8StMccvW29ZmdvgjsTyvZjxOLj\n+s8WLxn8TFPXs6Oj9oct7c14rkxz22nrB2I49KOdTjelmszfmpMeUxv/AA28OqwZ4icWWtt/SUi4\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmdo3nsPNe0Pt\nFh09Z0+DNWL7+9O/7A3eJcZppsV5raI27esvH6jX5ddM25p79Ilo59VbUZOe2Tm/PeGvfPfT2iKR\nPLv1+DO678XmW/a97U6TtOyzTbTF538/T9WjTNecm9a7126tqk3rSYxY5ta1plRZqZNXGjyZcPXl\nmZmsx+qjBrsuO16xM7eXRt04JrdTltk5OWJnfaWf0a2lty5MdZnfzSn+WOHiOutFpjHa9e8bQ2fp\n+alYy462pk7zXbuxjPesbRS0f6ZZV1ET1tErzXFLHo+A+1ddZf6NrI8PJHa1vN6iJi0bxMTHwfOa\nzhzd61v1846utwniM6DUdb3nBaNrVmd9vjC/ZVePYirBqMWppz4rxaPgtEAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAItaK1m09ojcHnvarjM8P0vh49+a/eY8ng9D\nh1fGM1rxjtGPfvbzdbjuTJxHX48cTPNltM/KsS9Dw7S49Jp6UpHaGe2vjz1y9J7LYK13vHWe7bj2\nex1tvM80ekuxW3RnW3Vm6P5jRx8H0+OYmMcb+bapo8GKPdpC6bQwtdHU8JpWkdJ/JweL6e23iU67\nd4dubSqyVi9Zi0bwIs68XGp36TtEq7ZJmZmevzdbifCKWtbJinkt6eTgZPFw32t+sRurbWVzxs1y\nRv6T8V1NZNPtfq0seTm+Kevr+SZuxXjvaPiV8N4viycto9HseG6+uu08W6Rkj7UPmFck1tE1nlmP\nLd3eA8V8HVVi1pjq6Ma/pnqce/ERMTETHaUrKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAADW19+TQ5p/p2bLS4v04Zmt5VjeQeJ4bjnLqsupv+Ka1+ERLv4reTmcNxcuC\nvy3l0qdI2hlr66sT02ot0ZV7qqrInruzrVZLGSZ37JjqgYTG0K5lbaFVhDT1Ub456RPweY4hixWi\neSdpjvD1eWejz3FNHWYtkpvFo9EIseb3tS3SerOms22rfpPqZKzvvHSYUz70TExG6Gdbs2rljeJ/\nMx5L0vEzPaelnOi98c9J2bFNTFpit47+a+PVUvx9T9nOIfT+GV5p3yY/ds67wvsXqpxau+G09Lx+\nr3TqrEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADV4ljnLw3U0jvO\nO0fs2lWqyUw6XLkyfYrWZkHldBEV09eveG3Fq1mI3jd4vPrOIaid8G9MP3Y38k6fNrt/rMk9Ou8s\ntfXXn49rGWInuy8SO/k5Gl1E3rG/fzbOe94wTy99mbRvTrMOOvNfJWsesywniukrG/jU6fF43WYN\nTmtEeJtEQ06aSmK2+bNtEd+qfSO17unF9Hmvy1y13XWyVmN4tExLxVK8PmNq5NrT58zawam+m/yc\n0Xj8NpRYSvQZ7xEOdqI3rPozxayNRXe0ct/ON03jmrKB5nV4q1yTO20Obmv4c+cx8HoeI6WZpNoj\nq83niYmYscU0r8aJ6T1n49zeJ+Meqm1drb9J+Kd5p136StGVem9l9TbHxLDFp7W7+sS+q1nesT6w\n+PcAzVjiGHftzQ+v4f8AJpv6On8jH9ZgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAABp8VrW/C9TW0ztOO3b5Nxp8VmI4bn37TWYB8f1HFtTfUfR9FWJmsdZ9I7MtJxDX5s\nd8ta1y0xzteaR2277rcuhycP12SceLxMeWNpjttHwlu8I0mfQ1y+D7k5YmJmY36T36Ka43z/AF1t\ncI1ds+qxVj7/AEej19PCw9HJ4NoK4OIU5Y35YmZdzVTGebVZabx5jJS+Tmns81rNLm1Wrzc9rVw4\nYibbem72mXTTS0w0M3BvEta1bWrM95ie5EanY87wXgNOL6XPfxraXLhra/W28bR/dzYzarBqJxRe\nbzE7Rt5vWU9n8mPHOGmS0Ypnea1naJb+k9ncNLR7u2y/WcxXO4TOoyUrN6zD0FaW5Y3hu49FiwUi\nKxCvLMR0hlW0jn6ukWw3iXjOJzbDlneOj3GaN6zDzfFOH+LE7SRGo83XNSZ2lbG2/WfdlvaT2cy6\nrNFInlrv1mfJ37cK4PwTTxOoidRm2+/2/KFuyMp47XB4LivXiunrH2b2iH2qn2K/J8x4fGDNxTSZ\n9Nh8OviRvTyfT6xtWI+DeXs9MNZubypASqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAOZx6/LoOWPvWiHTcf2hiZ0e8fc2mf1E5+vP/AEeuSd7RC2uKtI6QjHfeINTfwtPf\nJvty9WPfbt/lucP03gxfJf7d/wBoReYpm97zaNeLb4Ims9Nt94auDjem1Wo5PFi1onylS+1o7l8V\nbxvtupjDMdNkYtXS1+Stt+m63xImEJ4xjHER2ZxMUjeUTO3VRmydBbjLJqPi08mbeVOXJPq1sl5Q\nVbkz9+rRy35rxHqzmZlVEe/Ez5LRlW5iyfR6zffaIjq1OSNZps2a21rZInafSPJhxGMl9LStLRWM\nlorM/A4dkrWbYfLZC2W/7K6eubX6b4RzT+W76K8b7G6X62cu3Sten59nsm3j+OXz3/0ANGIAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0OIYfpOHPijvNNo+fdvtXJO18k/\n/OwPFYbz2ls3jx8VqW6xMdWPEdP9D4lkx/dt79flLLHbkxTPwY6nt2512ORTRzE2x4/dpE7cvkme\nE4IrW3hRMxO8THRtU1FKWtvtvK2upx22rzRCtXkqzh2jtF7ZbT122b01ndnpuWuP3Z3+Ky20qDVv\nfauzVy3mejZzNK8dVjqi87KLRLYtXruqvXzkQp7Qoid88R6rcl+WGlW0/Sa22mfhCZOq2x082ix6\njkm822pO8VrPdr4dNObVeDo8XW3uzMbzK+mvxT7szE27cvnu9j7PcNjSaXx8mOIzZevbrEeic5tN\n+SZnpt8J4fHD9HXHO3PPW0x/DeBtJxx29vaAJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAKNRim9Z5e89Nl4DzXtVh5babURHrSf7f3ec1+qnDorWrvvt5Pccb0n0zhmWk\nRvevv1+cPE2rGTFNZU26PFfxwa5dVkjelI2772nZnX6bbrEUq3o0d678u8wmuDL2ittvVjXdneeK\ncGv4jpJ6U56+kS7+j118+GLXpakzHaWlp9NNY3tv+bbiYiNoQy1y30uyZJlrWmZnuym6q1iIJnop\nyW2Te8bdWnnypQqzZOadokiIpSZntWN5lrxki19vNRxrUeBwnNNd+fJEY6/OejXLn3Xe/wDp9wyn\nE8uo4lqqxblv7lJ26T6vpD5X7G8QycKzeBMbzMRM1/FH/wA/h9QwZ6ajDXLitvWzRgsAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeL45w+dDrZvWv1OWd4+E+j2jX\n12jx67TWw5Y6T2nzifU+rZ1y9eHwzDYxxEy18+DJodXfT5o96vafWPVbjyxDn1OOzHudbM0rt2UW\niI69mVtRXZq5tREb9VUoy2iIlRbJ0UX1VZ6btTLrI7V6yk62M2oisT1c7JmtkttVMUyZp6x0beDS\nRWOvdKijDimvWd3G9pNRMfRcNfvZOb9Hpb0itJeP47k/3hgjaZnbaP1XxWW3T0movbNS0W645nbf\n0nrMPpXs3xamoxdJiLbe/X1n8Uf3fKsOTw4jbaXo+EarJhtGTHMxeJ6xH7Sti9Zaj6x3HM4NxXFx\nDS1mtoi8dJrv2l011QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAGjxLhODieOIye7kr9m8d4eM4to9RwjPXFa0ZIvG9bR0fQXmPbDFvTTZPOJmEWS/V8bs9R43NxLL\nG8eFbePg1bajU5/s0l1ceKLx1hbjwRE9mOpx0y2uRTSZsm3PMw2aaKtIjo6kYo9EXpET0hVLXxYK\nxC6MZvyx1lFs0RHfaPiCnU12pLyHGNDbUajBekWma2npWN3p8+opa20e9LSyZLxExTlpM+vdOdcZ\na9tPS8MyUvFrzWlI6727u1pYxYrbVmb7x+TQx6au3Nqcl7/0rcmW9axGnwZJj1novmxnZXV0fFp4\nZxLBPgTGK8xzXr5fOH0bFlpmxVyY7Rato3iYfNuG2x56Wrqa8s2jz+7Lu8O12bS6jkwzN6THNNI6\ntvrN68Y4rxlx1vHa0bskAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAA4XtTTm0OKfTJ/aXdcL2pyRGjwU362yb7fkJz9eTxxyZJjyltRXzUZK7TFtl9Lbwy06YzrHwa+\nfJFd/wCVt8m0bQ0eS2qzcm+1K/an+zNZFL5M1pjFXeI72ky48eGnPkvNp27+TPU6nHpMfLXaIjpE\nerk5dRMxOfN1mPeisfshW1ne1a1577Y6x5R3U0zze31FOWI6ze0byU098kRlzbxM9qrMlPDpyRMR\nMd5Vt/Ihp5898mWZm1pjftE91uCt7fCI7dWeHDEW3t723l6rslqxWZnasR+SYhFbzhnfxJ2jyeq9\nlcGXWZcmW0zWKxHLaI7794eJx5fpfEKabT8t8l5isddo3l9S4VjrwrRUwzSJt3tav3pdOL6Y6dXD\nj8HFWm+/KsU4NRXPvtWazHquWVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAa+fXYNP9u8b+kdZBsDkZOO135cWOZn4y5Wu4xqctbe9y19Kp4njt6vi+PDm8DFMWybbzPlV\n5PiGtz67UxbNbeKTtWIjaIXYpnwuaftT5tXJT3vmi1pMsrU5qIrG1V1a+5DCa7b9GFbRr5J6Wnbt\nCu+Wmk0m8956z8ZWZNorbfzcbX5rZslazPux3hUt41NTntktObJ13+zX1bek01r4/HzVm0bxPXy/\n+bNfDgjVa2uOY92kdfg6ufJOKvLXtttVVSqbcta2vM7zXtHpLQy5ZtMd+vWd+7Zy3mdJHXra3f0c\nvUarw7zFY5rT2hH1Lavnrgx81p3U49Pk4nE5L35MO/StfNRXR5tXnrS8W67WvfyiPSPi7uLHFK1p\njrtSsbR5Lc4RzsXBaYreP4l45esRD2HD9fnw6evvWvO3Tfr0aGk0U55ra0TFInv6uzgrXFXlx0i0\n77RPlC83Yj+JW7oddqr6vHzTTw9/f6dod+L1t9m0T8pcbFSmPHER3892W0zPuz+jSbVvidkcqmfP\nSel7bekrI4n4dZnPWIrHeYnZee2Wpy8dEaml4npNZblw5qzb8M9JbYgAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAABEzFYmZnaI7yCXL1XGa0jJXT0571nbee27DiXEprp8nhbxG20W8\n5cbD0ikfnKO+urTPvjoZdXqctdsmTaPSvRpWmsdZ6yztfaGplvv3lWW1tyRlz1x0vkn7Vo5atTNe\nY0+1o79V2KsZsvX7Ne5mwxnyTNvsx2iGneM/rCdRSuOsTasTt5kRFtpjqmOH4t4nk7estiMNa97R\nHwhna0iuKTEdmGWa4672nZtRele1N59Zlq6vLOSsYorEc07qcW65euzRvtXvPZy52naZ7ujr6fXV\nrWdukREK8+njHgmZmPc67bq6ivVWhxxgxZLztNrT1mZ/SP4VZs0zaOvfp84WUtNsXLvtv3699+rU\nz7+Jtt5qURqMnPpctaR1rMSw4ZoK57eNk6xHaJRh97Ltt7lo5Z+L1HAPZvVauZ2nFTSzMTzeJEz8\nto6xPfvsZntPZ9rXxabmxzefdrv0j1dXh/BcmstW1qxTHHasR3+b0GPhGl+kWmd64dNEVjf73T7X\ny8vy+Ddx6O3iRakxTH5RXrMw1/lX+3Itw2MFIraN48qRHdZi0cUjmmPen9noox1iO0fNzdXEYrTt\nstcmd9aX0bJ+HePmiKTitO8TMLZ1cVjrMfqpz6ys4pjfrPRWZ9rXXptUit6zO+23VyaRHEc05L1/\nw9J9ys/en1ljqdVbwYw452tlnl3jyjzbmmiMeKtYjpEbLeTXPUU8ee/+qjJpsV5rbkrFqzE1tEbT\nDpYNbW21Mnu29fKWna0KbqTdjXXjld0cvQ63ltGHNPSfs2n+HUbS9c2s2UASqAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAOVxPWe99HpP8ArmP4b+r1EabT3yT3iOkesvMVtN7za07zad5l\nXV5GmM9vVfEstvDx0jtaVVMlq+UJ18b5cMRvPeSuK87bUt+i2Z3PtG7zXpjkzXt6R+TXyTMzvM7t\nydHqZ+zhv1+Cv/ZuqvPTHMfOYaTMil1a1K2vHSLTELq2v+KWzThGo84rH5rq8JzedqR+ZeI7WnOS\n34pYTafWXR/2Pln/AMyrKOCWnvmiPyR6O1y9585lhWJvl557Q6eo4T4dYiMvW3b3UanhldHpJtGX\ne09unmjsT7eb1l4trI2t0hsZfrdNO0bzy+nzU20/+NmkzO9esz+TZxWis9dttvPv+Tn21jjaW8zn\n26bTG3mp1M/Wzv3t0jyWXiKZJmsTERaZhXXDbNl8WaztWenxZLstPp5pau8frDtVrNMM5cfTfpMf\n3aunxxbes9d/R09Dp8ebJi09ptFr3jtt2WyrW9wy1Jx132mK+Xq9PotT0iIU19ntLtExa3T47T+q\n6nBaYvsZstZ+cT/LeMnUi0TXffo1s2m8Ws2/OIMWk5Jib5L328rS2t94Sh5TV4ppklpW6PT6rh+P\nNbebTHyas8E081mZy5P2W6OFhjxNTE/hr/LoRO0Kvo9dPqctKzMxEx1la5t3tdnjnMs4noievcrO\nyZjeFF1OSnNV0OG62cn1GWffj7Mz5w05joovzY7xes7TE7w0xrjPeex6Ua+j1UarBFu1o6Wj0lsN\n3JfQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACrU5o0+nvlt92P3BxuM6nxNRGCs+7Tv8\n2hToxm1r3m9utrTvMsonqyt7XTmcja0u3O6FMfi5t/u0/lzdJM81p9O3zdvHTwsUR5+bfPqOfX1h\ndqV+3O7bs1+T31oqmI3TEM4rvCdkDGIIhlFd2daboS0NXG2bD6bufxXU1vlmu/u4us/N0+L1tTSx\nkr9qk7w89j1FNZMV3jxLzvaJ8mer+LSOZqK2xZotbvljfr/89U453rXt9lse081xZtNjx7TGKu0t\nDHlrevSevaN5Y6+tJ8c7VRNMt63n3ub+6/R54rERMztDYy4a5omclYmfxKcenrjtHLvtPrCnVmdb\neFe3JXmjy6eS/DrMuLVYsta9Mdt++6qLxO+0dEc8UmInr18iUfReHcXrqccb9Z27Q61Lb13eJ9nc\n1Z35rTvE9avY4bTkpG8xEfB05vYxqybc07R281naGMREdoT5JQqy9mply7Q3bV3iXG1eXw7TWSka\nc258t7+tpT5/BjT7MfHqndz12Z+M4lMMKyziUJJiN1WSu9fku23RaOgKNJqbaTU1t9yelo+D0cTE\nxEx1iXmM1Nt3W4PqvFweDaffx9vjDbGvxz+TP66QDRiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAOJxzU73rp6z296zsZMkYsdr2naKxvLyObNOfNfJbvad1dXkaeOdpvsc2yuZVzfbfqybutwu\ns5s8R92J3dvJb3tnO4HSMegtmt3nfZvYp8SZl0z45NfSK7onH1bNcfRFqnUKJr0Y7dVtq7prjEsK\n0XVpEM6028mW20IHK41aPo3J6zs4ODhdcvPnvExFevNXpMOrxi/PlrTee7PLX6Pwa09uaNlKtHg9\ndM3z5d7ReOu02nu0JzZMfblrv5R5uvrcdImZ26T1mYhxs1Os7RH93PZ7axuafNfLitvbaYU3yZYt\nPXs9NwHhui1HBa5LVicsb81onrEuVqNNSuS8Y67dZ6xPZa59Il9uX41vEitImZme3q2Kxbxora0T\nMd/ROSa4Ztkj7c9OafL5LuGYubmyX3iu/TfbdSfVnpvZLT/XZK233+Mbbva1xRXyiPk8pwbH4N6T\nadq5a71n0tD1WDL4tPe6Xr0tDpz8YVnJHWEXYxbqlBedoef4tW0XraO09HdyztSZcbUz43C+ee9b\nSVMaeOfqq7+jGckQ1Yz7+7v2RN/WXPXZPjci2+2yyJaVMuy+uSJlA2d+pNoVRbeDcSxyTE+TDDlt\npdRXLTynrHrDOyiyZeVFnY9TjvXJjres71tG8MnJ4Nqt4tp7T1jrV1nRL1x2cvABKAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAHJ49qfD09cNZ97JPX5PPw2uI6j6Vrsl/ux7tfk1mWr7dOM8iLdm\nvfebREefRsWldw7SxqNbWbR7lPesrn3Vteo7dYjDpMGCvfbeXQ0uLlxRLRxROfUc34p6fCHYrXlr\nEejqrjY8uzCYW7MZjdVKqK9VlaxCYrsnYExBMRMJRPZA8/xPHtmpP9W2xx76vhWOInvt/C7ike7N\nvwzE9kcapGfhlevTaFbFo8RqJ5vy8/RoW09ek0msxHfp3dzNoLzp4zUmZpMbT8HJyYJi20X2n0lh\nZY1li/RaidBF4w2mK3jrHaFGp1lN+tptPp5IjBkid5mIp16TKu0abBPv33vPlM7z+iPdFNcWXU5I\ntkrNce/b1W5db1nTaf3ax9q0fxDW1ebNk2phty1mOu09VOm8W19orEz23j1TwfSeERFuEYMddptW\nd43dvBn21eKJ75KbW+cf/JcTgMxXTb3nbljz+TpcPmc2uyZO1KRtVtGVdi0bx07qJnllsRO6rNTe\nN4XVamsy8mnvPwc3R2jPwe8TPbdlxXNOPSZfhWWpwO85OFzv57qrODkzeHntSe8Sn6Rv0a3EZ218\n8nXekfr1a0ZLVnqx19dWb6demXybOO7lYMvNMdW9S/VVLo0us7tPHdtUtEwJiZU3jq2Jhham8CVG\nPNODNTJXvWd3qcWSubFXJWd4tG8PK3pPd1OB6veLaa89Y61/u2xfxh5c/rsgNHOAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAANLimq+i6O0xPv392rdeZ4rq/pOqnlnelOkIt5F8Z7Wj27I2I6sb25YY\nV1ImY3dbQ08LRc23vZp2j5OJG+XJWle9p2h6HHtbJXFT7OOIpX+7TxT31j5rycdTh+Dpz+XaG/sw\nw18PHWseULN2trBE9UcrJKBhFU7JAQi0dEomegNDUYovM7x3jb5tO1ZvpbaTLtzRExWfWPJ08kbT\nEx5NXWYYyV5omYtHWJieyeDzuizfRs19Jn6TM7Ru1uMcJxZqTkw+5f4ebqa7SV1MR4tdrx2vEfy1\naxqsNOTLjnLXytVXi3Xj8+nmsxTLM16d5npPyUzpekTtSK+U7vS6vQ/SYmK1vWPS1HOn2dvvvvE/\ntDO5XlcO+LbfHSd/W3o6/BdDOXPTnj3Kz38rS6Wm4FNrRyRzTH3p6RH/AKvR8L4dXSzE3jmtHn5I\nmbfqLV+m4dbLSsZInHjr3iI6zLpYaxS01rHuxHRHiT9mv6s67Vj1aqL6326MrWiYa+/Q54BxPaGe\nXRZpj8MquB4+Xg8zPnB7SX30to379GxpK1xcHiKz5IS8xr8PLPixH2bftLTy05o6dHYyVjLhy0t1\nizjZa3pMVv3iO/qz1G2L+NbSajbNyW7xLsY8kTDz+fJXFqKZN4iZnafi6WHL0iYlStI7OO+7axW2\ncrFl7dW9jvE9ULN+J3ZbdFGOy+AYWpEqN7afNXLj+1Wd23KrJVMvCzseh0+auow1yU7WhY4fCdV4\nOadPefcvPuz6S7jol649Tl4AJVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAV581NPhtkvO0R+4NPi2\nr8DB4dJ9+/7Q83Po2NTqLanNbLfvPaPSFDHV66sZ5ET0hRknyW2lTtMyouz0c8usx2n7s7vScKwx\nzc1vu/y85p+maJh6Th+SOWeveXR4/wDLm8v+nX5mUWa9bbrInolmu5jdTNkxYFk2Isr3TuCzeGMz\n+THdEyDDJO9Ja823rt2XWnya946pGvktDXta0ztWu/ybvLE9dkcoOf4GbJPWK1j49VmLh9JtE33v\nMevb9G7WsW8l1ccREISophiJ2jpDYpijbaOjOuOJ8ujOdqxsgVcsUjaETYvbaFFrgu5lVsm0yUtu\nryg43H5m+GIj1XcJzePoL4pnrWGtxmfchr8JvfHS1622if3QljzTTLes+qrNjrkiYtCzPMxnm095\nYZJ6boS5teB49Tqscza97VtvWvlv8V/FOF34RrIxTM2xXjelp/eHoeA6XnzReY3ivX/0dfivDcfE\n9HbDbaLx1pb0lOs+jO7K8Lis3cN+0NKcd9PmthzV5clJ2mF9J9GHHVL108dm1SznYr/Ft0tuhLb8\nmNohFbMhLWy0mJ3rPXvDvcO1karBG8/WV6Wj+7kWrvDDBlvpdRGSnbzj1hpjX4z8mOx6UYYstc2O\nuSk71tG7Ns5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZ2jeXneJ62dVl5KT9VTt8Z9W9xbWclPo+O\nfft9qfSHEU1pv48ftYST23ZTDC/p0YtlVuvVjMbM5+LCZjYGWGdrTPxiHY4ffaf3cjTxz1v6xMS6\nOlty2iXVj/Dk8n+ndrkhnGRo1v8AFdW3RCrZ5uiYsqrboncSu508yjmZRYQt50TfowYTbYGVrKrT\nuTZjvukQnYhMIGVY2ZxPVWyrHVCWzXpVXkt3TE7Va+W4K7X3jv1auTNy3jdba0RZpamfroQN7Hk3\n6wr1GTaN2OOJiu6Mu98NvgDi8Wy74d/yZ8PiPAiO2zU4nb6qIn1bugjfFE/ASp1ke9u15mbbRDZ1\nMb823kx0Ontn1OOkedoJCvT8I03gaKsz9q/WW+isRWsVjtHRKyrhe0XCfpWL6Vgr9fjjrEfeh5fF\nfeH0V5Dj3DPoOo+k4a/U5J6xH3ZZ7z3228evytOk7NvFbo0cdols47bSybt7HbddHVqUs2aW3Qnq\nxVeu8LILR3SlZw3V/R8nhXn6u0/pLuPMXjeHT4Zruf6jLPvR9mZ8/g1xrvpz+TH7HUAaMAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAABRq9VXSYJyW79qx6yvmdo3l5viGs+maqYrO+OnSvx+KLeLZz2te1rZL2v\ned7WneZYWnZl5K72YV1xEyxmeqJljzIEWlVkszvbZp5soN3h2SJz3pP3odCnuWmPRxuERfJrZmtZ\nmtY96fR28kbX3dXj/wAuTyf6bmK+9YX1s0cNtm3Sd4LFY2K23W1s16StiUJW7bp22RW3RluBuruz\nmWEgrmCGWyNkoExKE1QlPmsqRDKeyBjaejWy2W3ttDUyz1QKslvehVqKTNosyyTvELabXptIJpaP\nB39Ia2mz+JGpr51jdZefDx2hzuHZObNq58poJaGtjxJ2+LoaKP8ADRPo5+T3skx5OhpOmC0fBNQ0\n5yTbn+bt8A0u9raiY6RHLVwY62mI6zMvaaHBGn0mPHt1iN5+aYVsACBXqMFNTgviyxvW0bSsAeE1\nmkvw7V2w5Ote9besJx2er4rw2nEdNNekZa9aW9JeQjnxZLYskTW9Z2mJY7zz26fHrrdpbZsY7NGt\nmxjvso1b9NmUwpx33XRO4K7VUTE1nmrvEx1bVo2VWiJE/XY4frY1WPlt0y17x6/FuPM0m+HJGTHO\n1qu9pNVXVYt46Xj7VfRtnXXL5MfzexsALsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHM4jxOMFJphmJv529Dq\nZLfjDjPEIx450+K3v2+1MeUOHSOWFc3nJkmZnf4yujpVlqunOeFpV2nctLCZUXRM7MJtsWlRkv3Q\nky5NmpWt9RnrixVm17TtEQnJabXisRMzPSIew9n+CRoccajURvqLx5/chfOest642OGcIpoOG2w7\nROW9d72+LQvXevyejcPUU5M+SvpLeOataraw2a0dLbLqTtK1G3Es4lVWWUSoldFtmcXUbpidgXzK\nGEW3TuCUSncnsDFMMLSms9EC6J6FpVzbZE5ALy0809ZbFr9GtfrEoFMzuuwz0Ueey3HbaBLDXe7i\ntMOfwWnP9I+NZbuttvhs1uBRtXPb4SDm3iIvf57N7Dbl0VrS5+XrltEd+Z1Jx7cNms9N4TURRw3T\n+PrcO3WszEvZOD7P6aYiMlvu16S7y1QAIAABxOPcLnUY/pWCv1tI96I+9DtgmXl68Biy7/NtUu3+\nO8HnFa2s0tfd75KR5fFyMWTdhrPHVnX9R0cd21S3Rzsdm1iuqs256wrmGcT0RYSx5d047X02SMmO\nesd49YRE9WcdSXhZ2O1p89NRji9J+cei1xMc3wXi+KZj1j1dTTaqmor06WjvWW+ddcu8XK8BZmAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAMMmWmKu952UZ9XFZmuP3revlDTtzWnmvO8q3XGmfHb9ZanV3yxtWeWn7y4es\nvPNtDqZJ6Ts5mppvdl/XXRMyfGvSNlu/RVvtOzLfoipLT1VTKbSpvfogRkvtDVyZOhkyvQcA4Dzz\nXV6yvTvTHMfvK+c9U3rkW+zvA/D21urr789cdZ8vi9KDb45rejl8Rry6iJ/FV1HP4vXbBTJEfYt1\n+UpiHM295bXsqrO9l8QkZ0lZEqqLeyBZHZLGvZkhIndADKJ3TMoqWQMZ6pjsxll2jsCLSrmU2lFY\n36gieyu0LJk3jbsga0wdqzK20QpyztQGprL/AFMrOE05NLkt6qdVWZxNrSe5o9vWBLiUjnzXn0vL\nq555dHt8HOwV928/1z/LpzXxbYccRvzTB+jucOwxh0dI22mY3ltIrHLWIjyjZKyoAAAAACJiJjaY\n3iXleM8InR5J1GniZw2n3oj7s/8Ao9Wi9a3rNbRE1mNpifNFnVs65XhcWTdt47bnFuF24dm8TFEz\np7T0/pn0a+HJux1OOrOux08d1ndqY7tillVkzExLOk7yd4YxGwluViJhE45raL0na0dtlWO0+bZr\n1TKi+2zptZGTamT3b/tLacvJjiY3XaTWdYxZZ6/dtPm1zrv1z78fPcbwC7EAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABhkyV\nxUm152iAZWtFazNp2iGhm1Vss8uP3aevnKrNntqLdelI7VRHRnrX/HRjx/tZREVjZXeybW6KbWZt\npCZ6S08tN7Nmbb7zCrJtyoS5145bSx5mWafelr3tsKmS/o08uXyhlly7RPV2+AcBnPNdZrK+53pS\nfP4ytnPVda4y4BwHxOXV6uvu96Unz+MvVxG0bQRG0bR2G0nHLb2gCUDX12LxtFmpHeazt82wT1gH\nmMN4tWs+rcr2aEV8DU5sM/cvO3yb+O0csLUTSdrLphRE8tlkZI7Atr2ZMazDJVKTYSCawi7Ksq7z\n1QERvLK3ZGPrKbyCrbdnMcsbeaa18/RhvvM7oGEwTG0JmYYTIML22a2e28xELM19oURPNO4lOem+\nn3ZY5+prVnMc2GYU4/L4A0a15cNf6rz/AC6fC6+NxCPOuOu/5tHJTbHj+F5/l1+BYumXJMd9o3/d\nMRXYASgAAAAAAABhlxUz4rY8lYtS0bTEvH8R4ffhmo6bzhtPu29Pg9mq1Gnx6rDbFmrzVsizq2df\nzXkMWTeIbNL7tbXaHLwzUctvexWn3bmPL8WFnHVL326VZ91MfFVjvvVlz79kLrcf2m7j7bNHH3bl\nJ2SirLQoy4t1++7G0dBC/RanxI8PJPv18/WG241+alovSdrV6w6mDNGfFF4/OPSW2b1zeTPL1aAs\nzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAVZ9RXBTe3WZ7R6iZOpzZq4ac1p+UermZMl89+a/byj0Ra9815ted59PQ32hlrXXRjH\nDpCLX6ML5NlNsm/ZRqstfdXzbsZt06sLZNvNB1Za8RDWyZdo7q8udq5Mu/mIMt4md2lmy7JzZuWJ\ndHgfBL8RvGo1MTXTxPSPx/8AstJ1XWpIs4BwSdbeNVqq/URPu0n73/s9hEREbRG0QUpWlYrWIisR\ntER5JbSccur2gCUAAAAPM8Sry8Uyz67fwuxbzVPGsE49XGbvF42V4M0TEL33ERnktsxpk3sumK2j\nadmFdPFZ33VS2Mdui2J3UU6LYlFSsN2O5NkCyJ6K7T1TEsbAsxdpReerKkTFGMxvYEz0rsqtbbpC\nb2VT1QEzuwtbaGUxspuJU3neWdKoiu8rq12gCI92YatLcublnzbEz1aOptyZqTuDHLfxN6R0+t5X\nqdJhjBp6UiPLeXl9NSMnEKxHa1+bb8nrlvxUAAAAAAAAAAABTqtNj1eC2LLXeto/R43VabJw/VTh\nydY+7b1h7ho8V4dXiGlmvbJXrS3xRZ1fGv5rzeHN02bEW3cys3xZJx5ImtqztMS3MeTeGFjqlb2O\n8btql3NpbZtYsnSBLeiWfdTjtutid+ghherHS5p0+f3vsX6T8Fkw181d4lMvEWdnHaGnw/UeNh5L\nT7+PpPxbjdyWcvAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAo1Oprgr63ntAmTqdRqK4K9etp7Q5d7Wy2m953lNrWyWm953mVd77R0\nZa1104xxlN9lV8qnJl2a9s3xUXX2ybsJyRDWtl3YWydEC+2VRkzeW6q+T4tbJm+KRdfK1cmWZnlr\nvNp7RC/R6HU8SycmCk7ed57Q9ZwvgOn4fEXtHi5/O9o7fJaZ6z1uRyOEezVstq6jiEbV71xevzer\nrWtKxWsRFY6REeSRrJxz22gCUAAAAAANbX6aNVpL0npMRvWfSXlKamsRMVvXm+EvZXjmpaPWHzfL\noNRjzXicfWJ8phfPxFejx72x7xMzK+sXiNoiXlq+Pi6fWV/VfTNqfLJl/WTg9Pji8R70LqvMV1Gq\nj/zcv6yz+lanzzZP1lWpelTET6S81Gp1P/Gyf90s412rjtnyfqql6asREdWM9+jz9eJ6yP8Az7uh\nodZqMt458tpB1JvEViI3/RhzRt13/R1MNaziiZiJn5K9ZNceKZiIiQcu/WekT+iYrWI3lzdTrs+8\n8uW0fJzcur1Np/zsn6g79phVaIeetqNR/wAXJ/3SwnUaj/i5P+6UD0ldonum161h5mNRqP8Ai5P1\nlNtRqJjacuT9Qd22WN5aGeZyZd/KHJy59RHbLf8AVq31Gp/4uT9ZEvS8Lr/vSs2npzRtL1z53wK+\noza/HW2XJNd99pmX0Rb8VAAAAAAAAAAAAAAcHj/C5yV+l4I9+v24jzj1cLFk8nu5jeNpeW41wmdL\nknU6ev1Vp96sfdn/ANFdTrXG+eq1q5F2LLtbZoY8m8d11bbSydErsYsm+zZrO/zcnBm226uhiyRK\nEtrvCrJDOJTeu8A1MWX6Lqq5N/dnpb5O5ExMbx2cPNTeJb/DM/iYPDtPvY+nzhri/jDy5/W6AuwA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAa2p1UYo5adbz+xbxMlvqJ1OqjDHLXree0ejmzNrWm953tPmTPWbWneZ7yoy5YhjrXXTjH8s75N\nmtkyxt0VZM2/m175N1V03yTKubMLXVXybeYLLX2VXy7eam+b0bOg4VquJW+rry4/O9uyZOq3UjVm\n9r25axMzPaIdvhns1kzbZddM0p5Y47z8/R2+HcF03Doi1a8+Xzvbv+TotJnjDXkt+K8ODHp8cY8N\nIpSO0RCwF2YAAAAAAAAACvUZYw6fJkntWN3k8dfHz2vLucdz8mkjFE9bz1+UOZosX1UzPm0nqI/W\nMYo9FlcPNklfFGeH/NshLGun+Cz6PtHZtVZWlRLS+jxPkRpIn7rdoupHTdA5s6SI+7H6Mfo+32Y2\n+To3neSIiZ7A0IjPXpXLePlMotGW3272t85datKzHZjbTVnsDj+FG/2Y/RlGP4R+jo20u7H6N1Ql\no+H8I/REY957R+jpfReiK6eOYHLtj2tttH6KrY/6Y/R2c+kjeJiFVtLG24hxpw7/AHY/RRkw9O37\nO99Hrt1YX0tfOBLjcGp4XF8c+u8fs9c4dcVcGemSI61nd3IneN1orQAAAAAAAAAAAAABFqxes1tE\nTE9JiUgPKcX4RbRXnNgiZwWnrH4XPi28PdXpW9JraImsxtMS8pxXhF9DecuGJtgmf+1TWW2N/la1\nL7N7T5e3Vy6W3hsYcvLbqzbO9jvvCzvDR0+XeO7crO6FmGSvRThy/RtVXJ92elvk2rRvDUzU7pl4\nizsd2J3jeBpcNz+Lg5LT7+Pp+Xk3W7js5eAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADs0NTrN96Yp6edkW8Wzm6+LNTq4pvTHO9vOfRoWtt\n1mes95YWvs1s2fZldddOczLPLn2ju0MmebT3YZc2/mpm3qqllN1drsbZIhr3yzvtHf4AsvlYYseb\nV5Yx4KTe0+UQ6nDvZ3UazbJqd8OKeu33peq0eh0+hxcmnxxWPOfOfm0mP+steT/ji8N9mKY9suum\nL37+HHaPm9DSlaVitKxWsdohI0Y22gAgAAAAAAAAAABXnyRhw3yT92Nwef4xm8bVzET0rPJH5d12\nCvLhho3rN9RWs9Z23n5y6O21YhrVYbdGOCfrrLPJRpv863zVS6FS09SvZj3lVZZRdPSqmnSWdrIE\nebOkK4ldTsgW1WKqd1oMZhEVZyRAImOjGI6rJ7IiATNd46qL02bHkiaxaoNGY2n4ImPgtyV2n0Vo\nGvlx7x2beiyTk08RPevSVUxux00+Fn2n7N+n5rRFb4AAAAAAAAAAAAAAACLVres1tETWekxKQHlu\nL8InR2nPp43wz3j8P/s5dLveWrFqzW0bxPeJeV4xwmdFec+CJnDM9Y/CrY1xv8qvTZ+WYdbDk5oh\n5zHk283U0eo3jaZZ2N5XYjrCnLSJhOK+8d1kxvCqzSwZvousrb7k9LfJ3nB1OLeJdLhufx9LEWn3\n6e7LXN9Ofy5/W4AuxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAETaKxMzO0Qi9646Ta07RDmZ9VbPbaOlI7Qi3i+c3TPUaqcu9adKfy0722ZXvFa9\nXO1OrjrESxt66ZJmcjPUanlidmhkzTZVfLN5VWvsC2b7R3U3yqrZZtO1esz2h2+F+zWTUcuXXTNM\nfeKR3n5+iZLVbqRzNJo9TxHLyaekz62ntD1fDOA6fQbZL7Zc/wCKY6R8odLBgxabFGPDSKUjyiFj\nSZkYa3aALKAAAAAAAAAAAAAADQ4pl2pTFH3p3n5Q33E12Tn1eSfKscsLZ+orS00eJqbW+Lfnu1tF\nXaJnZsz3WpCfsyp00fWSvmPdVYOmSUDd8kR3InoQosy7JmUX7MdwZ17ro7KKT1XRPRAsrO0rYndr\n79V1ZBaQiJ6JgCSIJASwrO07MpV2nqBlrv1a1o2bf2qtfLXaQUTO0sb05o3jv3ZXhjS20xEphW5h\nyeJjjf7UdJWNKLziyRePsz0lux1SgAQAAAAAAAAAAAAAADG9K5KTS8Rato2mJZAPIcU4ZbQZuekT\nOC3afT4NXFkmlntc2GmoxWx5K71tG0vHa/RX0GpmlutJ61t6wrY2xr8dXS5uesN+tt4ef0eaa223\n2dnHk3juyreM81OaFGiy/RtZET9jJ7s/2bdutd2jqKeic3iNTsd8a2h1H0jTVtP2o6W+bZbOO+gA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABje9cdJt\nadohGTLXFTmvO0fy52bJfU23t0pHaqLeL5xdK9Rnvqb+cUjtCi94xxvK3JetKuHrdZvaa1ljb10y\ncnIs1Wt3naJc++TmVWvMz1YWybfMGdsm3eWek0mo4jm8PT0mfW3lDf4V7P5tdMZdRviwfvZ6/TaX\nDpMMYsFIpWPTzXmf+steT8jn8L4Dp+HxF77Zc/4pjpHydYGjC3oAAAAAAAAAAAAAAAAADG9opS1p\n7RG7zszN6WtPe0zLua+3Joss/wBOzhzG2OsL5+IrY09dsSyYRijbHEMvOChb7KjF0yS2LQ169Mso\nS24noyrPVXWejNVKbTuw3T3REdQWU6LYlVvsyiUDPfqupPRr79VuOQX1lZEqoZxIMksd0gT2VT0l\nbPZVbuCaW8i8bwr32WxbcGnkjaZa9p2ndv5qbw5+aNugLItF6TEtvTX5sMb969HMpfazc0d9stqe\nvVZDdAQAAAAAAAAAAAAAAAADV1+iprtPOO/2u9bektoB4TJTJpNRbHkja1Z6uto8viVht+0HDvpG\nH6Tjj6zHHvbecONw7Ltfkmeqmo6Ma69DXbbZTkr1mGWO3RneOaGbZRoM30fVzSelMnT83aef1FZ7\nx3h1tBqfpGnjmn369LNc3sc3kzy9bQCzIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAa+q1dNNXr7157VhGp1Xh70x+9f9ocy283m1p5rz3mVbrjXHjt91lz\n5c9+fJ1nyjyhdM8lZlOOIiqrUXikd+kMreunnI5XEdX4dZiZcG+XmtNl/F83PeeWWHDOGanieSKY\nq+5H2rz2hMzWd1Iqx1yajJXHhrNrW6REeb1nCPZumn2z62Ivl7xTyr/6uhwzhGn4Zj2xxzZJ+1kn\nvLoNJnjHW7TbbsAszAAAAAAAAAAAAAAAAAAAAaPFrbaSK/itEOXt0rDf4xb/ACa/GZacRvaF58Q2\nIjasQnzPIhCU92tMbZGzHmotG10C6nZkwpPRmipIllEbMIZIE7solgmJBnCyk9VMM6z1BtVllEqK\nz0WRILYlluriWcSDJVbusV27gwInaSWM9ECyZ3hqamnSWxFmOSOaqRx725bNnSZNs9J+OynVY+WZ\nYYr7TE+nVaIr0Ais81Yn1hKAAAAAAAAAAAAAAAAAABExvG09peU4nov9n66L0j6q/WPg9Y1OJaON\nZpL0+9HWs/EWzeVz9PbmrEtnyc3h9reHy26TWdnSr2YX6657ijLXpLX0+onSamL/AHJ6W+Tbv2aW\nekTv16JzeI1Ox6KJiYiY7Slz+E6jxdN4dp3vj6fl5Og2clnKACAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZ2jeQRMxEbzO0Q08uqtkma4ulfO3r8lefUePMxWf\ncjy9WvlzVxV6T1Z61/x0Y8f7Wc7Ur1lqVy+LqOWJ2hp6rXddon5rOF1tfmz5OkT0qzb8dWbxjp1c\nbiuuilJ5Z6r+IcQrixzEy8zl1E6rNt1tMztFY81sztU1eRucN4ffi2p5esRM72n0h7rS6XFo8FcO\nCkVpX082nwXh3+z9FWLxHi36328vg6TZyW9ABAAAAAAAAAAAAAAAAAAAAAADj8Unm1tK/hqppHvw\ny1k8/EMk+m0GOPeafiFpCZYwolnXspvHvLa9mF46gmnZmwozRUiUCBKYYsoBLOFbKAX0llEqqyzi\nQXRLOJVRLOOwLIljZMEgrlhKyYYTAK5nZPN0RZjugUanHzVlz6xtLq361c+9eXItPpXX0dubTU+E\nbL2lw2++O1fSW6m/VYAISAAAAAAAAAAAAAAAAAp1GbwcfTreelYEydcuMcRrM/L9nnlsV6wqpi2r\ntv133mfWVkRyRtEdGFva7MzkYZNoamWN4bV4mYa9qztKIujhVppxGI8r1mJegeZpknBqKZY+7L0t\nLRekWrO8TG8Ns/HJ5ZypAWZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAADS12fp4VJ6z9qVuq1HgUiI+3bpDl589cOKZmevqprXPTbx477rDJlrhr1nq4+s182tMRP\nRqaziXiZJrWekNG17ZbxWJ336M5LXRbI3dLTJrs07RMY6fan1dHLrowY+X7MVjt6N3R6Kul0EbWm\ns7bz8Z+LnabQX43r7Y53php/mXj+Dnv0f1JO1x/8ZxbUzj02O15mfLtD13AvZqnDds+pmMmo26el\nXX0Wh0/D8EYtNjilY7+s/NstpOOTW7QBKgAAAAAAAAAAAAAAAAAAAAAADG88tLW9I3BwJtz6nNf1\nvK/DHVqYJ3pzT5y3MPZeojOWMQylEKpTVjZnDCwkqzYQyRRICATCITAJZQxhMAshnEq4ZQC2srKq\nqrIBZCWNZZgwswmFloVyCu0dFcx1WyrtCBhv5NTPHXds2U5o3hIz4ffbPt+KHUcTSW5c9Jme0u2v\nVYAKpAAAAAAAAAAAAAAAAYZctcVOa35R6tLrltN795/YvknNqrfhpPLH92V5isd9mWq6fHjk6rn0\nZxG8KK5Jm/wbVZiYZtqrmkqL023bkxvCiY3lJHNyRG81mHS4Rn5sNsNp64+3yaWaNrzOzHBl+i6q\nmT7s9J+S+ay8mex6EIneN47SNXKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAImYiJme0JafEs3h6fkidrZOn5eaLeJk7eOdm1Hi2vmtPTry/CHmOJcUvmvOPF1n09Pm\n6HF9ZGm01qxO3R5vSY7XwzmzTy47zzTEd7en5Mfvt2/PURWdo3tvPrPlKymbktFqTtMTvHzbOLDG\nf63JXbFX7FdnoODcDprZpq9TjiMMTvSn4vj8l5fxnrk91saPSa7i2hpOfbTVt5x1m0fLydzR6PDo\ndPGHBXasd585n1lsRERG0dIF5OOe6tAEqgAAAAAAAAAAAAAAAAAAAAAAADX11+TRZrf0y2Gjxe22\ngtH4piP3TPpXKwxtjhuYo9xq442iIblI2pC1RET2ILd9kxCqRjZmwlCSEohIJAQAAJZISDKGUd2M\nMoBnVbVVCyAWVWeSuqyOwIlXZZKue4MJV2WWYT2QKbKL9YlfdRdIo35b7/Hd3KTzUrPrDh27uxpb\nc2mpPwX/ABX9XAKpAAAAAAAAAAAAAACekTIp1eTwtJmv+GkyJn1oafeazbfpMzLR4jq/o8b823zX\n6XNF8ERCvTcNpxLV5LauvPhx9Irv3lhztdtv8TtaWLicXrt03jzjzb2k1nid56ty3s/w+a7Uwzjn\n1raejlarhmbhl/FpbxMO/fzj5p/ixSeXOvTtRfeI280ZI26tfDm3pWe63LaZx7qtGvniJ6tPLvOK\nfOa9WzbJvTbza02jl3n5SSljscK1MajSxWZ96nSW88xw/VfQ9XMT9nfa3yemid43jtLeXsce88qQ\nEqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADia3UTm1l4j7OP3Y/u\n7Vp2rM+kPJW1PhYcmS0+9MzKm/jbwz31weMzbV8UppazPL9q0/BF4rk1GLDSNqxPWPhCnHmnNrtT\nqPKteWPm6U6OdHaZvO+SaRNvhv12Ub/q3FhtrNVj0uKOt56z6R5y9zix1w4qY6RtWsREOJ7L6OKa\nS2rvX6zNM7T6Vh3mmZyOfya7eACzIAAAAAAAAAAAAAAAAAAAAAAAAAAczjVvqMVfW/8AZ03I41bf\nLp6/OVs/UVrY47NyOzUxd4bUJpEbb3Z7IiOrKIVSjZhMLJYyhKIgmGUQSDESIEbJEgQmCITEAmGU\nIiGUAyhZVhDOoM4Wx2VQtqBKuyyWEgqlhKyyuyBVaGtkbNmvk7A15l1eH2300R6TMORPSXT4ZO+O\n8fFefEX63gEAAAAAAAAAAAAAAAq1WPxdLlp+Kkx+y1Fvsz8gjhaDauGK8sx07y3OE3m1tT6RaP4c\nvU6yMNKUx73zT0ilY3l2eF6a+m0kRl/zbzz3+Ez5M8z26fJruW6wzYq5sV8d43raNpZjRzPPaTmx\n5b6bJ9rHO3zb2WJ8GWPEscY9bgzxH2t62n19GWW0eHOzHU5XbjXZ1x8WTnz2iZ7S2M1IjH2+LX0V\nKTqs8zO9ot0j8nUthi1J3UaOFMTfLFo6xMbS9BwHWTqdHOO8+/hnln5eTjYMFo1WTH5VnePzXcIm\n2k4zlpPSmXy/hfF5eMfJns69OA2cgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAADG/2LfJ874rW845mubliY7bPoto5qzHrDz0+yePNF41OotaJ7RWNtpV1OtfHqZ715fhu\nj8adNpcVfeyzE2/vLuanhOu1nEctIxTTFa/+ZPbZ3eHcF0vDbTfFE2yzG03t32+DokynXl9+leDB\nTTYKYccbUpWIhYCzEAAAAAAAAAAAAAAAAAAAAAAAAAAAAcXjE/4zDH9M/wAu04XF5/3jj/0f3Wz9\nRUYmzDWxS2I7FSyjuzY1ZKpRKEygEwiWUIkGIk2QJNhKQhMIhkCYZQxhlAMoZwwZwgWQshVCyATL\nCWc9ldpBhZXLOVdpQK7NfJPRdaWvknoDVvPvOnwuel4+TlXn3nS4VPvXj4QtEV0wAAAAAAAAAAAA\nAAAAAVV02CmTxK4qRf8AFFeq0AAAanEsfPpZmO9Ji0NDLfkwdOsulrumiyzHlVzJrz4Ovoy26vB8\ncTBa9NffLtMY77Rv8Yegx5ImkKdJoY1HC81Y+3OSbVn0mGGkmbY45u6tnrrTOu2xGO0RxCd+nNVj\nqKxTV1vH2pjaGtnyzXXYdo96ZmGXEMk15b7/AGZiVerWPTYckZcNbx5wzc7hGbnxXxzPWk7x8pdF\n0S9jh1OXgAlUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAcPjEf4/FP9H93ccXjMf4vDP9Mx+62fqKrx+S+GvibEFSsqyYwlVK\nZYsmIMoRKYJQIPIEiQ2ATCUQygCGUIhMAyhnDCGUIFkLIV1ZxIMpVWWSrsCuyqyyyq09ECq8tfJK\n66jJ2Bp5J6upwn7dv9Lk5J951uE/av8AJaIrqAAAAAAAAAAAAAAAAAAAAAAq1Mc2myxPnWf4cmtu\nXT9fR0tffk0WSe28bfq5Wbamm3326MtunwfK6PCv/AxPraZ/dz9PO97/AOqf5dHhdZrw7Dv3mOb9\nXOxRFM+avpe38mvkPHf/AFWlrKba7Tzt99ZxKkfR7euyNXMTrtPHfa0z+zPiM/UR8Zj+Wbdu8HpN\nM2bfzrV13M4dO2pyR61dNvj44/J/oAWZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADj8bj63BPzdhyeNx0wz8ZWz9RWri7Nmv\nVrYu0NmqaRZHZlDGGSiwxZSgCEkCBCQSCQBMJRCYgEsoYx3Z17AlMIhlCBnDOGEM4AlhZZKq4KrK\n7LLKrIFN2vdfZReAaObu6/CO9vk5OePR1uEd7fJeIrqAIAAAAAAAAAAAAAAAAAAAAGtxCk5NFliI\n3mI32+XVyNTyZOHTee946PQKPoeDffw4777eW/yVs60xv+ZxOnr4Okx1t05KRv8Ao41Z5q3yed5m\nXY1szXRZ5jvFJ/hxItP0aOSN9q7yrtr4f2tHFM5+KT16Yq/vK/iGSbXw4vO14UcPx5MGfNbPG18m\n1oj4THRsTw7VanPXVYpi3gzMcnrvCnG11JOupwuN8+a3pEQ6jT4divjxWnJExa09pbjbM5HHu90A\nJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAHM41H1GOf6nTc/jEf4Ws+lls/UX45uGekNujTwdm5RNIthKIZKLDFlsiQIShIC\nEgCUJ7AmGTGO7IDzZQhMSDJMMYZQgZwzhhDOATuqssmVdgVWVWWyqtCBTeVF19lF+wNLNG7q8I+9\n8nLyupwnt+S8RXUAQAAAAAAAAAAAAAAAAAAAAAAItWL1mto3iY2lyrcLyUxzix2ia2nvPeK+jrCL\nOrTVnxpanhuPPemSs8l6RtE7dJj0ldpNP9GwRSZ3neZmV4cR/Vs4AJQAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANHi1d9H\nM+kt5ra+vPoskfDdOfqK4mn7Q3aNHBPZu0W0RdDOGFWcKLCJZeTGQQlCQSgASBsCYZQxhlAJTAmA\nTsmAgGcM4YQyjsgRLC3VnaVcgwsrt3Z2V2QK7tbJ1bN5a9waeWO7p8Knt8nNyebpcK8vkvlFdQBA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK9RXmwZI+ErEWjesx6wQeZwejeo0cccuW8\nelpblJaaRGxVnCuss4ZrMvJEgCAASISCQIBlCYYpieoM0wx8k7gzIRueYM4Z79FcSy3QEsLJmWFp\nBjaVVpZWlXMoGNmvkXXlr3kGtknu6XCf7OXkl1OEdl8orqgIAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAHmskcmtzV/rls0U62OXiWX4zErcc9GmkRfWVkSqqziWayxCPIANwBIhIJSxS\nCRG6dwZwlhEs4BluMdzfqgZxLLdXuy3AmVdpZTKuZBjaVVpWWV2QlhZRdfZRcGpl7urwfrzfJy8r\nrcH61vPyWitdMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHA4nHLxKZ9awnH2ZcY\njbW459aq8fZpfiI2IZwrqzhmsz3Ebm4JN0AMhCQSIASndiAziWUSriWcAyRujc80DM3RCfIETLCW\nUsZEsJYSslXZAwlTddPZTkBp5e7r8Gj6rJPxhx8k9Xa4PG2C8/FaK10QAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAcfjcbZMFvnDWx9m5x2PqcNvS+zSxT7sNPxH62YZQwqzhRZO6UCB\nKUAJTux3SDIRuAncQAmJZRLBMSgZ7iIAZRKd2DICUSlAljLCYWMLIFVukNfI2bNbIDTyT7zu8Ijb\nSz/qcG/2nf4T/wCE/wD2WnxWt4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHL9oL\n+Hw2cm28VvEuPptfgyVj6yIn0no7/FtJfW8NzYMe3PaPd39d3iMug1WktNc2C9dvPbeP1aZ9xF+v\nT471tHu2iflK2HkqWmvaZj5Surqc9Ps5bx+alTHqYHm68S1Vf/NmfnC2vGNTXvyT84Ql6A3cSvHM\nsfaxVn5Ssrxyv3sM/lKB1xza8bwT3pePyWV4tpZ+/MfOEjfGrXiGlt2zV/PotrqcN/s5aT/+wLRj\nFontMSlAlKEgndO6IAZQljDIEgeQljLCzOVdkCu/SGrkbF56NPNeKxMzMRHxENe0+89DwuNtHHzl\n5PJr8NcnLW3Pbf7r1nCZm2gpae8zMrz4i/W6AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAETETG0xukB4HVaeMHEtRi26RedvkyjBSfX9W77QYvC4xz7dMlYlrU7M929dWJLFc6aPK0q\n7YLxPS0S22FlP6q38Zac0yR92s/KVc3tHfFf8tpbcsLRvB/dR/8ALLVnU0r9uL1+dZI1mnmdvGpv\n6TOy6ym+Oto2tWJ+cJ/tW+KLK5KW+zes/KU7tG+h01p64qx8Y6NXNo6Y+uPJlp8rLf0rfG7MXtHa\n0x8pZxqs9e2a8f8A7Oj7HaTHn0+f6RWM23LETfr6vRW4PoL99NT8ui7F4+vEdXXtnt+fVbXjGsr/\nAOZE/OsPS29nuH27YrV+VpeV9pdPXhOtw49NG9Mld55+vXcTPd42I47qo7xSfyWV9oM8d8VJ/VxM\nd8l46xWF9cV7en6o/qLfxp2I9ob+eCv/AHMo9op89P8A/wBORGmyT5R+qfo2X8P7n9Q/jTsx7RR5\n6ef+4/8AuHftg/8A6cWcOSO9J/WEbWr3pY7Efzp2Lcfv5YK/9zWy8d1E/ZpSv5Oba1/+Hb9lc+LP\nbFt87I7E/wAabWbiurvEx4nL/pjZzc2bJkn372t85ZXx55/BX85lucC0vPxnTxlnnjm32mOiZqUu\nLJ2p4TwnVavNWaYbRTfre0bQ99pcH0bT0xb78vmtiIiNojaErMwAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAHnfarF7umzRHaZrLjYrdIen9ocPi8JyTt1xzF4eUw23rCm3R4r6bMy\nwt6kdTaWLdjswmNoZontsCm0K5XWjopnuDC0dGpqG5bs08/daKV672MjbSaif6oh6Z5f2LtvptRX\n0tEvUN3Jfo8f7cYve0eX4zV7B5z20xc/C8eSPuZIRficfXlcPaG7ino08HWIbePpLF2NuiyOyrHK\n3fZFSwuovHVfaVF4QK5YWTM9UT0EKry6Ps1Tn4zjn8NZn9nOtLseydObiWW34cf918fWfk+PYANn\nKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAq1WKM+ly4p+/WYeBxTNd6zG0xO0\nvobw3FcP0bi2em20Tbmj5Srr418V9sa2Z7qKyzi07MXUylhaU7yjqhLCeiq3ddaFNxFYW7NLNG8t\nzya+WO6Va9J7FW66mvwidnrXiPY3Ny8RyUn71Jj9Ht3RPjk19HK9pMHj8D1ER3rHN+jqqtTjjNps\nuOe16zAifXzfTz7kNyndpYazS9qT0mszDdoxrsi6m8LazMq6zDOsq1ZEyrt1WWlXaUCqyq0rbKbi\nFdp6PReyFd8uqv8ACsfy83aXrPZHHto89/xX2/SP/dpj6y8vx6EBq5gAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAB5n2q03LfDqqx39y39npmlxbS/TOG5se29tuavzgWzeV4mtui2\nO3RRSY2hdVhqO2MvI36iu9lUsrSrvDHn6spnmSiq5jooyV6tq1VV69RC32byTh43h8otMx+r6I+Z\naK/g8TwX7bXh9Mid4iW+fjl8n1ICWb57xLBOm4zqse20Tbmj8+qKdnS9q8PhcTw5tumSm0/OHMxz\n0Za+uzx3sX1t0Zxurr1ZxvspWiZYWZbsbT0QK7KLrZVZJFaqt5vbezNOTg9J/FaZeJns93wCvLwb\nT/GJn92uGHldIBowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADuAPA67F9H4l\nqMW20VvO3yRWW97T4fC4rXJHSMtI/WGhVlue3b473K2KzMML4+62tujG9pnozXaOSOVFMnVbmq1t\ntrJRW5E7wwvUxTvCyY6CHOt7moxz6Wh9PxTzYaT61h8x1MbZK/OH0zTf+Fxf6I/htj45vL9WgLMn\nmvbPFvocGWO9L7fq85p5maw9d7VYvE4JkmPu2if3eW0+PasdFNOnxfF1Y2hlykRsmY+LJ0MZjZXa\neq2eyi8oQTO0KLdZWzPRjWu6VaqtHR73g0bcI0sf0Q8Nkq93wqNuFaWP+XDTDDytwBowAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAef9q8HNpcGaI60vtPyl56k9Iew49j8ThGe\nPwxFv0l4zH2U26fDfTYiyJljvsjf4sm6vJ1hrXjq2MkqLdZEVbgbMx0auGdmzNt6iHN1Ub5af6of\nTdPG2nxx6Vj+HzaaTm1+nx/iyVj930ysbViPRrj45vL9SAuyc7j1efguqj+jd4/T33rD3HEcPj8O\n1GP8WOY/Z4TTT7sKadHhbcsZnaCJ3TPZk6VdrKbTutmP0U2nqgrGOsr8deiuI2X09EqKM1dt3uuG\nf/jdN/06/wAPE546S9rwud+Gaaf+XH8NMMPK2wGjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAABrcRp4nDtRWPPHP8PCYusPoWSvNjtX1iYfPuWaXtX8MzCuvjfw32siu8ptXoxi\n0wy5t4YulReqmazu2skbquURWFInddM7VYRGyL291KFnCcfj8e0le/Lbmn8n0N4b2Ur4nHLWmPsY\n5e5a5+OXyXugBZmiY3iY9Xz7NjnTa3Ph/BeYj5PoTxftFg8Hjk2iOmWkW/Psrr418V5WrWd2faFc\nV2jdnEMXWxntupmN7NiYU27iWML6dVMVnddjgVqMsdHr+CW5uE6f4Rt+7yuSsTDv+zWXn0WTHP3L\n/tK+GHl+O0A1c4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8Dn93W56/wDM\nt/L3z59qp24jn+OS38lnpr4r7ZxHQ2TEstt3PXUrt27K57rr1VT0BjKnJPRbMqMs7QlV2fYvHvrd\nVknyrEfu9m8f7FZI8fVU85iJewbT45NfQBKo817W4eulzxHaZrL0rje09ItwqbfhtBVs3leai8RD\nKLw1sduesL606dWFdsZT1jdhNeq6K9DlhCVUU6s4jZnt1YzAhnM71dH2bycmszY/K1d/0c6OzY4R\nfwuK4p8rTstn6z8k7HrwGzkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHz3\nVxvr80/8y38voTwGpj/F5/8AqT/JfjTx/WVeyY6FPspc9dZPVXaOq2WEwIUTVRmjo2rNfLHRI3vZ\nDJycXtX8dZh7t879nsnhcbwz23tt+r6I2nxyb+gCVBzuPY/E4PqI9K7ui19fTxNBnp60n+Aj5/pJ\n3jZu1aOnnltMNussdfXbm+l3ZM9URHREdZVXTuT1Nk7boQiOkJw28PU47/htEp5eivJPLMTCZ9Vv\nx7mJ3iJ9UqNHk8XR4b+tIXuhxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD\nweqjbWZ4/wCZP8vePCaz/wDIaiP+Zb+UX408f0r9lOxWOifJhXWjfyYWllPRXYQxnrCrJHRd3YZI\n6A1NJecHEsN/S0T+76bE7xE+r5dk93LW3pL6ZpMni6PDf8VIn9m2fjm8s9rgFmQxvHNS0esbMiew\nPnHLyai9fS0w2aNfUTtrs3+uf5bGPqy068fF227KtSsdFlKqNGMV6myyY6sbdIQI8tlOWOi6Jhhk\nj3RD0vA8nicMx9etZmHRcT2Zyb6XNT8N9/2dt0T449T2AJVAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAHhdfG3E9TH9cvdPEcXjk4zqI/q3L8aeP6xr2TsxpLOekMK6mFo6qpXSrm\nOqBixvHSVmzC4OfqK7S9/wAByeLwbTW9K7fo8Fqo6Paeyl+fglI/Da0NcMPK7QC7AAB8313TiOf/\nAKk/y2MHWrX4jG3E9R/1Lfyv0/aFNOrHxuU7LI7MMayGTVlHWUXhNe6Z6wIUsb9d1m20q7dkDpez\nN9tRqKT5xEvRvKez9+Xis1/FSYerb5+OTyf6AFlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAB43j9eXjN/jWJ/Z7J5L2mry8Upb8VIF8f6aGOey2eynHvOy7bowrrYSxZSwQJ2YXZ\n92N4BoanrEvVexmTm4blr+HJ/aHltRHSXofYm/1Wrp5RaJaYY+X49WA0c4AD51xONuKan/qW/lbp\n+0MOLRtxbU/9SU4J7KadWPjep2WQrr2WRPRk1TvsndXMpiRCb9FNu0rbTuqvKBscCjfi9PhWZeue\nV9n434rafTHL1TfPxy+T/QAszAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHmv\navHtfTZfnV6VxPajHzcNrf8ABeJFs/XnMcr4no18c+6vr2YadkY2YM57sEDLyY37Mo7MMnYGlqO0\nvQ+xNfqNVb1tEfs87qZ2rL0/sVX/AHdnt65P7Q0wx8vx6UBo5wAHz/jUbcX1PT78qtO2vaCnJxjP\n8Zif2amnnspp04+OjWejKJ6MKdmcMmyJn4m5ZHzEVPMwtJv0VZLbQDqezcb8RzT6Y/7vUPM+ytZt\nn1OTyiIh6Ztn45N/6AFlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABocbxeLw\nnUR5xXm/Rvq8+OMuDJjntaswEeBxT0bNZ6NatZpNqz3rO0rqsdO3PxlaWEMpY+aqWXkryT0ZT2V3\n7A0dVPuy9f7G124NM/iyT/Z4zWT7sw957MYfB4Fp4/FE2/WWmGHldcBowAAeM9qKcvFeb8VIly9P\n0nq7ntbTbVYL+tJj93CwT76unR4/jo0nozhhTsy3Y1sWljM9Ce7HyQIm3RRlttVbaWrnt0Sh6n2U\nx8vD8mSfv3/h3XN4Bi8Lg2nj8Uc36y6TeOPXugCUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAPD8RxeBxXUU26Tbmj8+quro+02Lw+I4ssdslNvzhzazvDPbq8d7GW7Dfqz2VzG\n0s2qd+iu/Zn5Ksk9BVztX1mI8930zh2LwOHabH+HHWP2fNYp4+vwYvxXiP3fUqxtWIjyjZtj45/L\nfaQFmQADzftfj3w6fJ6WmHmsP23rvaqnNwqLfhvEvIYZ+sV038bo0noy36MK9oZQxrdMyrlnMbMZ\nQKrS1M07zEestq/RRjr4utwY/wAV4j91p9V18fQdJj8LR4ccfdpEfsuREbREJbuMAAAAAAAAAAAA\nBAJAAAAEAJEAJQAJQAJEAJQAJQAJEACUJAQlAJEAJQAJQJAAAEAJEAJBAAAJAABAJEJAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwvanDzaPFmjvjv8A\ntLztJ3h7HjGHx+FainnFeaPnHV4vFbeIU038VbHeGF+kso7Mb9mTdhKnLK3dRm7SIrHhGPxeP6Sv\n9cT/AHfSnz72Zx+J7Q45/BWZ/Z9BbZ+OXyfQBZQABzeP4/E4NqI9Ii36S8Ng/wAx9C4jTxOH6ivr\njn+Hz3B/mQi/GvjdCnWNlsdI2V07LIlg6USrt2ZzZXMoFV+zPhGLxeOaavpbm/RVltEN72Yx+Jxm\nb7dKUmf7L5+s9/HtRA2cqRACRACRACRACUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQCQQCRACRACRCQBCQBCQB\nACRACRACRACRACL1i9LVntMbPATTwdRkxT3pea/u+gPE8Xx+DxrPHlaYt+qNfGvjvtXXsi0dOrKk\ndEXjZg6VMtbP2bMtXUdpEV0/Y2nNxbNf8OP+727xvsXH+N1U/wBEfy9k3nxyb+gCVQAGOWvNivX1\nrMPnGGOXNNfOJ2fSZ6w+dZKeHxDPX8N7R+6L8a+L63KdoZ7q6zvEMpnowdKJ6ywmWUyqvIKM0vQ+\nx+D6rU55+9aKx+TzWa36vbezmDwODYenW+95/Nphj5L6dQBo5wAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAEiAAAEoA\nAAAAAAAAAAAAAEAkEAkRuAkQbgkQAkQAkQAkQAl5T2nx8nEMOT8dNv0l6pwfarHvpcGWPu32/WCr\nYvK4mOem6b9mGKd4Z3idmFdka0y1c892zfpMtLPaNpEV6D2Kj/Eauf6YeweQ9ieuTVz8K/3evbT4\n5NfQBKoAA8FxCvJxrUx/XMvevD8Zry8fz/Haf2RfjTx/6RSOnRMyypHu9kXjowrqVSrvPRnZVl6V\nkK0775MsUjvadn0nT4ow6bFijtSsVfPuFYvpPGtNTy54mfy6vorXDm8l9pEC7JIgBIgBIgBIgBIg\nBIgBIhIAgBIhIAgBIgBIIBIAAhIAhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAA\nAAAAAAAAABAJQkAEAAAAAAAAAAjc3BIjdG4Mkbo5kcwMjdhzHMDPc3V8xzAs3N1fMjmBZubq+Y5g\nWbm6vmOYFm5ur5jmBZubq+Y5gWbm6vmOYFm5ur5jmBZubq+Y5gWbm6vmTzAz3N2HMnmBlu5ftFTx\nOEZJ/DMW/d0t2rxKni8N1FPWkiZ9eS08e7Cy8dGGn6UhZaJljXZGnmc3UT3dPP2cnUT78xCIV6j2\nH/8A9c/6f7vXPI+w8bU1U+vL/d63du5NfUiDcVSIAS8b7RV5eOb/AIqRL2TyXtNX/e2KfXH/AHlF\n+NPH/pr4+2xcxx0hFpY11K7R16KM32ZWz3UaidqSgrc9kcPicWyZJjfw6T+727y3sXh2xarN+K0V\nh6lvPjj3e0ASqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJQAAAAAkQAkQAkAAAAAAAAAAAAAAA\nEgAAAAAAAAAAAAAAAAAAAAAgAAABKDcAN0bgkY8xzAyRux5kcwM9zdXNkTcFm6OZXzMeYFvMibKu\nZHMC2bo51U2RuC2bom6rc3BZzom6sBZzI52ADPnOdggFnMc6skFnMc6rc3BbznOp3RzAv50c6nml\nHMC/nOf4qOY5wX85zqOc5wbHOc7X5znBsc6edr85zg2ec52vzpi4NjmY5bROG+/bllVzsNTk5dLl\nn0pP8BHmMHWNmzt0aum8obm08vVjfrtnxztR0mXHzTvaZdjVRMTLkZo6yiFen9iZ2pqY/wBP93rN\n3kPY+/LfPX1rE/u9XzN3HfqzdO6vmTuIZ7m7Hc3Bnu8t7TR/vHBP9E/y9Pu837SV31umn+if5Rfi\n/j/01MMb1hjkrtKzBG0bMsmOZY11tOYamr6Und0LUc7XT7u3rJPqL8er9lcPhcFpbzyWm39v7O00\n+FYvA4Zpsc94xxu227jv1IAgAAAAAAAAABKAAAASgASgBIgBIgBIgBIhIAAAAAAAAAAAAAAAAAAC\nUACUJAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAg3AEbomQZbo3YzLGbAz3RNlc3YzcFs2YzdVN2\nM2Bdzom6nmNwW86JurTAMuY3REJ2BB1ZRVMVBhsbSsiqeUFXLucq3lTygp5TlXcpygp5TlXcpygp\n5TlXcqOUFXKjlXcrGYBXysdlswiYBVMdUTCyY6sZBWxlnMMZgGLGZZSwkDdHMiWO4MuY5mEyjcFn\nN1OdVzHMC3nTzqeY5gX85zqOZPMC+Lqdbk20eb/RKOZr8QybaK/XvtH7iZ9aGlp2luzT3fg19NHS\nOjbmPcYX67XH1XSZ9XIzRvMuzrK7zLkZYmYnciunb9lZ5dTk+OP+71cXeP8AZnJ/ip2nf3J/l6iL\n/Fu5L9bMWZczXi6YuIbEWTzKIuyiwLt3nuO25uI4a/hx7/rLuczg8TicvFLbfdpEK6+NPH/phhjo\nstLGkctUWnoxrrU3j1cnWTzZq1jzl1clo5Zcu8c+txR63iP3Tn6pv4+g4o5cVI9IiGe7CJ2iE7t3\nGyN2O6dwSINwSISAlAAlACRAAlAAlACRACRCQAAAAAAAAAASgASISAAAAAAAAAAAAACQAAAAAAAA\nAAAAAASAAAAAAAAAAAAAAAAIAAAQCAJljuljsCJlhMs9mOwMJYys5TkBVsjZdyHICrZPKt5E8oK4\nqmKrOVOwMIqyirPY2Bjyp2ZbAI2NmSARsbMgEbI2ZAMdjZICNkbMkSCNmOzJEgx2YyzljMAwlhKy\nWEwCuWErJhhMArlhLOWEgxljMpljIImWMyTKJA3N0IBO5vux3NwZbnMx3NwZczT4jf3MdPW27a3a\nfJOq1XNP2KdIRfi+J2trSYfcjeF+Wm1OicVeWIiN9kai8xjY12ORqultnI1Ecsujq79XP1FovWYI\nrTgeq+j8QrWZ+3Mx+r2UXeC0WG2Ti2kiN5mL807eUREvbzbaejefHJv62Iv8WUXa0WTFhVtRdlF2\nrz9WUXBtc7jR9dqc2T1ttHyhvZMvJitb0jdq6XHNcNenWVN3028U99WRj6Kb02be3Tq18/SN2Lpc\n3UdN9nOmZrqKX/DaJ/d0svvTLRzV3jomK6+Pd1vvWJj0ZczT0mXxNJht60hfFnQ4qu3N1cWTEgs3\nTur5k7gz3N2O5uDM3Y7m4MtxBuCQASIASIASAAAAAAACRCQAAAAAAAAEoSAAAAAAAAAAAlAAlCQA\nAAAAAAAAAAASAAAAAAAAAAAAIASgAAAEJAQJQCNkbMgGOyOVnsAw5TlZ7GwMOVPKy2NgY7GzIBGx\nskA2AAAAAAAAAAQkBAEghEskAxYzDPZGwK5hjMLJhjMAqmGEwumrCagomFcw2JqqtUFEsLLrV82F\no7gqljKyYYTGwMZRKUSCAQAboJnaN5Bjkneu0d5W4ccViIiOzHFWbTzNumP1Zarr8eeRMbxDW1Mx\nNO67NbkhzNVnmInqzaOZrL93JyZeV0M1++7S02jvxDWxhxx033tPpC8Z6rrezWjmZyazJG2/u03h\n2vFibTHoqvamiwVwY+nLGzV0+SZ1Mx8G0/45tOhzJ5lXMc3UVXRdlF1HP+iYsDPLPPy49/tz1+Te\npSIr0ho6ak5Ms5J8o2q6NImOrHV7XX488ypzTtHXo0s9t6zG7c1G1qz6ubeZiZ3UatXJG3yauSO7\ncvMTEx5tPLb3prPRMVr0HB8vicNxf0+7+kt+LOJwTJyY/Bnz3tH93X36N58cWvq6LSyiyndMSlC7\nmZcymLJiwLosmJVRLKLAtiU7q4lMSCzc3YxJuDMRuAlKAEgAAAlAkAAAAAABKAEgAAAAAJAAAAAA\nAAAAAAAEgAAAAAAAAAAAAAkAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAhIAAACAAAASgAAAAAAEAAAA\nhGzJAImGMwzQDDZjNVuyNgUTVhNGxysZqDVmiu1G5NN2M4waM0+DCaN2cbGcQNGaMZq3JxMJxA1J\nqx2bU4kU09slorWNwa20z02RXHbJbl26QvtFovbHWkxEdJt5y2MOHlr2U1W3jx+1hiw8vSO63lmI\nXRTaEWmtY6snRHO1VpmJ+DjavpSZl2s8b7y4HFcnh0n0gha5ebJN55KRM2mdoiPN6fh+kpwXh0Wy\nRHj5Otp/s5Ps1p62y31+em9aTMYt/OfVfxTiPjZ52naI7fBrI5t66xz5+a1rW7yx0eSL6iZjtEOX\nqNbSletom3lENjh2fbHzbbWt3iVozruc+5ztWubf4M4ybpQ2Oboyrva0Vjza8WdDR4OkXt3n9ldX\nkaePP9VtYqctYhdvt5oivTeCZ2YOxXk6ubqMfV0b9mrljfqlFcq88k7z2U5axeItDa1OPessuC8P\nya7XRWYnwqdbT/ZMilvIu4dpslNdixXja8Y5tt85djZdbDWnGOesRtXFtuw6T27No5Kx2OrKYQlC\nExKJgBnEpiyvdlEgsizKLKollFgWxLKJVRLKJBbEp3VxLKJBnuMWQJEbpBIAAAJAAAABIAAAAAAA\nlAJAAAAAAAAAAAAAASAAAAAAAAAAAAAJAAAABAJABAlAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAA\nAAABAJQAAAAgAABAAI2EoBGyJhkgGPKxmqxAKpownHC+YRMdN5BrTj67R3bOn01o7p01Iv71u89o\nb9a7LfBTfS1vWI2jf12VfQPSW8KX2mas+NC2iv6xMNfJpMnLtEbuuxtMRCtzF55NR5rPps1N/ctP\ny6uHreE6nXZ4pak48X3rT06fB7fNeI33cbX6mI32R/MWu7XF116aDSRhxbRERs8f499bkyZeeKae\nkzE2mdon81/tfxDLGOunwbzlzbx08oaHBvZHJlx48mrvaa94pu04y617576rNGLRRM0397JEd/lu\n9Dw/S3x4qxffo6mm4NjwUiKY4iI9Ib1dHFY6QIaNabbrYrLfrpJtaK1rMzPZb/s+05IpP59OyLeJ\nk7eNfRaOc1ue32I7fGXYpi5Y77M8OGMeOKxHSFsU3Y29deZMzirl6dlVvhLatCjJHeYQv1rXnps1\n8k9/VsW6qLVmZIi1rzitlvFKRvaZ2h6TSaenC9FFY+3brM+sqeG8Prp4+kZ+lvuxPkr1mqm95nfp\nDXM459676a2q1dsV7XietvNno78+CJn1cjX6mOeIm0bR33dfRU5NJjidt9t5afjG/V6JZ7I2QMNh\nnyo2BhsMuVG3wAhMSbbQRAMolnE+iuGUSCyJZRKuGUSCyJZK4llEgyZMYTuCUsYSCQASISAAAlCQ\nAAAAAAEoASCASAAAAAAAAAAAAlACRACQAAAAAAAAAEgCEoASCAAAAAAAAAAAAAAAAAAAAAAABAAA\nAAAAAAAISAIAAAAAAQAAACASgAAAQJAQAAhIDHZhln3do7z0WS18mWsajHjmes7pg3dNi5aRMNqO\nyvDHTpPRaigHZhN4hHRlaVN59JY3zRENLUavaO+yq0iNVlitJ6vNcR1MVi0zO0era1/Ea0rPvbz5\nPM5MWp45qvo2GZrhmfrsnpHpHzTCseEcM/2vrr8Q1Eb4qzy44nziPN63HpYiIiI7LNHoqabBTFii\nIpSNohuVxrKtWMEejPwY9G1FFmHB4mWJn7MdfnIM9JpIx15to5pbUaas/a6rqViI7MxPxqX0UT1r\nO3wVzpbR2hviP5i03Y5s6a879FNtHljydhExCv8AMTPJXBnRZbz0iG5ptFjwe/l96zctMVamTJtE\nyTMibu1VrdTzRMR0j0ed4lr64MVpm0RERvMz5NvX62uOJ69XhOKX1HH9bHDtFvNYnfJeOy0Z2ojX\n6jjnEq6fRUmccTvN/J9H0eKcOnx45neaxEbubwHgOHg+milI3vP2resu3Wu0JQmITsmISDHZHKz2\nJgFc1RMLJhGwK9iIZ7MZgEdgmAEwyiWCdwWRLKJVxKYsC2JTuriWUSDNlEsIlMAySx3SCRCQSIAS\nAAACRACQAAAAAAASIASAAAAAAAAAAAAAAACRACRACQASIAAAAAAAAAAAAAAAAAAAAAAAAQCUAAAA\nAAAAAAIAAAAAAAAQAAAAAACBICBICAAEJAQJQCJcLjuS2ny6fPG/LWdpd1o8T0X07SXx/e7wCdJx\nWa0jmneHQpxPDMdZmJfNtZm49weZrh0/j4o7VtSZ2+Uw0/8A7o49k92vBLc/ntFohFW9PqGXimOI\n6Tu1L8T3eCx6r2t1O3JwvHjifO99v7t/Bwf2l1PXU6rS6eJ8qUm8x+so5TsekzcSjbvs4mt4rzW5\nK2mbT0itesy2cHsvbvqtbmyz5xERWP2jd1tJwrTaONsOKtZ8585+cnDrzmn4Rq+IZObUROHD32n7\nVv8A0ej0uhxaXFGPFSK1j0bkY4jyZRVZVXFGUVWbGwKsk8mObekNrSW3pWf1a2aYjHbm7bNnQ1id\nPW0TvuDdhJEbQABMsLW2R0ZTMQrvfbz2YWzVhpanUxEd0dWkW5c8R5uXxDX1w4pnfr5Q19XxKuOJ\n2neXltVqtVxbV/RdJ715+1bypANfiOu1HENV9C0MTfNeesx2rD1PAeBYuE6aKx72W3W9/WVnBuB4\neF4dqRzZbdb5J72l160WVK02ZxCYhOwI23TsnY2BGxsnYBjsiYZsZBjMMZZSgGEolMsQDdG6NwZ7\npiVe6YkFsSziVMWZRILolMSriWUSCyJTuwhMSDMRCQSI3SAlACRCQAAEoAEoASAAAAAAAAACUACR\nACQAAAAAAAAAAAAASAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAABAAAAAAAAAAAAACBKAAAAAAAQ\nJQAAAhICEbJAYTWJ7wx8KvpC0BV4ceieWGewDHlNmWwCNjZICNhIDmcZredBecdpiY69FXCOLW+i\nUiZidukulmxxlx2paN4mNng+K4+I8Hy2yaTfl37TXetoCPfRxfp1qi3F48ofKMvtvxak8s6LDv61\nrZji9rPaLUf5PC+bfttS0q8q3p9W/wBrRMdpUZuKdN99nzvFqPbTVz7nD8OKs+do2/mW3h4D7Xaq\nZnPrtNpqz35aRaYOHY9Zk4pNt9rR+rl6zi+OnS+WN57Rv1lXp/YrNaYtruL6zNPnGO3hxP6O5w/2\nf0HDuun09Yv55Le9afznqcOvO4tBreMTHu30unnva0bWt8on+70nDuE4OHYYx4Kbesz3tPrMuhGO\nIjpDOKrK9YVpsyiGUQnYGOyUgI2SlAIEmwMWMs9kTAMJYzDOYRMArmGErZhhMArlHmzmGMwDE3Ts\nbAbs4swj5pgFkSziVcM4BZEsolXDKAZwyhjCYBkACQhIAAAAAAAJAAAAAAAAAAAAAAAAAAAShIAA\nAAAAAAJAAAAAAAAAAAAAABAJEAAAAAAAAAAAAAAAIEoBKAAAAAAAAAAAAAAABAlAAAAAAAIAAAAA\nBAkBAkBAkBAlACEgMZjdjbFW8bWrEx8YWANb6Fp+bfwab+vLDKMFK9qxH5L0bAr8OPRPKz2AY7J2\nSbAjYZAI2E7AIEgIEgIEgMdkSy2NgY7MdlmyNoBXsxmFuyNgVTVjNV3KjlBRNTlXTVHKCrlIqt5T\nlBhEMohlFerLlBjEMohMVTEARDKCITsAk2AEgAAAkAAAAAAAAAAAAAAAAAAAAAAAASAAAAAAAAD/\n2Q==";function Qae(e){return $ae.apply(this,arguments)}function $ae(){return $ae=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";return fetch("data:".concat(t,";base64,").concat(e)).then((function(e){return e.blob()}))},e.t0=t.config.warmup,e.next="face"===e.t0?4:"body"===e.t0||"full"===e.t0?8:12;break;case 4:return e.next=6,n(Kae);case 6:return r=e.sent,e.abrupt("break",13);case 8:return e.next=10,n(Jae);case 10:return r=e.sent,e.abrupt("break",13);case 12:r=null;case 13:if(!r){e.next=21;break}return e.next=16,createImageBitmap(r);case 16:return i=e.sent,e.next=19,t.detect(i,t.config);case 19:a=e.sent,i.close();case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)}))),$ae.apply(this,arguments)}function eie(e){return tie.apply(this,arguments)}function tie(){return(tie=(0,Tr.Z)((0,Er.Z)().mark((function e(t){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n,r;switch(t.config.warmup){case"face":n="data:image/jpeg;base64,"+Kae;break;case"full":case"body":n="data:image/jpeg;base64,"+Jae;break;default:n=null}if("undefined"!==typeof Image)r=new Image;else{if(!H7.Image)return;r=new H7.Image}r.onload=(0,Tr.Z)((0,Er.Z)().mark((function n(){var a,i,o,s;return(0,Er.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=D7(r.naturalWidth,r.naturalHeight)){n.next=6;break}sa("Warmup: Canvas not found"),e(void 0),n.next=15;break;case 6:return(i=a.getContext("2d"))&&i.drawImage(r,0,0),n.next=10,t.image(a);case 10:return o=n.sent,n.next=13,t.detect(o.tensor,t.config);case 13:s=n.sent,e(s);case 15:case"end":return n.stop()}}),n)}))),n?r.src=n:e(void 0)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nie(e){return rie.apply(this,arguments)}function rie(){return(rie=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,o;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){return Buffer.from(e,"base64")},r="face"===t.config.warmup?n(Kae):n(Jae),!("node"in pa)){e.next=12;break}return i=(void 0).decodeJpeg(r),o=i.expandDims(0),t.tf.dispose(i),e.next=8,t.detect(o,t.config);case 8:a=e.sent,t.tf.dispose(o),e.next=13;break;case 12:t.config.debug&&sa("Warmup tfjs-node not loaded");case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aie(e){return iie.apply(this,arguments)}function iie(){return(iie=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof createImageBitmap){e.next=6;break}return e.next=3,Qae(t);case 3:n=e.sent,e.next=15;break;case 6:if("undefined"===typeof Image&&void 0===H7.Canvas){e.next=12;break}return e.next=9,eie(t);case 9:n=e.sent,e.next=15;break;case 12:return e.next=14,nie(t);case 14:n=e.sent;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oie(e){return sie.apply(this,arguments)}function sie(){return sie=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a,i,s,u,l,c,d,f,p,h,m,g,v,y;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Bf(),r=Gf(),("webgl"===n||"humangl"===n)&&r&&r.checkCompileCompletion){e.next=4;break}return e.abrupt("return");case 4:Hi().set("ENGINE_COMPILE_ONLY",!0),a=_f().state.numTensors,i=[],s=Yr(Object.entries(t).filter((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return null!==n&&null!==r})));try{for(s.s();!(u=s.n()).done;){for(l=(0,o.Z)(u.value,2),c=l[0],d=l[1],f=d.inputs&&d.inputs[0]&&d.inputs[0].shape?(0,qr.Z)(d.inputs[0].shape):[1,64,64,3],p=d.inputs&&d.inputs[0]&&d.inputs[0].dtype?d.inputs[0].dtype:"float32",h=0;h<f.length;h++)-1===f[h]&&(f[h]=0===h?1:64);m=Rg(f,p);try{g=d.execute(m),i.push(c),Array.isArray(g)?g.forEach((function(e){return Df(e)})):Df(g)}catch(Dme){sa("compile fail model:",c)}Df(m)}}catch(b){s.e(b)}finally{s.f()}return e.next=11,r.checkCompileCompletionAsync();case 11:v=e.sent,r.getUniformLocations(),sa("compile pass models:",i),sa("compile pass kernels:",v.length),Hi().set("ENGINE_COMPILE_ONLY",!1),(y=_f().state.numTensors)-a>0&&sa("tensor leak:",y-a);case 18:case"end":return e.stop()}}),e)}))),sie.apply(this,arguments)}function uie(e,t){return lie.apply(this,arguments)}function lie(){return lie=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=la(),t.state="warmup",n&&(t.config=da(t.config,n)),t.config.warmup&&0!==t.config.warmup.length&&"none"!==t.config.warmup){e.next=5;break}return e.abrupt("return",{face:[],body:[],hand:[],gesture:[],object:[],performance:t.performance,timestamp:la(),persons:[],error:null});case 5:return e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(n){var a,i;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oie(t.models);case 2:return e.next=4,aie(t);case 4:a=e.sent,i=la(),t.config.debug&&sa("warmup",t.config.warmup,Math.round(i-r),"ms"),t.emit("warmup"),n(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),lie.apply(this,arguments)}var cie=function(){function e(t){var n,r=this;(0,Ur.Z)(this,e),na(this,"version"),na(this,"config"),na(this,"result"),na(this,"state"),na(this,"process"),na(this,"tf"),na(this,"env"),na(this,"draw"),na(this,"models"),na(this,"events"),na(this,"faceTriangulation"),na(this,"faceUVMap"),na(this,"performance"),ia(this,Gae,void 0),ia(this,Xae,void 0),ia(this,Yae,void 0),na(this,"gl"),na(this,"analyze",(function(){if(aa(r,Xae)){var e=r.tf.engine().state.numTensors,t=aa(r,Gae);oa(r,Gae,e);for(var n=e-t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];0!==n&&sa.apply(void 0,i.concat([n]))}})),ia(this,qae,(function(e){if(!aa(r,Yae))return null;if(!e)return"input is not defined";if(r.env.node&&!(e instanceof tc))return"input must be a tensor";try{r.tf.getBackend()}catch(Dme){return"backend not loaded"}return null})),na(this,"similarity",Vae),na(this,"distance",Bae),na(this,"match",Hae),na(this,"emit",(function(e){var t;r.events&&r.events.dispatchEvent&&(null==(t=r.events)||t.dispatchEvent(new Event(e)))})),this.env=H7;var a,i=((null==(n=S7)?void 0:n.tfjs)||$p).replace(/-(.*)/,"");fa.wasmPath="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@".concat(i,"/dist/"),fa.modelBasePath=H7.browser?"../models/":"file://models/",fa.backend=H7.browser?"humangl":"tensorflow",this.version=J7,Object.defineProperty(this,"version",{value:J7}),this.config=JSON.parse(JSON.stringify(fa)),Object.seal(this.config),this.config.cacheModels="undefined"!==typeof indexedDB,t&&(this.config=da(this.config,t)),a=this.config,U7.cacheModels=a.cacheModels,U7.verbose=a.debug,U7.modelBasePath=a.modelBasePath,this.tf=pa,this.state="idle",oa(this,Gae,0),oa(this,Xae,!1),oa(this,Yae,!1),this.performance={},this.events="undefined"!==typeof EventTarget?new EventTarget:void 0,this.models=new Rre,this.draw={options:rae,canvas:function(e,t){return kae(e,t)},face:function(e,t,n){return cae(e,t,n)},body:function(e,t,n){return fae(e,t,n)},hand:function(e,t,n){return hae(e,t,n)},gesture:function(e,t,n){return yae(e,t,n)},object:function(e,t,n){return gae(e,t,n)},person:function(e,t,n){return Aae(e,t,n)},all:function(e,t,n){return Cae(e,t,n)}},this.result={face:[],body:[],hand:[],gesture:[],object:[],performance:{},timestamp:0,persons:[],error:null},this.process={tensor:null,canvas:null},this.faceTriangulation=kee,this.faceUVMap=See,this.gl=Wre,this.emit("create")}return(0,Gr.Z)(e,[{key:"reset",value:function(){var e=this.config.backend;this.config=JSON.parse(JSON.stringify(fa)),this.config.backend=e}},{key:"validate",value:function(e){return ca(fa,e||this.config)}},{key:"now",value:function(){return la()}},{key:"image",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return z7(e,this.config,t)}},{key:"segmentation",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_re(t,n,this.config));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"enhance",value:function(e){return Pee(e)}},{key:"compare",value:function(e,t){return function(e,t,n){return j7.apply(this,arguments)}(this.config,e,t)}},{key:"init",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(){return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ure(this,!0);case 2:return e.next=4,this.tf.ready();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state="load",n=la(),r=Object.values(this.models).filter((function(e){return e})).length,t&&(this.config=da(this.config,t)),!this.env.initial){e.next=14;break}return this.config.debug&&sa("version: ".concat(this.version)),this.config.debug&&sa("tfjs version: ".concat(this.tf.version["tfjs-core"])),e.next=9,Ure(this);case 9:if(e.sent){e.next=11;break}sa("error: backend check failed");case 11:return e.next=13,Wf();case 13:this.env.browser&&(this.config.debug&&sa("configuration:",this.config),this.config.debug&&sa("environment:",this.env),this.config.debug&&sa("tf flags:",this.tf.ENV.flags));case 14:return e.next=16,Dre(this);case 16:if(this.env.initial&&this.config.debug&&sa("tf engine state:",this.tf.engine().state.numBytes,"bytes",this.tf.engine().state.numTensors,"tensors"),this.env.initial=!1,Object.values(this.models).filter((function(e){return e})).length===r){e.next=23;break}return e.next=22,zre(this);case 22:this.emit("load");case 23:(a=Math.trunc(la()-n))>(this.performance.loadModels||0)&&(this.performance.loadModels=this.env.perfadd?(this.performance.loadModels||0)+a:a);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.result;return Wae(e,this.config)}},{key:"warmup",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t){var n,r,a;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=la(),e.next=3,uie(this,t);case 3:return r=e.sent,a=la(),this.performance.warmup=Math.trunc(a-n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"profile",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r,a,i,o,s,u,l,c,d,f,p=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tf.profile((function(){return p.detect(t,n)}));case 2:r=e.sent,a={},i=Yr(r.kernels);try{for(i.s();!(o=i.n()).done;)s=o.value,a[s.name]?a[s.name]+=s.kernelTimeMs:a[s.name]=s.kernelTimeMs}catch(h){i.e(h)}finally{i.f()}for(u=[],Object.entries(a).forEach((function(e){return u.push({name:e[0],ms:e[1]})})),u.sort((function(e,t){return t.ms-e.ms})),u.length=20,l={},c=0,d=u;c<d.length;c++)f=d[c],l[f.name]=f.ms;return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"detect",value:function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(t,n){var r=this;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state="detect",e.abrupt("return",new Promise(function(){var e=(0,Tr.Z)((0,Er.Z)().mark((function e(a){var i,s,u,l,c,d,f,p,h,m,g,v,y,b,x,A,w,k,S,C,I,E,T,N,O,P,_,M,R,F,D,L,z,Z,W,B;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.state="config",r.config=da(r.config,n),r.state="check",(N=aa(r,qae).call(r,t))&&(sa(N,t),r.emit("error"),a({face:[],body:[],hand:[],gesture:[],object:[],performance:r.performance,timestamp:la(),persons:[],error:N})),O=la(),e.next=8,Ure(r);case 8:return e.next=10,r.load();case 10:return T=la(),r.state="image",e.next=14,z7(t,r.config);case 14:if(P=e.sent,r.process=P,r.performance.inputProcess=r.env.perfadd?(r.performance.inputProcess||0)+Math.trunc(la()-T):Math.trunc(la()-T),r.analyze("Get Image:"),P.tensor){e.next=23;break}return r.config.debug&&sa("could not convert input to tensor"),r.emit("error"),a({face:[],body:[],hand:[],gesture:[],object:[],performance:r.performance,timestamp:la(),persons:[],error:"could not convert input to tensor"}),e.abrupt("return");case 23:return r.emit("image"),T=la(),e.next=27,W7(r.config,P.tensor);case 27:if(r.config.skipAllowed=e.sent,r.performance.totalFrames||(r.performance.totalFrames=0),r.performance.cachedFrames||(r.performance.cachedFrames=0),r.performance.totalFrames++,r.config.skipAllowed&&r.performance.cachedFrames++,r.performance.cacheCheck=r.env.perfadd?(r.performance.cacheCheck||0)+Math.trunc(la()-T):Math.trunc(la()-T),r.analyze("Check Changed:"),_=[],M=[],R=[],F=[],r.state="detect:face",!r.config.async){e.next=44;break}_=r.config.face.enabled?Mae(r,P.tensor):[],r.performance.face&&delete r.performance.face,e.next=54;break;case 44:if(T=la(),!r.config.face.enabled){e.next=51;break}return e.next=48,Mae(r,P.tensor);case 48:e.t0=e.sent,e.next=52;break;case 51:e.t0=[];case 52:_=e.t0,r.performance.face=r.env.perfadd?(r.performance.face||0)+Math.trunc(la()-T):Math.trunc(la()-T);case 54:if(!r.config.async||-1!==r.config.body.maxDetected&&-1!==r.config.hand.maxDetected){e.next=58;break}return e.next=57,_;case 57:_=e.sent;case 58:if(r.analyze("Start Body:"),r.state="detect:body",D=-1===r.config.body.maxDetected?da(r.config,{body:{maxDetected:r.config.face.enabled?1*_.length:1}}):r.config,!r.config.async){e.next=66;break}(null==(i=r.config.body.modelPath)?void 0:i.includes("posenet"))?M=r.config.body.enabled?Cre(P.tensor,D):[]:(null==(s=r.config.body.modelPath)?void 0:s.includes("blazepose"))?M=r.config.body.enabled?J8(P.tensor,D):[]:(null==(u=r.config.body.modelPath)?void 0:u.includes("efficientpose"))?M=r.config.body.enabled?w9(P.tensor,D):[]:(null==(l=r.config.body.modelPath)?void 0:l.includes("movenet"))&&(M=r.config.body.enabled?Hne(P.tensor,D):[]),r.performance.body&&delete r.performance.body,e.next=110;break;case 66:if(T=la(),!(null==(c=r.config.body.modelPath)?void 0:c.includes("posenet"))){e.next=78;break}if(!r.config.body.enabled){e.next=74;break}return e.next=71,Cre(P.tensor,D);case 71:e.t1=e.sent,e.next=75;break;case 74:e.t1=[];case 75:M=e.t1,e.next=109;break;case 78:if(!(null==(d=r.config.body.modelPath)?void 0:d.includes("blazepose"))){e.next=89;break}if(!r.config.body.enabled){e.next=85;break}return e.next=82,J8(P.tensor,D);case 82:e.t2=e.sent,e.next=86;break;case 85:e.t2=[];case 86:M=e.t2,e.next=109;break;case 89:if(!(null==(f=r.config.body.modelPath)?void 0:f.includes("efficientpose"))){e.next=100;break}if(!r.config.body.enabled){e.next=96;break}return e.next=93,w9(P.tensor,D);case 93:e.t3=e.sent,e.next=97;break;case 96:e.t3=[];case 97:M=e.t3,e.next=109;break;case 100:if(!(null==(p=r.config.body.modelPath)?void 0:p.includes("movenet"))){e.next=109;break}if(!r.config.body.enabled){e.next=107;break}return e.next=104,Hne(P.tensor,D);case 104:e.t4=e.sent,e.next=108;break;case 107:e.t4=[];case 108:M=e.t4;case 109:r.performance.body=r.env.perfadd?(r.performance.body||0)+Math.trunc(la()-T):Math.trunc(la()-T);case 110:if(r.analyze("End Body:"),r.analyze("Start Hand:"),r.state="detect:hand",L=-1===r.config.hand.maxDetected?da(r.config,{hand:{maxDetected:r.config.face.enabled?2*_.length:1}}):r.config,!r.config.async){e.next=119;break}(null==(m=null==(h=r.config.hand.detector)?void 0:h.modelPath)?void 0:m.includes("handdetect"))?R=r.config.hand.enabled?Vte(P.tensor,L):[]:(null==(v=null==(g=r.config.hand.detector)?void 0:g.modelPath)?void 0:v.includes("handtrack"))&&(R=r.config.hand.enabled?fne(P.tensor,L):[]),r.performance.hand&&delete r.performance.hand,e.next=141;break;case 119:if(T=la(),!(null==(b=null==(y=r.config.hand.detector)?void 0:y.modelPath)?void 0:b.includes("handdetect"))){e.next=131;break}if(!r.config.hand.enabled){e.next=127;break}return e.next=124,Vte(P.tensor,L);case 124:e.t5=e.sent,e.next=128;break;case 127:e.t5=[];case 128:R=e.t5,e.next=140;break;case 131:if(!(null==(A=null==(x=r.config.hand.detector)?void 0:x.modelPath)?void 0:A.includes("handtrack"))){e.next=140;break}if(!r.config.hand.enabled){e.next=138;break}return e.next=135,fne(P.tensor,L);case 135:e.t6=e.sent,e.next=139;break;case 138:e.t6=[];case 139:R=e.t6;case 140:r.performance.hand=r.env.perfadd?(r.performance.hand||0)+Math.trunc(la()-T):Math.trunc(la()-T);case 141:if(r.analyze("End Hand:"),r.analyze("Start Object:"),r.state="detect:object",!r.config.async){e.next=149;break}(null==(w=r.config.object.modelPath)?void 0:w.includes("nanodet"))?F=r.config.object.enabled?tre(P.tensor,r.config):[]:(null==(k=r.config.object.modelPath)?void 0:k.includes("centernet"))&&(F=r.config.object.enabled?l9(P.tensor,r.config):[]),r.performance.object&&delete r.performance.object,e.next=171;break;case 149:if(T=la(),!(null==(S=r.config.object.modelPath)?void 0:S.includes("nanodet"))){e.next=161;break}if(!r.config.object.enabled){e.next=157;break}return e.next=154,tre(P.tensor,r.config);case 154:e.t7=e.sent,e.next=158;break;case 157:e.t7=[];case 158:F=e.t7,e.next=170;break;case 161:if(!(null==(C=r.config.object.modelPath)?void 0:C.includes("centernet"))){e.next=170;break}if(!r.config.object.enabled){e.next=168;break}return e.next=165,l9(P.tensor,r.config);case 165:e.t8=e.sent,e.next=169;break;case 168:e.t8=[];case 169:F=e.t8;case 170:r.performance.object=r.env.perfadd?(r.performance.object||0)+Math.trunc(la()-T):Math.trunc(la()-T);case 171:if(r.analyze("End Object:"),r.state="detect:await",!r.config.async){e.next=182;break}return e.next=176,Promise.all([_,M,R,F]);case 176:z=e.sent,Z=(0,o.Z)(z,4),_=Z[0],M=Z[1],R=Z[2],F=Z[3];case 182:r.state="detect:gesture",W=[],r.config.gesture.enabled&&(T=la(),W=[].concat((0,qr.Z)(Fae(_)),(0,qr.Z)(Rae(M)),(0,qr.Z)(Lae(R)),(0,qr.Z)(Dae(_))),r.config.async?r.performance.gesture&&delete r.performance.gesture:r.performance.gesture=r.env.perfadd?(r.performance.gesture||0)+Math.trunc(la()-T):Math.trunc(la()-T)),r.performance.total=r.env.perfadd?(r.performance.total||0)+Math.trunc(la()-O):Math.trunc(la()-O),B=(null==(E=null==(I=r.process)?void 0:I.tensor)?void 0:E.shape)||[],e.t9=_,e.t10=M,e.t11=R,e.t12=W,e.t13=F,e.t14=r.performance,e.t15=r.process.canvas,e.t16=Date.now(),r.result={face:e.t9,body:e.t10,hand:e.t11,gesture:e.t12,object:e.t13,performance:e.t14,canvas:e.t15,timestamp:e.t16,error:null,get persons(){return Uae(_,M,R,W,B)}},Df(P.tensor),r.emit("detect"),r.state="idle",a(r.result);case 200:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();Gae=new WeakMap,Xae=new WeakMap,Yae=new WeakMap,qae=new WeakMap;var die=n(6207),fie=n.n(die),pie=n(1527),hie=n.n(pie),mie={alertStudySeconds:1500,alertRestSeconds:300,enableNotification:!1,notificationIntervalSeconds:60,notificationIntervalMultiplier:2,tempMissingSeconds:60,history:{maxLocalStorageTimeSlot:100,showPomodoroHistory:!0,onlyShowToday:!0},faceRecognition:{detectionInterval:5,scoreThreshold:.95,showFaceRecognitionStatus:!0,showFaceRecognitionCanvas:!1,showCameraPreview:!1},enableDetection:!1,playerUrl:"https://www.youtube.com/watch?v=q4YyeEM9jsc",focusNotificationText:"Time to focus!",restNotificationText:"Let's take a break."},gie=r.createContext(mie),vie=nn((function(e,t){var n,a=e.use,i=Ht(e,["use"]),o=On().typography,s=(null===o||void 0===o?void 0:o[a])||(null===o||void 0===o?void 0:o.defaultTag)||"span",u=$t(e,[(n={},n["mdc-typography--"+e.use]=e.use,n)]);return r.createElement(Qt,Vt({tag:s},i,{ref:t,className:u}))})),yie=(n(8697),function(e,t){return yie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},yie(e,t)});var bie=function(){return bie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bie.apply(this,arguments)};function xie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Aie(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}var wie={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function kie(e){return Boolean(e.document)&&"function"===typeof e.document.createElement}var Sie=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Cie={CLOSED_CLASS:"mdc-linear-progress--closed",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed"},Iie={ARIA_VALUENOW:"aria-valuenow",BUFFER_BAR_SELECTOR:".mdc-linear-progress__buffer-bar",FLEX_BASIS:"flex-basis",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},Eie=function(e){function t(n){return e.call(this,bie(bie({},t.defaultAdapter),n))||this}return function(e,t){function n(){this.constructor=e}yie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Cie},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Iie},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},setBufferBarStyle:function(){return null},setPrimaryBarStyle:function(){return null},hasClass:function(){return!1},removeAttribute:function(){},removeClass:function(){},setAttribute:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.isDeterminate=!this.adapter.hasClass(Cie.INDETERMINATE_CLASS),this.isReversed=this.adapter.hasClass(Cie.REVERSED_CLASS),this.progress=0,this.buffer=1},t.prototype.setDeterminate=function(e){if(this.isDeterminate=e,this.isDeterminate)return this.adapter.removeClass(Cie.INDETERMINATE_CLASS),this.adapter.setAttribute(Iie.ARIA_VALUENOW,this.progress.toString()),this.setPrimaryBarProgress(this.progress),void this.setBufferBarProgress(this.buffer);this.isReversed&&(this.adapter.removeClass(Cie.REVERSED_CLASS),this.adapter.forceLayout(),this.adapter.addClass(Cie.REVERSED_CLASS)),this.adapter.addClass(Cie.INDETERMINATE_CLASS),this.adapter.removeAttribute(Iie.ARIA_VALUENOW),this.setPrimaryBarProgress(1),this.setBufferBarProgress(1)},t.prototype.getDeterminate=function(){return this.isDeterminate},t.prototype.setProgress=function(e){this.progress=e,this.isDeterminate&&(this.setPrimaryBarProgress(e),this.adapter.setAttribute(Iie.ARIA_VALUENOW,e.toString()))},t.prototype.getProgress=function(){return this.progress},t.prototype.setBuffer=function(e){this.buffer=e,this.isDeterminate&&this.setBufferBarProgress(e)},t.prototype.setReverse=function(e){this.isReversed=e,this.isDeterminate||(this.adapter.removeClass(Cie.INDETERMINATE_CLASS),this.adapter.forceLayout(),this.adapter.addClass(Cie.INDETERMINATE_CLASS)),this.isReversed?this.adapter.addClass(Cie.REVERSED_CLASS):this.adapter.removeClass(Cie.REVERSED_CLASS)},t.prototype.open=function(){this.adapter.removeClass(Cie.CLOSED_CLASS)},t.prototype.close=function(){this.adapter.addClass(Cie.CLOSED_CLASS)},t.prototype.setPrimaryBarProgress=function(e){var t="scaleX("+e+")",n="undefined"!==typeof window?function(e,t){if(kie(e)&&t in wie){var n=e.document.createElement("div"),r=wie[t],a=r.standard,i=r.prefixed;return a in n.style?a:i}return t}(window,"transform"):"transform";this.adapter.setPrimaryBarStyle(n,t)},t.prototype.setBufferBarProgress=function(e){var t=100*e+"%";this.adapter.setBufferBarStyle(Iie.FLEX_BASIS,t)},t}(Sie),Tie=nn((function(e,t){var n=e.reversed,a=e.closed,i=e.progress,o=(e.buffer,e.foundationRef,xie(e,["reversed","closed","progress","buffer","foundationRef"])),s=$t(e,["mdc-linear-progress",{"mdc-linear-progress--reversed":n,"mdc-linear-progress--closed":a}]),u=function(e){var t=function(e,t,n,r){var a,i=null!==(a=null===e||void 0===e?void 0:e.querySelector(t))&&void 0!==a?a:null;i&&(i.style[n]=r)},n=Fn({props:e,elements:{rootEl:!0},foundation:function(e){var n=e.rootEl;return new Eie({addClass:function(e){return n.addClass(e)},forceLayout:function(){var e;return null===(e=n.ref)||void 0===e?void 0:e.offsetWidth},hasClass:function(e){return n.hasClass(e)},removeClass:function(e){return n.removeClass(e)},setBufferBarStyle:function(e,r){t(n.ref,Eie.strings.BUFFER_BAR_SELECTOR,e,r)},setPrimaryBarStyle:function(e,r){t(n.ref,Eie.strings.PRIMARY_BAR_SELECTOR,e,r)},setAttribute:function(e,t){n.setProp(e,t)},removeAttribute:function(e){return n.removeProp(e)}})}}),a=n.foundation,i=xie(n,["foundation"]),o=Aie((0,r.useState)(void 0),2),s=o[0],u=o[1];return(0,r.useEffect)((function(){a.setProgress(e.progress||0);var t=void 0!==e.progress;t!==s&&(a.setDeterminate(t),u(t))}),[e.progress,s,a]),(0,r.useEffect)((function(){a.setBuffer(e.buffer||0)}),[e.buffer,a]),(0,r.useEffect)((function(){a.setReverse(!!e.reversed)}),[e.reversed,a]),(0,r.useEffect)((function(){e.closed?a.close():a.open()}),[e.closed,a]),bie({foundation:a},i)}(e).rootEl;return r.createElement(Qt,bie({"aria-label":"Progress Bar"},o,{"aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":i,tag:"nav",role:"progressbar",element:u,className:s,ref:t}),r.createElement(Nie,null))})),Nie=r.memo((function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"mdc-linear-progress__buffer"},r.createElement("div",{className:"mdc-linear-progress__buffer-bar"}),r.createElement("div",{className:"mdc-linear-progress__buffer-dots"})),r.createElement("div",{className:"mdc-linear-progress__bar mdc-linear-progress__primary-bar"},r.createElement("div",{className:"mdc-linear-progress__bar-inner"})),r.createElement("div",{className:"mdc-linear-progress__bar mdc-linear-progress__secondary-bar"},r.createElement("div",{className:"mdc-linear-progress__bar-inner"})))})),Oie=(n(881),window.ImageCapture);"undefined"===typeof Oie&&(Oie=function(){function e(t){var n=this;if((0,Ur.Z)(this,e),"video"!==t.kind)throw new DOMException("NotSupportedError");this._videoStreamTrack=t,"readyState"in this._videoStreamTrack||(this._videoStreamTrack.readyState="live"),this._previewStream=new MediaStream([t]),this.videoElement=document.createElement("video"),this.videoElementPlaying=new Promise((function(e){n.videoElement.addEventListener("playing",e)})),HTMLMediaElement?this.videoElement.srcObject=this._previewStream:this.videoElement.src=URL.createObjectURL(this._previewStream),this.videoElement.muted=!0,this.videoElement.setAttribute("playsinline",""),this.videoElement.play(),this.canvasElement=document.createElement("canvas"),this.canvas2dContext=this.canvasElement.getContext("2d")}return(0,Gr.Z)(e,[{key:"videoStreamTrack",get:function(){return this._videoStreamTrack}},{key:"getPhotoCapabilities",value:function(){return new Promise((function(e,t){var n={current:0,min:0,max:0};e({exposureCompensation:n,exposureMode:"none",fillLightMode:"none",focusMode:"none",imageHeight:n,imageWidth:n,iso:n,redEyeReduction:!1,whiteBalanceMode:"none",zoom:n}),t(new DOMException("OperationError"))}))}},{key:"setOptions",value:function(){return new Promise((function(e,t){}))}},{key:"takePhoto",value:function(){var e=this;return new Promise((function(t,n){if("live"!==e._videoStreamTrack.readyState)return n(new DOMException("InvalidStateError"));e.videoElementPlaying.then((function(){try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),e.canvasElement.toBlob(t)}catch(r){n(new DOMException("UnknownError"))}}))}))}},{key:"grabFrame",value:function(){var e=this;return new Promise((function(t,n){if("live"!==e._videoStreamTrack.readyState)return n(new DOMException("InvalidStateError"));e.videoElementPlaying.then((function(){try{e.canvasElement.width=e.videoElement.videoWidth,e.canvasElement.height=e.videoElement.videoHeight,e.canvas2dContext.drawImage(e.videoElement,0,0),t(window.createImageBitmap(e.canvasElement))}catch(r){n(new DOMException("UnknownError"))}}))}))}}]),e}()),window.ImageCapture=Oie;var Pie,_ie,Mie=n(6417);function Rie(e){return(0,Mie.jsxs)(vie,{use:"body2",tag:"div",className:_e(Pie||(Pie=i(["text-align: center"]))),children:[e.msg," ",e.status?(0,Mie.jsx)(fie(),{style:{color:"#1faa00"}}):(0,Mie.jsx)(hie(),{style:{color:"#a30000"}})]})}function Fie(e,t,n,r){var a=e?"Camera Ready:":"Camera Supported",i=e?t:e;return(0,Mie.jsxs)(an,{children:[(0,Mie.jsx)(on,{desktop:4,span:2,phone:4,children:(0,Mie.jsx)(Rie,{msg:a,status:i})}),(0,Mie.jsx)(on,{desktop:4,span:2,phone:4,children:(0,Mie.jsx)(Rie,{msg:"Model loaded:",status:r>1})}),(0,Mie.jsx)(on,{desktop:4,span:2,phone:4,children:(0,Mie.jsx)(Rie,{msg:"Face Detected:",status:n})})]})}var Die=function(e){var t=(0,r.useContext)(gie),n=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,r.useState)(!1),u=(0,o.Z)(s,2),c=u[0],d=u[1],f=(0,r.useState)("mediaDevices"in navigator),p=(0,o.Z)(f,1)[0],h=(0,r.useState)(!1),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=e.onFaceDetectionResult,b=t.faceRecognition.detectionInterval,x=t.faceRecognition.scoreThreshold,A=t.enableDetection,w=(0,r.useState)(!1),k=(0,o.Z)(w,2),S=k[0],C=k[1],I=(0,r.useRef)(null),E=(0,r.useRef)(null),T="ImageCapture"in window;(0,r.useEffect)((function(){var e={modelBasePath:"https://cdn.jsdelivr.net/npm/@vladmandic/human/models/",wasmPath:"/face-recognition-pomodoro/models/",face:{enabled:!0,emotion:{enabled:!1},antispoof:{enabled:!1},liveness:{enabled:!1},mesh:{enabled:!0},attention:{enabled:!1},iris:{enabled:!1},description:{enabled:!1}},body:{enabled:!1},hand:{enabled:!1},object:{enabled:!1},gesture:{enabled:!1},debug:!0};E.current=new cie(e),E.current.init(e).then((function(){E.current.load(e),console.log("Human init",E.current)}))}),[]),l((function(){if(A&&!S&&E.current){var e=I.current&&"live"===I.current.readyState&&!I.current.muted&&I.current.enabled;e!==g&&v(e),e&&function(){r.apply(this,arguments)}()}function r(){return r=(0,Tr.Z)((0,Er.Z)().mark((function e(){var r,i,o,s,u;return(0,Er.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C(!0),r=n.current.video,i=r,!T){e.next=9;break}return o=new ImageCapture(I.current),e.next=8,o.grabFrame();case 8:i=e.sent;case 9:return e.next=11,E.current.detect(i);case 11:s=e.sent,u=s.face.filter((function(e){return e.score>x})).at(-1),y(u),d(u),t.faceRecognition.showFaceRecognitionCanvas&&(E.current.draw.canvas(i,a.current),E.current.draw.all(a.current,s));case 16:return e.prev=16,C(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,,16,19]])}))),r.apply(this,arguments)}}),1e3*b,!0);var N={width:{ideal:640},height:{ideal:480},facingMode:"user"};A&&!t.faceRecognition.showCameraPreview&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(N.frameRate={ideal:2});var O=T?"0px":"1px",P=t.faceRecognition.showCameraPreview?"100%":O,_=E.current?Object.keys(E.current.models).filter((function(e){return null!==E.current.models[e]})).length:0,M=.1*p+.4*g+_/2*.5;return(0,Mie.jsx)(Mie.Fragment,{children:(0,Mie.jsxs)(an,{children:[(0,Mie.jsxs)(on,{span:12,children:[(0,Mie.jsx)(Tie,{closed:M>=1,progress:M}),A&&t.faceRecognition.showFaceRecognitionStatus?Fie(p,g,c,_):(0,Mie.jsx)(Mie.Fragment,{})]}),A?(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)("div",{className:_e(_ie||(_ie=i(["\n              height: ",";\n              width: ",";\n              overflow: hidden;\n            "])),P,P),children:(0,Mie.jsx)(Or(),{audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:N,onUserMedia:function(e){console.log("New media stream",e),I.current=e.getVideoTracks()[0]},onUserMediaError:function(e){return console.log(e)}})})}):(0,Mie.jsx)(Mie.Fragment,{}),A&&E&&t.faceRecognition.showFaceRecognitionCanvas?(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)("canvas",{width:"640px",height:"480px",ref:a})}):(0,Mie.jsx)(Mie.Fragment,{})]})})},Lie=n(1465),zie=n.n(Lie);var Zie=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=e.startTime;return(0,r.useEffect)((function(){null===n.current&&(n.current=new(zie())(t.current,new Date(a),{face:"HourCounter",showLabels:!1}),n.current.originalValue=new Date(a),n.current.value=new Date,n.current.start()),(a!==n.current.originalValue.toJSON()||Math.abs(new Date-n.current.value.value)>1e3)&&(n.current.originalValue=new Date(a),n.current.value=new Date)})),(0,Mie.jsx)("div",{ref:t})},Wie=n(7462),Bie={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},jie=(0,r.createContext)({}),Vie=n(1002),Hie=n(7819),Uie=n(8240),Gie=n(3233),Xie="rc-util-key";function Yie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Xie}function qie(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Kie(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,Gie.Z)())return null;var r,a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);a.innerHTML=e;var i=qie(n),o=i.firstChild;return n.prepend&&i.prepend?i.prepend(a):n.prepend&&o?i.insertBefore(a,o):i.appendChild(a),a}var Jie=new Map;function Qie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qie(t);return Array.from(Jie.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Yie(t))===e}))}function $ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=qie(n);if(!Jie.has(r)){var a=Kie("",n),i=a.parentNode;Jie.set(r,i),i.removeChild(a)}var o=Qie(t,n);if(o){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&o.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))o.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var c=Kie(e,n);return c.setAttribute(Yie(n),t),c}function eoe(e){return"object"===(0,Vie.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,Vie.Z)(e.icon)||"function"===typeof e.icon)}function toe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function noe(e,t,n){return n?r.createElement(e.tag,(0,s.Z)((0,s.Z)({key:t},toe(e.attrs)),n),(e.children||[]).map((function(n,r){return noe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,(0,s.Z)({key:t},toe(e.attrs)),(e.children||[]).map((function(n,r){return noe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function roe(e){return(0,Hie.generate)(e)[0]}function aoe(e){return e?Array.isArray(e)?e:[e]:[]}var ioe="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",ooe=["icon","className","onClick","style","primaryColor","secondaryColor"],soe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var uoe=function(e){var t=e.icon,n=e.className,a=e.onClick,i=e.style,o=e.primaryColor,u=e.secondaryColor,l=(0,Pr.Z)(e,ooe),c=soe;if(o&&(c={primaryColor:o,secondaryColor:u||roe(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ioe,t=(0,r.useContext)(jie).csp;(0,r.useEffect)((function(){$ie(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){(0,Uie.ZP)(e,"[@ant-design/icons] ".concat(t))}(eoe(t),"icon should be icon definiton, but got ".concat(t)),!eoe(t))return null;var d=t;return d&&"function"===typeof d.icon&&(d=(0,s.Z)((0,s.Z)({},d),{},{icon:d.icon(c.primaryColor,c.secondaryColor)})),noe(d.icon,"svg-".concat(d.name),(0,s.Z)({className:n,onClick:a,style:i,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};uoe.displayName="IconReact",uoe.getTwoToneColors=function(){return(0,s.Z)({},soe)},uoe.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;soe.primaryColor=t,soe.secondaryColor=n||roe(t),soe.calculated=!!n};var loe=uoe;function coe(e){var t=aoe(e),n=(0,o.Z)(t,2),r=n[0],a=n[1];return loe.setTwoToneColors({primaryColor:r,secondaryColor:a})}var doe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];coe("#1890ff");var foe=r.forwardRef((function(e,t){var n,a=e.className,i=e.icon,u=e.spin,l=e.rotate,c=e.tabIndex,d=e.onClick,f=e.twoToneColor,p=(0,Pr.Z)(e,doe),h=r.useContext(jie).prefixCls,m=void 0===h?"anticon":h,g=qt()(m,(n={},(0,_r.Z)(n,"".concat(m,"-").concat(i.name),!!i.name),(0,_r.Z)(n,"".concat(m,"-spin"),!!u||"loading"===i.name),n),a),v=c;void 0===v&&d&&(v=-1);var y=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,b=aoe(f),x=(0,o.Z)(b,2),A=x[0],w=x[1];return r.createElement("span",(0,s.Z)((0,s.Z)({role:"img","aria-label":i.name},p),{},{ref:t,tabIndex:v,onClick:d,className:g}),r.createElement(loe,{icon:i,primaryColor:A,secondaryColor:w,style:y}))}));foe.displayName="AntdIcon",foe.getTwoToneColor=function(){var e=loe.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},foe.setTwoToneColor=coe;var poe=foe,hoe=function(e,t){return r.createElement(poe,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Bie}))};hoe.displayName="LoadingOutlined";var moe=r.forwardRef(hoe),goe=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}});goe.Consumer;var voe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},yoe=function(e){var t,n,a=e.prefixCls,i=e.className,o=e.color,s=void 0===o?"blue":o,u=e.dot,l=e.pending,c=void 0!==l&&l,d=(e.position,e.label),f=e.children,p=voe(e,["prefixCls","className","color","dot","pending","position","label","children"]),h=(0,r.useContext(goe).getPrefixCls)("timeline",a),m=qt()((t={},(0,_r.Z)(t,"".concat(h,"-item"),!0),(0,_r.Z)(t,"".concat(h,"-item-pending"),c),t),i),g=qt()((n={},(0,_r.Z)(n,"".concat(h,"-item-head"),!0),(0,_r.Z)(n,"".concat(h,"-item-head-custom"),!!u),(0,_r.Z)(n,"".concat(h,"-item-head-").concat(s),!0),n)),v=/blue|red|green|gray/.test(s||"")?void 0:s;return r.createElement("li",(0,Wie.Z)({},p,{className:m}),d&&r.createElement("div",{className:"".concat(h,"-item-label")},d),r.createElement("div",{className:"".concat(h,"-item-tail")}),r.createElement("div",{className:g,style:{borderColor:v,color:v}},u),r.createElement("div",{className:"".concat(h,"-item-content")},f))},boe=r.isValidElement;function xoe(e,t){return function(e,t,n){return boe(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Aoe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},woe=function(e){var t,n=r.useContext(goe),a=n.getPrefixCls,i=n.direction,o=e.prefixCls,s=e.pending,u=void 0===s?null:s,l=e.pendingDot,c=e.children,d=e.className,f=e.reverse,p=void 0!==f&&f,h=e.mode,m=void 0===h?"":h,g=Aoe(e,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),v=a("timeline",o),y="boolean"===typeof u?null:u,b=u?r.createElement(yoe,{pending:!!u,dot:l||r.createElement(moe,null)},y):null,x=r.Children.toArray(c);x.push(b),p&&x.reverse();var A=function(e,t){return"alternate"===m?"right"===e.props.position?"".concat(v,"-item-right"):"left"===e.props.position?"".concat(v,"-item-left"):"".concat(v,t%2===0?"-item-left":"-item-right"):"left"===m?"".concat(v,"-item-left"):"right"===m||"right"===e.props.position?"".concat(v,"-item-right"):""},w=x.filter((function(e){return!!e})),k=r.Children.count(w),S="".concat(v,"-item-last"),C=r.Children.map(w,(function(e,t){var n=t===k-2?S:"",r=t===k-1?S:"";return xoe(e,{className:qt()([e.props.className,!p&&u?n:r,A(e,t)])})})),I=x.some((function(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.label)})),E=qt()(v,(t={},(0,_r.Z)(t,"".concat(v,"-pending"),!!u),(0,_r.Z)(t,"".concat(v,"-reverse"),!!p),(0,_r.Z)(t,"".concat(v,"-").concat(m),!!m&&!I),(0,_r.Z)(t,"".concat(v,"-label"),I),(0,_r.Z)(t,"".concat(v,"-rtl"),"rtl"===i),t),d);return r.createElement("ul",(0,Wie.Z)({},g,{className:E}),C)};woe.Item=yoe;var koe=woe,Soe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},Coe=function(e,t){return r.createElement(poe,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Soe}))};Coe.displayName="SmileOutlined";var Ioe=r.forwardRef(Coe),Eoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Toe=function(e,t){return r.createElement(poe,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:Eoe}))};Toe.displayName="ClockCircleOutlined";var Noe,Ooe,Poe,_oe,Moe=r.forwardRef(Toe),Roe=n(8075);function Foe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e);if(n<60)return"".concat(n,"s");if(n<3600){var r=Math.floor(n/60),a=n-60*r;return t?"".concat(r,"m ").concat(a,"s"):"".concat(r,"m")}var i=Math.floor(n/60),o=i%60,s=Math.floor(i/60);return"".concat(s,"h ").concat(o,"m")}function Doe(e){var t=e.record,n=e.index,r=n?"Pomodoro #".concat(n):void 0;return(0,Mie.jsx)(Mie.Fragment,{children:(0,Mie.jsx)(Roe.Z,{title:r,children:(0,Mie.jsxs)("div",{className:_e(Noe||(Noe=i(["\n          display: flex;\n          justify-content: space-around;\n          align-item: center;\n        "]))),children:[(0,Mie.jsx)("span",{className:_e(Ooe||(Ooe=i(["\n          border-radius: 50%;\n          background: #b0003a;\n          width: 3em;\n          height: 3em;\n          text-align: center;\n          vertical-align: middle;\n          display: inline-block;\n          line-height: 3em;\n          font-size: 1.5em;\n          color: white;\n          font-weight: bold;\n        "]))),children:Foe(t.timePeriod)}),(0,Mie.jsx)("div",{className:_e(Poe||(Poe=i(["\n              display: flex;\n              align-item: center;\n              justify-content: space-around;\n              flex-direction: column;\n            "]))),children:(0,Mie.jsxs)("p",{className:_e(_oe||(_oe=i(["\n              font-size: 1.5em;\n              font-weight: bold;\n              margin: 0 0 0 10px;\n            "]))),children:[new Date(t.startTime).toLocaleTimeString().slice(0,5)," - ",new Date(t.endTime).toLocaleTimeString().slice(0,5)]})})]})})})}n(4935);var Loe=n(4646),zoe=n(684),Zoe=n(420),Woe=n(6583),Boe=n(4401),joe=n(5192),Voe=n.n(joe);function Hoe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Uoe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Goe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function Xoe(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}Hoe.__suppressDeprecationWarning=!0,Uoe.__suppressDeprecationWarning=!0,Goe.__suppressDeprecationWarning=!0;var Yoe=n(1684),qoe=n.n(Yoe);function Koe(e,t,n,r){var a=En.unstable_batchedUpdates?function(e){En.unstable_batchedUpdates(n,e)}:n;return qoe()(e,t,a,r)}function Joe(e){return Joe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Joe(e)}function Qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ese(e,t){return ese=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ese(e,t)}function tse(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(Dme){return!1}}();return function(){var n,r=rse(e);if(t){var a=rse(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nse(this,n)}}function nse(e,t){return!t||"object"!==Joe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rse(e){return rse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rse(e)}var ase=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ese(e,t)}(i,e);var t,n,r,a=tse(i);function i(){var e;Qoe(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).removeContainer=function(){e.container&&(En.unmountComponentAtNode(e.container),e.container.parentNode.removeChild(e.container),e.container=null)},e.renderComponent=function(t,n){var r=e.props,a=r.visible,i=r.getComponent,o=r.forceRender,s=r.getContainer,u=r.parent;(a||u._component||o)&&(e.container||(e.container=s()),En.unstable_renderSubtreeIntoContainer(u,i(t),e.container,(function(){n&&n.call(this)})))},e}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}])&&$oe(t.prototype,n),r&&$oe(t,r),i}(r.Component);function ise(e){return ise="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ise(e)}function ose(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sse(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function use(e,t){return use=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},use(e,t)}function lse(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(Dme){return!1}}();return function(){var n,r=dse(e);if(t){var a=dse(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cse(this,n)}}function cse(e,t){return!t||"object"!==ise(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dse(e){return dse=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dse(e)}ase.propTypes={autoMount:Voe().bool,autoDestroy:Voe().bool,visible:Voe().bool,forceRender:Voe().bool,parent:Voe().any,getComponent:Voe().func.isRequired,getContainer:Voe().func.isRequired,children:Voe().func.isRequired},ase.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var fse=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&use(e,t)}(i,e);var t,n,r,a=lse(i);function i(){return ose(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?En.createPortal(this.props.children,this._container):null}}])&&sse(t.prototype,n),r&&sse(t,r),i}(r.Component);function pse(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function hse(e,t){this[e]=t}fse.propTypes={getContainer:Voe().func.isRequired,children:Voe().node.isRequired,didUpdate:Voe().func};var mse=n(7996),gse=n(5596);function vse(e){return e&&"object"===typeof e&&e.window===e}function yse(e,t){var n=Math.floor(e),r=Math.floor(t);return Math.abs(n-r)<=1}function bse(e,t){e!==document.activeElement&&Xoe(t,e)&&e.focus()}function xse(e){return"function"===typeof e&&e?e():null}function Ase(e){return"object"===typeof e&&e?e:null}var wse=function(e){function t(){var e,n,r,a;(0,Zoe.Z)(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=(0,Woe.Z)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.forceAlign=function(){var e=r.props,t=e.disabled,n=e.target,a=e.align,i=e.onAlign;if(!t&&n){var o=En.findDOMNode(r),s=void 0,u=xse(n),l=Ase(n),c=document.activeElement;u?s=(0,gse.E3)(o,u,a):l&&(s=(0,gse.zy)(o,l,a)),bse(c,o),i&&i(o,s)}},a=n,(0,Woe.Z)(r,a)}return(0,Boe.Z)(t,e),(0,mse.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(e){var t=!1,n=this.props;if(!n.disabled){var r=En.findDOMNode(this),a=r?r.getBoundingClientRect():null;if(e.disabled)t=!0;else{var i=xse(e.target),o=xse(n.target),s=Ase(e.target),u=Ase(n.target);vse(i)&&vse(o)?t=!1:(i!==o||i&&!o&&u||s&&u&&o||u&&!function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(s,u))&&(t=!0);var l=this.sourceRect||{};t||!r||yse(l.width,a.width)&&yse(l.height,a.height)||(t=!0)}this.sourceRect=a}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=function(e,t){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function a(){r(),n=setTimeout(e,t)}return a.clear=r,a}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=Koe(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.childrenProps,a=t.children,i=r.Children.only(a);if(n){var o={};return Object.keys(n).forEach((function(t){o[t]=e.props[n[t]]})),r.cloneElement(i,o)}return i}}]),t}(r.Component);wse.propTypes={childrenProps:Voe().object,align:Voe().object.isRequired,target:Voe().oneOfType([Voe().func,Voe().shape({clientX:Voe().number,clientY:Voe().number,pageX:Voe().number,pageY:Voe().number})]),onAlign:Voe().func,monitorBufferTime:Voe().number,monitorWindowResize:Voe().bool,disabled:Voe().bool,children:Voe().any},wse.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var kse=wse,Sse=n(386),Cse=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");return"function"!==typeof t.componentWillReceiveProps?e:r.Profiler?(t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,delete t.componentWillReceiveProps,e):e};function Ise(e){var t=[];return r.Children.forEach(e,(function(e){t.push(e)})),t}function Ese(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function Tse(e,t,n){var r=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}})),r}var Nse=n(5259),Ose={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},Pse={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},_se=[],Mse=[];function Rse(e,t,n){e.addEventListener(t,n,!1)}function Fse(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!==typeof window&&"undefined"!==typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];for(var i in a)if(i in e){n.push(a[i]);break}}}"AnimationEvent"in window||(delete Ose.animationstart.animation,delete Pse.animationend.animation),"TransitionEvent"in window||(delete Ose.transitionstart.transition,delete Pse.transitionend.transition),t(Ose,_se),t(Pse,Mse)}();var Dse={startEvents:_se,addStartEventListener:function(e,t){0!==_se.length?_se.forEach((function(n){Rse(e,n,t)})):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==_se.length&&_se.forEach((function(n){Fse(e,n,t)}))},endEvents:Mse,addEndEventListener:function(e,t){0!==Mse.length?Mse.forEach((function(n){Rse(e,n,t)})):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==Mse.length&&Mse.forEach((function(n){Fse(e,n,t)}))}},Lse=Dse,zse=n(3105),Zse=n.n(zse),Wse=0!==Lse.endEvents.length,Bse=["Webkit","Moz","O","ms"],jse=["-webkit-","-moz-","-o-","ms-",""];function Vse(e,t){for(var n=window.getComputedStyle(e,null),r="",a=0;a<jse.length&&!(r=n.getPropertyValue(jse[a]+t));a++);return r}function Hse(e){if(Wse){var t=parseFloat(Vse(e,"transition-delay"))||0,n=parseFloat(Vse(e,"transition-duration"))||0,r=parseFloat(Vse(e,"animation-delay"))||0,a=parseFloat(Vse(e,"animation-duration"))||0,i=Math.max(n+t,a+r);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*i+200)}}function Use(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var Gse=function(e,t,n){var r="object"===("undefined"===typeof t?"undefined":(0,Nse.default)(t)),a=r?t.name:t,i=r?t.active:t+"-active",o=n,s=void 0,u=void 0,l=Zse()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(o=n.end,s=n.start,u=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Use(e),l.remove(a),l.remove(i),Lse.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,o&&o())},Lse.addEndEventListener(e,e.rcEndListener),s&&s(),l.add(a),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,l.add(i),u&&setTimeout(u,0),Hse(e)}),30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Gse.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Use(e),Lse.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},Lse.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,Hse(e)}),0)},Gse.setTransition=function(e,t,n){var r=t,a=n;void 0===n&&(a=r,r=""),r=r||"",Bse.forEach((function(t){e.style[t+"Transition"+r]=a}))},Gse.isCssAnimationSupported=Wse;var Xse=Gse,Yse={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},qse={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},Kse=function(e){function t(){return(0,Zoe.Z)(this,t),(0,Woe.Z)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,Boe.Z)(t,e),(0,mse.Z)(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){Yse.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){Yse.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){Yse.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=En.findDOMNode(this),a=this.props,i=a.transitionName,o="object"===typeof i;this.stop();var s=function(){n.stopper=null,t()};if((Wse||!a.animation[e])&&i&&a[qse[e]]){var u=o?i[e]:i+"-"+e,l=u+"-active";o&&i[e+"Active"]&&(l=i[e+"Active"]),this.stopper=Xse(r,{name:u,active:l},s)}else this.stopper=a.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component);Kse.propTypes={children:Voe().any,animation:Voe().any,transitionName:Voe().any};var Jse=Kse,Qse="rc_animate_"+Date.now();function $se(e){var t=e.children;return r.isValidElement(t)&&!t.key?r.cloneElement(t,{key:Qse}):t}function eue(){}var tue=function(e){function t(e){(0,Zoe.Z)(this,t);var n=(0,Woe.Z)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return nue.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:Ise($se(e))},n.childrenRefs={},n}return(0,Boe.Z)(t,e),(0,mse.Z)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=Ise($se(e)),a=this.props;a.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var i=a.showProp,o=this.currentlyAnimatingKeys,s=a.exclusive?Ise($se(a)):this.state.children,u=[];i?(s.forEach((function(e){var t=e&&Ese(n,e.key),a=void 0;(a=t&&t.props[i]||!e.props[i]?t:r.cloneElement(t||e,(0,Sse.Z)({},i,!0)))&&u.push(a)})),n.forEach((function(e){e&&Ese(s,e.key)||u.push(e)}))):u=function(e,t){var n=[],r={},a=[];return e.forEach((function(e){e&&Ese(t,e.key)?a.length&&(r[e.key]=a,a=[]):a.push(e)})),t.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(r,e.key)&&(n=n.concat(r[e.key])),n.push(e)})),n=n.concat(a)}(s,n),this.setState({children:u}),n.forEach((function(e){var n=e&&e.key;if(!e||!o[n]){var r=e&&Ese(s,n);if(i){var a=e.props[i];if(r)!Tse(s,n,i)&&a&&t.keysToEnter.push(n);else a&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}})),s.forEach((function(e){var r=e&&e.key;if(!e||!o[r]){var a=e&&Ese(n,r);if(i){var s=e.props[i];if(a)!Tse(n,r,i)&&s&&t.keysToLeave.push(r);else s&&t.keysToLeave.push(r)}else a||t.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?Tse(e,t,n):Ese(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,a=null;n&&(a=n.map((function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return r.createElement(Jse,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var i=t.component;if(i){var o=t;return"string"===typeof i&&(o=(0,Loe.Z)({className:t.className,style:t.style},t.componentProps)),r.createElement(i,o,a)}return a[0]||null}}]),t}(r.Component);tue.isAnimate=!0,tue.propTypes={className:Voe().string,style:Voe().object,component:Voe().any,componentProps:Voe().object,animation:Voe().object,transitionName:Voe().oneOfType([Voe().string,Voe().object]),transitionEnter:Voe().bool,transitionAppear:Voe().bool,exclusive:Voe().bool,transitionLeave:Voe().bool,onEnd:Voe().func,onEnter:Voe().func,onLeave:Voe().func,onAppear:Voe().func,showProp:Voe().string,children:Voe().node},tue.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:eue,onEnter:eue,onLeave:eue,onAppear:eue};var nue=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var a=Ise($se(r));e.isValidChildByKey(a,t)?"appear"===n?Yse.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):Yse.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r=Ise($se(n));if(e.isValidChildByKey(r,t))e.performEnter(t);else{var a=function(){Yse.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};!function(e,t,n){var r=e.length===t.length;return r&&e.forEach((function(e,a){var i=t[a];e&&i&&(e&&!i||!e&&i||e.key!==i.key||n&&e.props[n]!==i.props[n])&&(r=!1)})),r}(e.state.children,r,n.showProp)?e.setState({children:r},a):a()}}}},rue=Cse(tue),aue=function(e){function t(){return(0,Zoe.Z)(this,t),(0,Woe.Z)(this,e.apply(this,arguments))}return(0,Boe.Z)(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,a=(0,zoe.Z)(e,["hiddenClassName","visible"]);return t||r.Children.count(a.children)>1?(!n&&t&&(a.className+=" "+t),r.createElement("div",a)):r.Children.only(a.children)},t}(r.Component);aue.propTypes={children:Voe().any,className:Voe().string,visible:Voe().bool,hiddenClassName:Voe().string};var iue=aue,oue=function(e){function t(){return(0,Zoe.Z)(this,t),(0,Woe.Z)(this,e.apply(this,arguments))}return(0,Boe.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),r.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},r.createElement(iue,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(r.Component);oue.propTypes={hiddenClassName:Voe().string,className:Voe().string,prefixCls:Voe().string,onMouseEnter:Voe().func,onMouseLeave:Voe().func,onMouseDown:Voe().func,onTouchStart:Voe().func,children:Voe().any};var sue=oue,uue=function(e){function t(n){(0,Zoe.Z)(this,t);var r=(0,Woe.Z)(this,e.call(this,n));return lue.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=hse.bind(r,"popupInstance"),r.saveAlignRef=hse.bind(r,"alignInstance"),r}return(0,Boe.Z)(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return En.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,n=this.state,a=n.stretchChecked,i=n.targetHeight,o=n.targetWidth,s=this.props,u=s.align,l=s.visible,c=s.prefixCls,d=s.style,f=s.getClassNameFromAlign,p=s.destroyPopupOnHide,h=s.stretch,m=s.children,g=s.onMouseEnter,v=s.onMouseLeave,y=s.onMouseDown,b=s.onTouchStart,x=this.getClassName(this.currentAlignClassName||f(u)),A=c+"-hidden";l||(this.currentAlignClassName=null);var w={};h&&(-1!==h.indexOf("height")?w.height=i:-1!==h.indexOf("minHeight")&&(w.minHeight=i),-1!==h.indexOf("width")?w.width=o:-1!==h.indexOf("minWidth")&&(w.minWidth=o),a||(w.visibility="hidden",setTimeout((function(){e.alignInstance&&e.alignInstance.forceAlign()}),0)));var k={className:x,prefixCls:c,ref:t,onMouseEnter:g,onMouseLeave:v,onMouseDown:y,onTouchStart:b,style:(0,Loe.Z)({},w,d,this.getZIndexStyle())};return p?r.createElement(rue,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},l?r.createElement(kse,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:u,onAlign:this.onAlign},r.createElement(sue,(0,Loe.Z)({visible:!0},k),m)):null):r.createElement(rue,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},r.createElement(kse,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:l,childrenProps:{visible:"xVisible"},disabled:!l,align:u,onAlign:this.onAlign},r.createElement(sue,(0,Loe.Z)({hiddenClassName:A},k),m)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=r.createElement(iue,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=r.createElement(rue,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return r.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(r.Component);uue.propTypes={visible:Voe().bool,style:Voe().object,getClassNameFromAlign:Voe().func,onAlign:Voe().func,getRootDomNode:Voe().func,align:Voe().any,destroyPopupOnHide:Voe().bool,className:Voe().string,prefixCls:Voe().string,onMouseEnter:Voe().func,onMouseLeave:Voe().func,onMouseDown:Voe().func,onTouchStart:Voe().func,stretch:Voe().string,children:Voe().node,point:Voe().shape({pageX:Voe().number,pageY:Voe().number})};var lue=function(){var e=this;this.onAlign=function(t,n){var r=e.props,a=r.getClassNameFromAlign(n);e.currentAlignClassName!==a&&(e.currentAlignClassName=a,t.className=e.getClassName(a)),r.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,r=t.getRootDomNode,a=t.visible,i=e.state,o=i.stretchChecked,s=i.targetHeight,u=i.targetWidth;if(n&&a){var l=r();if(l){var c=l.offsetHeight,d=l.offsetWidth;s===c&&u===d&&o||e.setState({stretchChecked:!0,targetHeight:c,targetWidth:d})}}else o&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}},cue=uue;function due(){}var fue=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],pue=!!En.createPortal,hue={rcTrigger:Voe().shape({onPopupMouseDown:Voe().func})},mue=function(e){function t(n){(0,Zoe.Z)(this,t);var r=(0,Woe.Z)(this,e.call(this,n));gue.call(r);var a=void 0;return a="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.state={prevPopupVisible:a,popupVisible:a},fue.forEach((function(e){r["fire"+e]=function(t){r.fireEvents(e,t)}})),r}return(0,Boe.Z)(t,e),t.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(pue||this.renderComponent(null,(function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)})),r.popupVisible){var a=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(a=n.getDocument(),this.clickOutsideHandler=Koe(a,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(a=a||n.getDocument(),this.touchOutsideHandler=Koe(a,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(a=a||n.getDocument(),this.contextMenuOutsideHandler1=Koe(a,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Koe(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},t.getDerivedStateFromProps=function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return(0,Loe.Z)({},r,n)}(r,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var r=this,a=1e3*t;if(this.clearDelayTimer(),a){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),a)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,a=n.children,i=n.forceRender,o=n.alignPoint,s=n.className,u=r.Children.only(a),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=qt()(u&&u.props&&u.props.className,s);c&&(l.className=c);var d=r.cloneElement(u,l);if(!pue)return r.createElement(ase,{parent:this,visible:t,autoMount:!1,forceRender:i,getComponent:this.getComponent,getContainer:this.getContainer},(function(t){var n=t.renderComponent;return e.renderComponent=n,d}));var f=void 0;return(t||this._component||i)&&(f=r.createElement(fse,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[d,f]},t}(r.Component);mue.propTypes={children:Voe().any,action:Voe().oneOfType([Voe().string,Voe().arrayOf(Voe().string)]),showAction:Voe().any,hideAction:Voe().any,getPopupClassNameFromAlign:Voe().any,onPopupVisibleChange:Voe().func,afterPopupVisibleChange:Voe().func,popup:Voe().oneOfType([Voe().node,Voe().func]).isRequired,popupStyle:Voe().object,prefixCls:Voe().string,popupClassName:Voe().string,className:Voe().string,popupPlacement:Voe().string,builtinPlacements:Voe().object,popupTransitionName:Voe().oneOfType([Voe().string,Voe().object]),popupAnimation:Voe().any,mouseEnterDelay:Voe().number,mouseLeaveDelay:Voe().number,zIndex:Voe().number,focusDelay:Voe().number,blurDelay:Voe().number,getPopupContainer:Voe().func,getDocument:Voe().func,forceRender:Voe().bool,destroyPopupOnHide:Voe().bool,mask:Voe().bool,maskClosable:Voe().bool,onPopupAlign:Voe().func,popupAlign:Voe().object,popupVisible:Voe().bool,defaultPopupVisible:Voe().bool,maskTransitionName:Voe().oneOfType([Voe().string,Voe().object]),maskAnimation:Voe().string,stretch:Voe().string,alignPoint:Voe().bool},mue.contextTypes=hue,mue.childContextTypes=hue,mue.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:due,afterPopupVisibleChange:due,onPopupAlign:due,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var gue=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&Xoe(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target;Xoe((0,En.findDOMNode)(e),n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return(0,En.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,a=r.popupPlacement,i=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return a&&i&&n.push(function(e,t,n,r){var a=n.points;for(var i in e)if(e.hasOwnProperty(i)&&pse(e[i].points,a,r))return t+"-placement-"+i;return""}(i,o,t,s)),u&&n.push(u(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,a=t.destroyPopupOnHide,i=t.popupClassName,o=t.action,s=t.onPopupAlign,u=t.popupAnimation,l=t.popupTransitionName,c=t.popupStyle,d=t.mask,f=t.maskAnimation,p=t.maskTransitionName,h=t.zIndex,m=t.popup,g=t.stretch,v=t.alignPoint,y=e.state,b=y.popupVisible,x=y.point,A=e.getPopupAlign(),w={};return e.isMouseEnterToShow()&&(w.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(w.onMouseLeave=e.onPopupMouseLeave),w.onMouseDown=e.onPopupMouseDown,w.onTouchStart=e.onPopupMouseDown,r.createElement(cue,(0,Loe.Z)({prefixCls:n,destroyPopupOnHide:a,visible:b,point:v&&x,className:i,action:o,align:A,onAlign:s,animation:u,getClassNameFromAlign:e.getPopupClassNameFromAlign},w,{stretch:g,getRootDomNode:e.getRootDomNode,style:c,mask:d,zIndex:h,transitionName:l,maskAnimation:f,maskTransitionName:p,ref:e.savePopup}),"function"===typeof m?m():m)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer((0,En.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}};!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==a){var i=e.displayName||e.name,o="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Hoe,t.componentWillReceiveProps=Uoe),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Goe;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(mue);var vue=mue,yue={adjustX:1,adjustY:1},bue=[0,0],xue={left:{points:["cr","cl"],overflow:yue,offset:[-4,0],targetOffset:bue},right:{points:["cl","cr"],overflow:yue,offset:[4,0],targetOffset:bue},top:{points:["bc","tc"],overflow:yue,offset:[0,-4],targetOffset:bue},bottom:{points:["tc","bc"],overflow:yue,offset:[0,4],targetOffset:bue},topLeft:{points:["bl","tl"],overflow:yue,offset:[0,-4],targetOffset:bue},leftTop:{points:["tr","tl"],overflow:yue,offset:[-4,0],targetOffset:bue},topRight:{points:["br","tr"],overflow:yue,offset:[0,-4],targetOffset:bue},rightTop:{points:["tl","tr"],overflow:yue,offset:[4,0],targetOffset:bue},bottomRight:{points:["tr","br"],overflow:yue,offset:[0,4],targetOffset:bue},rightBottom:{points:["bl","br"],overflow:yue,offset:[4,0],targetOffset:bue},bottomLeft:{points:["tl","bl"],overflow:yue,offset:[0,4],targetOffset:bue},leftBottom:{points:["br","bl"],overflow:yue,offset:[-4,0],targetOffset:bue}},Aue=function(e){function t(){return(0,Zoe.Z)(this,t),(0,Woe.Z)(this,e.apply(this,arguments))}return(0,Boe.Z)(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},t.prototype.render=function(){var e=this.props,t=e.overlay,n=e.prefixCls,a=e.id;return r.createElement("div",{className:n+"-inner",id:a,role:"tooltip"},"function"===typeof t?t():t)},t}(r.Component);Aue.propTypes={prefixCls:Voe().string,overlay:Voe().oneOfType([Voe().node,Voe().func]).isRequired,id:Voe().string,trigger:Voe().any};var wue=Aue,kue=function(e){function t(){var n,a,i;(0,Zoe.Z)(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=a=(0,Woe.Z)(this,e.call.apply(e,[this].concat(s))),a.getPopupElement=function(){var e=a.props,t=e.arrowContent,n=e.overlay,i=e.prefixCls,o=e.id;return[r.createElement("div",{className:i+"-arrow",key:"arrow"},t),r.createElement(wue,{key:"content",trigger:a.trigger,prefixCls:i,id:o,overlay:n})]},a.saveTrigger=function(e){a.trigger=e},i=n,(0,Woe.Z)(a,i)}return(0,Boe.Z)(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,a=e.mouseEnterDelay,i=e.mouseLeaveDelay,o=e.overlayStyle,s=e.prefixCls,u=e.children,l=e.onVisibleChange,c=e.afterVisibleChange,d=e.transitionName,f=e.animation,p=e.placement,h=e.align,m=e.destroyTooltipOnHide,g=e.defaultVisible,v=e.getTooltipContainer,y=(0,zoe.Z)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),b=(0,Loe.Z)({},y);return"visible"in this.props&&(b.popupVisible=this.props.visible),r.createElement(vue,(0,Loe.Z)({popupClassName:t,ref:this.saveTrigger,prefixCls:s,popup:this.getPopupElement,action:n,builtinPlacements:xue,popupPlacement:p,popupAlign:h,getPopupContainer:v,onPopupVisibleChange:l,afterPopupVisibleChange:c,popupTransitionName:d,popupAnimation:f,defaultPopupVisible:g,destroyPopupOnHide:m,mouseLeaveDelay:i,popupStyle:o,mouseEnterDelay:a},b),u)},t}(r.Component);kue.propTypes={trigger:Voe().any,children:Voe().any,defaultVisible:Voe().bool,visible:Voe().bool,placement:Voe().string,transitionName:Voe().oneOfType([Voe().string,Voe().object]),animation:Voe().any,onVisibleChange:Voe().func,afterVisibleChange:Voe().func,overlay:Voe().oneOfType([Voe().node,Voe().func]).isRequired,overlayStyle:Voe().object,overlayClassName:Voe().string,prefixCls:Voe().string,mouseEnterDelay:Voe().number,mouseLeaveDelay:Voe().number,getTooltipContainer:Voe().func,destroyTooltipOnHide:Voe().bool,align:Voe().object,arrowContent:Voe().any,id:Voe().string},kue.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var Sue,Cue=kue,Iue=function(e){var t=e.children,n=e.content,a=e.className,i=e.open,o=Ht(e,["children","content","className","open"]),s=On(),u=Vt(Vt({},s.tooltip),o),l=u.showArrow,c=void 0!==l&&l,d=u.enterDelay,f=void 0===d?0:d,p=u.leaveDelay,h=void 0===p?0:p,m=u.align,g=void 0===m?"top":m,v=u.activateOn,y=void 0===v?["hover","focus"]:v;return r.createElement(Cue,Vt({},void 0!==i?{visible:i}:{},{trigger:Array.isArray(y)?y:[y],prefixCls:"rmwc-tooltip",placement:g,transitionName:"rmwc-tooltip-zoom",mouseEnterDelay:f/1e3,mouseLeaveDelay:h/1e3,overlay:n,overlayClassName:qt()(a,{"rmwc-tooltip--show-arrow":c}),destroyTooltipOnHide:!0}),t)};n(9111);function Eue(e){var t=e.record,n=e.onDeleteRestSession;return(0,Mie.jsx)(koe.Item,{color:"green",dot:(0,Mie.jsx)(Ioe,{}),children:(0,Mie.jsxs)("div",{className:_e(Sue||(Sue=i(["\n          display: flex;\n          justify-content: space-between;\n        "]))),children:[(0,Mie.jsxs)("p",{children:[" Rest for ",Foe(t.timePeriod)," "]}),(0,Mie.jsx)(Iue,{content:"Remove this session, and merge adjacent session.",showArrow:!0,children:(0,Mie.jsx)(rr,{label:"Remove",onClick:function(){n(t.startTime)}})})]})})}var Tue=function(e){var t=e.mergedTimeTable,n=(0,r.useContext)(gie),a=t.filter((function(e){return!n.history.onlyShowToday||new Date(e.startTime).toDateString()===(new Date).toDateString()})),i=a.filter((function(e){return e.detected})).map((function(e,t){return(0,Mie.jsx)(koe.Item,{record:e,dot:(0,Mie.jsx)(Moe,{}),children:(0,Mie.jsx)(Doe,{record:e,index:t+1})},e.startTime)})),o=a.filter((function(e){return!e.detected})).map((function(t,n){return(0,Mie.jsx)(Eue,{record:t,onDeleteRestSession:e.onDeleteRestSession},t.startTime)})),s=i.concat(o);return s.sort((function(e,t){return e.props.record.startTime<t.props.record.startTime?1:-1})),(0,Mie.jsx)(koe,{mode:"left",children:s})},Nue=n(8446),Oue=n(4389);var Pue,_ue=function(e){var t=e.mergedTimeTable.filter((function(e){return new Date(e.startTime).toDateString()===(new Date).toDateString()})),n=t.filter((function(e){return e.detected})).reduce((function(e,t){return e+t.timePeriod}),0),r="Total: "+Foe(n),a={plotOptions:{bar:{horizontal:!0,barHeight:"100%"}},colors:["#b0003a"],xaxis:{type:"datetime",labels:{datetimeUTC:!1}},tooltip:{custom:function(e){var t=e.w.config.series[e.seriesIndex].data[e.dataPointIndex].info,n=(0,Mie.jsx)(Doe,{record:t});return(0,Oue.Dq)(n)}}},i=[{name:"focus",data:t.map((function(e){return{x:r,y:[new Date(e.startTime).getTime(),new Date(e.endTime).getTime()],info:e}})).filter((function(e){return e.info.detected}))}];return(0,Mie.jsx)(Nue.Z,{options:a,series:i,type:"rangeBar",height:100})},Mue=_e(Pue||(Pue=i(["\n  font-size: 20vw;\n  margin: 0 auto;\n  text-align: center;\n  @media (min-width: 700px) {\n    font-size: 140px;\n  }\n  @media (max-width: 350px) {\n    font-size: 75px;\n  }\n"])));function Rue(e){var t=e.focus?"WORKING":"REST",n=e.className||Mue;return(0,Mie.jsx)("p",{className:n,children:t})}var Fue=n(9806),Due=n(7974),Lue=Object.defineProperty,zue=Object.defineProperties,Zue=Object.getOwnPropertyDescriptors,Wue=Object.getOwnPropertySymbols,Bue=Object.prototype.hasOwnProperty,jue=Object.prototype.propertyIsEnumerable,Vue=function(e,t,n){return t in e?Lue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Hue=function(e,t){for(var n in t||(t={}))Bue.call(t,n)&&Vue(e,n,t[n]);if(Wue){var r,a=Yr(Wue(t));try{for(a.s();!(r=a.n()).done;){n=r.value;jue.call(t,n)&&Vue(e,n,t[n])}}catch(i){a.e(i)}finally{a.f()}}return e},Uue=function(e,t){return zue(e,Zue(t))};function Gue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Uue(Hue({},e),{height:0,width:0,playerVars:Uue(Hue({},e.playerVars),{autoplay:0,start:0,end:0})})}var Xue={videoId:joe.string,id:joe.string,className:joe.string,iframeClassName:joe.string,style:joe.object,title:joe.string,loading:joe.oneOf(["lazy","eager"]),opts:joe.objectOf(joe.any),onReady:joe.func,onError:joe.func,onPlay:joe.func,onPause:joe.func,onEnd:joe.func,onStateChange:joe.func,onPlaybackRateChange:joe.func,onPlaybackQualityChange:joe.func},Yue=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e){var r;return(0,Ur.Z)(this,n),(r=t.call(this,e)).destroyPlayerPromise=void 0,r.onPlayerReady=function(e){var t,n;return null==(n=(t=r.props).onReady)?void 0:n.call(t,e)},r.onPlayerError=function(e){var t,n;return null==(n=(t=r.props).onError)?void 0:n.call(t,e)},r.onPlayerStateChange=function(e){var t,a,i,o,s,u,l,c;switch(null==(a=(t=r.props).onStateChange)||a.call(t,e),e.data){case n.PlayerState.ENDED:null==(o=(i=r.props).onEnd)||o.call(i,e);break;case n.PlayerState.PLAYING:null==(u=(s=r.props).onPlay)||u.call(s,e);break;case n.PlayerState.PAUSED:null==(c=(l=r.props).onPause)||c.call(l,e)}},r.onPlayerPlaybackRateChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackRateChange)?void 0:n.call(t,e)},r.onPlayerPlaybackQualityChange=function(e){var t,n;return null==(n=(t=r.props).onPlaybackQualityChange)?void 0:n.call(t,e)},r.destroyPlayer=function(){return r.internalPlayer?(r.destroyPlayerPromise=r.internalPlayer.destroy().then((function(){return r.destroyPlayerPromise=void 0})),r.destroyPlayerPromise):Promise.resolve()},r.createPlayer=function(){if("undefined"!==typeof document)if(r.destroyPlayerPromise)r.destroyPlayerPromise.then(r.createPlayer);else{var e=Uue(Hue({},r.props.opts),{videoId:r.props.videoId});r.internalPlayer=Due(r.container,e),r.internalPlayer.on("ready",r.onPlayerReady),r.internalPlayer.on("error",r.onPlayerError),r.internalPlayer.on("stateChange",r.onPlayerStateChange),r.internalPlayer.on("playbackRateChange",r.onPlayerPlaybackRateChange),r.internalPlayer.on("playbackQualityChange",r.onPlayerPlaybackQualityChange),(r.props.title||r.props.loading)&&r.internalPlayer.getIframe().then((function(e){r.props.title&&e.setAttribute("title",r.props.title),r.props.loading&&e.setAttribute("loading",r.props.loading)}))}},r.resetPlayer=function(){return r.destroyPlayer().then(r.createPlayer)},r.updatePlayer=function(){var e;null==(e=r.internalPlayer)||e.getIframe().then((function(e){r.props.id?e.setAttribute("id",r.props.id):e.removeAttribute("id"),r.props.iframeClassName?e.setAttribute("class",r.props.iframeClassName):e.removeAttribute("class"),r.props.opts&&r.props.opts.width?e.setAttribute("width",r.props.opts.width.toString()):e.removeAttribute("width"),r.props.opts&&r.props.opts.height?e.setAttribute("height",r.props.opts.height.toString()):e.removeAttribute("height"),r.props.title?e.setAttribute("title",r.props.title):e.setAttribute("title","YouTube video player"),r.props.loading?e.setAttribute("loading",r.props.loading):e.removeAttribute("loading")}))},r.getInternalPlayer=function(){return r.internalPlayer},r.updateVideo=function(){var e,t,n,a;if("undefined"!==typeof r.props.videoId&&null!==r.props.videoId){var i=!1,o={videoId:r.props.videoId};(null==(t=r.props.opts)?void 0:t.playerVars)&&(i=1===r.props.opts.playerVars.autoplay,"start"in r.props.opts.playerVars&&(o.startSeconds=r.props.opts.playerVars.start),"end"in r.props.opts.playerVars&&(o.endSeconds=r.props.opts.playerVars.end)),i?null==(n=r.internalPlayer)||n.loadVideoById(o):null==(a=r.internalPlayer)||a.cueVideoById(o)}else null==(e=r.internalPlayer)||e.stopVideo()},r.refContainer=function(e){r.container=e},r.container=null,r.internalPlayer=null,r}return(0,Gr.Z)(n,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){(function(e,t){var n,r,a,i;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(a=e.opts)?void 0:a.height)!==(null==(i=t.opts)?void 0:i.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!Fue(Gue(e.opts),Gue(t.opts))}(e,this.props)&&this.resetPlayer(),function(e,t){var n,r;if(e.videoId!==t.videoId)return!0;var a=(null==(n=e.opts)?void 0:n.playerVars)||{},i=(null==(r=t.opts)?void 0:r.playerVars)||{};return a.start!==i.start||a.end!==i.end}(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){this.destroyPlayer()}},{key:"render",value:function(){return r.createElement("div",{className:this.props.className,style:this.props.style},r.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}}]),n}(r.Component),que=Yue;que.propTypes=Xue,que.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},que.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Kue,Jue=que;function Que(e){var t=(0,r.useRef)(null),n=e.shouldPlay,a={height:"100%",width:"100%",playerVars:{autoplay:1,loop:1,playlist:e.vid}};return(0,r.useEffect)((function(){t.current&&(console.log(t.current.internalPlayer),n?t.current.internalPlayer.playVideo():t.current.internalPlayer.pauseVideo())}),[n]),(0,Mie.jsx)(Jue,{className:_e(Kue||(Kue=i(["\n          height: 100%;\n          width: 100%;\n          position: relative;\n        "]))),ref:t,videoId:e.vid,opts:a})}var $ue,ele,tle,nle,rle=n(9461),ale=n.n(rle);function ile(e){var t=(0,r.useContext)(gie),n=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}(t.playerUrl?t.playerUrl:"");if(!n)return(0,Mie.jsx)(Mie.Fragment,{});var a=!0;e.focus&&e.overTime&&(a=!1),e.focus||e.overTime||(a=!1);var o=_e($ue||($ue=i(["\n    height: calc(100vh - 64px);\n    width: 100vw;\n    max-width:100%;\n    max-height:100%;\n  "])));return(0,Mie.jsxs)("div",{className:o,children:[(0,Mie.jsx)(Que,{vid:n,shouldPlay:a}),(0,Mie.jsx)("div",{children:(0,Mie.jsx)(ale(),{bounds:"."+o,children:(0,Mie.jsxs)("div",{className:_e(ele||(ele=i(["\n            background: white;\n            opacity: 0.7;\n            position: absolute;\n            top: 10vh;\n            left: 10px;\n\n            .flip-clock {\n                font-size: 15px;\n            }\n\n            padding: 10px;\n            border-radius: 10px;\n            cursor: grab;\n        "]))),children:[(0,Mie.jsx)(Rue,{className:_e(tle||(tle=i(["\n                font-size: 70px;\n                margin: 0 auto;\n                text-align: center;\n              "]))),focus:e.focus}),(0,Mie.jsx)(Zie,{startTime:e.startTime})]})})})]})}var ole=function(e){var t=(0,r.useContext)(gie),n=t.alertStudySeconds,a=t.alertRestSeconds,u=t.history.maxLocalStorageTimeSlot,c=(0,r.useState)(""),d=(0,o.Z)(c,2),f=d[0],p=d[1],h=(0,r.useState)(!1),m=(0,o.Z)(h,2),g=m[0],v=m[1],y=(0,r.useState)(!1),b=(0,o.Z)(y,2),x=b[0],A=b[1];function w(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||(new Date).toJSON(),r=Math.floor((new Date-new Date(n))/1e3);return{startTime:n,endTime:(new Date).toJSON(),detected:e,timePeriod:r}}var k=Be("mergedTimeTable",{defaultValue:[w(!0)],serializer:function(e){return JSON.stringify(e)},deserializer:function(e){var t=JSON.parse(e);return new Date-new Date(t.at(-1).endTime)>1e3*n&&t.push(w(!0)),t.slice(0-u)}}),S=(0,o.Z)(k,2),C=S[0],I=S[1],E=C.at(-1),T=(0,r.useState)({}),N=(0,o.Z)(T,2),O=N[0],P=N[1],_=Ve("/face-recognition-pomodoro/sounds/dingbell.aac"),M=(0,o.Z)(_,1)[0],R=t.tempMissingSeconds,F=(0,r.useState)(!1),D=(0,o.Z)(F,2),L=D[0],z=D[1];function Z(e,n){if(!(O[e]&&new Date-O[e].lastSendTime<1e3*O[e].nextSendInterval)){M(),L&&"granted"===Notification.permission&&new Notification(e,{icon:n,badge:n}),v(!0),p(e);var r=O[e]?O[e].nextSendInterval*t.notificationIntervalMultiplier:t.notificationIntervalSeconds;O[e]={lastSendTime:new Date,nextSendInterval:r},P(O)}}return(0,r.useEffect)((function(){var e="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;z(e),e?t.enableNotification&&Notification.requestPermission():console.log("This browser does not support desktop notification")}),[t.enableNotification]),l((function(){var e=(new Date-new Date(E.startTime))/1e3;if(E.detected&&e>n){A(!0),document.title=t.restNotificationText;Z(t.restNotificationText,"https://chenditc.github.io/face-recognition-pomodoro/images/relax.png")}else if(!E.detected&&e>a){A(!0),document.title=t.focusNotificationText;Z(t.focusNotificationText,"https://chenditc.github.io/face-recognition-pomodoro/images/focus.png")}else document.title=Foe(e,!0),A(!1),e>t.tempMissingSeconds&&Object.keys(O).length>0&&P({})}),500,!0),(0,Mie.jsxs)(Mie.Fragment,{children:[(0,Mie.jsx)(ile,{focus:E.detected,overTime:x,startTime:E.startTime}),(0,Mie.jsxs)("div",{className:_e(nle||(nle=i(["\n      margin: 0 15px;\n      max-width: 700px;\n      min-width: 350px;\n      @media (min-width: 730px) {\n        margin: 0 auto;\n      }\n      "]))),children:[(0,Mie.jsx)(wr,{open:g,onClose:function(){return v(!1)},message:f,dismissesOnAction:!0,action:(0,Mie.jsx)(Cr,{label:"Dismiss",onClick:function(){return console.log("Dismiss notification")}})}),(0,Mie.jsxs)(an,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Rue,{focus:E.detected})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Zie,{startTime:E.startTime})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Die,{onFaceDetectionResult:function(e){var n=jt(C,(function(n){var r=void 0!==e;if(n.at(-1).detected!==r&&n.at(-1).timePeriod<R&&n.pop(),0!==n.length&&n.at(-1).detected===r){if(n.at(-1).detected&&new Date-new Date(n.at(-1).endTime)>1e3*t.tempMissingSeconds)return n.push(w(!1,n.at(-1).endTime)),void n.push(w(!0,new Date));n.at(-1).endTime=(new Date).toJSON(),n.at(-1).timePeriod=(new Date-new Date(n.at(-1).startTime))/1e3}else n.push(w(r,n.at(-1).endTime))}));I(n)}})}),t.history.showPomodoroHistory?(0,Mie.jsxs)(on,{span:12,children:[(0,Mie.jsx)("h3",{children:"Pomodoro History"}),(0,Mie.jsx)(_ue,{mergedTimeTable:C}),(0,Mie.jsx)(Tue,{mergedTimeTable:C,onDeleteRestSession:function(e){I(C.reduce((function(t,n){var r=t.slice();if(n.startTime===e||t.at(-1)&&t.at(-1).endTime===n.startTime&&t.at(-1).detected===n.detected){var a=(0,s.Z)((0,s.Z)({},r.at(-1)),{},{endTime:n.endTime,timePeriod:(new Date(t.at(-1).endTime)-new Date(t.at(-1).startTime))/1e3});return r.pop(),r.push(a),r}return r.push(n),r}),[]))}})]}):(0,Mie.jsx)(Mie.Fragment,{})]})]})]})},sle=function(e,t){return sle=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},sle(e,t)};function ule(e,t){function n(){this.constructor=e}sle(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var lle=function(){return lle=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},lle.apply(this,arguments)};function cle(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var dle={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},fle={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},ple={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},hle=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),mle=function(e){function t(n){return e.call(this,lle(lle({},t.defaultAdapter),n))||this}return ule(t,e),Object.defineProperty(t,"strings",{get:function(){return ple},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return dle},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return fle},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),t.prototype.handleTargetScroll=function(){},t.prototype.handleWindowResize=function(){},t.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},t}(hle),gle=function(e){function t(t){var n=e.call(this,t)||this;return n.wasDocked_=!0,n.isDockedShowing_=!0,n.currentAppBarOffsetTop_=0,n.isCurrentlyBeingResized_=!1,n.resizeThrottleId_=0,n.resizeDebounceId_=0,n.lastScrollPosition_=n.adapter.getViewportScrollY(),n.topAppBarHeight_=n.adapter.getTopAppBarHeight(),n}return ule(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.adapter.setStyle("top","")},t.prototype.handleTargetScroll=function(){var e=Math.max(this.adapter.getViewportScrollY(),0),t=e-this.lastScrollPosition_;this.lastScrollPosition_=e,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=t,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},t.prototype.handleWindowResize=function(){var e=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout((function(){e.resizeThrottleId_=0,e.throttledResizeHandler_()}),fle.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout((function(){e.handleTargetScroll(),e.isCurrentlyBeingResized_=!1,e.resizeDebounceId_=0}),fle.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},t.prototype.checkForUpdate_=function(){var e=-this.topAppBarHeight_,t=this.currentAppBarOffsetTop_<0,n=this.currentAppBarOffsetTop_>e,r=t&&n;if(r)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==n)return this.isDockedShowing_=n,!0}return r},t.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var e=this.currentAppBarOffsetTop_;Math.abs(e)>=this.topAppBarHeight_&&(e=-fle.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",e+"px")}},t.prototype.throttledResizeHandler_=function(){var e=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==e&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-e,this.topAppBarHeight_=e),this.handleTargetScroll()},t}(mle),vle=function(e){function t(t){var n=e.call(this,t)||this;return n.isCollapsed_=!1,n.isAlwaysCollapsed_=!1,n}return ule(t,e),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.isCollapsed_},enumerable:!0,configurable:!0}),t.prototype.init=function(){e.prototype.init.call(this),this.adapter.getTotalActionItems()>0&&this.adapter.addClass(dle.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter.hasClass(dle.SHORT_COLLAPSED_CLASS))},t.prototype.setAlwaysCollapsed=function(e){this.isAlwaysCollapsed_=!!e,this.isAlwaysCollapsed_?this.collapse_():this.maybeCollapseBar_()},t.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed_},t.prototype.handleTargetScroll=function(){this.maybeCollapseBar_()},t.prototype.maybeCollapseBar_=function(){this.isAlwaysCollapsed_||(this.adapter.getViewportScrollY()<=0?this.isCollapsed_&&this.uncollapse_():this.isCollapsed_||this.collapse_())},t.prototype.uncollapse_=function(){this.adapter.removeClass(dle.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!1},t.prototype.collapse_=function(){this.adapter.addClass(dle.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!0},t}(mle),yle=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasScrolled_=!1,t}return ule(t,e),t.prototype.handleTargetScroll=function(){this.adapter.getViewportScrollY()<=0?this.wasScrolled_&&(this.adapter.removeClass(dle.FIXED_SCROLLED_CLASS),this.wasScrolled_=!1):this.wasScrolled_||(this.adapter.addClass(dle.FIXED_SCROLLED_CLASS),this.wasScrolled_=!0)},t}(gle),ble=nn((function(e,t){return r.createElement(xle,lle({key:e.short?"short":e.fixed?"fixed":"top-app-bar"},e,{ref:t}))})),xle=nn((function(e,t){var n=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=Fn({props:e,elements:{rootEl:!0},foundation:function(n){var r=n.rootEl,a=n.emit,i={hasClass:function(e){return r.hasClass(e)},addClass:function(e){return r.addClass(e)},removeClass:function(e){return r.removeClass(e)},setStyle:function(e,t){return r.setStyle(e,t)},getTopAppBarHeight:function(){var e;return(null===(e=r.ref)||void 0===e?void 0:e.clientHeight)||0},notifyNavigationIconClicked:function(){return a("onNav",{})},getViewportScrollY:function(){var e=t.current;return e?e["pageYOffset"in e?"pageYOffset":"scrollTop"]:0},getTotalActionItems:function(){return r.ref?r.ref.querySelectorAll(gle.strings.ACTION_ITEM_SELECTOR).length:0}};return e.short?new vle(i):e.fixed?new yle(i):new gle(i)}}),i=a.foundation,o=cle(a,["foundation"]),s=o.rootEl;return(0,r.useEffect)((function(){var n,r,a=e.scrollTarget||(null===(r=null===(n=s.ref)||void 0===n?void 0:n.ownerDocument)||void 0===r?void 0:r.defaultView)||window,o=i.handleTargetScroll.bind(i);return a.addEventListener("scroll",o),t.current=a,function(){a.removeEventListener("scroll",o)}}),[e.scrollTarget,t,i,s.ref]),(0,r.useEffect)((function(){var e,t;n.current=(null===(e=s.ref)||void 0===e?void 0:e.querySelector(gle.strings.NAVIGATION_ICON_SELECTOR))||null;var r=i.handleNavigationClick.bind(i);return null===(t=n.current)||void 0===t||t.addEventListener("click",r),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("click",r)}}),[s.ref,i]),(0,r.useEffect)((function(){i.lastScrollPosition_=i.adapter.getViewportScrollY(),i.topAppBarHeight_=i.adapter.getTopAppBarHeight()}),[i]),lle({foundation:i},o)}(e).rootEl,a=(e.onNav,e.scrollTarget,e.fixed),i=e.prominent,o=e.short,s=e.shortCollapsed,u=e.dense,l=(e.foundationRef,cle(e,["onNav","scrollTarget","fixed","prominent","short","shortCollapsed","dense","foundationRef"])),c=$t(e,["mdc-top-app-bar",{"mdc-top-app-bar--fixed":a,"mdc-top-app-bar--prominent":i,"mdc-top-app-bar--short":o||s,"mdc-top-app-bar--short-collapsed":s,"mdc-top-app-bar--dense":u}]);return r.createElement(Qt,lle({tag:"header"},l,{element:n,className:c,ref:t}))})),Ale=(nn((function(e,t){var n=e.title,a=e.actionItems,i=e.navigationIcon,o=e.startContent,s=e.endContent,u=cle(e,["title","actionItems","navigationIcon","startContent","endContent"]);return r.createElement(ble,lle({},u,{ref:t}),r.createElement(Ale,null,r.createElement(wle,{alignStart:!0},!!i&&r.createElement(kle,lle({icon:"menu"},"boolean"===typeof i?{}:i)),!!n&&r.createElement(Cle,null,n),o),(!!a||s)&&r.createElement(wle,{alignEnd:!0},s,!!a&&a.map((function(e,t){return r.createElement(Sle,lle({},e,{key:t}))})))))})),nn((function(e,t){var n=$t(e,["mdc-top-app-bar__row"]);return r.createElement(Qt,lle({},e,{ref:t,className:n}))}))),wle=nn((function(e,t){var n=e.alignStart,a=e.alignEnd,i=cle(e,["alignStart","alignEnd"]),o=$t(e,["mdc-top-app-bar__section",{"mdc-top-app-bar__section--align-start":n,"mdc-top-app-bar__section--align-end":a}]);return r.createElement(Qt,lle({tag:"section"},i,{ref:t,className:o}))})),kle=nn((function(e,t){var n=$t(e,["mdc-top-app-bar__navigation-icon"]);return r.createElement(vr,lle({},e,{className:n,ref:t}))})),Sle=nn((function(e,t){var n=$t(e,["mdc-top-app-bar__action-item"]);return r.createElement(vr,lle({},e,{className:n,ref:t}))})),Cle=nn((function(e,t){var n=$t(e,["mdc-top-app-bar__title"]);return r.createElement(Qt,lle({},e,{ref:t,className:n}))})),Ile=nn((function(e,t){e.dense,e.denseProminent,e.prominent,e.short;var n=cle(e,["dense","denseProminent","prominent","short"]),a=$t(e,[{"mdc-top-app-bar--fixed-adjust":!e.dense&&!e.denseProminent&&!e.prominent&&!e.short,"mdc-top-app-bar--dense-fixed-adjust":e.dense,"mdc-top-app-bar--prominent-fixed-adjust":e.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":e.denseProminent,"mdc-top-app-bar--short-fixed-adjust":e.short}]);return r.createElement(Qt,lle({},n,{ref:t,className:a}))})),Ele=function(e){var t=r.Children.only(e.children);return r.cloneElement(t,Vt(Vt(Vt({},e),t.props),{className:qt()(e.className,t.props.className),style:Vt(Vt({},t.props.style),e.style)}))},Tle={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",transparent:"#ffffff",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Nle=function(e,t,n){var r=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]},Ole=function(e){var t;return function(e){4===e.length&&(e+=e.slice(1));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}}(e=Tle[t=e]||t)},Ple=function(e){var t,n,r=Ole(e),a=r.r,i=r.g,o=r.b;return!((n=[a,i,o],(Nle((t=[255,255,255])[0],t[1],t[2])+.05)/(Nle(n[0],n[1],n[2])+.05))>3)},_le={"--mdc-theme-primary":[["--mdc-theme-on-primary",0]],"--mdc-theme-surface":[["--mdc-theme-on-surface",0]],"--mdc-theme-secondary":[["--mdc-theme-on-secondary",0]],"--mdc-theme-background":[["--mdc-theme-text-primary-on-background",0],["--mdc-theme-text-secondary-on-background",1],["--mdc-theme-text-hint-on-background",2],["--mdc-theme-text-disabled-on-background",2],["--mdc-theme-text-icon-on-background",2]]},Mle=["rgba(0, 0, 0, 0.87)","rgba(0, 0, 0, 0.54)","rgba(0, 0, 0, 0.38)"],Rle=["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0.7)","rgba(255, 255, 255, 0.5)"],Fle=(nn((function(e,t){var n=e.use,a=e.wrap,i=Ht(e,["use","wrap"]),o=$t(e,[Jt(n).join(" ")]);return a?Ele(Vt(Vt({},i),{ref:t,className:o})):r.createElement(Qt,Vt({tag:"span",theme:n},i,{ref:t,className:o}))})),nn((function(e,t){var n,a,i=JSON.stringify(e.options),o=(0,r.useMemo)((function(){return function(e){var t=Object.keys(_le).reduce((function(t,n){if(e[n]){var r=Ple(e[n])?Mle:Rle;_le[n].forEach((function(e){t[e[0]]=r[e[1]]}))}return t}),{});return Vt(Vt({},t),e)}(Object.keys(e.options).reduce((function(t,n){var r=e.options[n];return t[n=n.startsWith("--")?n:"--mdc-theme-"+Kt(n)]=r,t}),{}))}),[i]),s=(e.options,e.style),u=void 0===s?{}:s,l=e.wrap,c=Ht(e,["options","style","wrap"]),d=$t(e,[l&&"object"===typeof c.children&&(null===(a=null===(n=c.children)||void 0===n?void 0:n.props)||void 0===a?void 0:a.className)]),f=Vt(Vt({},u),o);return l&&c.children?Ele(Vt(Vt({},c),{style:f,ref:t})):r.createElement(Qt,Vt({},c,{style:f,className:d,ref:t}))}))),Dle=(n(3147),n(9619),n(9933),function(e,t){return Dle=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Dle(e,t)});var Lle=function(){return Lle=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Lle.apply(this,arguments)};function zle(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var Zle=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Wle={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},Ble={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},jle={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},Vle=function(e){function t(n){var r=e.call(this,Lle(Lle({},t.defaultAdapter),n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.layoutFrame_=0,r.escapeKeyAction_=Ble.CLOSE_ACTION,r.scrimClickAction_=Ble.CLOSE_ACTION,r.autoStackButtons_=!0,r.areButtonsStacked_=!1,r.suppressDefaultPressSelector=Ble.SUPPRESS_DEFAULT_PRESS_SELECTOR,r}return function(e,t){function n(){this.constructor=e}Dle(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Wle},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ble},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jle},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(Wle.STACKED)&&this.setAutoStackButtons(!1)},t.prototype.destroy=function(){this.isOpen_&&this.close(Ble.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},t.prototype.open=function(){var e=this;this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.addClass(Wle.OPENING),this.runNextAnimationFrame_((function(){e.adapter.addClass(Wle.OPEN),e.adapter.addBodyClass(Wle.SCROLL_LOCK),e.layout(),e.animationTimer_=setTimeout((function(){e.handleAnimationTimerEnd_(),e.adapter.trapFocus(e.adapter.getInitialFocusEl()),e.adapter.notifyOpened()}),jle.DIALOG_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.isOpen_&&(this.isOpen_=!1,this.adapter.notifyClosing(e),this.adapter.addClass(Wle.CLOSING),this.adapter.removeClass(Wle.OPEN),this.adapter.removeBodyClass(Wle.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){t.adapter.releaseFocus(),t.handleAnimationTimerEnd_(),t.adapter.notifyClosed(e)}),jle.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.isOpen_},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction_=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction_},t.prototype.setScrimClickAction=function(e){this.scrimClickAction_=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons_=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.handleClick=function(e){if(this.adapter.eventTargetMatches(e.target,Ble.SCRIM_SELECTOR)&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else{var t=this.adapter.getActionFromEvent(e);t&&this.close(t)}},t.prototype.handleKeydown=function(e){var t="Enter"===e.key||13===e.keyCode;if(t&&!this.adapter.getActionFromEvent(e)){var n=e.composedPath?e.composedPath()[0]:e.target,r=!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);t&&r&&this.adapter.clickDefaultButton()}},t.prototype.handleDocumentKeydown=function(e){("Escape"===e.key||27===e.keyCode)&&""!==this.escapeKeyAction_&&this.close(this.escapeKeyAction_)},t.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},t.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(Wle.OPENING),this.adapter.removeClass(Wle.CLOSING)},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},t.prototype.detectStackedButtons_=function(){this.adapter.removeClass(Wle.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(Wle.STACKED),e!==this.areButtonsStacked_&&(this.adapter.reverseButtons(),this.areButtonsStacked_=e)},t.prototype.detectScrollableContent_=function(){this.adapter.removeClass(Wle.SCROLLABLE),this.adapter.isContentScrollable()&&this.adapter.addClass(Wle.SCROLLABLE)},t}(Zle),Hle="rmwcPortal";function Ule(e){var t=e.children,n=e.renderTo,a=(0,r.useMemo)((function(){if("undefined"!==typeof document){var e=void 0;return!0===n?!(e=document.getElementById(Hle)||void 0)&&console.warn('No default Portal found. Did you forget to include it in the root of your app? `import { Portal } from "@rmwc/base";`'):"string"===typeof n?!(e=document.querySelector(n)||void 0)&&console.warn('The selector you provided for renderToPortal "'+n+"\" didn't find any elements."):n instanceof Element&&(e=n),e}}),[n]);return a?En.createPortal(t,a):r.createElement(r.Fragment,null,t)}var Gle=n(4767).focusTrap.FocusTrap,Xle=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(null),a=(0,r.useRef)(null),i=(0,r.useRef)(null),o=Fn({props:e,elements:{rootEl:!0},foundation:function(e){var r=e.rootEl,o=e.emit;e.getProps;return new Vle({addClass:function(e){return r.addClass(e)},removeClass:function(e){return r.removeClass(e)},hasClass:function(e){return r.hasClass(e)},addBodyClass:function(e){return document.body&&document.body.classList.add(e)},removeBodyClass:function(e){return document.body&&document.body.classList.remove(e)},eventTargetMatches:function(e,t){return zn(e,t)},trapFocus:function(){var e;try{null===(e=t.current)||void 0===e||e.trapFocus()}catch(n){}},releaseFocus:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.releaseFocus()},isContentScrollable:function(){return!!i.current&&function(e){return e.scrollHeight>e.offsetHeight}(i.current)},areButtonsStacked:function(){return function(e){var t=new Set;return[].forEach.call(e,(function(e){return t.add(e.offsetTop)})),t.size>1}(a.current)},getActionFromEvent:function(e){var t=Ln(e.target,"["+Vle.strings.ACTION_ATTRIBUTE+"]");return(null===t||void 0===t?void 0:t.getAttribute(Vle.strings.ACTION_ATTRIBUTE))||null},clickDefaultButton:function(){var e;null===(e=n.current)||void 0===e||e.click()},reverseButtons:function(){var e,t;null===(e=a.current)||void 0===e||e.reverse(),null===(t=a.current)||void 0===t||t.forEach((function(e){return e.parentElement&&e.parentElement.appendChild(e)}))},notifyOpening:function(){return o("onOpen",{})},notifyOpened:function(){o("onOpened",{}),ur()},notifyClosing:function(e){return o("onClose",e?{action:e}:{})},notifyClosed:function(e){return o("onClosed",e?{action:e}:{})},getInitialFocusEl:function(){return document.querySelector("["+Vle.strings.INITIAL_FOCUS_ATTRIBUTE+"]")}})}}),s=o.foundation,u=zle(o,["foundation"]),l=u.rootEl,c=(0,r.useMemo)((function(){var t=s.handleDocumentKeydown.bind(s);return function(n){if("Escape"!==n.key||!e.preventOutsideDismiss)return t(n)}}),[s,e.preventOutsideDismiss]);(0,r.useEffect)((function(){var e;n.current=l.ref&&l.ref.querySelector("["+Vle.strings.BUTTON_DEFAULT_ATTRIBUTE+"]")||null,a.current=l.ref&&[].slice.call(l.ref.querySelectorAll(Vle.strings.BUTTON_SELECTOR)),i.current=(null===(e=l.ref)||void 0===e?void 0:e.querySelector(Vle.strings.CONTENT_SELECTOR))||null}),[l.ref]),(0,r.useEffect)((function(){var e=l.ref&&l.ref.querySelector(Vle.strings.SURFACE_SELECTOR);e&&(t.current=function(e,t){return new Gle(e,t)}(e,{initialFocusEl:n.current||void 0}))}),[l.ref]),(0,r.useEffect)((function(){return e.open?s.isOpen()||(document.addEventListener("keydown",c),s.open()):s.isOpen()&&(document.removeEventListener("keydown",c),s.close()),function(){document.removeEventListener("keydown",c)}}),[e.open,s,c]);return l.setProp("onClick",(function(t){var n;return null===(n=e.onClick)||void 0===n||n.call(e,t),s.handleClick(t)}),!0),l.setProp("onKeyDown",(function(t){var n;return null===(n=e.onKeyDown)||void 0===n||n.call(e,t),s.handleKeydown(t)}),!0),Lle({foundation:s},u)},Yle=nn((function(e,t){var n=Xle(e).rootEl,a=$t(e,["mdc-dialog"]),i=e.children,o=(e.open,e.onOpen,e.onOpened,e.onClose,e.onClosed,e.preventOutsideDismiss),s=(e.foundationRef,e.renderToPortal),u=e["aria-labelledby"],l=e["aria-describedby"],c=zle(e,["children","open","onOpen","onOpened","onClose","onClosed","preventOutsideDismiss","foundationRef","renderToPortal","aria-labelledby","aria-describedby"]);return r.createElement(Ule,{renderTo:s},r.createElement(Qt,Lle({},c,{element:n,className:a,ref:t}),r.createElement("div",{className:"mdc-dialog__container"},r.createElement("div",{className:"mdc-dialog__surface",role:"alertdialog","aria-modal":!0,"aria-labelledby":u,"aria-describedby":l},i)),r.createElement(qle,{disableInteraction:o})))})),qle=(nn((function(e,t){var n=e.title,a=e.header,i=e.body,o=e.footer,s=e.acceptLabel,u=void 0===s?"Accept":s,l=e.cancelLabel,c=void 0===l?"Cancel":l,d=e.children,f=e.open,p=zle(e,["title","header","body","footer","acceptLabel","cancelLabel","children","open"]);return r.createElement(Yle,Lle({open:f},p,{ref:t}),(!!n||!!a)&&r.createElement(Kle,null,!!n&&n,!!a&&a),(!!i||d)&&r.createElement(Jle,null,i,d),(!!c||!!u||!!o)&&r.createElement(Qle,null,!!o&&o,!!c&&r.createElement($le,{action:"close"},c),!!u&&r.createElement($le,{action:"accept",isDefaultAction:!0},u)))})),r.memo((function(e){var t=e.disableInteraction?{pointerEvents:"none"}:{};return r.createElement("div",{className:"mdc-dialog__scrim",style:t})}))),Kle=nn((function(e,t){var n=$t(e,["mdc-dialog__title"]);return r.createElement(Qt,Lle({tag:"h2"},e,{ref:t,className:n}))})),Jle=nn((function(e,t){var n=$t(e,["mdc-dialog__content"]);return r.createElement(Qt,Lle({},e,{ref:t,className:n}))})),Qle=nn((function(e,t){var n=$t(e,["mdc-dialog__actions"]);return r.createElement(Qt,Lle({},e,{ref:t,className:n}))})),$le=nn((function(e,t){var n,a=$t(e,["mdc-dialog__button"]),i=e.action,o=void 0===i?"":i,s=e.isDefaultAction,u=zle(e,["action","isDefaultAction"]),l=s?((n={})[Vle.strings.BUTTON_DEFAULT_ATTRIBUTE]=!0,n):{};return r.createElement(rr,Lle({},u,l,{ref:t,className:a,"data-mdc-dialog-action":o}))})),ece=(n(5033),function(e,t){return ece=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ece(e,t)});function tce(e,t){function n(){this.constructor=e}ece(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nce=function(){return nce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nce.apply(this,arguments)};function rce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function ace(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}var ice=function(e,t){var n=t.id?t.id:t.label?e+"-"+t.label:function(e){return e+"-"+(Math.random()+Math.random()+1).toString(36).substring(2)}(e);return Gt((0,r.useState)(n),1)[0]},oce=function(e,t){return oce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},oce(e,t)};var sce=function(){return sce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},sce.apply(this,arguments)};function uce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var lce=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),cce={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},dce=function(e){function t(n){var r=e.call(this,sce(sce({},t.defaultAdapter),n))||this;return r.transitionEndHandler_=function(e){return r.handleTransitionEnd(e)},r}return function(e,t){function n(){this.constructor=e}oce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return cce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},t.prototype.activate=function(){this.adapter.removeClass(cce.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(cce.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(cce.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var t=this.adapter.hasClass(cce.LINE_RIPPLE_DEACTIVATING);"opacity"===e.propertyName&&t&&(this.adapter.removeClass(cce.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(cce.LINE_RIPPLE_DEACTIVATING))},t}(lce),fce=nn((function(e,t){e.active,e.center;var n=uce(e,["active","center"]),a=function(e){var t=Fn({props:e,elements:{rootEl:!0},foundation:function(e){var t=e.rootEl;return new dce({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},hasClass:function(e){return t.hasClass(e)},setStyle:function(e,n){return t.setStyle(e,n)},registerEventHandler:function(e,n){return t.addEventListener(e,n)},deregisterEventHandler:function(e,n){return t.removeEventListener(e,n)}})}}),n=t.foundation,a=uce(t,["foundation"]),i=a.rootEl;return(0,r.useEffect)((function(){e.active?n.activate():n.deactivate()}),[e.active,n]),(0,r.useEffect)((function(){"number"===typeof e.center&&n.setRippleCenter(e.center)}),[e.center,n]),i.setProp("onTransitionEnd",(function(e){return n.handleTransitionEnd(e)}),!0),sce({foundation:n},a)}(e).rootEl;return r.createElement(Qt,sce({},n,{tag:"span",element:a,className:"mdc-line-ripple",ref:t}))})),pce=function(e,t){return pce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},pce(e,t)};var hce=function(){return hce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hce.apply(this,arguments)};function mce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var gce=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),vce={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},yce=function(e){function t(n){var r=e.call(this,hce(hce({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return function(e,t){function n(){this.constructor=e}pce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return vce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var n=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.float=function(e){var n=t.cssClasses,r=n.LABEL_FLOAT_ABOVE,a=n.LABEL_SHAKE;e?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(a))},t.prototype.setRequired=function(e){var n=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleShakeAnimationEnd_=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(gce),bce=nn((function(e,t){var n=function(e){var t=Fn({props:e,elements:{rootEl:!0},api:function(e){var t=e.foundation;return{getWidth:function(){return t.getWidth()},setRequired:function(e){return t.setRequired(e)}}},foundation:function(e){var t=e.rootEl;return new yce({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},getWidth:function(){var e;return(null===(e=t.ref)||void 0===e?void 0:e.scrollWidth)||0},registerInteractionHandler:function(e,n){return t.addEventListener(e,n)},deregisterInteractionHandler:function(e,n){return t.removeEventListener(e,n)}})}}),n=t.foundation,a=mce(t,["foundation"]);return(0,r.useEffect)((function(){n.shake(!!e.shake)}),[e.shake,n]),(0,r.useEffect)((function(){n.float(!!e.float)}),[e.float,n]),hce({foundation:n},a)}(e).rootEl,a=(e.shake,e.float,e.apiRef,mce(e,["shake","float","apiRef"]));return r.createElement("span",hce({},n.props(hce(hce({},a),{className:"mdc-floating-label"})),{ref:en(n.setRef,t)}))})),xce=function(e,t){return xce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},xce(e,t)};var Ace=function(){return Ace=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ace.apply(this,arguments)};function wce(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var kce=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Sce={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},Cce={NOTCH_ELEMENT_PADDING:8},Ice={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},Ece=function(e){function t(n){return e.call(this,Ace(Ace({},t.defaultAdapter),n))||this}return function(e,t){function n(){this.constructor=e}xce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"strings",{get:function(){return Sce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ice},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Cce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),t.prototype.notch=function(e){var n=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=Cce.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(n)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(kce),Tce=nn((function(e,t){var n=e.children,a=wce(e,["children"]),i=function(e){var t=Fn({props:e,elements:{rootEl:!0,notchedEl:!0},foundation:function(e){var t=e.rootEl,n=e.notchedEl;return new Ece({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},setNotchWidthProperty:function(e){return n.setStyle("width",e+"px")},removeNotchWidthProperty:function(){return n.setStyle("width","")}})}}),n=t.foundation,a=wce(t,["foundation"]),i=a.rootEl,o=(0,r.useRef)();return(0,r.useEffect)((function(){e.notch?n.notch(e.notch):n.closeNotch()}),[e.notch,n]),(0,r.useEffect)((function(){var e;o.current=(null===(e=i.ref)||void 0===e?void 0:e.querySelector(".mdc-floating-label"))||void 0;var t=o.current;t?(t.style.transitionDuration="0s",i.addClass(Ece.cssClasses.OUTLINE_UPGRADED),requestAnimationFrame((function(){t&&(t.style.transitionDuration="")}))):i.addClass(Ece.cssClasses.NO_LABEL)}),[i]),Ace({foundation:n},a)}(e),o=i.rootEl,s=i.notchedEl;return r.createElement(Qt,Ace({},a,{element:o,className:"mdc-notched-outline",ref:t}),r.createElement(Nce,null),r.createElement("div",Ace({},s.props({className:"mdc-notched-outline__notch"}),{ref:s.setRef}),n),r.createElement(Oce,null))})),Nce=r.memo((function(){return r.createElement("div",{className:"mdc-notched-outline__leading"})})),Oce=r.memo((function(){return r.createElement("div",{className:"mdc-notched-outline__trailing"})})),Pce=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),_ce={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Mce={ROOT:"mdc-text-field__icon"},Rce=["click","keydown"],Fce=function(e){function t(n){var r=e.call(this,nce(nce({},t.defaultAdapter),n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(e){return r.handleInteraction(e)},r}return tce(t,e),Object.defineProperty(t,"strings",{get:function(){return _ce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Mce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.savedTabIndex_=this.adapter.getAttr("tabindex"),Rce.forEach((function(t){e.adapter.registerInteractionHandler(t,e.interactionHandler_)}))},t.prototype.destroy=function(){var e=this;Rce.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.interactionHandler_)}))},t.prototype.setDisabled=function(e){this.savedTabIndex_&&(e?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex_),this.adapter.setAttr("role",_ce.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter.setContent(e)},t.prototype.handleInteraction=function(e){var t="Enter"===e.key||13===e.keyCode;("click"===e.type||t)&&(e.preventDefault(),this.adapter.notifyIconAction())},t}(Pce),Dce={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},Lce={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},zce={LABEL_SCALE:.75},Zce=["pattern","min","max","required","step","minlength","maxlength"],Wce=["color","date","datetime-local","month","range","time","week"],Bce=["mousedown","touchstart"],jce=["click","keydown"],Vce=function(e){function t(n,r){void 0===r&&(r={});var a=e.call(this,nce(nce({},t.defaultAdapter),n))||this;return a.isFocused_=!1,a.receivedUserInput_=!1,a.isValid_=!0,a.useNativeValidation_=!0,a.validateOnValueChange_=!0,a.helperText_=r.helperText,a.characterCounter_=r.characterCounter,a.leadingIcon_=r.leadingIcon,a.trailingIcon_=r.trailingIcon,a.inputFocusHandler_=function(){return a.activateFocus()},a.inputBlurHandler_=function(){return a.deactivateFocus()},a.inputInputHandler_=function(){return a.handleInput()},a.setPointerXOffset_=function(e){return a.setTransformOrigin(e)},a.textFieldInteractionHandler_=function(){return a.handleTextFieldInteraction()},a.validationAttributeChangeHandler_=function(e){return a.handleValidationAttributeChange(e)},a}return tce(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Lce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Dce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return zce},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat_",{get:function(){var e=this.getNativeInput_().type;return Wce.indexOf(e)>=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),Bce.forEach((function(t){e.adapter.registerInputInteractionHandler(t,e.setPointerXOffset_)})),jce.forEach((function(t){e.adapter.registerTextFieldInteractionHandler(t,e.textFieldInteractionHandler_)})),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},t.prototype.destroy=function(){var e=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),Bce.forEach((function(t){e.adapter.deregisterInputInteractionHandler(t,e.setPointerXOffset_)})),jce.forEach((function(t){e.adapter.deregisterTextFieldInteractionHandler(t,e.textFieldInteractionHandler_)})),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput_=!0)},t.prototype.handleValidationAttributeChange=function(e){var t=this;e.some((function(e){return Zce.indexOf(e)>-1&&(t.styleValidity_(!0),t.adapter.setLabelRequired(t.getNativeInput_().required),!0)})),e.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(e){var t=this.adapter.getLabelWidth()*zce.LABEL_SCALE;this.adapter.notchOutline(t)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText_||!this.helperText_.isPersistent()&&this.helperText_.isValidation()&&this.isValid_||this.helperText_.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!this.isDisabled()&&!this.adapter.hasOutline()){var t=e.touches,n=t?t[0]:e,r=n.target.getBoundingClientRect(),a=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(a)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity_(e),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},t.prototype.getValue=function(){return this.getNativeInput_().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput_().value=e),this.setCharacterCounter_(e.length),this.validateOnValueChange_){var t=this.isValid();this.styleValidity_(t)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},t.prototype.setValid=function(e){this.isValid_=e,this.styleValidity_(e);var t=!e&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(t)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange_=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation_=e},t.prototype.isDisabled=function(){return this.getNativeInput_().disabled},t.prototype.setDisabled=function(e){this.getNativeInput_().disabled=e,this.styleDisabled_(e)},t.prototype.setHelperTextContent=function(e){this.helperText_&&this.helperText_.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon_&&this.leadingIcon_.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon_&&this.trailingIcon_.setContent(e)},t.prototype.setCharacterCounter_=function(e){if(this.characterCounter_){var t=this.getNativeInput_().maxLength;if(-1===t)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(e,t)}},t.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},t.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},t.prototype.styleValidity_=function(e){var n=t.cssClasses.INVALID;if(e?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText_){if(this.helperText_.setValidity(e),!this.helperText_.isValidation())return;var r=this.helperText_.isVisible(),a=this.helperText_.getId();r&&a?this.adapter.setInputAttr(Dce.ARIA_DESCRIBEDBY,a):this.adapter.removeInputAttr(Dce.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused_=function(e){var n=t.cssClasses.FOCUSED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.styleDisabled_=function(e){var n=t.cssClasses,r=n.DISABLED,a=n.INVALID;e?(this.adapter.addClass(r),this.adapter.removeClass(a)):this.adapter.removeClass(r),this.leadingIcon_&&this.leadingIcon_.setDisabled(e),this.trailingIcon_&&this.trailingIcon_.setDisabled(e)},t.prototype.styleFloating_=function(e){var n=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.getNativeInput_=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(Pce),Hce={ROOT:"mdc-text-field-character-counter"},Uce={ROOT_SELECTOR:"."+Hce.ROOT},Gce=function(e){function t(n){return e.call(this,nce(nce({},t.defaultAdapter),n))||this}return tce(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Hce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Uce},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setCounterValue=function(e,t){e=Math.min(e,t),this.adapter.setContent(e+" / "+t)},t}(Pce),Xce=function(e){var t=ace((0,r.useState)(!1),2),n=t[0],a=t[1],i=ace((0,r.useState)(0),2),o=i[0],s=i[1],u=ace((0,r.useState)(),2),l=u[0],c=u[1],d=ace((0,r.useState)(!1),2),f=d[0],p=d[1],h=ace((0,r.useState)(!1),2),m=h[0],g=h[1],v=(0,r.useRef)(),y=function(e){v.current=e},b=(0,r.useRef)(),x=(0,r.useRef)(),A=(0,r.useRef)(),w=function(e){var t=ace((0,r.useState)(),2),n=t[0],a=t[1],i=Fn({props:e,api:function(e){var t=e.foundation;return{getFoundation:function(){return t}}},elements:{},foundation:function(){return new Gce({setContent:function(e){a(e)}})}}),o=(i.foundation,rce(i,["foundation"]));return nce({content:n},o)}({apiRef:e.characterCount?y:void 0}).content,k=Fn({props:e,elements:{rootEl:!0,inputEl:!0},foundation:function(e){var t=e.rootEl,n=e.inputEl,r=e.getProps;return new Vce(nce(nce(nce(nce({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},hasClass:function(e){return t.hasClass(e)},registerTextFieldInteractionHandler:function(e,n){return t.addEventListener(e,n)},deregisterTextFieldInteractionHandler:function(e,n){return t.removeEventListener(e,n)},registerValidationAttributeChangeHandler:function(e){if(n.ref){var t=new MutationObserver((function(t){return e(function(e){return e.map((function(e){return e.attributeName}))}(t))})),r=n.ref;return r&&t.observe(r,{attributes:!0}),t}return{}},deregisterValidationAttributeChangeHandler:function(e){e&&e.disconnect()},isFocused:function(){return document.activeElement===n.ref}},{registerInputInteractionHandler:function(e,t){return n.addEventListener(e,t)},deregisterInputInteractionHandler:function(e,t){return n.removeEventListener(e,t)},getNativeInput:function(){return n.ref}}),{shakeLabel:function(e){return p(e)},floatLabel:function(e){var t;g(null!==(t=r().floatLabel)&&void 0!==t?t:e)},hasLabel:function(){return!!r().label},getLabelWidth:function(){var e;return(null===(e=A.current)||void 0===e?void 0:e.getWidth())||0}}),{activateLineRipple:function(){a(!0)},deactivateLineRipple:function(){a(!1)},setLineRippleTransformOrigin:function(e){s(e)}}),{notchOutline:function(e){c(e)},closeOutline:function(){var e;null!==(e=r().floatLabel)&&void 0!==e||c(void 0)},hasOutline:function(){return!!r().outlined}}),{characterCounter:v.current?v.current.getFoundation():void 0,helperText:void 0,leadingIcon:b.current?b.current.getFoundation():void 0,trailingIcon:x.current?x.current.getFoundation():void 0})}}),S=k.foundation,C=rce(k,["foundation"]),I=S.getValue();return(0,r.useEffect)((function(){void 0!==e.value&&e.value!==I&&S.setValue(String(e.value))}),[e.value,S,I]),(0,r.useEffect)((function(){void 0!==e.floatLabel&&(S.notchOutline(e.floatLabel),S.adapter_.floatLabel(e.floatLabel))}),[S,e.floatLabel]),nce({shakeLabel:f,floatLabel:m,notchWidth:l,lineRippleActive:n,lineRippleCenter:o,setCharacterCounter:y,setLeadingIcon:function(e){return b.current=e},setTrailingIcon:function(e){return x.current=e},setFloatingLabel:function(e){return A.current=e},characterCountContent:w},C)},Yce=nn((function(e,t){var n=e.label,a=e.style,i=e.outlined,o=e.align,s=e.invalid,u=e.disabled,l=e.helpText,c=e.children,d=e.textarea,f=e.inputRef,p=e.characterCount,h=e.icon,m=e.trailingIcon,g=e.rootProps,v=void 0===g?{}:g,y=(e.foundationRef,e.ripple,e.prefix),b=e.suffix,x=e.resizeable,A=(e.floatLabel,rce(e,["label","style","outlined","align","invalid","disabled","helpText","children","textarea","inputRef","characterCount","icon","trailingIcon","rootProps","foundationRef","ripple","prefix","suffix","resizeable","floatLabel"])),w=Xce(e),k=w.rootEl,S=w.inputEl,C=w.shakeLabel,I=w.floatLabel,E=w.notchWidth,T=w.lineRippleActive,N=w.lineRippleCenter,O=w.setLeadingIcon,P=w.setTrailingIcon,_=w.setFloatingLabel,M=w.characterCountContent,R=ice("textfield",e)+"-label",F=$t(e,["mdc-text-field","mdc-text-field--upgraded",{"mdc-text-field--filled":!i,"mdc-text-field--textarea":d,"mdc-text-field--outlined":i,"mdc-text-field--invalid":s,"mdc-text-field--disabled":u,"mdc-text-field--with-leading-icon":!!h,"mdc-text-field--with-trailing-icon":!!m,"mdc-text-field--no-label":!n,"mdc-text-field--end-aligned":"end"===o,"mdc-text-field--with-internal-counter":d&&p}]),D=function(e,t){return r.createElement(ede,{apiRef:function(e){"leading"===t?O(e):P(e)},position:t,tabIndex:"trailing"===t?0:void 0,icon:e})},L=n?r.createElement(bce,{shake:C,float:I,apiRef:_,id:R},n):null,z=p?r.createElement("div",{className:"mdc-text-field-character-counter"},M):null,Z=x?r.createElement("span",{className:"mdc-text-field__resizer"},r.createElement(Qt,nce({},A,{element:S,className:"mdc-text-field__input",disabled:u,tag:"textarea",ref:f})),z):r.createElement(r.Fragment,null,r.createElement(Qt,nce({},A,{element:S,className:"mdc-text-field__input",disabled:u,tag:"textarea",ref:f})),z);return r.createElement(r.Fragment,null,r.createElement(Kce,nce({},v,{element:k,style:a,className:F,ref:t,"aria-labelledby":R}),!!h&&D(h,"leading"),c,r.createElement(qce,null),!!y&&!d&&r.createElement(Jce,{prefix:y}),d?Z:r.createElement(Qt,nce({},A,{element:S,className:"mdc-text-field__input",disabled:u,tag:"input",ref:f})),!!b&&!d&&r.createElement(Qce,{suffix:b}),i?r.createElement(r.Fragment,null,r.createElement(Tce,{notch:E},L),!!m&&D(m,"trailing")):r.createElement(r.Fragment,null,L,!!m&&D(m,"trailing"),r.createElement(fce,{active:T,center:N}))),function(e){if(!(!!l||p&&!d))return null;var t="object"===typeof l&&!r.isValidElement(l);return r.createElement("div",{className:"mdc-text-field-helper-line"},l&&t?r.createElement($ce,nce({},l)):r.createElement($ce,null,l),!d&&e)}(z))})),qce=r.memo((function(){return r.createElement("span",{className:"mdc-text-field__ripple"})})),Kce=Qn({surface:!1})(r.forwardRef((function(e,t){return r.createElement(Qt,nce({},e,{tag:"label",ref:t}))}))),Jce=r.memo((function(e){var t=e.prefix;return r.createElement("span",{className:"mdc-text-field__affix mdc-text-field__affix--prefix"},t)})),Qce=r.memo((function(e){var t=e.suffix;return r.createElement("span",{className:"mdc-text-field__affix mdc-text-field__affix--suffix"},t)})),$ce=nn((function(e,t){var n=e.persistent,a=e.validationMsg,i=rce(e,["persistent","validationMsg"]),o=$t(e,["mdc-text-field-helper-text",{"mdc-text-field-helper-text--persistent":n,"mdc-text-field-helper-text--validation-msg":a}]);return r.createElement(Qt,nce({tag:"div"},i,{className:o,ref:t}))})),ede=function(e){e.apiRef;var t=e.position,n=rce(e,["apiRef","position"]),a=function(e){var t=Fn({props:e,elements:{rootEl:!0},api:function(e){var t=e.foundation;return{getFoundation:function(){return t}}},foundation:function(e){var t=e.rootEl,n=e.emit,r=new Fce({getAttr:function(e){return t.getProp(e)},setAttr:function(e,n){return t.setProp(e,n)},removeAttr:function(e){return t.removeProp(e)},setContent:function(e){t.setProp("icon",e)},registerInteractionHandler:function(e,n){return t.addEventListener(e,n)},deregisterInteractionHandler:function(e,n){return t.removeEventListener(e,n)},notifyIconAction:function(){return n("onClick",{},!0)}});return r}}),n=(t.foundation,rce(t,["foundation"]));return nce({},n)}(e).rootEl,i=$t(e,["mdc-text-field__icon",{"mdc-text-field__icon--trailing":"trailing"===t,"mdc-text-field__icon--leading":"leading"===t}]);return r.createElement(nr,nce({},a.props(nce(nce({},n),{className:i}))))};ede.displayName="TextFieldIcon";n(2924);var tde=function(e,t){return tde=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},tde(e,t)};var nde=function(){return nde=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nde.apply(this,arguments)};function rde(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var ade=function(e,t){return ade=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ade(e,t)};var ide=function(){return ide=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ide.apply(this,arguments)};var ode=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),sde={ROOT:"mdc-form-field"},ude={LABEL_SELECTOR:".mdc-form-field > label"},lde=function(e){function t(n){var r=e.call(this,ide(ide({},t.defaultAdapter),n))||this;return r.click=function(){r.handleClick()},r}return function(e,t){function n(){this.constructor=e}ade(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return sde},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return ude},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var e=this;this.adapter.activateInputRipple(),requestAnimationFrame((function(){e.adapter.deactivateInputRipple()}))},t}(ode),cde=nn((function(e,t){!function(e){Fn({props:e,elements:{},foundation:function(){return new lde({registerInteractionHandler:function(e,t){},deregisterInteractionHandler:function(e,t){},activateInputRipple:function(){},deactivateInputRipple:function(){}})}})}(e);e.alignEnd,e.foundationRef;var n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["alignEnd","foundationRef"]),a=$t(e,["mdc-form-field",{"mdc-form-field--align-end":e.alignEnd}]);return r.createElement(Qt,ide({},n,{ref:t,className:a}))}));var dde=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),fde={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},pde={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},hde=function(e){function t(n){return e.call(this,nde(nde({},t.defaultAdapter),n))||this}return function(e,t){function n(){this.constructor=e}tde(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"strings",{get:function(){return pde},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return fde},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(fde.DISABLED):this.adapter.removeClass(fde.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(fde.CHECKED):this.adapter.removeClass(fde.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(pde.ARIA_CHECKED_ATTR,""+!!e)},t}(dde),mde=function(e){var t=function(e){var t=e.className,n=e.style,a=e.rootProps,i=e.label,o=e.children,s=e.disabled,u=e.label||e.children,l=ice("toggle-",e),c=u?{disabled:s}:Vt({className:t,style:n,disabled:s},a);return{id:l,renderToggle:function(e){return u?r.createElement(cde,Vt({},a,{className:t,style:n}),e,r.createElement("label",{id:l+"label",htmlFor:l},i,o)):e},toggleRootProps:c}}(e),n=t.renderToggle,a=t.toggleRootProps,i=t.id,o=Fn({props:e,elements:{rootEl:!0,checkboxEl:!0},foundation:function(e){var t=e.rootEl,n=e.checkboxEl;return new hde({addClass:function(e){return t.addClass(e)},removeClass:function(e){return t.removeClass(e)},setNativeControlChecked:function(e){return n.setProp("checked",e)},setNativeControlDisabled:function(e){return n.setProp("disabled",e)},setNativeControlAttr:function(e,n){return t.setProp(e,n)}})}}),s=o.foundation,u=rde(o,["foundation"]),l=u.checkboxEl;(0,r.useEffect)((function(){l.ref&&s.updateCheckedStyling_(l.ref.checked),l.ref&&s.setDisabled(l.ref.disabled)}),[l.ref,s]),(0,r.useEffect)((function(){void 0!==e.checked&&s.updateCheckedStyling_(e.checked)}),[e.checked,s]),(0,r.useEffect)((function(){void 0!==e.disabled&&s.setDisabled(e.disabled)}),[e.disabled,s]);return l.setProp("onChange",(function(t){var n;s.handleChange(t),null===(n=e.onChange)||void 0===n||n.call(e,t)}),!0),nde({foundation:s,renderToggle:n,toggleRootProps:a,id:i},u)},gde=nn((function(e,t){var n,a=mde(e),i=a.renderToggle,o=a.id,s=a.toggleRootProps,u=a.rootEl,l=a.checkboxEl,c=$t(s,["mdc-switch"]),d=(e.children,e.className,e.label,e.style,e.inputRef),f=(e.foundationRef,rde(e,["children","className","label","style","inputRef","foundationRef"]));return i(r.createElement(Qt,nde({},u.props(nde(nde({},s),{className:c})),{ref:t}),r.createElement(vde,null),r.createElement(xde,null,r.createElement(bde,null),r.createElement("input",nde({},l.props(nde(nde({},f),{className:"mdc-switch__native-control"})),{type:"checkbox",id:o,ref:en(l.setRef,d),role:"switch","aria-checked":null!==(n=f.checked)&&void 0!==n?n:f["aria-checked"]}))),r.createElement(yde,null)))})),vde=r.memo((function(){return r.createElement("div",{className:"mdc-switch__track"})})),yde=r.memo((function(){return r.createElement("div",{className:"mdc-switch__knob"})})),bde=r.memo((function(){return r.createElement("div",{className:"mdc-switch__thumb"})})),xde=Qn({unbounded:!0,surface:!1})((function(e){var t=e.className,n=rde(e,["className"]);return r.createElement("div",nde({className:qt()(t,"mdc-switch__thumb-underlay")},n))}));n(8959);var Ade=function(){return Ade=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ade.apply(this,arguments)};function wde(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var kde=Qn({surface:!1})(nn((function(e,t){e.selected,e.activated,e.disabled;var n=wde(e,["selected","activated","disabled"]),a=$t(e,["mdc-list-item",{"mdc-list-item--selected":e.selected,"mdc-list-item--activated":e.activated,"mdc-list-item--disabled":e.disabled}]);return r.createElement(Qt,Ade({tag:"li",tabIndex:0},n,{className:a,ref:t}),r.createElement(Jn,{className:"mdc-list-item__ripple"}),n.children)}))),Sde=nn((function(e,t){var n=$t(e,["mdc-list-item__text"]);return r.createElement(Qt,Ade({tag:"span"},e,{ref:t,className:n}))})),Cde=nn((function(e,t){var n=$t(e,["mdc-list-item__primary-text"]);return r.createElement(Qt,Ade({tag:"span"},e,{ref:t,className:n}))})),Ide=nn((function(e,t){var n=$t(e,["mdc-list-item__secondary-text"]);return r.createElement(Qt,Ade({tag:"span"},e,{ref:t,className:n}))})),Ede=nn((function(e,t){var n=$t(e,["mdc-list-item__graphic"]);return r.createElement(nr,Ade({},e,{"aria-hidden":"true",ref:t,className:n}))})),Tde=nn((function(e,t){var n=$t(e,["mdc-list-item__meta"]);if(e.icon)return r.createElement(nr,Ade({},e,{"aria-hidden":"true",ref:t,className:n}));if(r.isValidElement(e.children)){e.children;var a=wde(e,["children"]);return r.cloneElement(e.children,Ade(Ade(Ade({},a),e.children.props),{className:qt()(n,e.children.props.className)}))}return r.createElement(Qt,Ade({},e,{ref:t,className:n}))})),Nde=(nn((function(e,t){var n=$t(e,["mdc-list-group"]);return r.createElement(Qt,Ade({},e,{ref:t,className:n}))})),nn((function(e,t){var n=$t(e,["mdc-list-group__subheader"]);return r.createElement(Qt,Ade({},e,{ref:t,className:n}))})),nn((function(e,t){var n=$t(e,["mdc-list-divider"]);return r.createElement(Qt,Ade({tag:"li",role:"separator"},e,{ref:t,className:n}))})));nn((function(e,t){var n=e.text,a=e.secondaryText,i=e.graphic,o=e.metaIcon,s=e.meta,u=e.children,l=wde(e,["text","secondaryText","graphic","metaIcon","meta","children"]),c=n&&void 0!==a?r.createElement(Cde,null,n):n,d=void 0!==a?r.createElement(Ide,null,a):null;return r.createElement(kde,Ade({},l,{ref:t}),r.createElement(Jn,{className:"mdc-list-item__ripple"}),void 0!==i&&r.createElement(Ede,{icon:i}),null!==d?r.createElement(Sde,null,c,d):c,(!!s||!!o)&&r.createElement(Tde,{icon:o},s),u)})),n(1093);var Ode=function(e){var t=(0,r.useRef)(null),n=function(e){var t=(0,r.useState)((function(){return rt("function"==typeof e?e():e,!0)})),n=t[1];return[t[0],(0,r.useCallback)((function(e){n("function"==typeof e?jt(e):rt(e))}),[])]}(e.pomoConfigs),a=(0,o.Z)(n,2),i=a[0],s=a[1],u=(0,r.useState)(!0),l=(0,o.Z)(u,2),c=l[0],d=l[1];return(0,Mie.jsx)(Mie.Fragment,{children:(0,Mie.jsxs)(Yle,{style:{zIndex:15},open:e.open,preventOutsideDismiss:!0,onClose:function(t){"confirm"===t.target.action&&e.setPomoConfigs(i),e.onClose()},children:[(0,Mie.jsx)(Kle,{children:"Configuration"}),(0,Mie.jsx)(Jle,{children:(0,Mie.jsx)("form",{ref:t,onChange:function(){var e=t.current&&t.current.reportValidity();console.log(e),e!==c&&d(e)},children:(0,Mie.jsxs)(an,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsxs)(sn,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(vie,{use:"subtitle2",children:"Pomodoro Config"})}),(0,Mie.jsx)(on,{span:4,children:(0,Mie.jsx)(Yce,{required:!0,label:"Focus Time",type:"number",suffix:"minutes",pattern:"[0-9]*",min:1,defaultValue:e.pomoConfigs.alertStudySeconds/60,onChange:function(e){e.target.validity.valid?s((function(t){t.alertStudySeconds=60*parseInt(e.target.value)})):e.target.reportValidity()}})}),(0,Mie.jsx)(on,{span:4,children:(0,Mie.jsx)(Yce,{required:!0,label:"Rest Time",type:"number",suffix:"minutes",pattern:"[0-9]*",min:1,defaultValue:e.pomoConfigs.alertRestSeconds/60,onChange:function(e){e.target.reportValidity()&&s((function(t){t.alertRestSeconds=60*parseInt(e.target.value)}))}})}),(0,Mie.jsx)(on,{span:4,children:(0,Mie.jsx)(Iue,{content:"If the rest time or focus time is less than this, it will not be counted as a separted time slot.",children:(0,Mie.jsx)(Yce,{required:!0,label:"Max allowed missing time",type:"number",suffix:"seconds",pattern:"[0-9]*",min:0,defaultValue:e.pomoConfigs.tempMissingSeconds,onChange:function(e){e.target.reportValidity()&&s((function(t){t.tempMissingSeconds=parseInt(e.target.value)}))}})})})]})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Nde,{})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(vie,{use:"subtitle2",children:"Background Video Config"})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Iue,{content:"Enter a Youtube video url. Leave empty to not play anything.",children:(0,Mie.jsx)(Yce,{style:{width:"100%"},label:"Youtube Url",type:"text",defaultValue:e.pomoConfigs.playerUrl,onChange:function(e){s((function(t){t.playerUrl=e.target.value}))}})})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Nde,{})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsxs)(sn,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(vie,{use:"subtitle2",children:"Face Recognition Config"})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(Iue,{content:"Every n seconds we detect user face, shorter interval might increase CPU usage, longer interval might make pomodoro less sensitive.",children:(0,Mie.jsx)(Yce,{required:!0,label:"Face Detection Interval",type:"number",pattern:"[0-9]*",suffix:"seconds",min:2,defaultValue:e.pomoConfigs.faceRecognition.detectionInterval,onChange:function(e){if(e.target.reportValidity()){var t=parseInt(e.target.value);s((function(e){e.faceRecognition.detectionInterval=t}))}}})})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(gde,{defaultChecked:e.pomoConfigs.faceRecognition.showFaceRecognitionStatus,onChange:function(e){s((function(t){t.faceRecognition.showFaceRecognitionStatus=e.target.checked}))},label:"Show Face Recognition Status"})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(gde,{defaultChecked:e.pomoConfigs.faceRecognition.showCameraPreview,onChange:function(e){s((function(t){t.faceRecognition.showCameraPreview=e.target.checked}))},label:"Show Live Camera Preview"})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(gde,{defaultChecked:e.pomoConfigs.faceRecognition.showFaceRecognitionCanvas,onChange:function(e){s((function(t){t.faceRecognition.showFaceRecognitionCanvas=e.target.checked}))},label:"Show Face Detection Result"})})]})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Nde,{})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsxs)(sn,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(vie,{use:"subtitle2",children:"Notification Config"})}),(0,Mie.jsx)(on,{span:4,children:(0,Mie.jsx)(Yce,{required:!0,label:"Notification Interval Time",type:"number",suffix:"seconds",pattern:"[0-9]*",defaultValue:e.pomoConfigs.notificationIntervalSeconds,onChange:function(e){e.target.reportValidity()&&s((function(t){t.notificationIntervalSeconds=parseInt(e.target.value)}))}})}),(0,Mie.jsx)(on,{span:4,children:(0,Mie.jsx)(Iue,{content:"Everytime a notification is send, its wait time will multiply previous interval, so that the sending interval is longer and longer. If you don't want this behavior, change it to 1.",children:(0,Mie.jsx)(Yce,{required:!0,label:"Notification Interval Multiplier",suffix:"times",pattern:"[0-9\\.]*",min:1,type:"number",step:"0.1",defaultValue:e.pomoConfigs.notificationIntervalMultiplier,onChange:function(e){if(e.target.reportValidity()){var t=parseFloat(e.target.value);s((function(e){e.notificationIntervalMultiplier=t}))}}})})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Iue,{content:"This message will be displayed to let you know it's time to start Pomodoro session.",children:(0,Mie.jsx)(Yce,{style:{width:"100%"},required:!0,label:"Focus Notification Message",minLength:1,defaultValue:e.pomoConfigs.focusNotificationText,onChange:function(e){e.target.reportValidity()&&s((function(t){t.focusNotificationText=e.target.value}))}})})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Iue,{content:"This message will be displayed to let you know it's time to take a break.",children:(0,Mie.jsx)(Yce,{style:{width:"100%"},required:!0,label:"Rest Notification Message",minLength:1,defaultValue:e.pomoConfigs.restNotificationText,onChange:function(e){e.target.reportValidity()&&s((function(t){t.restNotificationText=e.target.value}))}})})})]})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(Nde,{})}),(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsxs)(sn,{children:[(0,Mie.jsx)(on,{span:12,children:(0,Mie.jsx)(vie,{use:"subtitle2",children:"Pomodoro History Config"})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(Iue,{content:"Increasing this might degrade performance.",children:(0,Mie.jsx)(Yce,{required:!0,label:"Max pomodoro history entries kepted",type:"number",resizeable:!0,pattern:"[0-9]*",suffix:"entries",min:1,defaultValue:e.pomoConfigs.history.maxLocalStorageTimeSlot,onChange:function(e){e.target.reportValidity()&&s((function(t){t.history.maxLocalStorageTimeSlot=parseInt(e.target.value)}))}})})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(gde,{defaultChecked:e.pomoConfigs.history.showPomodoroHistory,onChange:function(e){s((function(t){t.history.showPomodoroHistory=e.target.checked}))},label:"Show Pomodoro History"})}),(0,Mie.jsx)(on,{children:(0,Mie.jsx)(gde,{defaultChecked:e.pomoConfigs.history.onlyShowToday,onChange:function(e){s((function(t){t.history.onlyShowToday=e.target.checked}))},label:"Only Show Today's History"})})]})})]})})}),(0,Mie.jsxs)(Qle,{children:[(0,Mie.jsx)($le,{action:"close",children:"Cancel"}),(0,Mie.jsx)($le,{action:"confirm",disabled:!c,isDefaultAction:!0,children:"Confirm"})]})]})})};var Pde=function(){return Pde=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pde.apply(this,arguments)};function _de(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var Mde=nn((function(e,t){var n=e.outlined,a=_de(e,["outlined"]),i=$t(e,["mdc-card",{"mdc-card--outlined":n}]);return r.createElement(Qt,Pde({},a,{ref:t,className:i}))})),Rde=(nn((function(e,t){var n=e.square,a=e.sixteenByNine,i=_de(e,["square","sixteenByNine"]),o=$t(e,["mdc-card__media",{"mdc-card__media--square":n,"mdc-card__media--16-9":a}]);return r.createElement(Qt,Pde({tag:"section"},i,{ref:t,className:o}))})),nn((function(e,t){var n=$t(e,["mdc-card__media-content"]);return r.createElement(Qt,Pde({},e,{ref:t,className:n}))})),Qn({surface:!1})(nn((function(e,t){var n=$t(e,["mdc-card__primary-action"]);return r.createElement(Qt,Pde({},e,{ref:t,className:n}))})))),Fde=(nn((function(e,t){var n=e.fullBleed,a=_de(e,["fullBleed"]),i=$t(e,["mdc-card__actions",{"mdc-card__actions--full-bleed":n}]);return r.createElement(Qt,Pde({tag:"section"},a,{ref:t,className:i}))})),nn((function(e,t){var n=$t(e,["mdc-card__action-buttons"]);return r.createElement(Qt,Pde({},e,{ref:t,className:n}))})),nn((function(e,t){var n=$t(e,["mdc-card__action-icons"]);return r.createElement(Qt,Pde({},e,{ref:t,className:n}))})),nn((function(e,t){var n=$t(e,["mdc-card__action","mdc-card__action--icon"]);return r.createElement(vr,Pde({},e,{ref:t,className:n}))})),nn((function(e,t){var n=$t(e,["mdc-card__action","mdc-card__action--button"]);return r.createElement(rr,Pde({},e,{ref:t,className:n}))})),n(8249),n(3110));function Dde(e){return e&&"object"===typeof e?"position"in e||"type"in e?zde(e.position):"start"in e||"end"in e?zde(e):"line"in e||"column"in e?Lde(e):"":""}function Lde(e){return Zde(e&&e.line)+":"+Zde(e&&e.column)}function zde(e){return Lde(e&&e.start)+"-"+Lde(e&&e.end)}function Zde(e){return e&&"number"===typeof e?e:1}var Wde=function(e){(0,Vr.Z)(n,e);var t=(0,Hr.Z)(n);function n(e,r,a){var i;(0,Ur.Z)(this,n);var o=[null,null],s={start:{line:null,column:null},end:{line:null,column:null}};if(i=t.call(this),"string"===typeof r&&(a=r,r=void 0),"string"===typeof a){var u=a.indexOf(":");-1===u?o[1]=a:(o[0]=a.slice(0,u),o[1]=a.slice(u+1))}return r&&("type"in r||"position"in r?r.position&&(s=r.position):"start"in r||"end"in r?s=r:("line"in r||"column"in r)&&(s.start=r)),i.name=Dde(r)||"1:1",i.message="object"===typeof e?e.message:e,i.stack="object"===typeof e?e.stack:"",i.reason=i.message,i.fatal,i.line=s.start.line,i.column=s.start.column,i.source=o[0],i.ruleId=o[1],i.position=s,i.actual,i.expected,i.file,i.url,i.note,i}return(0,Gr.Z)(n)}(Wr(Error));Wde.prototype.file="",Wde.prototype.name="",Wde.prototype.reason="",Wde.prototype.message="",Wde.prototype.stack="",Wde.prototype.fatal=null,Wde.prototype.column=null,Wde.prototype.line=null,Wde.prototype.source=null,Wde.prototype.ruleId=null,Wde.prototype.position=null;var Bde={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Vde(e);var n,r=0,a=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.charCodeAt(i)){if(n){r=i+1;break}}else a<0&&(n=!0,a=i+1);return a<0?"":e.slice(r,a)}if(t===e)return"";var o=-1,s=t.length-1;for(;i--;)if(47===e.charCodeAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1),s>-1&&(e.charCodeAt(i)===t.charCodeAt(s--)?s<0&&(a=i):(s=-1,a=o));r===a?a=o:a<0&&(a=e.length);return e.slice(r,a)},dirname:function(e){if(Vde(e),0===e.length)return".";var t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){Vde(e);var t,n=e.length,r=-1,a=0,i=-1,o=0;for(;n--;){var s=e.charCodeAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?i<0?i=n:1!==o&&(o=1):i>-1&&(o=-1);else if(t){a=n+1;break}}if(i<0||r<0||0===o||1===o&&i===r-1&&i===a+1)return"";return e.slice(i,r)},join:function(){for(var e,t=-1,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++t<r.length;)Vde(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":jde(e)},sep:"/"};function jde(e){Vde(e);var t=47===e.charCodeAt(0),n=function(e,t){var n,r,a="",i=0,o=-1,s=0,u=-1;for(;++u<=e.length;){if(u<e.length)n=e.charCodeAt(u);else{if(47===n)break;n=47}if(47===n){if(o===u-1||1===s);else if(o!==u-1&&2===s){if(a.length<2||2!==i||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2))if(a.length>2){if((r=a.lastIndexOf("/"))!==a.length-1){r<0?(a="",i=0):i=(a=a.slice(0,r)).length-1-a.lastIndexOf("/"),o=u,s=0;continue}}else if(a.length>0){a="",i=0,o=u,s=0;continue}t&&(a=a.length>0?a+"/..":"..",i=2)}else a.length>0?a+="/"+e.slice(o+1,u):a=e.slice(o+1,u),i=u-o-1;o=u,s=0}else 46===n&&s>-1?s++:s=-1}return a}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/"),t?"/"+n:n}function Vde(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var Hde={cwd:function(){return"/"}};function Ude(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function Gde(e){if("string"===typeof e)e=new URL(e);else if(!Ude(e)){var t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){var n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return function(e){if(""!==e.hostname){var t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}var n=e.pathname,r=-1;for(;++r<n.length;)if(37===n.charCodeAt(r)&&50===n.charCodeAt(r+1)){var a=n.charCodeAt(r+2);if(70===a||102===a){var i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}(e)}var Xde=["history","path","basename","stem","extname","dirname"],Yde=function(){function e(t){var n;(0,Ur.Z)(this,e),n=t?"string"===typeof t||Fde(t)?{value:t}:Ude(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=Hde.cwd(),this.value,this.stored,this.result,this.map;for(var r,a=-1;++a<Xde.length;){var i=Xde[a];i in n&&void 0!==n[i]&&(this[i]="history"===i?(0,qr.Z)(n[i]):n[i])}for(r in n)Xde.includes(r)||(this[r]=n[r])}return(0,Gr.Z)(e,[{key:"path",get:function(){return this.history[this.history.length-1]},set:function(e){Ude(e)&&(e=Gde(e)),Kde(e,"path"),this.path!==e&&this.history.push(e)}},{key:"dirname",get:function(){return"string"===typeof this.path?Bde.dirname(this.path):void 0},set:function(e){Jde(this.basename,"dirname"),this.path=Bde.join(e||"",this.basename)}},{key:"basename",get:function(){return"string"===typeof this.path?Bde.basename(this.path):void 0},set:function(e){Kde(e,"basename"),qde(e,"basename"),this.path=Bde.join(this.dirname||"",e)}},{key:"extname",get:function(){return"string"===typeof this.path?Bde.extname(this.path):void 0},set:function(e){if(qde(e,"extname"),Jde(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bde.join(this.dirname,this.stem+(e||""))}},{key:"stem",get:function(){return"string"===typeof this.path?Bde.basename(this.path,this.extname):void 0},set:function(e){Kde(e,"stem"),qde(e,"stem"),this.path=Bde.join(this.dirname||"",e+(this.extname||""))}},{key:"toString",value:function(e){return(this.value||"").toString(e)}},{key:"message",value:function(e,t,n){var r=new Wde(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}},{key:"info",value:function(e,t,n){var r=this.message(e,t,n);return r.fatal=null,r}},{key:"fail",value:function(e,t,n){var r=this.message(e,t,n);throw r.fatal=!0,r}}]),e}();function qde(e,t){if(e&&e.includes(Bde.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bde.sep+"`")}function Kde(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Jde(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Qde(e){if(e)throw e}var $de=n(9994);function efe(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tfe(e,t){var n;return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var s,u=e.length>i.length;u&&i.push(r);try{s=e.apply(this,i)}catch(c){var l=c;if(u&&n)throw l;return r(l)}u||(s instanceof Promise?s.then(a,r):s instanceof Error?r(s):a(s))};function r(e){if(!n){n=!0;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t.apply(void 0,[e].concat(a))}}function a(e){r(null,e)}}var nfe=function e(){var t,n=function(){var e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=-1,i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);function o(t){var r=e[++a],s=-1;if(t)i(t);else{for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];for(;++s<n.length;)null!==l[s]&&void 0!==l[s]||(l[s]=n[s]);n=l,r?tfe(r,o).apply(void 0,l):i.apply(void 0,[null].concat(l))}}o.apply(void 0,[null].concat((0,qr.Z)(n)))},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}(),r=[],a={},i=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=function(){if(t)return o;for(;++i<r.length;){var e=(0,jr.Z)(r[i]),a=e[0],s=e.slice(1);if(!1!==s[0]){!0===s[0]&&(s[0]=void 0);var u=a.call.apply(a,[o].concat((0,qr.Z)(s)));"function"===typeof u&&n.use(u)}}return t=!0,i=Number.POSITIVE_INFINITY,o},o.attachers=r,o.use=u,o.parse=function(e){o.freeze();var t=cfe(e),n=o.Parser;if(ife("parse",n),afe(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},o.stringify=function(e,t){o.freeze();var n=cfe(t),r=o.Compiler;if(ofe("stringify",r),ufe(e),afe(r,"compile"))return new r(e,n).compile();return r(e,n)},o.run=function(e,t,r){ufe(e),o.freeze(),r||"function"!==typeof t||(r=t,t=void 0);if(!r)return new Promise(a);function a(a,i){function o(t,n,o){n=n||e,t?i(t):a?a(n):r(null,n,o)}n.run(e,cfe(t),o)}a(null,r)},o.runSync=function(e,t){var n,r;return o.run(e,t,a),lfe("runSync","run",r),n;function a(e,t){Qde(e),n=t,r=!0}},o.process=function(e,t){if(o.freeze(),ife("process",o.Parser),ofe("process",o.Compiler),!t)return new Promise(n);function n(n,r){var a=cfe(e);function i(e,a){e||!a?r(e):n?n(a):t(null,a)}o.run(o.parse(a),a,(function(e,t,n){if(!e&&t&&n){var r=o.stringify(t,n);void 0===r||null===r||("string"===typeof(a=r)||Fde(a)?n.value=r:n.result=r),i(e,n)}else i(e);var a}))}n(null,t)},o.processSync=function(e){var t;o.freeze(),ife("processSync",o.Parser),ofe("processSync",o.Compiler);var n=cfe(e);return o.process(n,r),lfe("processSync","process",t),n;function r(e){t=!0,Qde(e)}},o;function o(){for(var t=e(),n=-1;++n<r.length;)t.use.apply(t,(0,qr.Z)(r[n]));return t.data($de(!0,{},a)),t}function s(e,n){return"string"===typeof e?2===arguments.length?(sfe("data",t),a[e]=n,o):rfe.call(a,e)&&a[e]||null:e?(sfe("data",t),a=e,o):a}function u(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var u;if(sfe("use",t),null===e||void 0===e);else if("function"===typeof e)f.apply(void 0,[e].concat(i));else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?d(e):c(e)}return u&&(a.settings=Object.assign(a.settings||{},u)),o;function l(e){if("function"===typeof e)f(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){var t=(0,jr.Z)(e),n=t[0],r=t.slice(1);f.apply(void 0,[n].concat((0,qr.Z)(r)))}else c(e)}}function c(e){d(e.plugins),e.settings&&(u=Object.assign(u||{},e.settings))}function d(e){var t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){l(e[t])}}}function f(e,t){for(var n,a=-1;++a<r.length;)if(r[a][0]===e){n=r[a];break}n?(efe(n[1])&&efe(t)&&(t=$de(!0,n[1],t)),n[1]=t):r.push(Array.prototype.slice.call(arguments))}}}().freeze(),rfe={}.hasOwnProperty;function afe(e,t){return"function"===typeof e&&e.prototype&&(function(e){var t;for(t in e)if(rfe.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function ife(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function ofe(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function sfe(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ufe(e){if(!efe(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function lfe(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function cfe(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Yde(e)}function dfe(e,t){var n=(t||{}).includeImageAlt;return ffe(e,void 0===n||n)}function ffe(e,t){return e&&"object"===typeof e&&(e.value||(t?e.alt:"")||"children"in e&&pfe(e.children,t)||Array.isArray(e)&&pfe(e,t))||""}function pfe(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=ffe(e[r],t);return n.join("")}function hfe(e,t,n,r){var a,i=e.length,o=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)(a=Array.from(r)).unshift(t,n),[].splice.apply(e,a);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)(a=r.slice(o,o+1e4)).unshift(t,0),[].splice.apply(e,a),o+=1e4,t+=1e4}function mfe(e,t){return e.length>0?(hfe(e,e.length,0,t),e):t}var gfe={}.hasOwnProperty;function vfe(e){for(var t={},n=-1;++n<e.length;)yfe(t,e[n]);return t}function yfe(e,t){var n;for(n in t){var r=(gfe.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n],i=void 0;for(i in a){gfe.call(r,i)||(r[i]=[]);var o=a[i];bfe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function bfe(e,t){for(var n=-1,r=[];++n<t.length;)("after"===t[n].add?e:r).push(t[n]);hfe(e,0,0,r)}var xfe=_fe(/[A-Za-z]/),Afe=_fe(/\d/),wfe=_fe(/[\dA-Fa-f]/),kfe=_fe(/[\dA-Za-z]/),Sfe=_fe(/[!-/:-@[-`{-~]/),Cfe=_fe(/[#-'*+\--9=?A-Z^-~]/);function Ife(e){return null!==e&&(e<32||127===e)}function Efe(e){return null!==e&&(e<0||32===e)}function Tfe(e){return null!==e&&e<-2}function Nfe(e){return-2===e||-1===e||32===e}var Ofe=_fe(/\s/),Pfe=_fe(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function _fe(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Mfe(e,t,n,r){var a=r?r-1:Number.POSITIVE_INFINITY,i=0;return function(r){if(Nfe(r))return e.enter(n),o(r);return t(r)};function o(r){return Nfe(r)&&i++<a?(e.consume(r),o):(e.exit(n),t(r))}}var Rfe={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Mfe(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,a(n)}function a(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Tfe(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),a)}}};var Ffe={tokenize:function(e){var t,n,r,a=this,i=[],o=0;return s;function s(t){if(o<i.length){var n=i[o];return a.containerState=n[1],e.attempt(n[0].continuation,u,l)(t)}return l(t)}function u(e){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,t&&y();for(var n,r=a.events.length,i=r;i--;)if("exit"===a.events[i][0]&&"chunkFlow"===a.events[i][1].type){n=a.events[i][1].end;break}v(o);for(var u=r;u<a.events.length;)a.events[u][1].end=Object.assign({},n),u++;return hfe(a.events,i+1,0,a.events.slice(r)),a.events.length=u,l(e)}return s(e)}function l(n){if(o===i.length){if(!t)return f(n);if(t.currentConstruct&&t.currentConstruct.concrete)return h(n);a.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return a.containerState={},e.check(Dfe,c,d)(n)}function c(e){return t&&y(),v(o),f(e)}function d(e){return a.parser.lazy[a.now().line]=o!==i.length,r=a.now().offset,h(e)}function f(t){return a.containerState={},e.attempt(Dfe,p,h)(t)}function p(e){return o++,i.push([a.currentConstruct,a.containerState]),f(e)}function h(r){return null===r?(t&&y(),v(0),void e.consume(r)):(t=t||a.parser.flow(a.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),m(r))}function m(t){return null===t?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(t)):Tfe(t)?(e.consume(t),g(e.exit("chunkFlow")),o=0,a.interrupt=void 0,s):(e.consume(t),m)}function g(e,i){var s=a.sliceStream(e);if(i&&s.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(s),a.parser.lazy[e.start.line]){for(var u=t.events.length;u--;)if(t.events[u][1].start.offset<r&&(!t.events[u][1].end||t.events[u][1].end.offset>r))return;for(var l,c,d=a.events.length,f=d;f--;)if("exit"===a.events[f][0]&&"chunkFlow"===a.events[f][1].type){if(l){c=a.events[f][1].end;break}l=!0}for(v(o),u=d;u<a.events.length;)a.events[u][1].end=Object.assign({},c),u++;hfe(a.events,f+1,0,a.events.slice(d)),a.events.length=u}}function v(t){for(var n=i.length;n-- >t;){var r=i[n];a.containerState=r[1],r[0].exit.call(a,e)}i.length=t}function y(){t.write([null]),n=void 0,t=void 0,a.containerState._closeFlow=void 0}}},Dfe={tokenize:function(e,t,n){return Mfe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var Lfe={tokenize:function(e,t,n){return Mfe(e,(function(e){return null===e||Tfe(e)?t(e):n(e)}),"linePrefix")},partial:!0};function zfe(e){for(var t,n,r,a,i,o,s,u={},l=-1;++l<e.length;){for(;l in u;)l=u[l];if(t=e[l],l&&"chunkFlow"===t[1].type&&"listItemPrefix"===e[l-1][1].type&&((r=0)<(o=t[1]._tokenizer.events).length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(u,Zfe(e,l)),l=u[l],s=!0);else if(t[1]._container){for(r=l,n=void 0;r--&&("lineEnding"===(a=e[r])[1].type||"lineEndingBlank"===a[1].type);)"enter"===a[0]&&(n&&(e[n][1].type="lineEndingBlank"),a[1].type="lineEnding",n=r);n&&(t[1].end=Object.assign({},e[n][1].start),(i=e.slice(n,l)).unshift(t),hfe(e,n,l-n+1,i))}}return!s}function Zfe(e,t){for(var n,r,a=e[t][1],i=e[t][2],o=t-1,s=[],u=a._tokenizer||i.parser[a.contentType](a.start),l=u.events,c=[],d={},f=-1,p=a,h=0,m=0,g=[m];p;){for(;e[++o][1]!==p;);s.push(o),p._tokenizer||(n=i.sliceStream(p),p.next||n.push(null),r&&u.defineSkip(p.start),p._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(n),p._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),r=p,p=p.next}for(p=a;++f<l.length;)"exit"===l[f][0]&&"enter"===l[f-1][0]&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(m=f+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(u.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),f=g.length;f--;){var v=l.slice(g[f],g[f+1]),y=s.pop();c.unshift([y,y+v.length-1]),hfe(e,y,2,v)}for(f=-1;++f<c.length;)d[h+c[f][0]]=h+c[f][1],h+=c[f][1]-c[f][0]-1;return d}var Wfe={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?a(t):Tfe(t)?e.check(Bfe,i,a)(t):(e.consume(t),r)}function a(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return zfe(e),e}},Bfe={tokenize:function(e,t,n){var r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Mfe(e,a,"linePrefix")};function a(a){if(null===a||Tfe(a))return n(a);var i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}},partial:!0};var jfe={tokenize:function(e){var t=this,n=e.attempt(Lfe,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,Mfe(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Wfe,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var Vfe={resolveAll:Xfe()},Hfe=Gfe("string"),Ufe=Gfe("text");function Gfe(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],a=t.attempt(r,i,o);return i;function i(e){return u(e)?a(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return u(e)?(t.exit("data"),a(e)):(t.consume(e),s)}function u(e){if(null===e)return!0;var t=r[e],a=-1;if(t)for(;++a<t.length;){var i=t[a];if(!i.previous||i.previous.call(n,n.previous))return!0}return!1}},resolveAll:Xfe("text"===e?Yfe:void 0)}}function Xfe(e){return function(t,n){var r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function Yfe(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],a=t.sliceStream(r),i=a.length,o=-1,s=0,u=void 0;i--;){var l=a[i];if("string"===typeof l){for(o=l.length;32===l.charCodeAt(o-1);)s++,o--;if(o)break;o=-1}else if(-2===l)u=!0,s++;else if(-1!==l){i++;break}}if(s){var c={type:n===e.length||u||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+i,_bufferIndex:i?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function qfe(e,t,n){for(var r=[],a=-1;++a<e.length;){var i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}function Kfe(e,t,n){var r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),a={},i=[],o=[],s=[],u={consume:function(e){Tfe(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));l.previous=e,!0},enter:function(e,t){var n=t||{};return n.type=e,n.start=f(),l.events.push(["enter",n,l]),s.push(n),n},exit:function(e){var t=s.pop();return t.end=f(),l.events.push(["exit",t,l]),t},attempt:g((function(e,t){v(e,t.from)})),check:g(m),interrupt:g(m,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:function(e,t){return function(e,t){var n,r=-1,a=[];for(;++r<e.length;){var i=e[r],o=void 0;if("string"===typeof i)o=i;else switch(i){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&n)continue;o=" ";break;default:o=String.fromCharCode(i)}n=-2===i,a.push(o)}return a.join("")}(d(e),t)},now:f,defineSkip:function(e){a[e.line]=e.column,y()},write:function(e){if(o=mfe(o,e),p(),null!==o[o.length-1])return[];return v(t,0),l.events=qfe(i,l.events,l),l.events}},c=t.tokenize.call(l,u);return t.resolveAll&&i.push(t),l;function d(e){return function(e,t){var n,r=t.start._index,a=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;r===i?n=[e[r].slice(a,o)]:(n=e.slice(r,i),a>-1&&(n[0]=n[0].slice(a)),o>0&&n.push(e[i].slice(0,o)));return n}(o,e)}function f(){return Object.assign({},r)}function p(){for(var e;r._index<o.length;){var t=o[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)h(t.charCodeAt(r._bufferIndex));else h(t)}}function h(e){void 0,e,c=c(e)}function m(e,t){t.restore()}function g(e,t){return function(n,a,i){var o,c,d,p;return Array.isArray(n)?h(n):"tokenize"in n?h([n]):function(e){return t;function t(t){var n=null!==t&&e[t],r=null!==t&&e.null;return h([].concat((0,qr.Z)(Array.isArray(n)?n:n?[n]:[]),(0,qr.Z)(Array.isArray(r)?r:r?[r]:[])))(t)}}(n);function h(e){return o=e,c=0,0===e.length?i:m(e[c])}function m(e){return function(n){p=function(){var e=f(),t=l.previous,n=l.currentConstruct,a=l.events.length,i=Array.from(s);return{restore:o,from:a};function o(){r=e,l.previous=t,l.currentConstruct=n,l.events.length=a,s=i,y()}}(),d=e,e.partial||(l.currentConstruct=e);if(e.name&&l.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(l),t):l,u,g,v)(n)}}function g(t){return!0,e(d,p),a}function v(e){return!0,p.restore(),++c<o.length?m(o[c]):i}}}function v(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&hfe(l.events,t,l.events.length-t,e.resolve(l.events.slice(t),l)),e.resolveTo&&(l.events=e.resolveTo(l.events,l))}function y(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}var Jfe={name:"thematicBreak",tokenize:function(e,t,n){var r,a=0;return function(t){return e.enter("thematicBreak"),r=t,i(t)};function i(s){return s===r?(e.enter("thematicBreakSequence"),o(s)):Nfe(s)?Mfe(e,i,"whitespace")(s):a<3||null!==s&&!Tfe(s)?n(s):(e.exit("thematicBreak"),t(s))}function o(t){return t===r?(e.consume(t),a++,o):(e.exit("thematicBreakSequence"),i(t))}}};var Qfe={name:"list",tokenize:function(e,t,n){var r=this,a=r.events[r.events.length-1],i=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0,o=0;return function(t){var a=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===a?!r.containerState.marker||t===r.containerState.marker:Afe(t)){if(r.containerState.type||(r.containerState.type=a,e.enter(a,{_container:!0})),"listUnordered"===a)return e.enter("listItemPrefix"),42===t||45===t?e.check(Jfe,n,u)(t):u(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Afe(t)&&++o<10?(e.consume(t),s):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),u(t)):n(t)}function u(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Lfe,r.interrupt?n:l,e.attempt($fe,d,c))}function l(e){return r.containerState.initialBlankLine=!0,i++,d(e)}function c(t){return Nfe(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var r=this;return r.containerState._closeFlow=void 0,e.check(Lfe,a,i);function a(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Mfe(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!Nfe(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(epe,t,o)(n))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Mfe(e,e.attempt(Qfe,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}},exit:function(e){e.exit(this.containerState.type)}},$fe={tokenize:function(e,t,n){var r=this;return Mfe(e,(function(e){var a=r.events[r.events.length-1];return!Nfe(e)&&a&&"listItemPrefixWhitespace"===a[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},epe={tokenize:function(e,t,n){var r=this;return Mfe(e,(function(e){var a=r.events[r.events.length-1];return a&&"listItemIndent"===a[1].type&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};var tpe={name:"blockQuote",tokenize:function(e,t,n){var r=this;return function(t){if(62===t){var i=r.containerState;return i.open||(e.enter("blockQuote",{_container:!0}),i.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),a}return n(t)};function a(n){return Nfe(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return Mfe(e,e.attempt(tpe,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};function npe(e,t,n,r,a,i,o,s,u){var l=u||Number.POSITIVE_INFINITY,c=0;return function(t){if(60===t)return e.enter(r),e.enter(a),e.enter(i),e.consume(t),e.exit(i),d;if(null===t||41===t||Ife(t))return n(t);return e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),h(t)};function d(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),f(n))}function f(t){return 62===t?(e.exit("chunkString"),e.exit(s),d(t)):null===t||60===t||Tfe(t)?n(t):(e.consume(t),92===t?p:f)}function p(t){return 60===t||62===t||92===t?(e.consume(t),f):f(t)}function h(a){return 40===a?++c>l?n(a):(e.consume(a),h):41===a?c--?(e.consume(a),h):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(a)):null===a||Efe(a)?c?n(a):(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(a)):Ife(a)?n(a):(e.consume(a),92===a?m:h)}function m(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function rpe(e,t,n,r,a,i){var o,s=this,u=0;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),e.enter(i),l};function l(d){return null===d||91===d||93===d&&!o||94===d&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs||u>999?n(d):93===d?(e.exit(i),e.enter(a),e.consume(d),e.exit(a),e.exit(r),t):Tfe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(t){return null===t||91===t||93===t||Tfe(t)||u++>999?(e.exit("chunkString"),l(t)):(e.consume(t),o=o||!Nfe(t),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),u++,c):c(t)}}function ape(e,t,n,r,a,i){var o;return function(t){return e.enter(r),e.enter(a),e.consume(t),e.exit(a),o=40===t?41:t,s};function s(n){return n===o?(e.enter(a),e.consume(n),e.exit(a),e.exit(r),t):(e.enter(i),u(n))}function u(t){return t===o?(e.exit(i),s(o)):null===t?n(t):Tfe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Mfe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(t))}function l(t){return t===o||null===t||Tfe(t)?(e.exit("chunkString"),u(t)):(e.consume(t),92===t?c:l)}function c(t){return t===o||92===t?(e.consume(t),l):l(t)}}function ipe(e,t){var n;return function r(a){if(Tfe(a))return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r;if(Nfe(a))return Mfe(e,r,n?"linePrefix":"lineSuffix")(a);return t(a)}}function ope(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var spe={name:"definition",tokenize:function(e,t,n){var r,a=this;return function(t){return e.enter("definition"),rpe.call(a,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function i(t){return r=ope(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),ipe(e,npe(e,e.attempt(upe,Mfe(e,o,"whitespace"),Mfe(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function o(i){return null===i||Tfe(i)?(e.exit("definition"),a.parser.defined.includes(r)||a.parser.defined.push(r),t(i)):n(i)}}},upe={tokenize:function(e,t,n){return function(t){return Efe(t)?ipe(e,r)(t):n(t)};function r(t){return 34===t||39===t||40===t?ape(e,Mfe(e,a,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function a(e){return null===e||Tfe(e)?t(e):n(e)}},partial:!0};var lpe={name:"codeIndented",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("codeIndented"),Mfe(e,a,"linePrefix",5)(t)};function a(e){var t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?s(t):Tfe(t)?e.attempt(cpe,i,s)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||Tfe(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),o)}function s(n){return e.exit("codeIndented"),t(n)}}},cpe={tokenize:function(e,t,n){var r=this;return a;function a(t){return r.parser.lazy[r.now().line]?n(t):Tfe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):Mfe(e,i,"linePrefix",5)(t)}function i(e){var i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):Tfe(e)?a(e):n(e)}},partial:!0};var dpe={name:"headingAtx",tokenize:function(e,t,n){var r=this,a=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),i(t)};function i(s){return 35===s&&a++<6?(e.consume(s),i):null===s||Efe(s)?(e.exit("atxHeadingSequence"),r.interrupt?t(s):o(s)):n(s)}function o(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||Tfe(n)?(e.exit("atxHeading"),t(n)):Nfe(n)?Mfe(e,o,"whitespace")(n):(e.enter("atxHeadingText"),u(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),o(t))}function u(t){return null===t||35===t||Efe(t)?(e.exit("atxHeadingText"),o(t)):(e.consume(t),u)}},resolve:function(e,t){var n,r,a=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);a-2>i&&"whitespace"===e[a][1].type&&(a-=2);"atxHeadingSequence"===e[a][1].type&&(i===a-1||a-4>i&&"whitespace"===e[a-2][1].type)&&(a-=i+1===a?2:4);a>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[a][1].end},r={type:"chunkText",start:e[i][1].start,end:e[a][1].end,contentType:"text"},hfe(e,i,a-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};var fpe={name:"setextUnderline",tokenize:function(e,t,n){var r,a,i=this,o=i.events.length;for(;o--;)if("lineEnding"!==i.events[o][1].type&&"linePrefix"!==i.events[o][1].type&&"content"!==i.events[o][1].type){a="paragraph"===i.events[o][1].type;break}return function(t){if(!i.parser.lazy[i.now().line]&&(i.interrupt||a))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),r=t,s(t);return n(t)};function s(t){return t===r?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),Mfe(e,u,"lineSuffix")(t))}function u(r){return null===r||Tfe(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){var n,r,a,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),a||"definition"!==e[i][1].type||(a=i);var o={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",a?(e.splice(r,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[a][1].end)):e[n][1]=o;return e.push(["exit",o,t]),e}};var ppe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hpe=["pre","script","style","textarea"],mpe={name:"htmlFlow",tokenize:function(e,t,n){var r,a,i,o,s,u=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),l};function l(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),p):63===o?(e.consume(o),r=3,u.interrupt?t:R):xfe(o)?(e.consume(o),i=String.fromCharCode(o),a=!0,h):n(o)}function c(a){return 45===a?(e.consume(a),r=2,d):91===a?(e.consume(a),r=5,i="CDATA[",o=0,f):xfe(a)?(e.consume(a),r=4,u.interrupt?t:R):n(a)}function d(r){return 45===r?(e.consume(r),u.interrupt?t:R):n(r)}function f(r){return r===i.charCodeAt(o++)?(e.consume(r),o===i.length?u.interrupt?t:I:f):n(r)}function p(t){return xfe(t)?(e.consume(t),i=String.fromCharCode(t),h):n(t)}function h(o){return null===o||47===o||62===o||Efe(o)?47!==o&&a&&hpe.includes(i.toLowerCase())?(r=1,u.interrupt?t(o):I(o)):ppe.includes(i.toLowerCase())?(r=6,47===o?(e.consume(o),m):u.interrupt?t(o):I(o)):(r=7,u.interrupt&&!u.parser.lazy[u.now().line]?n(o):a?v(o):g(o)):45===o||kfe(o)?(e.consume(o),i+=String.fromCharCode(o),h):n(o)}function m(r){return 62===r?(e.consume(r),u.interrupt?t:I):n(r)}function g(t){return Nfe(t)?(e.consume(t),g):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||xfe(t)?(e.consume(t),y):Nfe(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||kfe(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),x):Nfe(t)?(e.consume(t),b):v(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,A):Nfe(t)?(e.consume(t),x):(s=null,w(t))}function A(t){return null===t||Tfe(t)?n(t):t===s?(e.consume(t),k):(e.consume(t),A)}function w(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||Efe(t)?b(t):(e.consume(t),w)}function k(e){return 47===e||62===e||Nfe(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return Nfe(t)?(e.consume(t),C):null===t||Tfe(t)?I(t):n(t)}function I(t){return 45===t&&2===r?(e.consume(t),O):60===t&&1===r?(e.consume(t),P):62===t&&4===r?(e.consume(t),F):63===t&&3===r?(e.consume(t),R):93===t&&5===r?(e.consume(t),M):!Tfe(t)||6!==r&&7!==r?null===t||Tfe(t)?E(t):(e.consume(t),I):e.check(gpe,F,E)(t)}function E(t){return e.exit("htmlFlowData"),T(t)}function T(t){return null===t?D(t):Tfe(t)?e.attempt({tokenize:N,partial:!0},T,D)(t):(e.enter("htmlFlowData"),I(t))}function N(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return u.parser.lazy[u.now().line]?n(e):t(e)}}function O(t){return 45===t?(e.consume(t),R):I(t)}function P(t){return 47===t?(e.consume(t),i="",_):I(t)}function _(t){return 62===t&&hpe.includes(i.toLowerCase())?(e.consume(t),F):xfe(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),_):I(t)}function M(t){return 93===t?(e.consume(t),R):I(t)}function R(t){return 62===t?(e.consume(t),F):45===t&&2===r?(e.consume(t),R):I(t)}function F(t){return null===t||Tfe(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),F)}function D(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){var t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},gpe={tokenize:function(e,t,n){return function(r){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),e.attempt(Lfe,t,n)}},partial:!0};var vpe={name:"codeFenced",tokenize:function(e,t,n){var r,a=this,i={tokenize:function(e,t,n){var a=0;return Mfe(e,i,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}function o(t){return t===r?(e.consume(t),a++,o):a<l?n(t):(e.exit("codeFencedFenceSequence"),Mfe(e,s,"whitespace")(t))}function s(r){return null===r||Tfe(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0},o={tokenize:function(e,t,n){var r=this;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i}function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},s=this.events[this.events.length-1],u=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,l=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),r=t,c(t)};function c(t){return t===r?(e.consume(t),l++,c):(e.exit("codeFencedFenceSequence"),l<3?n(t):Mfe(e,d,"whitespace")(t))}function d(t){return null===t||Tfe(t)?m(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(t))}function f(t){return null===t||Efe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Mfe(e,p,"whitespace")(t)):96===t&&t===r?n(t):(e.consume(t),f)}function p(t){return null===t||Tfe(t)?m(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Tfe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(t)):96===t&&t===r?n(t):(e.consume(t),h)}function m(n){return e.exit("codeFencedFence"),a.interrupt?t(n):g(n)}function g(t){return null===t?y(t):Tfe(t)?e.attempt(o,e.attempt(i,y,u?Mfe(e,g,"linePrefix",u+1):g),y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Tfe(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};var ype=document.createElement("i");function bpe(e){var t="&"+e+";";ype.innerHTML=t;var n=ype.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}var xpe={name:"characterReference",tokenize:function(e,t,n){var r,a,i=this,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),r=31,a=kfe,l(t))}function u(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,a=wfe,l):(e.enter("characterReferenceValue"),r=7,a=Afe,l(t))}function l(s){var u;return 59===s&&o?(u=e.exit("characterReferenceValue"),a!==kfe||bpe(i.sliceSerialize(u))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)):a(s)&&o++<r?(e.consume(s),l):n(s)}}};var Ape={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Sfe(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};var wpe={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Mfe(e,t,"linePrefix")}}};var kpe={name:"labelEnd",tokenize:function(e,t,n){var r,a,i=this,o=i.events.length;for(;o--;)if(("labelImage"===i.events[o][1].type||"labelLink"===i.events[o][1].type)&&!i.events[o][1]._balanced){r=i.events[o][1];break}return function(t){if(!r)return n(t);return r._inactive?u(t):(a=i.parser.defined.includes(ope(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s)};function s(n){return 40===n?e.attempt(Spe,t,a?t:u)(n):91===n?e.attempt(Cpe,t,a?e.attempt(Ipe,t,u):u)(n):a?t(n):u(n)}function u(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){var n,r,a,i,o=e.length,s=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(a){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(a=o);var u={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[a][1].end)},c={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[a-2][1].start)};return i=mfe(i=[["enter",u,t],["enter",l,t]],e.slice(r+1,r+s+3)),i=mfe(i,[["enter",c,t]]),i=mfe(i,qfe(t.parser.constructs.insideSpan.null,e.slice(r+s+4,a-3),t)),i=mfe(i,[["exit",c,t],e[a-2],e[a-1],["exit",l,t]]),i=mfe(i,e.slice(a+1)),i=mfe(i,[["exit",u,t]]),hfe(e,r,e.length,i),e},resolveAll:function(e){var t,n=-1;for(;++n<e.length;)"labelImage"!==(t=e[n][1]).type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},Spe={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),ipe(e,r)};function r(t){return 41===t?o(t):npe(e,a,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return Efe(t)?ipe(e,i)(t):o(t)}function i(t){return 34===t||39===t||40===t?ape(e,ipe(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):o(t)}function o(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Cpe={tokenize:function(e,t,n){var r=this;return function(t){return rpe.call(r,e,a,n,"reference","referenceMarker","referenceString")(t)};function a(e){return r.parser.defined.includes(ope(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},Ipe={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};var Epe={name:"labelStartImage",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),a};function a(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:kpe.resolveAll};function Tpe(e){return null===e||Efe(e)||Ofe(e)?1:Pfe(e)?2:void 0}var Npe={name:"attention",tokenize:function(e,t){var n,r=this.parser.constructs.attentionMarkers.null,a=this.previous,i=Tpe(a);return function(t){return e.enter("attentionSequence"),n=t,o(t)};function o(s){if(s===n)return e.consume(s),o;var u=e.exit("attentionSequence"),l=Tpe(s),c=!l||2===l&&i||r.includes(s),d=!i||2===i&&l||r.includes(a);return u._open=Boolean(42===n?c:c&&(i||!d)),u._close=Boolean(42===n?d:d&&(l||!c)),t(s)}},resolveAll:function(e,t){var n,r,a,i,o,s,u,l,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;var d=Object.assign({},e[n][1].end),f=Object.assign({},e[c][1].start);Ope(d,-s),Ope(f,s),i={type:s>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},o={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:f},a={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},o.end)},e[n][1].end=Object.assign({},i.start),e[c][1].start=Object.assign({},o.end),u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=mfe(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=mfe(u,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",a,t]]),u=mfe(u,qfe(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),u=mfe(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(l=2,u=mfe(u,[["enter",e[c][1],t],["exit",e[c][1],t]])):l=0,hfe(e,n-1,c-n+3,u),c=n+u.length-l-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function Ope(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Ppe={name:"autolink",tokenize:function(e,t,n){var r=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a};function a(t){return xfe(t)?(e.consume(t),i):Cfe(t)?u(t):n(t)}function i(e){return 43===e||45===e||46===e||kfe(e)?o(e):u(e)}function o(t){return 58===t?(e.consume(t),s):(43===t||45===t||46===t||kfe(t))&&r++<32?(e.consume(t),o):u(t)}function s(t){return 62===t?(e.exit("autolinkProtocol"),f(t)):null===t||32===t||60===t||Ife(t)?n(t):(e.consume(t),s)}function u(t){return 64===t?(e.consume(t),r=0,l):Cfe(t)?(e.consume(t),u):n(t)}function l(e){return kfe(e)?c(e):n(e)}function c(t){return 46===t?(e.consume(t),r=0,l):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",f(t)):d(t)}function d(t){return(45===t||kfe(t))&&r++<63?(e.consume(t),45===t?d:c):n(t)}function f(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};var _pe={name:"htmlText",tokenize:function(e,t,n){var r,a,i,o,s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),u};function u(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),x):xfe(t)?(e.consume(t),C):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),a="CDATA[",i=0,m):xfe(t)?(e.consume(t),b):n(t)}function c(t){return 45===t?(e.consume(t),d):n(t)}function d(t){return null===t||62===t?n(t):45===t?(e.consume(t),f):p(t)}function f(e){return null===e||62===e?n(e):p(e)}function p(t){return null===t?n(t):45===t?(e.consume(t),h):Tfe(t)?(o=p,M(t)):(e.consume(t),p)}function h(t){return 45===t?(e.consume(t),F):p(t)}function m(t){return t===a.charCodeAt(i++)?(e.consume(t),i===a.length?g:m):n(t)}function g(t){return null===t?n(t):93===t?(e.consume(t),v):Tfe(t)?(o=g,M(t)):(e.consume(t),g)}function v(t){return 93===t?(e.consume(t),y):g(t)}function y(t){return 62===t?F(t):93===t?(e.consume(t),y):g(t)}function b(t){return null===t||62===t?F(t):Tfe(t)?(o=b,M(t)):(e.consume(t),b)}function x(t){return null===t?n(t):63===t?(e.consume(t),A):Tfe(t)?(o=x,M(t)):(e.consume(t),x)}function A(e){return 62===e?F(e):x(e)}function w(t){return xfe(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||kfe(t)?(e.consume(t),k):S(t)}function S(t){return Tfe(t)?(o=S,M(t)):Nfe(t)?(e.consume(t),S):F(t)}function C(t){return 45===t||kfe(t)?(e.consume(t),C):47===t||62===t||Efe(t)?I(t):n(t)}function I(t){return 47===t?(e.consume(t),F):58===t||95===t||xfe(t)?(e.consume(t),E):Tfe(t)?(o=I,M(t)):Nfe(t)?(e.consume(t),I):F(t)}function E(t){return 45===t||46===t||58===t||95===t||kfe(t)?(e.consume(t),E):T(t)}function T(t){return 61===t?(e.consume(t),N):Tfe(t)?(o=T,M(t)):Nfe(t)?(e.consume(t),T):I(t)}function N(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,O):Tfe(t)?(o=N,M(t)):Nfe(t)?(e.consume(t),N):(e.consume(t),r=void 0,_)}function O(t){return t===r?(e.consume(t),P):null===t?n(t):Tfe(t)?(o=O,M(t)):(e.consume(t),O)}function P(e){return 62===e||47===e||Efe(e)?I(e):n(e)}function _(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||Efe(t)?I(t):(e.consume(t),_)}function M(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Mfe(e,R,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function R(t){return e.enter("htmlTextData"),o(t)}function F(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}}};var Mpe={name:"labelStartLink",tokenize:function(e,t,n){var r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),a};function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:kpe.resolveAll};var Rpe={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),r};function r(r){return Tfe(r)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(r)):n(r)}}};var Fpe,Dpe,Lpe,zpe,Zpe,Wpe={name:"codeText",tokenize:function(e,t,n){var r,a,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),i++,o):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):96===t?(a=e.enter("codeTextSequence"),r=0,l(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):Tfe(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),u(t))}function u(t){return null===t||32===t||96===t||Tfe(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),u)}function l(n){return 96===n?(e.consume(n),r++,l):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(a.type="codeTextData",u(n))}},resolve:function(e){var t,n,r=e.length-4,a=3;if(("lineEnding"===e[a][1].type||"space"===e[a][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=a;++t<r;)if("codeTextData"===e[t][1].type){e[a][1].type="codeTextPadding",e[r][1].type="codeTextPadding",a+=2,r-=2;break}t=a-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};var Bpe=(Fpe={},(0,_r.Z)(Fpe,42,Qfe),(0,_r.Z)(Fpe,43,Qfe),(0,_r.Z)(Fpe,45,Qfe),(0,_r.Z)(Fpe,48,Qfe),(0,_r.Z)(Fpe,49,Qfe),(0,_r.Z)(Fpe,50,Qfe),(0,_r.Z)(Fpe,51,Qfe),(0,_r.Z)(Fpe,52,Qfe),(0,_r.Z)(Fpe,53,Qfe),(0,_r.Z)(Fpe,54,Qfe),(0,_r.Z)(Fpe,55,Qfe),(0,_r.Z)(Fpe,56,Qfe),(0,_r.Z)(Fpe,57,Qfe),(0,_r.Z)(Fpe,62,tpe),Fpe),jpe=(0,_r.Z)({},91,spe),Vpe=(Dpe={},(0,_r.Z)(Dpe,-2,lpe),(0,_r.Z)(Dpe,-1,lpe),(0,_r.Z)(Dpe,32,lpe),Dpe),Hpe=(Lpe={},(0,_r.Z)(Lpe,35,dpe),(0,_r.Z)(Lpe,42,Jfe),(0,_r.Z)(Lpe,45,[fpe,Jfe]),(0,_r.Z)(Lpe,60,mpe),(0,_r.Z)(Lpe,61,fpe),(0,_r.Z)(Lpe,95,Jfe),(0,_r.Z)(Lpe,96,vpe),(0,_r.Z)(Lpe,126,vpe),Lpe),Upe=(zpe={},(0,_r.Z)(zpe,38,xpe),(0,_r.Z)(zpe,92,Ape),zpe),Gpe=(Zpe={},(0,_r.Z)(Zpe,-5,wpe),(0,_r.Z)(Zpe,-4,wpe),(0,_r.Z)(Zpe,-3,wpe),(0,_r.Z)(Zpe,33,Epe),(0,_r.Z)(Zpe,38,xpe),(0,_r.Z)(Zpe,42,Npe),(0,_r.Z)(Zpe,60,[Ppe,_pe]),(0,_r.Z)(Zpe,91,Mpe),(0,_r.Z)(Zpe,92,[Rpe,Ape]),(0,_r.Z)(Zpe,93,kpe),(0,_r.Z)(Zpe,95,Npe),(0,_r.Z)(Zpe,96,Wpe),Zpe),Xpe={null:[Npe,Vfe]},Ype={null:[42,95]},qpe={null:[]};var Kpe=/[\0\t\n\r]/g;function Jpe(e,t){var n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}var Qpe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $pe(e){return e.replace(Qpe,ehe)}function ehe(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){var r=n.charCodeAt(1),a=120===r||88===r;return Jpe(n.slice(a?2:1),a?16:10)}return bpe(n)||e}var the={}.hasOwnProperty,nhe=function(t,n,r){return"string"!==typeof n&&(r=n,n=void 0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rhe({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(re),autolinkProtocol:T,autolinkEmail:T,atxHeading:u($),blockQuote:u(Y),characterEscape:T,characterReference:T,codeFenced:u(q),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(q,l),codeText:u(K,l),codeTextData:T,data:T,codeFlowValue:T,definition:u(J),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Q),hardBreakEscape:u(ee),hardBreakTrailing:u(ee),htmlFlow:u(te,l),htmlFlowData:T,htmlText:u(te,l),htmlTextData:T,image:u(ne),label:l,link:u(re),listItem:u(ie),listItemValue:m,listOrdered:u(ae,h),listUnordered:u(ae),paragraph:u(oe),reference:j,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u($),strong:u(se),thematicBreak:u(le)},exit:{atxHeading:d(),atxHeadingSequence:S,autolink:d(),autolinkEmail:X,autolinkProtocol:G,blockQuote:d(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:U,codeFenced:d(b),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:N,codeIndented:d(x),codeText:d(R),codeTextData:N,data:N,definition:d(),definitionDestinationString:k,definitionLabelString:A,definitionTitleString:w,emphasis:d(),hardBreakEscape:d(P),hardBreakTrailing:d(P),htmlFlow:d(_),htmlFlowData:N,htmlText:d(M),htmlTextData:N,image:d(D),label:z,labelText:L,lineEnding:O,link:d(F),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:Z,resourceTitleString:W,resource:B,setextHeading:d(E),setextHeadingLineSequence:I,setextHeadingText:C,strong:d(),thematicBreak:d()}},e.mdastExtensions||[]),n={};return r;function r(e){for(var n={type:"root",children:[]},r=[],u=[],d={stack:[n],tokenStack:r,config:t,enter:c,exit:f,buffer:l,resume:p,setData:i,getData:o},h=-1;++h<e.length;){if("listOrdered"===e[h][1].type||"listUnordered"===e[h][1].type)if("enter"===e[h][0])u.push(h);else h=a(e,u.pop(),h)}for(h=-1;++h<e.length;){var m=t[e[h][0]];the.call(m,e[h][1].type)&&m[e[h][1].type].call(Object.assign({sliceSerialize:e[h][2].sliceSerialize},d),e[h][1])}if(r.length>0){var g=r[r.length-1];(g[1]||ihe).call(d,void 0,g[0])}for(n.position={start:s(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:s(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},h=-1;++h<t.transforms.length;)n=t.transforms[h](n)||n;return n}function a(e,t,n){for(var r,a,i,o,s=t-1,u=-1,l=!1;++s<=n;){var c=e[s];if("listUnordered"===c[1].type||"listOrdered"===c[1].type||"blockQuote"===c[1].type?("enter"===c[0]?u++:u--,o=void 0):"lineEndingBlank"===c[1].type?"enter"===c[0]&&(!r||o||u||i||(i=s),o=void 0):"linePrefix"===c[1].type||"listItemValue"===c[1].type||"listItemMarker"===c[1].type||"listItemPrefix"===c[1].type||"listItemPrefixWhitespace"===c[1].type||(o=void 0),!u&&"enter"===c[0]&&"listItemPrefix"===c[1].type||-1===u&&"exit"===c[0]&&("listUnordered"===c[1].type||"listOrdered"===c[1].type)){if(r){var d=s;for(a=void 0;d--;){var f=e[d];if("lineEnding"===f[1].type||"lineEndingBlank"===f[1].type){if("exit"===f[0])continue;a&&(e[a][1].type="lineEndingBlank",l=!0),f[1].type="lineEnding",a=d}else if("linePrefix"!==f[1].type&&"blockQuotePrefix"!==f[1].type&&"blockQuotePrefixWhitespace"!==f[1].type&&"blockQuoteMarker"!==f[1].type&&"listItemIndent"!==f[1].type)break}i&&(!a||i<a)&&(r._spread=!0),r.end=Object.assign({},a?e[a][1].start:c[1].end),e.splice(a||s,0,["exit",r,c[2]]),s++,n++}"listItemPrefix"===c[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},c[1].start)},e.splice(s,0,["enter",r,c[2]]),s++,n++,i=void 0,o=!0)}}return e[t][1]._spread=l,n}function i(e,t){n[e]=t}function o(e){return n[e]}function s(e){return{line:e.line,column:e.column,offset:e.offset}}function u(e,t){return n;function n(n){c.call(this,e(n),n),t&&t.call(this,n)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:s(t.start)},e}function d(e){return t;function t(t){e&&e.call(this,t),f.call(this,t)}}function f(e,t){var n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Dde({start:e.start,end:e.end})+"): it\u2019s not open");return r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||ihe).call(this,e,r[0])),n.position.end=s(e.end),n}function p(){return dfe(this.stack.pop())}function h(){i("expectingFirstListItemValue",!0)}function m(e){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),i("expectingFirstListItemValue"))}function g(){var e=this.resume();this.stack[this.stack.length-1].lang=e}function v(){var e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){o("flowCodeInside")||(this.buffer(),i("flowCodeInside",!0))}function b(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),i("flowCodeInside")}function x(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function A(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ope(this.sliceSerialize(e)).toLowerCase()}function w(){var e=this.resume();this.stack[this.stack.length-1].title=e}function k(){var e=this.resume();this.stack[this.stack.length-1].url=e}function S(e){var t=this.stack[this.stack.length-1];if(!t.depth){var n=this.sliceSerialize(e).length;t.depth=n}}function C(){i("setextHeadingSlurpLineEnding",!0)}function I(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function E(){i("setextHeadingSlurpLineEnding")}function T(e){var t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type||((n=ue()).position={start:s(e.start)},t.children.push(n)),this.stack.push(n)}function N(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=s(e.end)}function O(e){var n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=s(e.end),void i("atHardBreak");!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(T.call(this,e),N.call(this,e))}function P(){i("atHardBreak",!0)}function _(){var e=this.resume();this.stack[this.stack.length-1].value=e}function M(){var e=this.resume();this.stack[this.stack.length-1].value=e}function R(){var e=this.resume();this.stack[this.stack.length-1].value=e}function F(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),i("referenceType")}function D(){var e=this.stack[this.stack.length-1];o("inReference")?(e.type+="Reference",e.referenceType=o("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),i("referenceType")}function L(e){var t=this.stack[this.stack.length-2],n=this.sliceSerialize(e);t.label=$pe(n),t.identifier=ope(n).toLowerCase()}function z(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];i("inReference",!0),"link"===n.type?n.children=e.children:n.alt=t}function Z(){var e=this.resume();this.stack[this.stack.length-1].url=e}function W(){var e=this.resume();this.stack[this.stack.length-1].title=e}function B(){i("inReference")}function j(){i("referenceType","collapsed")}function V(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=ope(this.sliceSerialize(e)).toLowerCase(),i("referenceType","full")}function H(e){i("characterReferenceType",e.type)}function U(e){var t,n=this.sliceSerialize(e),r=o("characterReferenceType");r?(t=Jpe(n,"characterReferenceMarkerNumeric"===r?10:16),i("characterReferenceType")):t=bpe(n);var a=this.stack.pop();a.value+=t,a.position.end=s(e.end)}function G(e){N.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function X(e){N.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function Y(){return{type:"blockquote",children:[]}}function q(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function re(){return{type:"link",title:null,url:"",children:[]}}function ae(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(r)(function(e){for(;!zfe(e););return e}(function(){var t={defined:[],lazy:{},constructs:vfe([e].concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).extensions||[])),content:n(Rfe),document:n(Ffe),flow:n(jfe),string:n(Hfe),text:n(Ufe)};return t;function n(e){return function(n){return Kfe(t,e,n)}}}(r).document().write(function(){var e,t=1,n="",r=!0;return function(a,i,o){var s,u,l,c,d,f=[];for(a=n+a.toString(i),l=0,n="",r&&(65279===a.charCodeAt(0)&&l++,r=void 0);l<a.length;){if(Kpe.lastIndex=l,c=(s=Kpe.exec(a))&&void 0!==s.index?s.index:a.length,d=a.charCodeAt(c),!s){n=a.slice(l);break}if(10===d&&l===c&&e)f.push(-3),e=void 0;else switch(e&&(f.push(-5),e=void 0),l<c&&(f.push(a.slice(l,c)),t+=c-l),d){case 0:f.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),f.push(-2);t++<u;)f.push(-1);break;case 10:f.push(-4),t=1;break;default:e=!0,t=1}l=c+1}return o&&(e&&f.push(-5),n&&f.push(n),f.push(null)),f}}()(t,n,!0))))};function rhe(e,t){for(var n=-1;++n<t.length;){var r=t[n];Array.isArray(r)?rhe(e,r):ahe(e,r)}return e}function ahe(e,t){var n;for(n in t)if(the.call(t,n)){var r="canContainEols"===n||"transforms"===n,a=(the.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),i=t[n];i&&(r?e[n]=[].concat((0,qr.Z)(a),(0,qr.Z)(i)):Object.assign(a,i))}}function ihe(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Dde({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Dde({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Dde({start:t.start,end:t.end})+") is still open")}var ohe=function(e){var t=this;Object.assign(this,{Parser:function(n){var r=t.data("settings");return nhe(n,Object.assign({},r,e,{extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]}))}})},she=function(e,t,n){var r={type:String(e)};return void 0!==n&&null!==n||"string"!==typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:void 0!==n&&null!==n&&(r.value=String(n)),r},uhe=function(e){if(void 0===e||null===e)return dhe;if("string"===typeof e)return function(e){return che(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?lhe(e):function(e){return che(t);function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return che(e);throw new Error("Expected function, string, or object as test")};function lhe(e){for(var t=[],n=-1;++n<e.length;)t[n]=uhe(e[n]);return che((function(){for(var e=-1,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(;++e<t.length;){var i;if((i=t[e]).call.apply(i,[this].concat(r)))return!0}return!1}))}function che(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Boolean(e.call.apply(e,[this].concat(n)))}}function dhe(){return!0}var fhe=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);var a=uhe(t),i=r?-1:1;!function e(o,s,u){var l,c="object"===typeof o&&null!==o?o:{};"string"===typeof c.type&&(l="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+c.type+(l?"<"+l+">":"")+")"}));return d;function d(){var l,c,d,f=[];if((!t||a(o,s,u[u.length-1]||null))&&(f=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[true,e];return[e]}(n(o,u)),false===f[0]))return f;if(o.children&&"skip"!==f[0])for(c=(r?o.children.length:-1)+i,d=u.concat(o);c>-1&&c<o.children.length;){if(l=e(o.children[c],c,d)(),false===l[0])return l;c="number"===typeof l[1]?l[1]:c+i}return f}}(e,null,[])()};var phe=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),fhe(e,t,(function(e,t){var r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},hhe=ghe("start"),mhe=ghe("end");function ghe(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}var vhe={}.hasOwnProperty;function yhe(e){return String(e||"").toUpperCase()}var bhe={}.hasOwnProperty;function xhe(e,t){var n=t.data||{};return"value"in t&&!(bhe.call(n,"hName")||bhe.call(n,"hProperties")||bhe.call(n,"hChildren"))?e.augment(t,she("text",t.value)):e(t,"div",khe(e,t))}function Ahe(e,t,n){var r,a=t&&t.type;if(!a)throw new Error("Expected node, got `"+t+"`");return("function"===typeof(r=bhe.call(e.handlers,a)?e.handlers[a]:e.passThrough&&e.passThrough.includes(a)?whe:e.unknownHandler)?r:xhe)(e,t,n)}function whe(e,t){return"children"in t?(0,s.Z)((0,s.Z)({},t),{},{children:khe(e,t)}):t}function khe(e,t){var n=[];if("children"in t)for(var r=t.children,a=-1;++a<r.length;){var i=Ahe(e,r[a],t);if(i){if(a&&"break"===r[a-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=i.value.replace(/^\s+/,"")),!Array.isArray(i)&&"element"===i.type)){var o=i.children[0];o&&"text"===o.type&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(i)?n.push.apply(n,(0,qr.Z)(i)):n.push(i)}}return n}var She={'"':"quot","&":"amp","<":"lt",">":"gt"};function Che(e,t){var n=function(e){return e.replace(/["&<>]/g,(function(e){return"&"+She[e]+";"}))}(function(e){var t=[],n=-1,r=0,a=0;for(;++n<e.length;){var i=e.charCodeAt(n),o="";if(37===i&&kfe(e.charCodeAt(n+1))&&kfe(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){var s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o="\ufffd"}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}(e||""));if(!t)return n;var r=n.indexOf(":"),a=n.indexOf("?"),i=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||a>-1&&r>a||i>-1&&r>i||t.test(n.slice(0,r))?n:""}function Ihe(e,t){var n=[],r=-1;for(t&&n.push(she("text","\n"));++r<e.length;)r&&n.push(she("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(she("text","\n")),n}function Ehe(e,t){var n,r=String(t.identifier),a=Che(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);-1===i?(e.footnoteOrder.push(r),e.footnoteCounts[r]=1,n=e.footnoteOrder.length):(e.footnoteCounts[r]++,n=i+1);var o=e.footnoteCounts[r];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+a,id:e.clobberPrefix+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[she("text",String(n))])])}var The=n(1970);function Nhe(e,t){var n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return she("text","!["+t.alt+r);var a=khe(e,t),i=a[0];i&&"text"===i.type?i.value="["+i.value:a.unshift(she("text","["));var o=a[a.length-1];return o&&"text"===o.type?o.value+=r:a.push(she("text",r)),a}function Ohe(e){var t=e.spread;return void 0===t||null===t?e.children.length>1:t}var Phe={blockquote:function(e,t){return e(t,"blockquote",Ihe(khe(e,t),!0))},break:function(e,t){return[e(t,"br"),she("text","\n")]},code:function(e,t){var n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};r&&(a.className=["language-"+r]);var i=e(t,"code",a,[she("text",n)]);return t.meta&&(i.data={meta:t.meta}),e(t.position,"pre",[i])},delete:function(e,t){return e(t,"del",khe(e,t))},emphasis:function(e,t){return e(t,"em",khe(e,t))},footnoteReference:Ehe,footnote:function(e,t){for(var n=e.footnoteById,r=1;r in n;)r++;var a=String(r);return n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:t.children}],position:t.position},Ehe(e,{type:"footnoteReference",identifier:a,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,khe(e,t))},html:function(e,t){return e.dangerous?e.augment(t,she("raw",t.value)):null},imageReference:function(e,t){var n=e.definition(t.identifier);if(!n)return Nhe(e,t);var r={src:The(n.url||""),alt:t.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"img",r)},image:function(e,t){var n={src:The(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)},inlineCode:function(e,t){return e(t,"code",[she("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){var n=e.definition(t.identifier);if(!n)return Nhe(e,t);var r={href:The(n.url||"")};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"a",r,khe(e,t))},link:function(e,t){var n={href:The(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,khe(e,t))},listItem:function(e,t,n){var r,a=khe(e,t),i=n?function(e){var t=e.spread,n=e.children,r=-1;for(;!t&&++r<n.length;)t=Ohe(n[r]);return Boolean(t)}(n):Ohe(t),o={},s=[];"boolean"===typeof t.checked&&(a[0]&&"element"===a[0].type&&"p"===a[0].tagName?r=a[0]:(r=e(null,"p",[]),a.unshift(r)),r.children.length>0&&r.children.unshift(she("text"," ")),r.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]);for(var u=-1;++u<a.length;){var l=a[u];(i||0!==u||"element"!==l.type||"p"!==l.tagName)&&s.push(she("text","\n")),"element"!==l.type||"p"!==l.tagName||i?s.push(l):s.push.apply(s,(0,qr.Z)(l.children))}var c=a[a.length-1];return!c||!i&&"tagName"in c&&"p"===c.tagName||s.push(she("text","\n")),e(t,"li",o,s)},list:function(e,t){var n={},r=t.ordered?"ol":"ul",a=khe(e,t),i=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++i<a.length;){var o=a[i];if("element"===o.type&&"li"===o.tagName&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,Ihe(a,!0))},paragraph:function(e,t){return e(t,"p",khe(e,t))},root:function(e,t){return e.augment(t,she("root",Ihe(khe(e,t))))},strong:function(e,t){return e(t,"strong",khe(e,t))},table:function(e,t){for(var n=t.children,r=-1,a=t.align||[],i=[];++r<n.length;){for(var o=n[r].children,s=0===r?"th":"td",u=[],l=-1,c=t.align?a.length:o.length;++l<c;){var d=o[l];u.push(e(d,s,{align:a[l]},d?khe(e,d):[]))}i[r]=e(n[r],"tr",Ihe(u,!0))}return e(t,"table",Ihe([e(i[0].position,"thead",Ihe([i[0]],!0))].concat(i[1]?e({start:hhe(i[1]),end:mhe(i[i.length-1])},"tbody",Ihe(i.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,she("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:function(e,t){return e(t,"hr")},toml:_he,yaml:_he,definition:_he,footnoteDefinition:_he};function _he(){return null}var Mhe={}.hasOwnProperty;function Rhe(e,t){var n=t||{},r=n.allowDangerousHtml||!1,a={};return o.dangerous=r,o.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=function(e){var t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return phe(e,"definition",(function(e){var n=yhe(e.identifier);n&&!vhe.call(t,n)&&(t[n]=e)})),function(e){var n=yhe(e);return n&&vhe.call(t,n)?t[n]:null}}(e),o.footnoteById=a,o.footnoteOrder=[],o.footnoteCounts={},o.augment=i,o.handlers=(0,s.Z)((0,s.Z)({},Phe),n.handlers),o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,phe(e,"footnoteDefinition",(function(e){var t=String(e.identifier).toUpperCase();Mhe.call(a,t)||(a[t]=e)})),o;function i(e,t){if(e&&"data"in e&&e.data){var n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties=(0,s.Z)((0,s.Z)({},t.properties),n.hProperties)),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){var r="type"in e?e:{position:e};(function(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column})(r)||(t.position={start:hhe(r),end:mhe(r)})}return t}function o(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),i(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}function Fhe(e,t){var n=Rhe(e,t),r=Ahe(n,e,null),a=function(e){for(var t=-1,n=[];++t<e.footnoteOrder.length;){var r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(r){for(var a=khe(e,r),i=String(r.identifier),o=Che(i.toLowerCase()),s=0,u=[];++s<=e.footnoteCounts[i];){var l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(s>1?"-"+s:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"\u21a9"}]};s>1&&l.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(s)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(l)}var c=a[a.length-1];if(c&&"element"===c.type&&"p"===c.tagName){var d,f=c.children[c.children.length-1];f&&"text"===f.type?f.value+=" ":c.children.push({type:"text",value:" "}),(d=c.children).push.apply(d,u)}else a.push.apply(a,u);var p={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:Ihe(a,!0)};r.position&&(p.position=r.position),n.push(p)}}return 0===n.length?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[she("text",e.footnoteLabel)]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:Ihe(n,!0)},{type:"text",value:"\n"}]}}(n);return a&&r.children.push(she("text","\n"),a),Array.isArray(r)?{type:"root",children:r}:r}var Dhe=function(e,t){return e&&"run"in e?function(e,t){return function(n,r,a){e.run(Fhe(n,t),r,(function(e){a(e)}))}}(e,t):function(e){return function(t){return Fhe(t,e)}}(e||t)};var Lhe=(0,Gr.Z)((function e(t,n,r){(0,Ur.Z)(this,e),this.property=t,this.normal=n,r&&(this.space=r)}));function zhe(e,t){for(var n={},r={},a=-1;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new Lhe(n,r,t)}function Zhe(e){return e.toLowerCase()}Lhe.prototype.property={},Lhe.prototype.normal={},Lhe.prototype.space=null;var Whe=(0,Gr.Z)((function e(t,n){(0,Ur.Z)(this,e),this.property=t,this.attribute=n}));Whe.prototype.space=null,Whe.prototype.boolean=!1,Whe.prototype.booleanish=!1,Whe.prototype.overloadedBoolean=!1,Whe.prototype.number=!1,Whe.prototype.commaSeparated=!1,Whe.prototype.spaceSeparated=!1,Whe.prototype.commaOrSpaceSeparated=!1,Whe.prototype.mustUseProperty=!1,Whe.prototype.defined=!1;var Bhe=0,jhe=qhe(),Vhe=qhe(),Hhe=qhe(),Uhe=qhe(),Ghe=qhe(),Xhe=qhe(),Yhe=qhe();function qhe(){return Math.pow(2,++Bhe)}var Khe=Object.keys(t),Jhe=function(e){(0,Vr.Z)(r,e);var n=(0,Hr.Z)(r);function r(e,a,i,o){var s;(0,Ur.Z)(this,r);var u=-1;if(s=n.call(this,e,a),Qhe((0,Dr.Z)(s),"space",o),"number"===typeof i)for(;++u<Khe.length;){var l=Khe[u];Qhe((0,Dr.Z)(s),Khe[u],(i&t[l])===t[l])}return s}return(0,Gr.Z)(r)}(Whe);function Qhe(e,t,n){n&&(e[t]=n)}Jhe.prototype.defined=!0;var $he={}.hasOwnProperty;function eme(e){var t,n={},r={};for(t in e.properties)if($he.call(e.properties,t)){var a=e.properties[t],i=new Jhe(t,e.transform(e.attributes||{},t),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(i.mustUseProperty=!0),n[t]=i,r[Zhe(t)]=t,r[Zhe(i.attribute)]=t}return new Lhe(n,r,e.space)}var tme=eme({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),nme=eme({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function rme(e,t){return t in e?e[t]:t}function ame(e,t){return rme(e,t.toLowerCase())}var ime=eme({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ame,properties:{xmlns:null,xmlnsXLink:null}}),ome=eme({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vhe,ariaAutoComplete:null,ariaBusy:Vhe,ariaChecked:Vhe,ariaColCount:Uhe,ariaColIndex:Uhe,ariaColSpan:Uhe,ariaControls:Ghe,ariaCurrent:null,ariaDescribedBy:Ghe,ariaDetails:null,ariaDisabled:Vhe,ariaDropEffect:Ghe,ariaErrorMessage:null,ariaExpanded:Vhe,ariaFlowTo:Ghe,ariaGrabbed:Vhe,ariaHasPopup:null,ariaHidden:Vhe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ghe,ariaLevel:Uhe,ariaLive:null,ariaModal:Vhe,ariaMultiLine:Vhe,ariaMultiSelectable:Vhe,ariaOrientation:null,ariaOwns:Ghe,ariaPlaceholder:null,ariaPosInSet:Uhe,ariaPressed:Vhe,ariaReadOnly:Vhe,ariaRelevant:null,ariaRequired:Vhe,ariaRoleDescription:Ghe,ariaRowCount:Uhe,ariaRowIndex:Uhe,ariaRowSpan:Uhe,ariaSelected:Vhe,ariaSetSize:Uhe,ariaSort:null,ariaValueMax:Uhe,ariaValueMin:Uhe,ariaValueNow:Uhe,ariaValueText:null,role:null}}),sme=eme({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ame,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xhe,acceptCharset:Ghe,accessKey:Ghe,action:null,allow:null,allowFullScreen:jhe,allowPaymentRequest:jhe,allowUserMedia:jhe,alt:null,as:null,async:jhe,autoCapitalize:null,autoComplete:Ghe,autoFocus:jhe,autoPlay:jhe,capture:jhe,charSet:null,checked:jhe,cite:null,className:Ghe,cols:Uhe,colSpan:null,content:null,contentEditable:Vhe,controls:jhe,controlsList:Ghe,coords:Uhe|Xhe,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jhe,defer:jhe,dir:null,dirName:null,disabled:jhe,download:Hhe,draggable:Vhe,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jhe,formTarget:null,headers:Ghe,height:Uhe,hidden:jhe,high:Uhe,href:null,hrefLang:null,htmlFor:Ghe,httpEquiv:Ghe,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:jhe,itemId:null,itemProp:Ghe,itemRef:Ghe,itemScope:jhe,itemType:Ghe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jhe,low:Uhe,manifest:null,max:null,maxLength:Uhe,media:null,method:null,min:null,minLength:Uhe,multiple:jhe,muted:jhe,name:null,nonce:null,noModule:jhe,noValidate:jhe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jhe,optimum:Uhe,pattern:null,ping:Ghe,placeholder:null,playsInline:jhe,poster:null,preload:null,readOnly:jhe,referrerPolicy:null,rel:Ghe,required:jhe,reversed:jhe,rows:Uhe,rowSpan:Uhe,sandbox:Ghe,scope:null,scoped:jhe,seamless:jhe,selected:jhe,shape:null,size:Uhe,sizes:null,slot:null,span:Uhe,spellCheck:Vhe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Uhe,step:null,style:null,tabIndex:Uhe,target:null,title:null,translate:null,type:null,typeMustMatch:jhe,useMap:null,value:Vhe,width:Uhe,wrap:null,align:null,aLink:null,archive:Ghe,axis:null,background:null,bgColor:null,border:Uhe,borderColor:null,bottomMargin:Uhe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jhe,declare:jhe,event:null,face:null,frame:null,frameBorder:null,hSpace:Uhe,leftMargin:Uhe,link:null,longDesc:null,lowSrc:null,marginHeight:Uhe,marginWidth:Uhe,noResize:jhe,noHref:jhe,noShade:jhe,noWrap:jhe,object:null,profile:null,prompt:null,rev:null,rightMargin:Uhe,rules:null,scheme:null,scrolling:Vhe,standby:null,summary:null,text:null,topMargin:Uhe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Uhe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jhe,disableRemotePlayback:jhe,prefix:null,property:null,results:Uhe,security:null,unselectable:null}}),ume=eme({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:rme,properties:{about:Yhe,accentHeight:Uhe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Uhe,amplitude:Uhe,arabicForm:null,ascent:Uhe,attributeName:null,attributeType:null,azimuth:Uhe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Uhe,by:null,calcMode:null,capHeight:Uhe,className:Ghe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Uhe,diffuseConstant:Uhe,direction:null,display:null,dur:null,divisor:Uhe,dominantBaseline:null,download:jhe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Uhe,enableBackground:null,end:null,event:null,exponent:Uhe,externalResourcesRequired:null,fill:null,fillOpacity:Uhe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xhe,g2:Xhe,glyphName:Xhe,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Uhe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Uhe,horizOriginX:Uhe,horizOriginY:Uhe,id:null,ideographic:Uhe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Uhe,k:Uhe,k1:Uhe,k2:Uhe,k3:Uhe,k4:Uhe,kernelMatrix:Yhe,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Uhe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Uhe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Uhe,overlineThickness:Uhe,paintOrder:null,panose1:null,path:null,pathLength:Uhe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ghe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Uhe,pointsAtY:Uhe,pointsAtZ:Uhe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yhe,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yhe,rev:Yhe,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yhe,requiredFeatures:Yhe,requiredFonts:Yhe,requiredFormats:Yhe,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Uhe,specularExponent:Uhe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Uhe,strikethroughThickness:Uhe,string:null,stroke:null,strokeDashArray:Yhe,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Uhe,strokeOpacity:Uhe,strokeWidth:null,style:null,surfaceScale:Uhe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yhe,tabIndex:Uhe,tableValues:null,target:null,targetX:Uhe,targetY:Uhe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yhe,to:null,transform:null,u1:null,u2:null,underlinePosition:Uhe,underlineThickness:Uhe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Uhe,values:null,vAlphabetic:Uhe,vMathematical:Uhe,vectorEffect:null,vHanging:Uhe,vIdeographic:Uhe,version:null,vertAdvY:Uhe,vertOriginX:Uhe,vertOriginY:Uhe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Uhe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),lme=zhe([nme,tme,ime,ome,sme],"html"),cme=zhe([nme,tme,ime,ome,ume],"svg");function dme(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return function(t){phe(t,"element",(function(t,n,r){var a,i=r;if(e.allowedElements?a=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(t.tagName)),!a&&e.allowElement&&"number"===typeof n&&(a=!e.allowElement(t,n,i)),a&&"number"===typeof n){var o;if(e.unwrapDisallowed&&t.children)(o=i.children).splice.apply(o,[n,1].concat((0,qr.Z)(t.children)));else i.children.splice(n,1);return n}}))}}var fme=["http","https","mailto","tel"];var pme=n(4559);function hme(e){var t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}var mme=/^data[-\w.:]+$/i,gme=/-[a-z]/g,vme=/[A-Z]/g;function yme(e){return"-"+e.toLowerCase()}function bme(e){return e.charAt(1).toUpperCase()}var xme={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var Ame=n(3774),wme={}.hasOwnProperty,kme=new Set(["table","thead","tbody","tfoot","tr"]);function Sme(e,t){for(var n,r=[],a=-1;++a<t.children.length;)"element"===(n=t.children[a]).type?r.push(Cme(e,n,a,t)):"text"===n.type?"element"===t.type&&kme.has(t.tagName)&&hme(n)||r.push(n.value):"raw"!==n.type||e.options.skipHtml||r.push(n.value);return r}function Cme(e,t,n,a){var i,o=e.options,s=e.schema,u=t.tagName,l={},c=s;if("html"===s.space&&"svg"===u&&(c=cme,e.schema=c),t.properties)for(i in t.properties)wme.call(t.properties,i)&&Eme(l,i,t.properties[i],e);"ol"!==u&&"ul"!==u||e.listDepth++;var d=Sme(e,t);"ol"!==u&&"ul"!==u||e.listDepth--,e.schema=s;var f,p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=o.components&&wme.call(o.components,u)?o.components[u]:u,m="string"===typeof h||h===r.Fragment;if(!pme.isValidElementType(h))throw new TypeError("Component for name `".concat(u,"` not defined or is not renderable"));if(l.key=[u,p.start.line,p.start.column,n].join("-"),"a"===u&&o.linkTarget&&(l.target="function"===typeof o.linkTarget?o.linkTarget(String(l.href||""),t.children,"string"===typeof l.title?l.title:null):o.linkTarget),"a"===u&&o.transformLinkUri&&(l.href=o.transformLinkUri(String(l.href||""),t.children,"string"===typeof l.title?l.title:null)),m||"code"!==u||"element"!==a.type||"pre"===a.tagName||(l.inline=!0),m||"h1"!==u&&"h2"!==u&&"h3"!==u&&"h4"!==u&&"h5"!==u&&"h6"!==u||(l.level=Number.parseInt(u.charAt(1),10)),"img"===u&&o.transformImageUri&&(l.src=o.transformImageUri(String(l.src||""),String(l.alt||""),"string"===typeof l.title?l.title:null)),!m&&"li"===u&&"element"===a.type){var g=function(e){var t=-1;for(;++t<e.children.length;){var n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);l.checked=g&&g.properties?Boolean(g.properties.checked):null,l.index=Ime(a,t),l.ordered="ol"===a.tagName}return m||"ol"!==u&&"ul"!==u||(l.ordered="ol"===u,l.depth=e.listDepth),"td"!==u&&"th"!==u||(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),m||(l.isHeader="th"===u)),m||"tr"!==u||"element"!==a.type||(l.isHeader=Boolean("thead"===a.tagName)),o.sourcePos&&(l["data-sourcepos"]=[(f=p).start.line,":",f.start.column,"-",f.end.line,":",f.end.column].map((function(e){return String(e)})).join("")),!m&&o.rawSourcePos&&(l.sourcePosition=t.position),!m&&o.includeElementIndex&&(l.index=Ime(a,t),l.siblingCount=Ime(a)),m||(l.node=t),d.length>0?r.createElement(h,l,d):r.createElement(h,l)}function Ime(e,t){for(var n=-1,r=0;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function Eme(e,t,n,r){var a=function(e,t){var n=Zhe(t),r=t,a=Whe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&mme.test(t)){if("-"===t.charAt(4)){var i=t.slice(5).replace(gme,bme);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{var o=t.slice(4);if(!gme.test(o)){var s=o.replace(vme,yme);"-"!==s.charAt(0)&&(s="-"+s),t="data"+s}}a=Jhe}return new a(r,t)}(r.schema,t),i=n;null!==i&&void 0!==i&&i===i&&(Array.isArray(i)&&(i=a.commaSeparated?function(e,t){var n=t||{};return""===e[e.length-1]&&(e=e.concat("")),e.join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(i):i.join(" ").trim()),"style"===a.property&&"string"===typeof i&&(i=function(e){var t={};try{Ame(e,n)}catch(r){}return t;function n(e,n){var r="-ms-"===e.slice(0,4)?"ms-".concat(e.slice(4)):e;t[r.replace(/-([a-z])/g,Tme)]=n}}(i)),a.space&&a.property?e[wme.call(xme,a.property)?xme[a.property]:a.property]=i:a.attribute&&(e[a.attribute]=i))}function Tme(e,t){return t.toUpperCase()}var Nme={}.hasOwnProperty,Ome={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Pme(e){for(var t in Ome)if(Nme.call(Ome,t)&&Nme.call(e,t)){var n=Ome[t];console.warn("[react-markdown] Warning: please ".concat(n.to?"use `".concat(n.to,"` instead of"):"remove"," `").concat(t,"` (see <").concat("https://github.com/remarkjs/react-markdown/blob/main/changelog.md","#").concat(n.id,"> for more info)")),delete Ome[t]}var a=nfe().use(ohe).use(e.remarkPlugins||[]).use(Dhe,(0,s.Z)((0,s.Z)({},e.remarkRehypeOptions),{},{allowDangerousHtml:!0})).use(e.rehypePlugins||[]).use(dme,e),i=new Yde;"string"===typeof e.children?i.value=e.children:void 0!==e.children&&null!==e.children&&console.warn("[react-markdown] Warning: please pass a string as `children` (not: `".concat(e.children,"`)"));var o=a.runSync(a.parse(i),i);if("root"!==o.type)throw new TypeError("Expected a `root` node");var u=r.createElement(r.Fragment,{},Sme({options:e,schema:lme,listDepth:0},o));return e.className&&(u=r.createElement("div",{className:e.className},u)),u}Pme.defaultProps={transformLinkUri:function(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var r=t.indexOf(":");if(-1===r)return t;for(var a=-1;++a<fme.length;){var i=fme[a];if(r===i.length&&t.slice(0,i.length).toLowerCase()===i)return t}return-1!==(a=t.indexOf("?"))&&r>a||-1!==(a=t.indexOf("#"))&&r>a?t:"javascript:void(0)"}},Pme.propTypes={children:joe.string,className:joe.string,allowElement:joe.func,allowedElements:joe.arrayOf(joe.string),disallowedElements:joe.arrayOf(joe.string),unwrapDisallowed:joe.bool,remarkPlugins:joe.arrayOf(joe.oneOfType([joe.object,joe.func,joe.arrayOf(joe.oneOfType([joe.bool,joe.string,joe.object,joe.func,joe.arrayOf(joe.any)]))])),rehypePlugins:joe.arrayOf(joe.oneOfType([joe.object,joe.func,joe.arrayOf(joe.oneOfType([joe.bool,joe.string,joe.object,joe.func,joe.arrayOf(joe.any)]))])),sourcePos:joe.bool,rawSourcePos:joe.bool,skipHtml:joe.bool,includeElementIndex:joe.bool,transformLinkUri:joe.oneOfType([joe.func,joe.bool]),linkTarget:joe.oneOfType([joe.func,joe.string]),transformImageUri:joe.func,components:joe.object};var _me,Mme=function(e){return(0,Mie.jsx)(Mie.Fragment,{children:(0,Mie.jsxs)(Yle,{style:{zIndex:15},open:e.open,onClose:function(t){e.onClose()},children:[(0,Mie.jsx)(Kle,{children:"Intro to Face Recognition Pomodoro"}),(0,Mie.jsxs)(Jle,{children:[(0,Mie.jsx)("div",{style:{padding:"10px"}}),(0,Mie.jsx)(Mde,{children:(0,Mie.jsx)(Rde,{children:(0,Mie.jsxs)("div",{style:{padding:"0 1rem 1rem 1rem"},children:[(0,Mie.jsx)(vie,{use:"headline6",tag:"h2",children:"What is this?"}),(0,Mie.jsx)(vie,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",children:(0,Mie.jsx)(Pme,{children:"\nThis is a **Pomodoro Clock**. It's special because:\n\n- It can automatically help you start **a focus session** when the camera detected your face.\n- It can automatically start **a rest session** When the camera no longer detect your face \n\nWe will need two permission from you:\n- Permission to **send notification**, so that you will get reminded when session timed out.\n- Permission to **access your camera**.\n\nPlease click allow button around the browser's url.\n"})})]})})}),(0,Mie.jsx)("div",{style:{padding:"10px"}}),(0,Mie.jsx)(Mde,{children:(0,Mie.jsx)(Rde,{children:(0,Mie.jsxs)("div",{style:{padding:"0 1rem 1rem 1rem"},children:[(0,Mie.jsx)(vie,{use:"headline6",tag:"h2",children:"What if I left my camera but don't want to stop the Pomodoro session?"}),(0,Mie.jsx)(vie,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",children:(0,Mie.jsx)(Pme,{children:"If the time of stepping away is less than **Max Allowed Missing Time** in the settings, the Pomodoro session will continue the session when you are back."})})]})})}),(0,Mie.jsx)("div",{style:{padding:"10px"}}),(0,Mie.jsx)(Mde,{children:(0,Mie.jsx)(Rde,{children:(0,Mie.jsxs)("div",{style:{padding:"0 1rem 1rem 1rem"},children:[(0,Mie.jsx)(vie,{use:"headline6",tag:"h2",children:"Why this intro always popup on start?"}),(0,Mie.jsx)(vie,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",children:"There must be at least one user interaction to make notification works, so I take this opportunity to intro the tool."})]})})}),(0,Mie.jsx)("div",{style:{padding:"10px"}}),(0,Mie.jsx)(Mde,{children:(0,Mie.jsx)(Rde,{children:(0,Mie.jsxs)("div",{style:{padding:"0 1rem 1rem 1rem"},children:[(0,Mie.jsx)(vie,{use:"headline6",tag:"h2",children:"Will this slow down my computer or phone?"}),(0,Mie.jsx)(vie,{use:"body1",tag:"div",theme:"textSecondaryOnBackground",children:"Usually not, it leverage GPU to detect your face and just takes a few milliseconds."})]})})})]}),(0,Mie.jsx)(Qle,{children:(0,Mie.jsx)($le,{action:"confirm",isDefaultAction:!0,children:"Ok, let's continue."})})]})})};var Rme=function(){var e=Be("pomoConfig",{defaultValue:mie}),t=(0,o.Z)(e,2),n=t[0],a=t[1],s=(0,r.useState)(!1),u=(0,o.Z)(s,2),l=u[0],c=u[1],d=(0,r.useState)(!0),f=(0,o.Z)(d,2),p=f[0],h=f[1];return(0,Mie.jsx)(Mie.Fragment,{children:(0,Mie.jsxs)(Fle,{options:{primary:"#bf360c",secondary:"#616161"},children:[(0,Mie.jsx)(ble,{style:{zIndex:15},children:(0,Mie.jsxs)(Ale,{children:[(0,Mie.jsx)(wle,{alignStart:!0,children:(0,Mie.jsx)(Sle,{icon:"help",onClick:function(){return h(!0)}})}),(0,Mie.jsx)(wle,{className:_e(_me||(_me=i(["justify-content: center"]))),children:(0,Mie.jsx)(Cle,{children:"Face Recognition Pomodoro"})}),(0,Mie.jsx)(wle,{alignEnd:!0,children:(0,Mie.jsx)(Sle,{icon:"settings",onClick:function(){return c(!0)}})})]})}),(0,Mie.jsx)(Ile,{}),(0,Mie.jsx)(Mme,{open:p,onClose:function(){h(!1),a(Bt((function(e){e.enableDetection=!0,e.enableNotification=!0})))}}),(0,Mie.jsx)(Ode,{open:l,onClose:function(){return c(!1)},pomoConfigs:n,setPomoConfigs:a}),(0,Mie.jsx)(gie.Provider,{value:n,children:(0,Mie.jsx)(ole,{})})]})})},Fme=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(n,4027)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,Mie.jsx)(Rme,{})),Fme(console.log),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((function(e){console.log("SW registration succeeded with scope:",e.scope)})).catch((function(e){console.log("SW registration failed with error:",e)}))}()}();